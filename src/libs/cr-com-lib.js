/*!
 * Copyright (C) 2023 to the present, Crestron Electronics, Inc.
 * All rights reserved.
 * No part of this software may be reproduced in any form, machine
 * or natural, without the express written consent of Crestron Electronics.
 * Use of this source code is subject to the terms of the Crestron Software License Agreement
 * under which you licensed this source code.
 * 
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("CrComLib",[],e):"object"==typeof exports?exports.CrComLib=e():t.CrComLib=e()}(window,(function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=113)}([function(t,e,i){(function(t,s){var n;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var r="Expected a function",a="__lodash_placeholder__",o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],l="[object Arguments]",h="[object Array]",u="[object Boolean]",c="[object Date]",d="[object Error]",p="[object Function]",g="[object GeneratorFunction]",m="[object Map]",b="[object Number]",f="[object Object]",v="[object RegExp]",_="[object Set]",S="[object String]",C="[object Symbol]",E="[object WeakMap]",y="[object ArrayBuffer]",T="[object DataView]",A="[object Float32Array]",O="[object Float64Array]",I="[object Int8Array]",w="[object Int16Array]",P="[object Int32Array]",N="[object Uint8Array]",L="[object Uint16Array]",M="[object Uint32Array]",R=/\b__p \+= '';/g,x=/\b(__p \+=) '' \+/g,k=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,V=RegExp(B.source),F=RegExp(H.source),D=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,j=/<%=([\s\S]+?)%>/g,z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,Y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$=/[\\^$.*+?()[\]{}|]/g,G=RegExp($.source),X=/^\s+/,J=/\s/,K=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,q=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/[()=,{}\[\]\/\s]/,et=/\\(\\)?/g,it=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,st=/\w*$/,nt=/^[-+]0x[0-9a-f]+$/i,rt=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ot=/^0o[0-7]+$/i,lt=/^(?:0|[1-9]\d*)$/,ht=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ut=/($^)/,ct=/['\n\r\u2028\u2029\\]/g,dt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gt="[\\ud800-\\udfff]",mt="["+pt+"]",bt="["+dt+"]",ft="\\d+",vt="[\\u2700-\\u27bf]",_t="[a-z\\xdf-\\xf6\\xf8-\\xff]",St="[^\\ud800-\\udfff"+pt+ft+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ct="\\ud83c[\\udffb-\\udfff]",Et="[^\\ud800-\\udfff]",yt="(?:\\ud83c[\\udde6-\\uddff]){2}",Tt="[\\ud800-\\udbff][\\udc00-\\udfff]",At="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ot="(?:"+_t+"|"+St+")",It="(?:"+At+"|"+St+")",wt="(?:"+bt+"|"+Ct+")"+"?",Pt="[\\ufe0e\\ufe0f]?"+wt+("(?:\\u200d(?:"+[Et,yt,Tt].join("|")+")[\\ufe0e\\ufe0f]?"+wt+")*"),Nt="(?:"+[vt,yt,Tt].join("|")+")"+Pt,Lt="(?:"+[Et+bt+"?",bt,yt,Tt,gt].join("|")+")",Mt=RegExp("['’]","g"),Rt=RegExp(bt,"g"),xt=RegExp(Ct+"(?="+Ct+")|"+Lt+Pt,"g"),kt=RegExp([At+"?"+_t+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[mt,At,"$"].join("|")+")",It+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[mt,At+Ot,"$"].join("|")+")",At+"?"+Ot+"+(?:['’](?:d|ll|m|re|s|t|ve))?",At+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ft,Nt].join("|"),"g"),Bt=RegExp("[\\u200d\\ud800-\\udfff"+dt+"\\ufe0e\\ufe0f]"),Ht=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ft=-1,Dt={};Dt[A]=Dt[O]=Dt[I]=Dt[w]=Dt[P]=Dt[N]=Dt["[object Uint8ClampedArray]"]=Dt[L]=Dt[M]=!0,Dt[l]=Dt[h]=Dt[y]=Dt[u]=Dt[T]=Dt[c]=Dt[d]=Dt[p]=Dt[m]=Dt[b]=Dt[f]=Dt[v]=Dt[_]=Dt[S]=Dt[E]=!1;var Ut={};Ut[l]=Ut[h]=Ut[y]=Ut[T]=Ut[u]=Ut[c]=Ut[A]=Ut[O]=Ut[I]=Ut[w]=Ut[P]=Ut[m]=Ut[b]=Ut[f]=Ut[v]=Ut[_]=Ut[S]=Ut[C]=Ut[N]=Ut["[object Uint8ClampedArray]"]=Ut[L]=Ut[M]=!0,Ut[d]=Ut[p]=Ut[E]=!1;var jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zt=parseFloat,Wt=parseInt,Yt="object"==typeof t&&t&&t.Object===Object&&t,$t="object"==typeof self&&self&&self.Object===Object&&self,Gt=Yt||$t||Function("return this")(),Xt=e&&!e.nodeType&&e,Jt=Xt&&"object"==typeof s&&s&&!s.nodeType&&s,Kt=Jt&&Jt.exports===Xt,qt=Kt&&Yt.process,Zt=function(){try{var t=Jt&&Jt.require&&Jt.require("util").types;return t||qt&&qt.binding&&qt.binding("util")}catch(t){}}(),Qt=Zt&&Zt.isArrayBuffer,te=Zt&&Zt.isDate,ee=Zt&&Zt.isMap,ie=Zt&&Zt.isRegExp,se=Zt&&Zt.isSet,ne=Zt&&Zt.isTypedArray;function re(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function ae(t,e,i,s){for(var n=-1,r=null==t?0:t.length;++n<r;){var a=t[n];e(s,a,i(a),t)}return s}function oe(t,e){for(var i=-1,s=null==t?0:t.length;++i<s&&!1!==e(t[i],i,t););return t}function le(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function he(t,e){for(var i=-1,s=null==t?0:t.length;++i<s;)if(!e(t[i],i,t))return!1;return!0}function ue(t,e){for(var i=-1,s=null==t?0:t.length,n=0,r=[];++i<s;){var a=t[i];e(a,i,t)&&(r[n++]=a)}return r}function ce(t,e){return!!(null==t?0:t.length)&&Ce(t,e,0)>-1}function de(t,e,i){for(var s=-1,n=null==t?0:t.length;++s<n;)if(i(e,t[s]))return!0;return!1}function pe(t,e){for(var i=-1,s=null==t?0:t.length,n=Array(s);++i<s;)n[i]=e(t[i],i,t);return n}function ge(t,e){for(var i=-1,s=e.length,n=t.length;++i<s;)t[n+i]=e[i];return t}function me(t,e,i,s){var n=-1,r=null==t?0:t.length;for(s&&r&&(i=t[++n]);++n<r;)i=e(i,t[n],n,t);return i}function be(t,e,i,s){var n=null==t?0:t.length;for(s&&n&&(i=t[--n]);n--;)i=e(i,t[n],n,t);return i}function fe(t,e){for(var i=-1,s=null==t?0:t.length;++i<s;)if(e(t[i],i,t))return!0;return!1}var ve=Ae("length");function _e(t,e,i){var s;return i(t,(function(t,i,n){if(e(t,i,n))return s=i,!1})),s}function Se(t,e,i,s){for(var n=t.length,r=i+(s?1:-1);s?r--:++r<n;)if(e(t[r],r,t))return r;return-1}function Ce(t,e,i){return e==e?function(t,e,i){var s=i-1,n=t.length;for(;++s<n;)if(t[s]===e)return s;return-1}(t,e,i):Se(t,ye,i)}function Ee(t,e,i,s){for(var n=i-1,r=t.length;++n<r;)if(s(t[n],e))return n;return-1}function ye(t){return t!=t}function Te(t,e){var i=null==t?0:t.length;return i?we(t,e)/i:NaN}function Ae(t){return function(e){return null==e?void 0:e[t]}}function Oe(t){return function(e){return null==t?void 0:t[e]}}function Ie(t,e,i,s,n){return n(t,(function(t,n,r){i=s?(s=!1,t):e(i,t,n,r)})),i}function we(t,e){for(var i,s=-1,n=t.length;++s<n;){var r=e(t[s]);void 0!==r&&(i=void 0===i?r:i+r)}return i}function Pe(t,e){for(var i=-1,s=Array(t);++i<t;)s[i]=e(i);return s}function Ne(t){return t?t.slice(0,Xe(t)+1).replace(X,""):t}function Le(t){return function(e){return t(e)}}function Me(t,e){return pe(e,(function(e){return t[e]}))}function Re(t,e){return t.has(e)}function xe(t,e){for(var i=-1,s=t.length;++i<s&&Ce(e,t[i],0)>-1;);return i}function ke(t,e){for(var i=t.length;i--&&Ce(e,t[i],0)>-1;);return i}function Be(t,e){for(var i=t.length,s=0;i--;)t[i]===e&&++s;return s}var He=Oe({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ve=Oe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Fe(t){return"\\"+jt[t]}function De(t){return Bt.test(t)}function Ue(t){var e=-1,i=Array(t.size);return t.forEach((function(t,s){i[++e]=[s,t]})),i}function je(t,e){return function(i){return t(e(i))}}function ze(t,e){for(var i=-1,s=t.length,n=0,r=[];++i<s;){var o=t[i];o!==e&&o!==a||(t[i]=a,r[n++]=i)}return r}function We(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function Ye(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function $e(t){return De(t)?function(t){var e=xt.lastIndex=0;for(;xt.test(t);)++e;return e}(t):ve(t)}function Ge(t){return De(t)?function(t){return t.match(xt)||[]}(t):function(t){return t.split("")}(t)}function Xe(t){for(var e=t.length;e--&&J.test(t.charAt(e)););return e}var Je=Oe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ke=function t(e){var i,s=(e=null==e?Gt:Ke.defaults(Gt.Object(),e,Ke.pick(Gt,Vt))).Array,n=e.Date,J=e.Error,dt=e.Function,pt=e.Math,gt=e.Object,mt=e.RegExp,bt=e.String,ft=e.TypeError,vt=s.prototype,_t=dt.prototype,St=gt.prototype,Ct=e["__core-js_shared__"],Et=_t.toString,yt=St.hasOwnProperty,Tt=0,At=(i=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",Ot=St.toString,It=Et.call(gt),wt=Gt._,Pt=mt("^"+Et.call(yt).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=Kt?e.Buffer:void 0,Lt=e.Symbol,xt=e.Uint8Array,Bt=Nt?Nt.allocUnsafe:void 0,jt=je(gt.getPrototypeOf,gt),Yt=gt.create,$t=St.propertyIsEnumerable,Xt=vt.splice,Jt=Lt?Lt.isConcatSpreadable:void 0,qt=Lt?Lt.iterator:void 0,Zt=Lt?Lt.toStringTag:void 0,ve=function(){try{var t=tr(gt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Oe=e.clearTimeout!==Gt.clearTimeout&&e.clearTimeout,qe=n&&n.now!==Gt.Date.now&&n.now,Ze=e.setTimeout!==Gt.setTimeout&&e.setTimeout,Qe=pt.ceil,ti=pt.floor,ei=gt.getOwnPropertySymbols,ii=Nt?Nt.isBuffer:void 0,si=e.isFinite,ni=vt.join,ri=je(gt.keys,gt),ai=pt.max,oi=pt.min,li=n.now,hi=e.parseInt,ui=pt.random,ci=vt.reverse,di=tr(e,"DataView"),pi=tr(e,"Map"),gi=tr(e,"Promise"),mi=tr(e,"Set"),bi=tr(e,"WeakMap"),fi=tr(gt,"create"),vi=bi&&new bi,_i={},Si=Ir(di),Ci=Ir(pi),Ei=Ir(gi),yi=Ir(mi),Ti=Ir(bi),Ai=Lt?Lt.prototype:void 0,Oi=Ai?Ai.valueOf:void 0,Ii=Ai?Ai.toString:void 0;function wi(t){if(Wa(t)&&!Ra(t)&&!(t instanceof Mi)){if(t instanceof Li)return t;if(yt.call(t,"__wrapped__"))return wr(t)}return new Li(t)}var Pi=function(){function t(){}return function(e){if(!za(e))return{};if(Yt)return Yt(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();function Ni(){}function Li(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Mi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ri(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var s=t[e];this.set(s[0],s[1])}}function xi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var s=t[e];this.set(s[0],s[1])}}function ki(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var s=t[e];this.set(s[0],s[1])}}function Bi(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new ki;++e<i;)this.add(t[e])}function Hi(t){var e=this.__data__=new xi(t);this.size=e.size}function Vi(t,e){var i=Ra(t),s=!i&&Ma(t),n=!i&&!s&&Ha(t),r=!i&&!s&&!n&&Za(t),a=i||s||n||r,o=a?Pe(t.length,bt):[],l=o.length;for(var h in t)!e&&!yt.call(t,h)||a&&("length"==h||n&&("offset"==h||"parent"==h)||r&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||or(h,l))||o.push(h);return o}function Fi(t){var e=t.length;return e?t[Bs(0,e-1)]:void 0}function Di(t,e){return Tr(vn(t),Ji(e,0,t.length))}function Ui(t){return Tr(vn(t))}function ji(t,e,i){(void 0!==i&&!Pa(t[e],i)||void 0===i&&!(e in t))&&Gi(t,e,i)}function zi(t,e,i){var s=t[e];yt.call(t,e)&&Pa(s,i)&&(void 0!==i||e in t)||Gi(t,e,i)}function Wi(t,e){for(var i=t.length;i--;)if(Pa(t[i][0],e))return i;return-1}function Yi(t,e,i,s){return ts(t,(function(t,n,r){e(s,t,i(t),r)})),s}function $i(t,e){return t&&_n(e,Co(e),t)}function Gi(t,e,i){"__proto__"==e&&ve?ve(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function Xi(t,e){for(var i=-1,n=e.length,r=s(n),a=null==t;++i<n;)r[i]=a?void 0:bo(t,e[i]);return r}function Ji(t,e,i){return t==t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=t>=e?t:e)),t}function Ki(t,e,i,s,n,r){var a,o=1&e,h=2&e,d=4&e;if(i&&(a=n?i(t,s,n,r):i(t)),void 0!==a)return a;if(!za(t))return t;var E=Ra(t);if(E){if(a=function(t){var e=t.length,i=new t.constructor(e);e&&"string"==typeof t[0]&&yt.call(t,"index")&&(i.index=t.index,i.input=t.input);return i}(t),!o)return vn(t,a)}else{var R=sr(t),x=R==p||R==g;if(Ha(t))return dn(t,o);if(R==f||R==l||x&&!n){if(a=h||x?{}:rr(t),!o)return h?function(t,e){return _n(t,ir(t),e)}(t,function(t,e){return t&&_n(e,Eo(e),t)}(a,t)):function(t,e){return _n(t,er(t),e)}(t,$i(a,t))}else{if(!Ut[R])return n?t:{};a=function(t,e,i){var s=t.constructor;switch(e){case y:return pn(t);case u:case c:return new s(+t);case T:return function(t,e){var i=e?pn(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case A:case O:case I:case w:case P:case N:case"[object Uint8ClampedArray]":case L:case M:return gn(t,i);case m:return new s;case b:case S:return new s(t);case v:return function(t){var e=new t.constructor(t.source,st.exec(t));return e.lastIndex=t.lastIndex,e}(t);case _:return new s;case C:return n=t,Oi?gt(Oi.call(n)):{}}var n}(t,R,o)}}r||(r=new Hi);var k=r.get(t);if(k)return k;r.set(t,a),Ja(t)?t.forEach((function(s){a.add(Ki(s,e,i,s,t,r))})):Ya(t)&&t.forEach((function(s,n){a.set(n,Ki(s,e,i,n,t,r))}));var B=E?void 0:(d?h?Gn:$n:h?Eo:Co)(t);return oe(B||t,(function(s,n){B&&(s=t[n=s]),zi(a,n,Ki(s,e,i,n,t,r))})),a}function qi(t,e,i){var s=i.length;if(null==t)return!s;for(t=gt(t);s--;){var n=i[s],r=e[n],a=t[n];if(void 0===a&&!(n in t)||!r(a))return!1}return!0}function Zi(t,e,i){if("function"!=typeof t)throw new ft(r);return Sr((function(){t.apply(void 0,i)}),e)}function Qi(t,e,i,s){var n=-1,r=ce,a=!0,o=t.length,l=[],h=e.length;if(!o)return l;i&&(e=pe(e,Le(i))),s?(r=de,a=!1):e.length>=200&&(r=Re,a=!1,e=new Bi(e));t:for(;++n<o;){var u=t[n],c=null==i?u:i(u);if(u=s||0!==u?u:0,a&&c==c){for(var d=h;d--;)if(e[d]===c)continue t;l.push(u)}else r(e,c,s)||l.push(u)}return l}wi.templateSettings={escape:D,evaluate:U,interpolate:j,variable:"",imports:{_:wi}},wi.prototype=Ni.prototype,wi.prototype.constructor=wi,Li.prototype=Pi(Ni.prototype),Li.prototype.constructor=Li,Mi.prototype=Pi(Ni.prototype),Mi.prototype.constructor=Mi,Ri.prototype.clear=function(){this.__data__=fi?fi(null):{},this.size=0},Ri.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ri.prototype.get=function(t){var e=this.__data__;if(fi){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return yt.call(e,t)?e[t]:void 0},Ri.prototype.has=function(t){var e=this.__data__;return fi?void 0!==e[t]:yt.call(e,t)},Ri.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=fi&&void 0===e?"__lodash_hash_undefined__":e,this},xi.prototype.clear=function(){this.__data__=[],this.size=0},xi.prototype.delete=function(t){var e=this.__data__,i=Wi(e,t);return!(i<0)&&(i==e.length-1?e.pop():Xt.call(e,i,1),--this.size,!0)},xi.prototype.get=function(t){var e=this.__data__,i=Wi(e,t);return i<0?void 0:e[i][1]},xi.prototype.has=function(t){return Wi(this.__data__,t)>-1},xi.prototype.set=function(t,e){var i=this.__data__,s=Wi(i,t);return s<0?(++this.size,i.push([t,e])):i[s][1]=e,this},ki.prototype.clear=function(){this.size=0,this.__data__={hash:new Ri,map:new(pi||xi),string:new Ri}},ki.prototype.delete=function(t){var e=Zn(this,t).delete(t);return this.size-=e?1:0,e},ki.prototype.get=function(t){return Zn(this,t).get(t)},ki.prototype.has=function(t){return Zn(this,t).has(t)},ki.prototype.set=function(t,e){var i=Zn(this,t),s=i.size;return i.set(t,e),this.size+=i.size==s?0:1,this},Bi.prototype.add=Bi.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Bi.prototype.has=function(t){return this.__data__.has(t)},Hi.prototype.clear=function(){this.__data__=new xi,this.size=0},Hi.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Hi.prototype.get=function(t){return this.__data__.get(t)},Hi.prototype.has=function(t){return this.__data__.has(t)},Hi.prototype.set=function(t,e){var i=this.__data__;if(i instanceof xi){var s=i.__data__;if(!pi||s.length<199)return s.push([t,e]),this.size=++i.size,this;i=this.__data__=new ki(s)}return i.set(t,e),this.size=i.size,this};var ts=En(ls),es=En(hs,!0);function is(t,e){var i=!0;return ts(t,(function(t,s,n){return i=!!e(t,s,n)})),i}function ss(t,e,i){for(var s=-1,n=t.length;++s<n;){var r=t[s],a=e(r);if(null!=a&&(void 0===o?a==a&&!qa(a):i(a,o)))var o=a,l=r}return l}function ns(t,e){var i=[];return ts(t,(function(t,s,n){e(t,s,n)&&i.push(t)})),i}function rs(t,e,i,s,n){var r=-1,a=t.length;for(i||(i=ar),n||(n=[]);++r<a;){var o=t[r];e>0&&i(o)?e>1?rs(o,e-1,i,s,n):ge(n,o):s||(n[n.length]=o)}return n}var as=yn(),os=yn(!0);function ls(t,e){return t&&as(t,e,Co)}function hs(t,e){return t&&os(t,e,Co)}function us(t,e){return ue(e,(function(e){return Da(t[e])}))}function cs(t,e){for(var i=0,s=(e=ln(e,t)).length;null!=t&&i<s;)t=t[Or(e[i++])];return i&&i==s?t:void 0}function ds(t,e,i){var s=e(t);return Ra(t)?s:ge(s,i(t))}function ps(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Zt&&Zt in gt(t)?function(t){var e=yt.call(t,Zt),i=t[Zt];try{t[Zt]=void 0;var s=!0}catch(t){}var n=Ot.call(t);s&&(e?t[Zt]=i:delete t[Zt]);return n}(t):function(t){return Ot.call(t)}(t)}function gs(t,e){return t>e}function ms(t,e){return null!=t&&yt.call(t,e)}function bs(t,e){return null!=t&&e in gt(t)}function fs(t,e,i){for(var n=i?de:ce,r=t[0].length,a=t.length,o=a,l=s(a),h=1/0,u=[];o--;){var c=t[o];o&&e&&(c=pe(c,Le(e))),h=oi(c.length,h),l[o]=!i&&(e||r>=120&&c.length>=120)?new Bi(o&&c):void 0}c=t[0];var d=-1,p=l[0];t:for(;++d<r&&u.length<h;){var g=c[d],m=e?e(g):g;if(g=i||0!==g?g:0,!(p?Re(p,m):n(u,m,i))){for(o=a;--o;){var b=l[o];if(!(b?Re(b,m):n(t[o],m,i)))continue t}p&&p.push(m),u.push(g)}}return u}function vs(t,e,i){var s=null==(t=br(t,e=ln(e,t)))?t:t[Or(Fr(e))];return null==s?void 0:re(s,t,i)}function _s(t){return Wa(t)&&ps(t)==l}function Ss(t,e,i,s,n){return t===e||(null==t||null==e||!Wa(t)&&!Wa(e)?t!=t&&e!=e:function(t,e,i,s,n,r){var a=Ra(t),o=Ra(e),p=a?h:sr(t),g=o?h:sr(e),E=(p=p==l?f:p)==f,A=(g=g==l?f:g)==f,O=p==g;if(O&&Ha(t)){if(!Ha(e))return!1;a=!0,E=!1}if(O&&!E)return r||(r=new Hi),a||Za(t)?Wn(t,e,i,s,n,r):function(t,e,i,s,n,r,a){switch(i){case T:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case y:return!(t.byteLength!=e.byteLength||!r(new xt(t),new xt(e)));case u:case c:case b:return Pa(+t,+e);case d:return t.name==e.name&&t.message==e.message;case v:case S:return t==e+"";case m:var o=Ue;case _:var l=1&s;if(o||(o=We),t.size!=e.size&&!l)return!1;var h=a.get(t);if(h)return h==e;s|=2,a.set(t,e);var p=Wn(o(t),o(e),s,n,r,a);return a.delete(t),p;case C:if(Oi)return Oi.call(t)==Oi.call(e)}return!1}(t,e,p,i,s,n,r);if(!(1&i)){var I=E&&yt.call(t,"__wrapped__"),w=A&&yt.call(e,"__wrapped__");if(I||w){var P=I?t.value():t,N=w?e.value():e;return r||(r=new Hi),n(P,N,i,s,r)}}if(!O)return!1;return r||(r=new Hi),function(t,e,i,s,n,r){var a=1&i,o=$n(t),l=o.length,h=$n(e).length;if(l!=h&&!a)return!1;var u=l;for(;u--;){var c=o[u];if(!(a?c in e:yt.call(e,c)))return!1}var d=r.get(t),p=r.get(e);if(d&&p)return d==e&&p==t;var g=!0;r.set(t,e),r.set(e,t);var m=a;for(;++u<l;){c=o[u];var b=t[c],f=e[c];if(s)var v=a?s(f,b,c,e,t,r):s(b,f,c,t,e,r);if(!(void 0===v?b===f||n(b,f,i,s,r):v)){g=!1;break}m||(m="constructor"==c)}if(g&&!m){var _=t.constructor,S=e.constructor;_==S||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof S&&S instanceof S||(g=!1)}return r.delete(t),r.delete(e),g}(t,e,i,s,n,r)}(t,e,i,s,Ss,n))}function Cs(t,e,i,s){var n=i.length,r=n,a=!s;if(null==t)return!r;for(t=gt(t);n--;){var o=i[n];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++n<r;){var l=(o=i[n])[0],h=t[l],u=o[1];if(a&&o[2]){if(void 0===h&&!(l in t))return!1}else{var c=new Hi;if(s)var d=s(h,u,l,t,e,c);if(!(void 0===d?Ss(u,h,3,s,c):d))return!1}}return!0}function Es(t){return!(!za(t)||(e=t,At&&At in e))&&(Da(t)?Pt:at).test(Ir(t));var e}function ys(t){return"function"==typeof t?t:null==t?Go:"object"==typeof t?Ra(t)?Ps(t[0],t[1]):ws(t):il(t)}function Ts(t){if(!dr(t))return ri(t);var e=[];for(var i in gt(t))yt.call(t,i)&&"constructor"!=i&&e.push(i);return e}function As(t){if(!za(t))return function(t){var e=[];if(null!=t)for(var i in gt(t))e.push(i);return e}(t);var e=dr(t),i=[];for(var s in t)("constructor"!=s||!e&&yt.call(t,s))&&i.push(s);return i}function Os(t,e){return t<e}function Is(t,e){var i=-1,n=ka(t)?s(t.length):[];return ts(t,(function(t,s,r){n[++i]=e(t,s,r)})),n}function ws(t){var e=Qn(t);return 1==e.length&&e[0][2]?gr(e[0][0],e[0][1]):function(i){return i===t||Cs(i,t,e)}}function Ps(t,e){return hr(t)&&pr(e)?gr(Or(t),e):function(i){var s=bo(i,t);return void 0===s&&s===e?fo(i,t):Ss(e,s,3)}}function Ns(t,e,i,s,n){t!==e&&as(e,(function(r,a){if(n||(n=new Hi),za(r))!function(t,e,i,s,n,r,a){var o=vr(t,i),l=vr(e,i),h=a.get(l);if(h)return void ji(t,i,h);var u=r?r(o,l,i+"",t,e,a):void 0,c=void 0===u;if(c){var d=Ra(l),p=!d&&Ha(l),g=!d&&!p&&Za(l);u=l,d||p||g?Ra(o)?u=o:Ba(o)?u=vn(o):p?(c=!1,u=dn(l,!0)):g?(c=!1,u=gn(l,!0)):u=[]:Ga(l)||Ma(l)?(u=o,Ma(o)?u=ao(o):za(o)&&!Da(o)||(u=rr(l))):c=!1}c&&(a.set(l,u),n(u,l,s,r,a),a.delete(l));ji(t,i,u)}(t,e,a,i,Ns,s,n);else{var o=s?s(vr(t,a),r,a+"",t,e,n):void 0;void 0===o&&(o=r),ji(t,a,o)}}),Eo)}function Ls(t,e){var i=t.length;if(i)return or(e+=e<0?i:0,i)?t[e]:void 0}function Ms(t,e,i){e=e.length?pe(e,(function(t){return Ra(t)?function(e){return cs(e,1===t.length?t[0]:t)}:t})):[Go];var s=-1;return e=pe(e,Le(qn())),function(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}(Is(t,(function(t,i,n){return{criteria:pe(e,(function(e){return e(t)})),index:++s,value:t}})),(function(t,e){return function(t,e,i){var s=-1,n=t.criteria,r=e.criteria,a=n.length,o=i.length;for(;++s<a;){var l=mn(n[s],r[s]);if(l){if(s>=o)return l;var h=i[s];return l*("desc"==h?-1:1)}}return t.index-e.index}(t,e,i)}))}function Rs(t,e,i){for(var s=-1,n=e.length,r={};++s<n;){var a=e[s],o=cs(t,a);i(o,a)&&Us(r,ln(a,t),o)}return r}function xs(t,e,i,s){var n=s?Ee:Ce,r=-1,a=e.length,o=t;for(t===e&&(e=vn(e)),i&&(o=pe(t,Le(i)));++r<a;)for(var l=0,h=e[r],u=i?i(h):h;(l=n(o,u,l,s))>-1;)o!==t&&Xt.call(o,l,1),Xt.call(t,l,1);return t}function ks(t,e){for(var i=t?e.length:0,s=i-1;i--;){var n=e[i];if(i==s||n!==r){var r=n;or(n)?Xt.call(t,n,1):Qs(t,n)}}return t}function Bs(t,e){return t+ti(ui()*(e-t+1))}function Hs(t,e){var i="";if(!t||e<1||e>9007199254740991)return i;do{e%2&&(i+=t),(e=ti(e/2))&&(t+=t)}while(e);return i}function Vs(t,e){return Cr(mr(t,e,Go),t+"")}function Fs(t){return Fi(No(t))}function Ds(t,e){var i=No(t);return Tr(i,Ji(e,0,i.length))}function Us(t,e,i,s){if(!za(t))return t;for(var n=-1,r=(e=ln(e,t)).length,a=r-1,o=t;null!=o&&++n<r;){var l=Or(e[n]),h=i;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(n!=a){var u=o[l];void 0===(h=s?s(u,l,o):void 0)&&(h=za(u)?u:or(e[n+1])?[]:{})}zi(o,l,h),o=o[l]}return t}var js=vi?function(t,e){return vi.set(t,e),t}:Go,zs=ve?function(t,e){return ve(t,"toString",{configurable:!0,enumerable:!1,value:Wo(e),writable:!0})}:Go;function Ws(t){return Tr(No(t))}function Ys(t,e,i){var n=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(i=i>r?r:i)<0&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var a=s(r);++n<r;)a[n]=t[n+e];return a}function $s(t,e){var i;return ts(t,(function(t,s,n){return!(i=e(t,s,n))})),!!i}function Gs(t,e,i){var s=0,n=null==t?s:t.length;if("number"==typeof e&&e==e&&n<=2147483647){for(;s<n;){var r=s+n>>>1,a=t[r];null!==a&&!qa(a)&&(i?a<=e:a<e)?s=r+1:n=r}return n}return Xs(t,e,Go,i)}function Xs(t,e,i,s){var n=0,r=null==t?0:t.length;if(0===r)return 0;for(var a=(e=i(e))!=e,o=null===e,l=qa(e),h=void 0===e;n<r;){var u=ti((n+r)/2),c=i(t[u]),d=void 0!==c,p=null===c,g=c==c,m=qa(c);if(a)var b=s||g;else b=h?g&&(s||d):o?g&&d&&(s||!p):l?g&&d&&!p&&(s||!m):!p&&!m&&(s?c<=e:c<e);b?n=u+1:r=u}return oi(r,4294967294)}function Js(t,e){for(var i=-1,s=t.length,n=0,r=[];++i<s;){var a=t[i],o=e?e(a):a;if(!i||!Pa(o,l)){var l=o;r[n++]=0===a?0:a}}return r}function Ks(t){return"number"==typeof t?t:qa(t)?NaN:+t}function qs(t){if("string"==typeof t)return t;if(Ra(t))return pe(t,qs)+"";if(qa(t))return Ii?Ii.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Zs(t,e,i){var s=-1,n=ce,r=t.length,a=!0,o=[],l=o;if(i)a=!1,n=de;else if(r>=200){var h=e?null:Vn(t);if(h)return We(h);a=!1,n=Re,l=new Bi}else l=e?[]:o;t:for(;++s<r;){var u=t[s],c=e?e(u):u;if(u=i||0!==u?u:0,a&&c==c){for(var d=l.length;d--;)if(l[d]===c)continue t;e&&l.push(c),o.push(u)}else n(l,c,i)||(l!==o&&l.push(c),o.push(u))}return o}function Qs(t,e){return null==(t=br(t,e=ln(e,t)))||delete t[Or(Fr(e))]}function tn(t,e,i,s){return Us(t,e,i(cs(t,e)),s)}function en(t,e,i,s){for(var n=t.length,r=s?n:-1;(s?r--:++r<n)&&e(t[r],r,t););return i?Ys(t,s?0:r,s?r+1:n):Ys(t,s?r+1:0,s?n:r)}function sn(t,e){var i=t;return i instanceof Mi&&(i=i.value()),me(e,(function(t,e){return e.func.apply(e.thisArg,ge([t],e.args))}),i)}function nn(t,e,i){var n=t.length;if(n<2)return n?Zs(t[0]):[];for(var r=-1,a=s(n);++r<n;)for(var o=t[r],l=-1;++l<n;)l!=r&&(a[r]=Qi(a[r]||o,t[l],e,i));return Zs(rs(a,1),e,i)}function rn(t,e,i){for(var s=-1,n=t.length,r=e.length,a={};++s<n;){var o=s<r?e[s]:void 0;i(a,t[s],o)}return a}function an(t){return Ba(t)?t:[]}function on(t){return"function"==typeof t?t:Go}function ln(t,e){return Ra(t)?t:hr(t,e)?[t]:Ar(oo(t))}var hn=Vs;function un(t,e,i){var s=t.length;return i=void 0===i?s:i,!e&&i>=s?t:Ys(t,e,i)}var cn=Oe||function(t){return Gt.clearTimeout(t)};function dn(t,e){if(e)return t.slice();var i=t.length,s=Bt?Bt(i):new t.constructor(i);return t.copy(s),s}function pn(t){var e=new t.constructor(t.byteLength);return new xt(e).set(new xt(t)),e}function gn(t,e){var i=e?pn(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function mn(t,e){if(t!==e){var i=void 0!==t,s=null===t,n=t==t,r=qa(t),a=void 0!==e,o=null===e,l=e==e,h=qa(e);if(!o&&!h&&!r&&t>e||r&&a&&l&&!o&&!h||s&&a&&l||!i&&l||!n)return 1;if(!s&&!r&&!h&&t<e||h&&i&&n&&!s&&!r||o&&i&&n||!a&&n||!l)return-1}return 0}function bn(t,e,i,n){for(var r=-1,a=t.length,o=i.length,l=-1,h=e.length,u=ai(a-o,0),c=s(h+u),d=!n;++l<h;)c[l]=e[l];for(;++r<o;)(d||r<a)&&(c[i[r]]=t[r]);for(;u--;)c[l++]=t[r++];return c}function fn(t,e,i,n){for(var r=-1,a=t.length,o=-1,l=i.length,h=-1,u=e.length,c=ai(a-l,0),d=s(c+u),p=!n;++r<c;)d[r]=t[r];for(var g=r;++h<u;)d[g+h]=e[h];for(;++o<l;)(p||r<a)&&(d[g+i[o]]=t[r++]);return d}function vn(t,e){var i=-1,n=t.length;for(e||(e=s(n));++i<n;)e[i]=t[i];return e}function _n(t,e,i,s){var n=!i;i||(i={});for(var r=-1,a=e.length;++r<a;){var o=e[r],l=s?s(i[o],t[o],o,i,t):void 0;void 0===l&&(l=t[o]),n?Gi(i,o,l):zi(i,o,l)}return i}function Sn(t,e){return function(i,s){var n=Ra(i)?ae:Yi,r=e?e():{};return n(i,t,qn(s,2),r)}}function Cn(t){return Vs((function(e,i){var s=-1,n=i.length,r=n>1?i[n-1]:void 0,a=n>2?i[2]:void 0;for(r=t.length>3&&"function"==typeof r?(n--,r):void 0,a&&lr(i[0],i[1],a)&&(r=n<3?void 0:r,n=1),e=gt(e);++s<n;){var o=i[s];o&&t(e,o,s,r)}return e}))}function En(t,e){return function(i,s){if(null==i)return i;if(!ka(i))return t(i,s);for(var n=i.length,r=e?n:-1,a=gt(i);(e?r--:++r<n)&&!1!==s(a[r],r,a););return i}}function yn(t){return function(e,i,s){for(var n=-1,r=gt(e),a=s(e),o=a.length;o--;){var l=a[t?o:++n];if(!1===i(r[l],l,r))break}return e}}function Tn(t){return function(e){var i=De(e=oo(e))?Ge(e):void 0,s=i?i[0]:e.charAt(0),n=i?un(i,1).join(""):e.slice(1);return s[t]()+n}}function An(t){return function(e){return me(Uo(Ro(e).replace(Mt,"")),t,"")}}function On(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Pi(t.prototype),s=t.apply(i,e);return za(s)?s:i}}function In(t){return function(e,i,s){var n=gt(e);if(!ka(e)){var r=qn(i,3);e=Co(e),i=function(t){return r(n[t],t,n)}}var a=t(e,i,s);return a>-1?n[r?e[a]:a]:void 0}}function wn(t){return Yn((function(e){var i=e.length,s=i,n=Li.prototype.thru;for(t&&e.reverse();s--;){var a=e[s];if("function"!=typeof a)throw new ft(r);if(n&&!o&&"wrapper"==Jn(a))var o=new Li([],!0)}for(s=o?s:i;++s<i;){var l=Jn(a=e[s]),h="wrapper"==l?Xn(a):void 0;o=h&&ur(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?o[Jn(h[0])].apply(o,h[3]):1==a.length&&ur(a)?o[l]():o.thru(a)}return function(){var t=arguments,s=t[0];if(o&&1==t.length&&Ra(s))return o.plant(s).value();for(var n=0,r=i?e[n].apply(this,t):s;++n<i;)r=e[n].call(this,r);return r}}))}function Pn(t,e,i,n,r,a,o,l,h,u){var c=128&e,d=1&e,p=2&e,g=24&e,m=512&e,b=p?void 0:On(t);return function f(){for(var v=arguments.length,_=s(v),S=v;S--;)_[S]=arguments[S];if(g)var C=Kn(f),E=Be(_,C);if(n&&(_=bn(_,n,r,g)),a&&(_=fn(_,a,o,g)),v-=E,g&&v<u){var y=ze(_,C);return Bn(t,e,Pn,f.placeholder,i,_,y,l,h,u-v)}var T=d?i:this,A=p?T[t]:t;return v=_.length,l?_=fr(_,l):m&&v>1&&_.reverse(),c&&h<v&&(_.length=h),this&&this!==Gt&&this instanceof f&&(A=b||On(A)),A.apply(T,_)}}function Nn(t,e){return function(i,s){return function(t,e,i,s){return ls(t,(function(t,n,r){e(s,i(t),n,r)})),s}(i,t,e(s),{})}}function Ln(t,e){return function(i,s){var n;if(void 0===i&&void 0===s)return e;if(void 0!==i&&(n=i),void 0!==s){if(void 0===n)return s;"string"==typeof i||"string"==typeof s?(i=qs(i),s=qs(s)):(i=Ks(i),s=Ks(s)),n=t(i,s)}return n}}function Mn(t){return Yn((function(e){return e=pe(e,Le(qn())),Vs((function(i){var s=this;return t(e,(function(t){return re(t,s,i)}))}))}))}function Rn(t,e){var i=(e=void 0===e?" ":qs(e)).length;if(i<2)return i?Hs(e,t):e;var s=Hs(e,Qe(t/$e(e)));return De(e)?un(Ge(s),0,t).join(""):s.slice(0,t)}function xn(t){return function(e,i,n){return n&&"number"!=typeof n&&lr(e,i,n)&&(i=n=void 0),e=io(e),void 0===i?(i=e,e=0):i=io(i),function(t,e,i,n){for(var r=-1,a=ai(Qe((e-t)/(i||1)),0),o=s(a);a--;)o[n?a:++r]=t,t+=i;return o}(e,i,n=void 0===n?e<i?1:-1:io(n),t)}}function kn(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=ro(e),i=ro(i)),t(e,i)}}function Bn(t,e,i,s,n,r,a,o,l,h){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var c=[t,e,n,u?r:void 0,u?a:void 0,u?void 0:r,u?void 0:a,o,l,h],d=i.apply(void 0,c);return ur(t)&&_r(d,c),d.placeholder=s,Er(d,t,e)}function Hn(t){var e=pt[t];return function(t,i){if(t=ro(t),(i=null==i?0:oi(so(i),292))&&si(t)){var s=(oo(t)+"e").split("e");return+((s=(oo(e(s[0]+"e"+(+s[1]+i)))+"e").split("e"))[0]+"e"+(+s[1]-i))}return e(t)}}var Vn=mi&&1/We(new mi([,-0]))[1]==1/0?function(t){return new mi(t)}:Zo;function Fn(t){return function(e){var i=sr(e);return i==m?Ue(e):i==_?Ye(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Dn(t,e,i,n,o,l,h,u){var c=2&e;if(!c&&"function"!=typeof t)throw new ft(r);var d=n?n.length:0;if(d||(e&=-97,n=o=void 0),h=void 0===h?h:ai(so(h),0),u=void 0===u?u:so(u),d-=o?o.length:0,64&e){var p=n,g=o;n=o=void 0}var m=c?void 0:Xn(t),b=[t,e,i,n,o,p,g,l,h,u];if(m&&function(t,e){var i=t[1],s=e[1],n=i|s,r=n<131,o=128==s&&8==i||128==s&&256==i&&t[7].length<=e[8]||384==s&&e[7].length<=e[8]&&8==i;if(!r&&!o)return t;1&s&&(t[2]=e[2],n|=1&i?0:4);var l=e[3];if(l){var h=t[3];t[3]=h?bn(h,l,e[4]):l,t[4]=h?ze(t[3],a):e[4]}(l=e[5])&&(h=t[5],t[5]=h?fn(h,l,e[6]):l,t[6]=h?ze(t[5],a):e[6]);(l=e[7])&&(t[7]=l);128&s&&(t[8]=null==t[8]?e[8]:oi(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=n}(b,m),t=b[0],e=b[1],i=b[2],n=b[3],o=b[4],!(u=b[9]=void 0===b[9]?c?0:t.length:ai(b[9]-d,0))&&24&e&&(e&=-25),e&&1!=e)f=8==e||16==e?function(t,e,i){var n=On(t);return function r(){for(var a=arguments.length,o=s(a),l=a,h=Kn(r);l--;)o[l]=arguments[l];var u=a<3&&o[0]!==h&&o[a-1]!==h?[]:ze(o,h);if((a-=u.length)<i)return Bn(t,e,Pn,r.placeholder,void 0,o,u,void 0,void 0,i-a);var c=this&&this!==Gt&&this instanceof r?n:t;return re(c,this,o)}}(t,e,u):32!=e&&33!=e||o.length?Pn.apply(void 0,b):function(t,e,i,n){var r=1&e,a=On(t);return function e(){for(var o=-1,l=arguments.length,h=-1,u=n.length,c=s(u+l),d=this&&this!==Gt&&this instanceof e?a:t;++h<u;)c[h]=n[h];for(;l--;)c[h++]=arguments[++o];return re(d,r?i:this,c)}}(t,e,i,n);else var f=function(t,e,i){var s=1&e,n=On(t);return function e(){var r=this&&this!==Gt&&this instanceof e?n:t;return r.apply(s?i:this,arguments)}}(t,e,i);return Er((m?js:_r)(f,b),t,e)}function Un(t,e,i,s){return void 0===t||Pa(t,St[i])&&!yt.call(s,i)?e:t}function jn(t,e,i,s,n,r){return za(t)&&za(e)&&(r.set(e,t),Ns(t,e,void 0,jn,r),r.delete(e)),t}function zn(t){return Ga(t)?void 0:t}function Wn(t,e,i,s,n,r){var a=1&i,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var h=r.get(t),u=r.get(e);if(h&&u)return h==e&&u==t;var c=-1,d=!0,p=2&i?new Bi:void 0;for(r.set(t,e),r.set(e,t);++c<o;){var g=t[c],m=e[c];if(s)var b=a?s(m,g,c,e,t,r):s(g,m,c,t,e,r);if(void 0!==b){if(b)continue;d=!1;break}if(p){if(!fe(e,(function(t,e){if(!Re(p,e)&&(g===t||n(g,t,i,s,r)))return p.push(e)}))){d=!1;break}}else if(g!==m&&!n(g,m,i,s,r)){d=!1;break}}return r.delete(t),r.delete(e),d}function Yn(t){return Cr(mr(t,void 0,xr),t+"")}function $n(t){return ds(t,Co,er)}function Gn(t){return ds(t,Eo,ir)}var Xn=vi?function(t){return vi.get(t)}:Zo;function Jn(t){for(var e=t.name+"",i=_i[e],s=yt.call(_i,e)?i.length:0;s--;){var n=i[s],r=n.func;if(null==r||r==t)return n.name}return e}function Kn(t){return(yt.call(wi,"placeholder")?wi:t).placeholder}function qn(){var t=wi.iteratee||Xo;return t=t===Xo?ys:t,arguments.length?t(arguments[0],arguments[1]):t}function Zn(t,e){var i,s,n=t.__data__;return("string"==(s=typeof(i=e))||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==i:null===i)?n["string"==typeof e?"string":"hash"]:n.map}function Qn(t){for(var e=Co(t),i=e.length;i--;){var s=e[i],n=t[s];e[i]=[s,n,pr(n)]}return e}function tr(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return Es(i)?i:void 0}var er=ei?function(t){return null==t?[]:(t=gt(t),ue(ei(t),(function(e){return $t.call(t,e)})))}:rl,ir=ei?function(t){for(var e=[];t;)ge(e,er(t)),t=jt(t);return e}:rl,sr=ps;function nr(t,e,i){for(var s=-1,n=(e=ln(e,t)).length,r=!1;++s<n;){var a=Or(e[s]);if(!(r=null!=t&&i(t,a)))break;t=t[a]}return r||++s!=n?r:!!(n=null==t?0:t.length)&&ja(n)&&or(a,n)&&(Ra(t)||Ma(t))}function rr(t){return"function"!=typeof t.constructor||dr(t)?{}:Pi(jt(t))}function ar(t){return Ra(t)||Ma(t)||!!(Jt&&t&&t[Jt])}function or(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&lt.test(t))&&t>-1&&t%1==0&&t<e}function lr(t,e,i){if(!za(i))return!1;var s=typeof e;return!!("number"==s?ka(i)&&or(e,i.length):"string"==s&&e in i)&&Pa(i[e],t)}function hr(t,e){if(Ra(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!qa(t))||(W.test(t)||!z.test(t)||null!=e&&t in gt(e))}function ur(t){var e=Jn(t),i=wi[e];if("function"!=typeof i||!(e in Mi.prototype))return!1;if(t===i)return!0;var s=Xn(i);return!!s&&t===s[0]}(di&&sr(new di(new ArrayBuffer(1)))!=T||pi&&sr(new pi)!=m||gi&&"[object Promise]"!=sr(gi.resolve())||mi&&sr(new mi)!=_||bi&&sr(new bi)!=E)&&(sr=function(t){var e=ps(t),i=e==f?t.constructor:void 0,s=i?Ir(i):"";if(s)switch(s){case Si:return T;case Ci:return m;case Ei:return"[object Promise]";case yi:return _;case Ti:return E}return e});var cr=Ct?Da:al;function dr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||St)}function pr(t){return t==t&&!za(t)}function gr(t,e){return function(i){return null!=i&&(i[t]===e&&(void 0!==e||t in gt(i)))}}function mr(t,e,i){return e=ai(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,a=ai(n.length-e,0),o=s(a);++r<a;)o[r]=n[e+r];r=-1;for(var l=s(e+1);++r<e;)l[r]=n[r];return l[e]=i(o),re(t,this,l)}}function br(t,e){return e.length<2?t:cs(t,Ys(e,0,-1))}function fr(t,e){for(var i=t.length,s=oi(e.length,i),n=vn(t);s--;){var r=e[s];t[s]=or(r,i)?n[r]:void 0}return t}function vr(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var _r=yr(js),Sr=Ze||function(t,e){return Gt.setTimeout(t,e)},Cr=yr(zs);function Er(t,e,i){var s=e+"";return Cr(t,function(t,e){var i=e.length;if(!i)return t;var s=i-1;return e[s]=(i>1?"& ":"")+e[s],e=e.join(i>2?", ":" "),t.replace(K,"{\n/* [wrapped with "+e+"] */\n")}(s,function(t,e){return oe(o,(function(i){var s="_."+i[0];e&i[1]&&!ce(t,s)&&t.push(s)})),t.sort()}(function(t){var e=t.match(q);return e?e[1].split(Z):[]}(s),i)))}function yr(t){var e=0,i=0;return function(){var s=li(),n=16-(s-i);if(i=s,n>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Tr(t,e){var i=-1,s=t.length,n=s-1;for(e=void 0===e?s:e;++i<e;){var r=Bs(i,n),a=t[r];t[r]=t[i],t[i]=a}return t.length=e,t}var Ar=function(t){var e=ya(t,(function(t){return 500===i.size&&i.clear(),t})),i=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Y,(function(t,i,s,n){e.push(s?n.replace(et,"$1"):i||t)})),e}));function Or(t){if("string"==typeof t||qa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ir(t){if(null!=t){try{return Et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function wr(t){if(t instanceof Mi)return t.clone();var e=new Li(t.__wrapped__,t.__chain__);return e.__actions__=vn(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Pr=Vs((function(t,e){return Ba(t)?Qi(t,rs(e,1,Ba,!0)):[]})),Nr=Vs((function(t,e){var i=Fr(e);return Ba(i)&&(i=void 0),Ba(t)?Qi(t,rs(e,1,Ba,!0),qn(i,2)):[]})),Lr=Vs((function(t,e){var i=Fr(e);return Ba(i)&&(i=void 0),Ba(t)?Qi(t,rs(e,1,Ba,!0),void 0,i):[]}));function Mr(t,e,i){var s=null==t?0:t.length;if(!s)return-1;var n=null==i?0:so(i);return n<0&&(n=ai(s+n,0)),Se(t,qn(e,3),n)}function Rr(t,e,i){var s=null==t?0:t.length;if(!s)return-1;var n=s-1;return void 0!==i&&(n=so(i),n=i<0?ai(s+n,0):oi(n,s-1)),Se(t,qn(e,3),n,!0)}function xr(t){return(null==t?0:t.length)?rs(t,1):[]}function kr(t){return t&&t.length?t[0]:void 0}var Br=Vs((function(t){var e=pe(t,an);return e.length&&e[0]===t[0]?fs(e):[]})),Hr=Vs((function(t){var e=Fr(t),i=pe(t,an);return e===Fr(i)?e=void 0:i.pop(),i.length&&i[0]===t[0]?fs(i,qn(e,2)):[]})),Vr=Vs((function(t){var e=Fr(t),i=pe(t,an);return(e="function"==typeof e?e:void 0)&&i.pop(),i.length&&i[0]===t[0]?fs(i,void 0,e):[]}));function Fr(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Dr=Vs(Ur);function Ur(t,e){return t&&t.length&&e&&e.length?xs(t,e):t}var jr=Yn((function(t,e){var i=null==t?0:t.length,s=Xi(t,e);return ks(t,pe(e,(function(t){return or(t,i)?+t:t})).sort(mn)),s}));function zr(t){return null==t?t:ci.call(t)}var Wr=Vs((function(t){return Zs(rs(t,1,Ba,!0))})),Yr=Vs((function(t){var e=Fr(t);return Ba(e)&&(e=void 0),Zs(rs(t,1,Ba,!0),qn(e,2))})),$r=Vs((function(t){var e=Fr(t);return e="function"==typeof e?e:void 0,Zs(rs(t,1,Ba,!0),void 0,e)}));function Gr(t){if(!t||!t.length)return[];var e=0;return t=ue(t,(function(t){if(Ba(t))return e=ai(t.length,e),!0})),Pe(e,(function(e){return pe(t,Ae(e))}))}function Xr(t,e){if(!t||!t.length)return[];var i=Gr(t);return null==e?i:pe(i,(function(t){return re(e,void 0,t)}))}var Jr=Vs((function(t,e){return Ba(t)?Qi(t,e):[]})),Kr=Vs((function(t){return nn(ue(t,Ba))})),qr=Vs((function(t){var e=Fr(t);return Ba(e)&&(e=void 0),nn(ue(t,Ba),qn(e,2))})),Zr=Vs((function(t){var e=Fr(t);return e="function"==typeof e?e:void 0,nn(ue(t,Ba),void 0,e)})),Qr=Vs(Gr);var ta=Vs((function(t){var e=t.length,i=e>1?t[e-1]:void 0;return i="function"==typeof i?(t.pop(),i):void 0,Xr(t,i)}));function ea(t){var e=wi(t);return e.__chain__=!0,e}function ia(t,e){return e(t)}var sa=Yn((function(t){var e=t.length,i=e?t[0]:0,s=this.__wrapped__,n=function(e){return Xi(e,t)};return!(e>1||this.__actions__.length)&&s instanceof Mi&&or(i)?((s=s.slice(i,+i+(e?1:0))).__actions__.push({func:ia,args:[n],thisArg:void 0}),new Li(s,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(n)}));var na=Sn((function(t,e,i){yt.call(t,i)?++t[i]:Gi(t,i,1)}));var ra=In(Mr),aa=In(Rr);function oa(t,e){return(Ra(t)?oe:ts)(t,qn(e,3))}function la(t,e){return(Ra(t)?le:es)(t,qn(e,3))}var ha=Sn((function(t,e,i){yt.call(t,i)?t[i].push(e):Gi(t,i,[e])}));var ua=Vs((function(t,e,i){var n=-1,r="function"==typeof e,a=ka(t)?s(t.length):[];return ts(t,(function(t){a[++n]=r?re(e,t,i):vs(t,e,i)})),a})),ca=Sn((function(t,e,i){Gi(t,i,e)}));function da(t,e){return(Ra(t)?pe:Is)(t,qn(e,3))}var pa=Sn((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]}));var ga=Vs((function(t,e){if(null==t)return[];var i=e.length;return i>1&&lr(t,e[0],e[1])?e=[]:i>2&&lr(e[0],e[1],e[2])&&(e=[e[0]]),Ms(t,rs(e,1),[])})),ma=qe||function(){return Gt.Date.now()};function ba(t,e,i){return e=i?void 0:e,Dn(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function fa(t,e){var i;if("function"!=typeof e)throw new ft(r);return t=so(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=void 0),i}}var va=Vs((function(t,e,i){var s=1;if(i.length){var n=ze(i,Kn(va));s|=32}return Dn(t,s,e,i,n)})),_a=Vs((function(t,e,i){var s=3;if(i.length){var n=ze(i,Kn(_a));s|=32}return Dn(e,s,t,i,n)}));function Sa(t,e,i){var s,n,a,o,l,h,u=0,c=!1,d=!1,p=!0;if("function"!=typeof t)throw new ft(r);function g(e){var i=s,r=n;return s=n=void 0,u=e,o=t.apply(r,i)}function m(t){return u=t,l=Sr(f,e),c?g(t):o}function b(t){var i=t-h;return void 0===h||i>=e||i<0||d&&t-u>=a}function f(){var t=ma();if(b(t))return v(t);l=Sr(f,function(t){var i=e-(t-h);return d?oi(i,a-(t-u)):i}(t))}function v(t){return l=void 0,p&&s?g(t):(s=n=void 0,o)}function _(){var t=ma(),i=b(t);if(s=arguments,n=this,h=t,i){if(void 0===l)return m(h);if(d)return cn(l),l=Sr(f,e),g(h)}return void 0===l&&(l=Sr(f,e)),o}return e=ro(e)||0,za(i)&&(c=!!i.leading,a=(d="maxWait"in i)?ai(ro(i.maxWait)||0,e):a,p="trailing"in i?!!i.trailing:p),_.cancel=function(){void 0!==l&&cn(l),u=0,s=h=n=l=void 0},_.flush=function(){return void 0===l?o:v(ma())},_}var Ca=Vs((function(t,e){return Zi(t,1,e)})),Ea=Vs((function(t,e,i){return Zi(t,ro(e)||0,i)}));function ya(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ft(r);var i=function(){var s=arguments,n=e?e.apply(this,s):s[0],r=i.cache;if(r.has(n))return r.get(n);var a=t.apply(this,s);return i.cache=r.set(n,a)||r,a};return i.cache=new(ya.Cache||ki),i}function Ta(t){if("function"!=typeof t)throw new ft(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ya.Cache=ki;var Aa=hn((function(t,e){var i=(e=1==e.length&&Ra(e[0])?pe(e[0],Le(qn())):pe(rs(e,1),Le(qn()))).length;return Vs((function(s){for(var n=-1,r=oi(s.length,i);++n<r;)s[n]=e[n].call(this,s[n]);return re(t,this,s)}))})),Oa=Vs((function(t,e){return Dn(t,32,void 0,e,ze(e,Kn(Oa)))})),Ia=Vs((function(t,e){return Dn(t,64,void 0,e,ze(e,Kn(Ia)))})),wa=Yn((function(t,e){return Dn(t,256,void 0,void 0,void 0,e)}));function Pa(t,e){return t===e||t!=t&&e!=e}var Na=kn(gs),La=kn((function(t,e){return t>=e})),Ma=_s(function(){return arguments}())?_s:function(t){return Wa(t)&&yt.call(t,"callee")&&!$t.call(t,"callee")},Ra=s.isArray,xa=Qt?Le(Qt):function(t){return Wa(t)&&ps(t)==y};function ka(t){return null!=t&&ja(t.length)&&!Da(t)}function Ba(t){return Wa(t)&&ka(t)}var Ha=ii||al,Va=te?Le(te):function(t){return Wa(t)&&ps(t)==c};function Fa(t){if(!Wa(t))return!1;var e=ps(t);return e==d||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ga(t)}function Da(t){if(!za(t))return!1;var e=ps(t);return e==p||e==g||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ua(t){return"number"==typeof t&&t==so(t)}function ja(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function za(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Wa(t){return null!=t&&"object"==typeof t}var Ya=ee?Le(ee):function(t){return Wa(t)&&sr(t)==m};function $a(t){return"number"==typeof t||Wa(t)&&ps(t)==b}function Ga(t){if(!Wa(t)||ps(t)!=f)return!1;var e=jt(t);if(null===e)return!0;var i=yt.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&Et.call(i)==It}var Xa=ie?Le(ie):function(t){return Wa(t)&&ps(t)==v};var Ja=se?Le(se):function(t){return Wa(t)&&sr(t)==_};function Ka(t){return"string"==typeof t||!Ra(t)&&Wa(t)&&ps(t)==S}function qa(t){return"symbol"==typeof t||Wa(t)&&ps(t)==C}var Za=ne?Le(ne):function(t){return Wa(t)&&ja(t.length)&&!!Dt[ps(t)]};var Qa=kn(Os),to=kn((function(t,e){return t<=e}));function eo(t){if(!t)return[];if(ka(t))return Ka(t)?Ge(t):vn(t);if(qt&&t[qt])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[qt]());var e=sr(t);return(e==m?Ue:e==_?We:No)(t)}function io(t){return t?(t=ro(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function so(t){var e=io(t),i=e%1;return e==e?i?e-i:e:0}function no(t){return t?Ji(so(t),0,4294967295):0}function ro(t){if("number"==typeof t)return t;if(qa(t))return NaN;if(za(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=za(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ne(t);var i=rt.test(t);return i||ot.test(t)?Wt(t.slice(2),i?2:8):nt.test(t)?NaN:+t}function ao(t){return _n(t,Eo(t))}function oo(t){return null==t?"":qs(t)}var lo=Cn((function(t,e){if(dr(e)||ka(e))_n(e,Co(e),t);else for(var i in e)yt.call(e,i)&&zi(t,i,e[i])})),ho=Cn((function(t,e){_n(e,Eo(e),t)})),uo=Cn((function(t,e,i,s){_n(e,Eo(e),t,s)})),co=Cn((function(t,e,i,s){_n(e,Co(e),t,s)})),po=Yn(Xi);var go=Vs((function(t,e){t=gt(t);var i=-1,s=e.length,n=s>2?e[2]:void 0;for(n&&lr(e[0],e[1],n)&&(s=1);++i<s;)for(var r=e[i],a=Eo(r),o=-1,l=a.length;++o<l;){var h=a[o],u=t[h];(void 0===u||Pa(u,St[h])&&!yt.call(t,h))&&(t[h]=r[h])}return t})),mo=Vs((function(t){return t.push(void 0,jn),re(To,void 0,t)}));function bo(t,e,i){var s=null==t?void 0:cs(t,e);return void 0===s?i:s}function fo(t,e){return null!=t&&nr(t,e,bs)}var vo=Nn((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Ot.call(e)),t[e]=i}),Wo(Go)),_o=Nn((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Ot.call(e)),yt.call(t,e)?t[e].push(i):t[e]=[i]}),qn),So=Vs(vs);function Co(t){return ka(t)?Vi(t):Ts(t)}function Eo(t){return ka(t)?Vi(t,!0):As(t)}var yo=Cn((function(t,e,i){Ns(t,e,i)})),To=Cn((function(t,e,i,s){Ns(t,e,i,s)})),Ao=Yn((function(t,e){var i={};if(null==t)return i;var s=!1;e=pe(e,(function(e){return e=ln(e,t),s||(s=e.length>1),e})),_n(t,Gn(t),i),s&&(i=Ki(i,7,zn));for(var n=e.length;n--;)Qs(i,e[n]);return i}));var Oo=Yn((function(t,e){return null==t?{}:function(t,e){return Rs(t,e,(function(e,i){return fo(t,i)}))}(t,e)}));function Io(t,e){if(null==t)return{};var i=pe(Gn(t),(function(t){return[t]}));return e=qn(e),Rs(t,i,(function(t,i){return e(t,i[0])}))}var wo=Fn(Co),Po=Fn(Eo);function No(t){return null==t?[]:Me(t,Co(t))}var Lo=An((function(t,e,i){return e=e.toLowerCase(),t+(i?Mo(e):e)}));function Mo(t){return Do(oo(t).toLowerCase())}function Ro(t){return(t=oo(t))&&t.replace(ht,He).replace(Rt,"")}var xo=An((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),ko=An((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),Bo=Tn("toLowerCase");var Ho=An((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}));var Vo=An((function(t,e,i){return t+(i?" ":"")+Do(e)}));var Fo=An((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()})),Do=Tn("toUpperCase");function Uo(t,e,i){return t=oo(t),void 0===(e=i?void 0:e)?function(t){return Ht.test(t)}(t)?function(t){return t.match(kt)||[]}(t):function(t){return t.match(Q)||[]}(t):t.match(e)||[]}var jo=Vs((function(t,e){try{return re(t,void 0,e)}catch(t){return Fa(t)?t:new J(t)}})),zo=Yn((function(t,e){return oe(e,(function(e){e=Or(e),Gi(t,e,va(t[e],t))})),t}));function Wo(t){return function(){return t}}var Yo=wn(),$o=wn(!0);function Go(t){return t}function Xo(t){return ys("function"==typeof t?t:Ki(t,1))}var Jo=Vs((function(t,e){return function(i){return vs(i,t,e)}})),Ko=Vs((function(t,e){return function(i){return vs(t,i,e)}}));function qo(t,e,i){var s=Co(e),n=us(e,s);null!=i||za(e)&&(n.length||!s.length)||(i=e,e=t,t=this,n=us(e,Co(e)));var r=!(za(i)&&"chain"in i&&!i.chain),a=Da(t);return oe(n,(function(i){var s=e[i];t[i]=s,a&&(t.prototype[i]=function(){var e=this.__chain__;if(r||e){var i=t(this.__wrapped__),n=i.__actions__=vn(this.__actions__);return n.push({func:s,args:arguments,thisArg:t}),i.__chain__=e,i}return s.apply(t,ge([this.value()],arguments))})})),t}function Zo(){}var Qo=Mn(pe),tl=Mn(he),el=Mn(fe);function il(t){return hr(t)?Ae(Or(t)):function(t){return function(e){return cs(e,t)}}(t)}var sl=xn(),nl=xn(!0);function rl(){return[]}function al(){return!1}var ol=Ln((function(t,e){return t+e}),0),ll=Hn("ceil"),hl=Ln((function(t,e){return t/e}),1),ul=Hn("floor");var cl,dl=Ln((function(t,e){return t*e}),1),pl=Hn("round"),gl=Ln((function(t,e){return t-e}),0);return wi.after=function(t,e){if("function"!=typeof e)throw new ft(r);return t=so(t),function(){if(--t<1)return e.apply(this,arguments)}},wi.ary=ba,wi.assign=lo,wi.assignIn=ho,wi.assignInWith=uo,wi.assignWith=co,wi.at=po,wi.before=fa,wi.bind=va,wi.bindAll=zo,wi.bindKey=_a,wi.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ra(t)?t:[t]},wi.chain=ea,wi.chunk=function(t,e,i){e=(i?lr(t,e,i):void 0===e)?1:ai(so(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var r=0,a=0,o=s(Qe(n/e));r<n;)o[a++]=Ys(t,r,r+=e);return o},wi.compact=function(t){for(var e=-1,i=null==t?0:t.length,s=0,n=[];++e<i;){var r=t[e];r&&(n[s++]=r)}return n},wi.concat=function(){var t=arguments.length;if(!t)return[];for(var e=s(t-1),i=arguments[0],n=t;n--;)e[n-1]=arguments[n];return ge(Ra(i)?vn(i):[i],rs(e,1))},wi.cond=function(t){var e=null==t?0:t.length,i=qn();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new ft(r);return[i(t[0]),t[1]]})):[],Vs((function(i){for(var s=-1;++s<e;){var n=t[s];if(re(n[0],this,i))return re(n[1],this,i)}}))},wi.conforms=function(t){return function(t){var e=Co(t);return function(i){return qi(i,t,e)}}(Ki(t,1))},wi.constant=Wo,wi.countBy=na,wi.create=function(t,e){var i=Pi(t);return null==e?i:$i(i,e)},wi.curry=function t(e,i,s){var n=Dn(e,8,void 0,void 0,void 0,void 0,void 0,i=s?void 0:i);return n.placeholder=t.placeholder,n},wi.curryRight=function t(e,i,s){var n=Dn(e,16,void 0,void 0,void 0,void 0,void 0,i=s?void 0:i);return n.placeholder=t.placeholder,n},wi.debounce=Sa,wi.defaults=go,wi.defaultsDeep=mo,wi.defer=Ca,wi.delay=Ea,wi.difference=Pr,wi.differenceBy=Nr,wi.differenceWith=Lr,wi.drop=function(t,e,i){var s=null==t?0:t.length;return s?Ys(t,(e=i||void 0===e?1:so(e))<0?0:e,s):[]},wi.dropRight=function(t,e,i){var s=null==t?0:t.length;return s?Ys(t,0,(e=s-(e=i||void 0===e?1:so(e)))<0?0:e):[]},wi.dropRightWhile=function(t,e){return t&&t.length?en(t,qn(e,3),!0,!0):[]},wi.dropWhile=function(t,e){return t&&t.length?en(t,qn(e,3),!0):[]},wi.fill=function(t,e,i,s){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&lr(t,e,i)&&(i=0,s=n),function(t,e,i,s){var n=t.length;for((i=so(i))<0&&(i=-i>n?0:n+i),(s=void 0===s||s>n?n:so(s))<0&&(s+=n),s=i>s?0:no(s);i<s;)t[i++]=e;return t}(t,e,i,s)):[]},wi.filter=function(t,e){return(Ra(t)?ue:ns)(t,qn(e,3))},wi.flatMap=function(t,e){return rs(da(t,e),1)},wi.flatMapDeep=function(t,e){return rs(da(t,e),1/0)},wi.flatMapDepth=function(t,e,i){return i=void 0===i?1:so(i),rs(da(t,e),i)},wi.flatten=xr,wi.flattenDeep=function(t){return(null==t?0:t.length)?rs(t,1/0):[]},wi.flattenDepth=function(t,e){return(null==t?0:t.length)?rs(t,e=void 0===e?1:so(e)):[]},wi.flip=function(t){return Dn(t,512)},wi.flow=Yo,wi.flowRight=$o,wi.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,s={};++e<i;){var n=t[e];s[n[0]]=n[1]}return s},wi.functions=function(t){return null==t?[]:us(t,Co(t))},wi.functionsIn=function(t){return null==t?[]:us(t,Eo(t))},wi.groupBy=ha,wi.initial=function(t){return(null==t?0:t.length)?Ys(t,0,-1):[]},wi.intersection=Br,wi.intersectionBy=Hr,wi.intersectionWith=Vr,wi.invert=vo,wi.invertBy=_o,wi.invokeMap=ua,wi.iteratee=Xo,wi.keyBy=ca,wi.keys=Co,wi.keysIn=Eo,wi.map=da,wi.mapKeys=function(t,e){var i={};return e=qn(e,3),ls(t,(function(t,s,n){Gi(i,e(t,s,n),t)})),i},wi.mapValues=function(t,e){var i={};return e=qn(e,3),ls(t,(function(t,s,n){Gi(i,s,e(t,s,n))})),i},wi.matches=function(t){return ws(Ki(t,1))},wi.matchesProperty=function(t,e){return Ps(t,Ki(e,1))},wi.memoize=ya,wi.merge=yo,wi.mergeWith=To,wi.method=Jo,wi.methodOf=Ko,wi.mixin=qo,wi.negate=Ta,wi.nthArg=function(t){return t=so(t),Vs((function(e){return Ls(e,t)}))},wi.omit=Ao,wi.omitBy=function(t,e){return Io(t,Ta(qn(e)))},wi.once=function(t){return fa(2,t)},wi.orderBy=function(t,e,i,s){return null==t?[]:(Ra(e)||(e=null==e?[]:[e]),Ra(i=s?void 0:i)||(i=null==i?[]:[i]),Ms(t,e,i))},wi.over=Qo,wi.overArgs=Aa,wi.overEvery=tl,wi.overSome=el,wi.partial=Oa,wi.partialRight=Ia,wi.partition=pa,wi.pick=Oo,wi.pickBy=Io,wi.property=il,wi.propertyOf=function(t){return function(e){return null==t?void 0:cs(t,e)}},wi.pull=Dr,wi.pullAll=Ur,wi.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?xs(t,e,qn(i,2)):t},wi.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?xs(t,e,void 0,i):t},wi.pullAt=jr,wi.range=sl,wi.rangeRight=nl,wi.rearg=wa,wi.reject=function(t,e){return(Ra(t)?ue:ns)(t,Ta(qn(e,3)))},wi.remove=function(t,e){var i=[];if(!t||!t.length)return i;var s=-1,n=[],r=t.length;for(e=qn(e,3);++s<r;){var a=t[s];e(a,s,t)&&(i.push(a),n.push(s))}return ks(t,n),i},wi.rest=function(t,e){if("function"!=typeof t)throw new ft(r);return Vs(t,e=void 0===e?e:so(e))},wi.reverse=zr,wi.sampleSize=function(t,e,i){return e=(i?lr(t,e,i):void 0===e)?1:so(e),(Ra(t)?Di:Ds)(t,e)},wi.set=function(t,e,i){return null==t?t:Us(t,e,i)},wi.setWith=function(t,e,i,s){return s="function"==typeof s?s:void 0,null==t?t:Us(t,e,i,s)},wi.shuffle=function(t){return(Ra(t)?Ui:Ws)(t)},wi.slice=function(t,e,i){var s=null==t?0:t.length;return s?(i&&"number"!=typeof i&&lr(t,e,i)?(e=0,i=s):(e=null==e?0:so(e),i=void 0===i?s:so(i)),Ys(t,e,i)):[]},wi.sortBy=ga,wi.sortedUniq=function(t){return t&&t.length?Js(t):[]},wi.sortedUniqBy=function(t,e){return t&&t.length?Js(t,qn(e,2)):[]},wi.split=function(t,e,i){return i&&"number"!=typeof i&&lr(t,e,i)&&(e=i=void 0),(i=void 0===i?4294967295:i>>>0)?(t=oo(t))&&("string"==typeof e||null!=e&&!Xa(e))&&!(e=qs(e))&&De(t)?un(Ge(t),0,i):t.split(e,i):[]},wi.spread=function(t,e){if("function"!=typeof t)throw new ft(r);return e=null==e?0:ai(so(e),0),Vs((function(i){var s=i[e],n=un(i,0,e);return s&&ge(n,s),re(t,this,n)}))},wi.tail=function(t){var e=null==t?0:t.length;return e?Ys(t,1,e):[]},wi.take=function(t,e,i){return t&&t.length?Ys(t,0,(e=i||void 0===e?1:so(e))<0?0:e):[]},wi.takeRight=function(t,e,i){var s=null==t?0:t.length;return s?Ys(t,(e=s-(e=i||void 0===e?1:so(e)))<0?0:e,s):[]},wi.takeRightWhile=function(t,e){return t&&t.length?en(t,qn(e,3),!1,!0):[]},wi.takeWhile=function(t,e){return t&&t.length?en(t,qn(e,3)):[]},wi.tap=function(t,e){return e(t),t},wi.throttle=function(t,e,i){var s=!0,n=!0;if("function"!=typeof t)throw new ft(r);return za(i)&&(s="leading"in i?!!i.leading:s,n="trailing"in i?!!i.trailing:n),Sa(t,e,{leading:s,maxWait:e,trailing:n})},wi.thru=ia,wi.toArray=eo,wi.toPairs=wo,wi.toPairsIn=Po,wi.toPath=function(t){return Ra(t)?pe(t,Or):qa(t)?[t]:vn(Ar(oo(t)))},wi.toPlainObject=ao,wi.transform=function(t,e,i){var s=Ra(t),n=s||Ha(t)||Za(t);if(e=qn(e,4),null==i){var r=t&&t.constructor;i=n?s?new r:[]:za(t)&&Da(r)?Pi(jt(t)):{}}return(n?oe:ls)(t,(function(t,s,n){return e(i,t,s,n)})),i},wi.unary=function(t){return ba(t,1)},wi.union=Wr,wi.unionBy=Yr,wi.unionWith=$r,wi.uniq=function(t){return t&&t.length?Zs(t):[]},wi.uniqBy=function(t,e){return t&&t.length?Zs(t,qn(e,2)):[]},wi.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Zs(t,void 0,e):[]},wi.unset=function(t,e){return null==t||Qs(t,e)},wi.unzip=Gr,wi.unzipWith=Xr,wi.update=function(t,e,i){return null==t?t:tn(t,e,on(i))},wi.updateWith=function(t,e,i,s){return s="function"==typeof s?s:void 0,null==t?t:tn(t,e,on(i),s)},wi.values=No,wi.valuesIn=function(t){return null==t?[]:Me(t,Eo(t))},wi.without=Jr,wi.words=Uo,wi.wrap=function(t,e){return Oa(on(e),t)},wi.xor=Kr,wi.xorBy=qr,wi.xorWith=Zr,wi.zip=Qr,wi.zipObject=function(t,e){return rn(t||[],e||[],zi)},wi.zipObjectDeep=function(t,e){return rn(t||[],e||[],Us)},wi.zipWith=ta,wi.entries=wo,wi.entriesIn=Po,wi.extend=ho,wi.extendWith=uo,qo(wi,wi),wi.add=ol,wi.attempt=jo,wi.camelCase=Lo,wi.capitalize=Mo,wi.ceil=ll,wi.clamp=function(t,e,i){return void 0===i&&(i=e,e=void 0),void 0!==i&&(i=(i=ro(i))==i?i:0),void 0!==e&&(e=(e=ro(e))==e?e:0),Ji(ro(t),e,i)},wi.clone=function(t){return Ki(t,4)},wi.cloneDeep=function(t){return Ki(t,5)},wi.cloneDeepWith=function(t,e){return Ki(t,5,e="function"==typeof e?e:void 0)},wi.cloneWith=function(t,e){return Ki(t,4,e="function"==typeof e?e:void 0)},wi.conformsTo=function(t,e){return null==e||qi(t,e,Co(e))},wi.deburr=Ro,wi.defaultTo=function(t,e){return null==t||t!=t?e:t},wi.divide=hl,wi.endsWith=function(t,e,i){t=oo(t),e=qs(e);var s=t.length,n=i=void 0===i?s:Ji(so(i),0,s);return(i-=e.length)>=0&&t.slice(i,n)==e},wi.eq=Pa,wi.escape=function(t){return(t=oo(t))&&F.test(t)?t.replace(H,Ve):t},wi.escapeRegExp=function(t){return(t=oo(t))&&G.test(t)?t.replace($,"\\$&"):t},wi.every=function(t,e,i){var s=Ra(t)?he:is;return i&&lr(t,e,i)&&(e=void 0),s(t,qn(e,3))},wi.find=ra,wi.findIndex=Mr,wi.findKey=function(t,e){return _e(t,qn(e,3),ls)},wi.findLast=aa,wi.findLastIndex=Rr,wi.findLastKey=function(t,e){return _e(t,qn(e,3),hs)},wi.floor=ul,wi.forEach=oa,wi.forEachRight=la,wi.forIn=function(t,e){return null==t?t:as(t,qn(e,3),Eo)},wi.forInRight=function(t,e){return null==t?t:os(t,qn(e,3),Eo)},wi.forOwn=function(t,e){return t&&ls(t,qn(e,3))},wi.forOwnRight=function(t,e){return t&&hs(t,qn(e,3))},wi.get=bo,wi.gt=Na,wi.gte=La,wi.has=function(t,e){return null!=t&&nr(t,e,ms)},wi.hasIn=fo,wi.head=kr,wi.identity=Go,wi.includes=function(t,e,i,s){t=ka(t)?t:No(t),i=i&&!s?so(i):0;var n=t.length;return i<0&&(i=ai(n+i,0)),Ka(t)?i<=n&&t.indexOf(e,i)>-1:!!n&&Ce(t,e,i)>-1},wi.indexOf=function(t,e,i){var s=null==t?0:t.length;if(!s)return-1;var n=null==i?0:so(i);return n<0&&(n=ai(s+n,0)),Ce(t,e,n)},wi.inRange=function(t,e,i){return e=io(e),void 0===i?(i=e,e=0):i=io(i),function(t,e,i){return t>=oi(e,i)&&t<ai(e,i)}(t=ro(t),e,i)},wi.invoke=So,wi.isArguments=Ma,wi.isArray=Ra,wi.isArrayBuffer=xa,wi.isArrayLike=ka,wi.isArrayLikeObject=Ba,wi.isBoolean=function(t){return!0===t||!1===t||Wa(t)&&ps(t)==u},wi.isBuffer=Ha,wi.isDate=Va,wi.isElement=function(t){return Wa(t)&&1===t.nodeType&&!Ga(t)},wi.isEmpty=function(t){if(null==t)return!0;if(ka(t)&&(Ra(t)||"string"==typeof t||"function"==typeof t.splice||Ha(t)||Za(t)||Ma(t)))return!t.length;var e=sr(t);if(e==m||e==_)return!t.size;if(dr(t))return!Ts(t).length;for(var i in t)if(yt.call(t,i))return!1;return!0},wi.isEqual=function(t,e){return Ss(t,e)},wi.isEqualWith=function(t,e,i){var s=(i="function"==typeof i?i:void 0)?i(t,e):void 0;return void 0===s?Ss(t,e,void 0,i):!!s},wi.isError=Fa,wi.isFinite=function(t){return"number"==typeof t&&si(t)},wi.isFunction=Da,wi.isInteger=Ua,wi.isLength=ja,wi.isMap=Ya,wi.isMatch=function(t,e){return t===e||Cs(t,e,Qn(e))},wi.isMatchWith=function(t,e,i){return i="function"==typeof i?i:void 0,Cs(t,e,Qn(e),i)},wi.isNaN=function(t){return $a(t)&&t!=+t},wi.isNative=function(t){if(cr(t))throw new J("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Es(t)},wi.isNil=function(t){return null==t},wi.isNull=function(t){return null===t},wi.isNumber=$a,wi.isObject=za,wi.isObjectLike=Wa,wi.isPlainObject=Ga,wi.isRegExp=Xa,wi.isSafeInteger=function(t){return Ua(t)&&t>=-9007199254740991&&t<=9007199254740991},wi.isSet=Ja,wi.isString=Ka,wi.isSymbol=qa,wi.isTypedArray=Za,wi.isUndefined=function(t){return void 0===t},wi.isWeakMap=function(t){return Wa(t)&&sr(t)==E},wi.isWeakSet=function(t){return Wa(t)&&"[object WeakSet]"==ps(t)},wi.join=function(t,e){return null==t?"":ni.call(t,e)},wi.kebabCase=xo,wi.last=Fr,wi.lastIndexOf=function(t,e,i){var s=null==t?0:t.length;if(!s)return-1;var n=s;return void 0!==i&&(n=(n=so(i))<0?ai(s+n,0):oi(n,s-1)),e==e?function(t,e,i){for(var s=i+1;s--;)if(t[s]===e)return s;return s}(t,e,n):Se(t,ye,n,!0)},wi.lowerCase=ko,wi.lowerFirst=Bo,wi.lt=Qa,wi.lte=to,wi.max=function(t){return t&&t.length?ss(t,Go,gs):void 0},wi.maxBy=function(t,e){return t&&t.length?ss(t,qn(e,2),gs):void 0},wi.mean=function(t){return Te(t,Go)},wi.meanBy=function(t,e){return Te(t,qn(e,2))},wi.min=function(t){return t&&t.length?ss(t,Go,Os):void 0},wi.minBy=function(t,e){return t&&t.length?ss(t,qn(e,2),Os):void 0},wi.stubArray=rl,wi.stubFalse=al,wi.stubObject=function(){return{}},wi.stubString=function(){return""},wi.stubTrue=function(){return!0},wi.multiply=dl,wi.nth=function(t,e){return t&&t.length?Ls(t,so(e)):void 0},wi.noConflict=function(){return Gt._===this&&(Gt._=wt),this},wi.noop=Zo,wi.now=ma,wi.pad=function(t,e,i){t=oo(t);var s=(e=so(e))?$e(t):0;if(!e||s>=e)return t;var n=(e-s)/2;return Rn(ti(n),i)+t+Rn(Qe(n),i)},wi.padEnd=function(t,e,i){t=oo(t);var s=(e=so(e))?$e(t):0;return e&&s<e?t+Rn(e-s,i):t},wi.padStart=function(t,e,i){t=oo(t);var s=(e=so(e))?$e(t):0;return e&&s<e?Rn(e-s,i)+t:t},wi.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),hi(oo(t).replace(X,""),e||0)},wi.random=function(t,e,i){if(i&&"boolean"!=typeof i&&lr(t,e,i)&&(e=i=void 0),void 0===i&&("boolean"==typeof e?(i=e,e=void 0):"boolean"==typeof t&&(i=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=io(t),void 0===e?(e=t,t=0):e=io(e)),t>e){var s=t;t=e,e=s}if(i||t%1||e%1){var n=ui();return oi(t+n*(e-t+zt("1e-"+((n+"").length-1))),e)}return Bs(t,e)},wi.reduce=function(t,e,i){var s=Ra(t)?me:Ie,n=arguments.length<3;return s(t,qn(e,4),i,n,ts)},wi.reduceRight=function(t,e,i){var s=Ra(t)?be:Ie,n=arguments.length<3;return s(t,qn(e,4),i,n,es)},wi.repeat=function(t,e,i){return e=(i?lr(t,e,i):void 0===e)?1:so(e),Hs(oo(t),e)},wi.replace=function(){var t=arguments,e=oo(t[0]);return t.length<3?e:e.replace(t[1],t[2])},wi.result=function(t,e,i){var s=-1,n=(e=ln(e,t)).length;for(n||(n=1,t=void 0);++s<n;){var r=null==t?void 0:t[Or(e[s])];void 0===r&&(s=n,r=i),t=Da(r)?r.call(t):r}return t},wi.round=pl,wi.runInContext=t,wi.sample=function(t){return(Ra(t)?Fi:Fs)(t)},wi.size=function(t){if(null==t)return 0;if(ka(t))return Ka(t)?$e(t):t.length;var e=sr(t);return e==m||e==_?t.size:Ts(t).length},wi.snakeCase=Ho,wi.some=function(t,e,i){var s=Ra(t)?fe:$s;return i&&lr(t,e,i)&&(e=void 0),s(t,qn(e,3))},wi.sortedIndex=function(t,e){return Gs(t,e)},wi.sortedIndexBy=function(t,e,i){return Xs(t,e,qn(i,2))},wi.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var s=Gs(t,e);if(s<i&&Pa(t[s],e))return s}return-1},wi.sortedLastIndex=function(t,e){return Gs(t,e,!0)},wi.sortedLastIndexBy=function(t,e,i){return Xs(t,e,qn(i,2),!0)},wi.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var i=Gs(t,e,!0)-1;if(Pa(t[i],e))return i}return-1},wi.startCase=Vo,wi.startsWith=function(t,e,i){return t=oo(t),i=null==i?0:Ji(so(i),0,t.length),e=qs(e),t.slice(i,i+e.length)==e},wi.subtract=gl,wi.sum=function(t){return t&&t.length?we(t,Go):0},wi.sumBy=function(t,e){return t&&t.length?we(t,qn(e,2)):0},wi.template=function(t,e,i){var s=wi.templateSettings;i&&lr(t,e,i)&&(e=void 0),t=oo(t),e=uo({},e,s,Un);var n,r,a=uo({},e.imports,s.imports,Un),o=Co(a),l=Me(a,o),h=0,u=e.interpolate||ut,c="__p += '",d=mt((e.escape||ut).source+"|"+u.source+"|"+(u===j?it:ut).source+"|"+(e.evaluate||ut).source+"|$","g"),p="//# sourceURL="+(yt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ft+"]")+"\n";t.replace(d,(function(e,i,s,a,o,l){return s||(s=a),c+=t.slice(h,l).replace(ct,Fe),i&&(n=!0,c+="' +\n__e("+i+") +\n'"),o&&(r=!0,c+="';\n"+o+";\n__p += '"),s&&(c+="' +\n((__t = ("+s+")) == null ? '' : __t) +\n'"),h=l+e.length,e})),c+="';\n";var g=yt.call(e,"variable")&&e.variable;if(g){if(tt.test(g))throw new J("Invalid `variable` option passed into `_.template`")}else c="with (obj) {\n"+c+"\n}\n";c=(r?c.replace(R,""):c).replace(x,"$1").replace(k,"$1;"),c="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(n?", __e = _.escape":"")+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var m=jo((function(){return dt(o,p+"return "+c).apply(void 0,l)}));if(m.source=c,Fa(m))throw m;return m},wi.times=function(t,e){if((t=so(t))<1||t>9007199254740991)return[];var i=4294967295,s=oi(t,4294967295);t-=4294967295;for(var n=Pe(s,e=qn(e));++i<t;)e(i);return n},wi.toFinite=io,wi.toInteger=so,wi.toLength=no,wi.toLower=function(t){return oo(t).toLowerCase()},wi.toNumber=ro,wi.toSafeInteger=function(t){return t?Ji(so(t),-9007199254740991,9007199254740991):0===t?t:0},wi.toString=oo,wi.toUpper=function(t){return oo(t).toUpperCase()},wi.trim=function(t,e,i){if((t=oo(t))&&(i||void 0===e))return Ne(t);if(!t||!(e=qs(e)))return t;var s=Ge(t),n=Ge(e);return un(s,xe(s,n),ke(s,n)+1).join("")},wi.trimEnd=function(t,e,i){if((t=oo(t))&&(i||void 0===e))return t.slice(0,Xe(t)+1);if(!t||!(e=qs(e)))return t;var s=Ge(t);return un(s,0,ke(s,Ge(e))+1).join("")},wi.trimStart=function(t,e,i){if((t=oo(t))&&(i||void 0===e))return t.replace(X,"");if(!t||!(e=qs(e)))return t;var s=Ge(t);return un(s,xe(s,Ge(e))).join("")},wi.truncate=function(t,e){var i=30,s="...";if(za(e)){var n="separator"in e?e.separator:n;i="length"in e?so(e.length):i,s="omission"in e?qs(e.omission):s}var r=(t=oo(t)).length;if(De(t)){var a=Ge(t);r=a.length}if(i>=r)return t;var o=i-$e(s);if(o<1)return s;var l=a?un(a,0,o).join(""):t.slice(0,o);if(void 0===n)return l+s;if(a&&(o+=l.length-o),Xa(n)){if(t.slice(o).search(n)){var h,u=l;for(n.global||(n=mt(n.source,oo(st.exec(n))+"g")),n.lastIndex=0;h=n.exec(u);)var c=h.index;l=l.slice(0,void 0===c?o:c)}}else if(t.indexOf(qs(n),o)!=o){var d=l.lastIndexOf(n);d>-1&&(l=l.slice(0,d))}return l+s},wi.unescape=function(t){return(t=oo(t))&&V.test(t)?t.replace(B,Je):t},wi.uniqueId=function(t){var e=++Tt;return oo(t)+e},wi.upperCase=Fo,wi.upperFirst=Do,wi.each=oa,wi.eachRight=la,wi.first=kr,qo(wi,(cl={},ls(wi,(function(t,e){yt.call(wi.prototype,e)||(cl[e]=t)})),cl),{chain:!1}),wi.VERSION="4.17.21",oe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){wi[t].placeholder=wi})),oe(["drop","take"],(function(t,e){Mi.prototype[t]=function(i){i=void 0===i?1:ai(so(i),0);var s=this.__filtered__&&!e?new Mi(this):this.clone();return s.__filtered__?s.__takeCount__=oi(i,s.__takeCount__):s.__views__.push({size:oi(i,4294967295),type:t+(s.__dir__<0?"Right":"")}),s},Mi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),oe(["filter","map","takeWhile"],(function(t,e){var i=e+1,s=1==i||3==i;Mi.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:qn(t,3),type:i}),e.__filtered__=e.__filtered__||s,e}})),oe(["head","last"],(function(t,e){var i="take"+(e?"Right":"");Mi.prototype[t]=function(){return this[i](1).value()[0]}})),oe(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");Mi.prototype[t]=function(){return this.__filtered__?new Mi(this):this[i](1)}})),Mi.prototype.compact=function(){return this.filter(Go)},Mi.prototype.find=function(t){return this.filter(t).head()},Mi.prototype.findLast=function(t){return this.reverse().find(t)},Mi.prototype.invokeMap=Vs((function(t,e){return"function"==typeof t?new Mi(this):this.map((function(i){return vs(i,t,e)}))})),Mi.prototype.reject=function(t){return this.filter(Ta(qn(t)))},Mi.prototype.slice=function(t,e){t=so(t);var i=this;return i.__filtered__&&(t>0||e<0)?new Mi(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),void 0!==e&&(i=(e=so(e))<0?i.dropRight(-e):i.take(e-t)),i)},Mi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Mi.prototype.toArray=function(){return this.take(4294967295)},ls(Mi.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),s=/^(?:head|last)$/.test(e),n=wi[s?"take"+("last"==e?"Right":""):e],r=s||/^find/.test(e);n&&(wi.prototype[e]=function(){var e=this.__wrapped__,a=s?[1]:arguments,o=e instanceof Mi,l=a[0],h=o||Ra(e),u=function(t){var e=n.apply(wi,ge([t],a));return s&&c?e[0]:e};h&&i&&"function"==typeof l&&1!=l.length&&(o=h=!1);var c=this.__chain__,d=!!this.__actions__.length,p=r&&!c,g=o&&!d;if(!r&&h){e=g?e:new Mi(this);var m=t.apply(e,a);return m.__actions__.push({func:ia,args:[u],thisArg:void 0}),new Li(m,c)}return p&&g?t.apply(this,a):(m=this.thru(u),p?s?m.value()[0]:m.value():m)})})),oe(["pop","push","shift","sort","splice","unshift"],(function(t){var e=vt[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",s=/^(?:pop|shift)$/.test(t);wi.prototype[t]=function(){var t=arguments;if(s&&!this.__chain__){var n=this.value();return e.apply(Ra(n)?n:[],t)}return this[i]((function(i){return e.apply(Ra(i)?i:[],t)}))}})),ls(Mi.prototype,(function(t,e){var i=wi[e];if(i){var s=i.name+"";yt.call(_i,s)||(_i[s]=[]),_i[s].push({name:e,func:i})}})),_i[Pn(void 0,2).name]=[{name:"wrapper",func:void 0}],Mi.prototype.clone=function(){var t=new Mi(this.__wrapped__);return t.__actions__=vn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=vn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=vn(this.__views__),t},Mi.prototype.reverse=function(){if(this.__filtered__){var t=new Mi(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Mi.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=Ra(t),s=e<0,n=i?t.length:0,r=function(t,e,i){var s=-1,n=i.length;for(;++s<n;){var r=i[s],a=r.size;switch(r.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=oi(e,t+a);break;case"takeRight":t=ai(t,e-a)}}return{start:t,end:e}}(0,n,this.__views__),a=r.start,o=r.end,l=o-a,h=s?o:a-1,u=this.__iteratees__,c=u.length,d=0,p=oi(l,this.__takeCount__);if(!i||!s&&n==l&&p==l)return sn(t,this.__actions__);var g=[];t:for(;l--&&d<p;){for(var m=-1,b=t[h+=e];++m<c;){var f=u[m],v=f.iteratee,_=f.type,S=v(b);if(2==_)b=S;else if(!S){if(1==_)continue t;break t}}g[d++]=b}return g},wi.prototype.at=sa,wi.prototype.chain=function(){return ea(this)},wi.prototype.commit=function(){return new Li(this.value(),this.__chain__)},wi.prototype.next=function(){void 0===this.__values__&&(this.__values__=eo(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},wi.prototype.plant=function(t){for(var e,i=this;i instanceof Ni;){var s=wr(i);s.__index__=0,s.__values__=void 0,e?n.__wrapped__=s:e=s;var n=s;i=i.__wrapped__}return n.__wrapped__=t,e},wi.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Mi){var e=t;return this.__actions__.length&&(e=new Mi(this)),(e=e.reverse()).__actions__.push({func:ia,args:[zr],thisArg:void 0}),new Li(e,this.__chain__)}return this.thru(zr)},wi.prototype.toJSON=wi.prototype.valueOf=wi.prototype.value=function(){return sn(this.__wrapped__,this.__actions__)},wi.prototype.first=wi.prototype.head,qt&&(wi.prototype[qt]=function(){return this}),wi}();Gt._=Ke,void 0===(n=function(){return Ke}.call(e,i,e,s))||(s.exports=n)}).call(this)}).call(this,i(36),i(37)(t))},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(116),e),n(i(117),e),n(i(118),e),n(i(27),e),n(i(8),e),n(i(51),e),n(i(119),e),n(i(7),e),n(i(52),e),n(i(120),e),n(i(121),e),n(i(59),e),n(i(38),e),n(i(39),e),n(i(60),e),n(i(122),e),n(i(123),e),n(i(124),e),n(i(55),e),n(i(61),e),n(i(62),e),n(i(125),e),n(i(23),e),n(i(54),e),n(i(28),e),n(i(126),e),n(i(127),e),n(i(128),e),n(i(129),e),n(i(130),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5SignalAttributeRegistry=void 0;class s{constructor(){this._registry={}}static get instance(){return void 0===s._instance&&(s._instance=new s),s._instance}addElementAttributeEntries(t,e){this._registry[t.toUpperCase()]?this._registry[t.toUpperCase()].attributes=e:this._registry[t.toUpperCase()]={attributes:e}}addCustomAttributeEntry(t,e){this._registry[s.CUSTOM_ATTRIBUTE_PSUEDO_ELEMENT_NAME]||(this._registry[s.CUSTOM_ATTRIBUTE_PSUEDO_ELEMENT_NAME]={attributes:{}}),this._registry[s.CUSTOM_ATTRIBUTE_PSUEDO_ELEMENT_NAME].attributes[t]=e}addElementDefaultAttributeEntries(t,e){this._registry[t.toUpperCase()]||(this._registry[t.toUpperCase()]={attributes:{}}),this._registry[t.toUpperCase()].addAttributeWhen=e}getElementAttributeEntry(t,e){return void 0!==this._registry[t]?this._registry[t].attributes[e]:void 0!==this._registry[s.CUSTOM_ATTRIBUTE_PSUEDO_ELEMENT_NAME]?this._registry[s.CUSTOM_ATTRIBUTE_PSUEDO_ELEMENT_NAME].attributes[e]:void 0}getElementDefaultAttributeEntries(t){if(void 0!==this._registry[t])return this._registry[t].addAttributeWhen}}e.Ch5SignalAttributeRegistry=s,s.BOOLEAN_JOIN="booleanJoin",s.NUMERIC_JOIN="numericJoin",s.STRING_JOIN="stringJoin",s.CONTRACT_NAME="contractName",s.CUSTOM_ATTRIBUTE_PSUEDO_ELEMENT_NAME="*"},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Common=void 0;const n=i(1),r=i(14),a=i(40),o=i(131),l=i(64),h=s(i(132)),u=i(72),c=s(i(0));class d extends HTMLElement{constructor(){super(),this.COMMON_PROPERTIES={SHOW:{default:!0,valueOnAttributeEmpty:!0,variableName:"_show",attributeName:"show",propertyName:"show",type:"boolean",removeAttributeOnNull:!0,enumeratedValues:["true","false","",!0,!1],componentReference:this,callback:this.updateForChangeInShowStatus.bind(this)},DISABLED:{default:!1,valueOnAttributeEmpty:!0,variableName:"_disabled",attributeName:"disabled",propertyName:"disabled",type:"boolean",removeAttributeOnNull:!0,enumeratedValues:["true","false","",!0,!1],componentReference:this,callback:this.updateForChangeInDisabledStatus.bind(this)}},this.showTypes=["display","visibility","remove"],this._ignoreAttributes=[],this.primaryCssClass="ch5-common",this.currentLanguage="",this.translatableObjects={},this.childrenOfCurrentNode=null,this._class="",this._style="",this._id="",this._customClass="",this._prevAddedCustomClasses=[],this._customStyle="",this._prevAddedStyle="",this._show=!0,this._noshowType="display",this._disabled=!1,this._gestureable=!1,this._receiveStateCustomClass="",this._subKeySigReceiveCustomClass="",this._receiveStateCustomStyle="",this._subKeySigReceiveCustomStyle="",this._receiveStateShow="",this._subKeySigReceiveShow="",this._receiveStateShowPulse="",this._subKeySigReceiveShowPulse="",this._receiveStateHidePulse="",this._nextSiblingIndexInParentChildNodes=0,this._subKeySigReceiveHidePulse="",this._receiveStateEnable="",this._subKeySigReceiveEnable="",this._sigNameSendOnShow="",this._sigSendOnShow=null,this._onrelease={},this._onpress={},this._isDebugEnabled=!1,this._isTraceEnabled=!1,this._listOfAllPossibleComponentCssClasses=[],this._crId="",this._ch5Id=0,this._cssClassHideVisibility="ch5-hide-vis",this._cssClassHideDisplay="ch5-hide-dis",this._cachedParentEl=null,this._cachedNextSibling=null,this._isDetachedFromDom=!1,this._keepListeningOnSignalsAfterRemoval=!1,this._targetElementForCssClassesAndStyle=null,this._wasInstatiated=!1,this.wasInstantiatedInViewport=!1,this._appendClassWhenInViewPort="",this.elementIsInViewPort=!0,this.elementIntersectionEntry={},this.elementIsVisible=!0,this._commonMutationObserver={},this.debounce=(t,e)=>{let i;return function(...s){window.clearTimeout(i),i=window.setTimeout(()=>{window.clearTimeout(i),t(...s)},e)}},this._crId=n.Ch5Uid.getUid(),this.logger=new u.Ch5CommonLog(!1,!1,this._crId);const t=[];t.push(this.primaryCssClass+"--disabled"),this._listOfAllPossibleComponentCssClasses=t,this.observableGestureableProperty=new r.Subject;const e=n.Ch5SignalFactory.getInstance().getStringSignal(n.languageChangedSignalName);null!==e&&e.subscribe(t=>{""!==t&&t!==this.currentLanguage&&(this.currentLanguage=t,Object.keys(this.translatableObjects).forEach(t=>{let e=this;void 0===e[t]&&void 0!==e.attrModel&&(e=e.attrModel),void 0!==e[t.toString()]&&void 0!==this.translatableObjects[t.toString()]&&(e[t.toString()]=this.translatableObjects[t],this.translateCallback(t.toString()))}))})}set ignoreAttributes(t){this._ignoreAttributes=t.map(t=>t.toLowerCase())}get ignoreAttributes(){return this._ignoreAttributes}set customClass(t){this.logger.log("set customClass('"+t+"')"),(t=this._checkAndSetStringValue(t))!==this._customClass&&(this._customClass=t,this.setAttribute("customclass",t))}get customClass(){return this._customClass}set customStyle(t){this.logger.log("set customStyle('"+t+"')"),(t=this._checkAndSetStringValue(t))!==this._customStyle&&(this._prevAddedStyle=this._customStyle,this._customStyle=t,this.setAttribute("customstyle",t))}get customStyle(){return this._customStyle}set show(t){this.logger.log("set show('"+t+"')"),(c.default.isNil(this.receiveStateShow)||""===this.receiveStateShow)&&this.setAttributeAndProperty(this.COMMON_PROPERTIES.SHOW,t)}get show(){return this._show}set noshowType(t){this.logger.log("set noshowType('"+t+"')"),(t=this._checkAndSetStringValue(t,"none"))!==this._noshowType&&(this.showTypes.indexOf(t)>0?this._noshowType=t:this._noshowType=this.showTypes[0],this.setAttribute("noshowtype",this._noshowType))}get noshowType(){return this._noshowType}set disabled(t){this.logger.log("set disabled('"+t+"')"),(c.default.isNil(this.receiveStateEnable)||""===this.receiveStateEnable)&&this.setAttributeAndProperty(this.COMMON_PROPERTIES.DISABLED,t)}get disabled(){return this._disabled}set gestureable(t){this.logger.log("set gestureable('"+t+"')");const e=this.toBoolean(t);t!==this._gestureable&&(this.observableGestureableProperty.next(e),this._gestureable=e,this.setAttribute("gestureable",e.toString()))}get gestureable(){return this._gestureable}set receiveStateCustomClass(t){if(this.logger.log("set receiveStateCustomClass('"+t+"')"),""===(t=this._checkAndSetStringValue(t))||t===this._receiveStateCustomClass)return;this.customClass="",this.clearStringSignalSubscription(this._receiveStateCustomClass,this._subKeySigReceiveCustomClass),this._receiveStateCustomClass=t,this.setAttribute("receivestatecustomclass",t);const e=n.Ch5Signal.getSubscriptionSignalName(this._receiveStateCustomClass),i=n.Ch5SignalFactory.getInstance().getStringSignal(e);if(null===i)return;let s=!1;this._subKeySigReceiveCustomClass=i.subscribe(t=>{this.logger.log("subs callback for signalReceiveCustomClass: ",this._receiveStateCustomClass," Signal has value ",t),""!==t&&(s=!0),t!==this.customClass&&s&&(this.customClass=t)})}get receiveStateCustomClass(){return this._attributeValueAsString("receivestatecustomclass")}set receiveStateCustomStyle(t){if(this.logger.log("set receiveStateCustomStyle('"+t+"')"),""===(t=this._checkAndSetStringValue(t))||t===this._receiveStateCustomStyle)return;this.customStyle="",this.clearStringSignalSubscription(this._receiveStateCustomStyle,this._subKeySigReceiveCustomStyle),this._receiveStateCustomStyle=t,this.setAttribute("receivestatecustomstyle",t);const e=n.Ch5Signal.getSubscriptionSignalName(this._receiveStateCustomStyle),i=n.Ch5SignalFactory.getInstance().getStringSignal(e);if(null===i)return;let s=!1;this._subKeySigReceiveCustomStyle=i.subscribe(t=>{this.logger.log(" subs callback for signalReceiveCustomStyle: ",this._subKeySigReceiveCustomStyle," Signal has value ",t),""!==t&&(s=!0),t!==this.customStyle&&s&&this.setAttribute("customStyle",t)})}get receiveStateCustomStyle(){return this._attributeValueAsString("receivestatecustomstyle")}set receiveStateEnable(t){if(this.logger.log("set receiveStateEnable('"+t+"')"),""===(t=this._checkAndSetStringValue(t))||t===this._receiveStateEnable)return;this.clearBooleanSignalSubscription(this._receiveStateEnable,this._subKeySigReceiveEnable),this._receiveStateEnable=t,this.setAttribute("receivestateenable",t);const e=n.Ch5Signal.getSubscriptionSignalName(this._receiveStateEnable),i=n.Ch5SignalFactory.getInstance().getBooleanSignal(e);null!==i&&(this._subKeySigReceiveEnable=i.subscribe(t=>{this.logger.log(" subs callback for signalReceiveEnable: ",this._subKeySigReceiveEnable," Signal has value ",t),!this.disabled!==t&&this.setAttributeAndProperty(this.COMMON_PROPERTIES.DISABLED,!t,!0)}))}get receiveStateEnable(){return this._attributeValueAsString("receivestateenable")}set receiveStateHidePulse(t){if(this.logger.log("set receiveStateHidePulse('"+t+"')"),""===(t=this._checkAndSetStringValue(t))||t===this._receiveStateHidePulse)return;this.clearBooleanSignalSubscription(this._receiveStateHidePulse,this._subKeySigReceiveHidePulse),this._receiveStateHidePulse=t,this.setAttribute("receivestatehidepulse",t);const e=n.Ch5Signal.getSubscriptionSignalName(this._receiveStateHidePulse),i=n.Ch5SignalFactory.getInstance().getBooleanSignal(e);null!==i&&(this._subKeySigReceiveHidePulse=i.subscribe(t=>{this.logger.log(" subs callback for signalReceiveHidePulse: ",this._subKeySigReceiveHidePulse," Signal has value ",t),null!==i?!1===i.prevValue&&!0===t&&this.setAttribute("show","false"):this.logger.log(" subs callback for signalReceiveHidePulse: ",this._subKeySigReceiveHidePulse," recSig is null")}))}get receiveStateHidePulse(){return this._attributeValueAsString("receivestatehidepulse")}set receiveStateShowPulse(t){if(this.logger.log("set receiveStateShowPulse('"+t+"')"),""===(t=this._checkAndSetStringValue(t))||t===this._receiveStateShowPulse)return;this.clearBooleanSignalSubscription(this._receiveStateShowPulse,this._subKeySigReceiveShowPulse),this._receiveStateShowPulse=t,this.setAttribute("receivestateshowpulse",t);const e=n.Ch5Signal.getSubscriptionSignalName(this._receiveStateShowPulse),i=n.Ch5SignalFactory.getInstance().getBooleanSignal(e);null!==i&&(this._subKeySigReceiveShowPulse=i.subscribe(t=>{if(this.logger.log(" subs callback for signalReceiveShowPulse: ",this._subKeySigReceiveShowPulse," Signal has value ",t),null!==i){const e=void 0!==t.repeatdigital?t.repeatdigital:t;if(void 0!==i.prevValue.repeatdigital)return void(!1===i.prevValue.repeatdigital&&!0===e&&this.setAttribute("show","true"));!1===i.prevValue&&!0===e&&this.setAttribute("show","true")}}))}get receiveStateShowPulse(){return this._attributeValueAsString("receivestateshowpulse")}set receiveStateShow(t){if(this.logger.log("set receiveStateShow('"+t+"')"),""===(t=this._checkAndSetStringValue(t))||t===this._receiveStateShow)return;this.clearBooleanSignalSubscription(this._receiveStateShow,this._subKeySigReceiveShow),this._receiveStateShow=t,this.setAttribute("receivestateshow",t);const e=n.Ch5Signal.getSubscriptionSignalName(this._receiveStateShow),i=n.Ch5SignalFactory.getInstance().getBooleanSignal(e);null!==i?this._subKeySigReceiveShow=i.subscribe(t=>{this.logger.log("subs callback for signalReceiveShow: ",this._subKeySigReceiveShow," Signal has value ",t," this.show",this.show),t!==this.show&&this.setAttributeAndProperty(this.COMMON_PROPERTIES.SHOW,t,!0)}):this.logger.log("recSig for signalReceiveShow is null")}get receiveStateShow(){return this._attributeValueAsString("receivestateshow")}set sendEventOnShow(t){this.sigNameSendOnShow=t}get sendEventOnShow(){return this.sigNameSendOnShow}set sigNameSendOnShow(t){this.logger.log("set sigNameSendOnShow('"+t+"')"),""!==(t=this._checkAndSetStringValue(t))&&t!==this._sigNameSendOnShow&&(this._sigNameSendOnShow=t,this.setAttribute("sendeventonshow",t),this._sigSendOnShow=n.Ch5SignalFactory.getInstance().getBooleanSignal(this._sigNameSendOnShow))}get sigNameSendOnShow(){return this._sigNameSendOnShow}set onrelease(t){this._onrelease=t}get onrelease(){return this._onrelease}set onpress(t){this.logger.log("set onpress"),this._onpress=t}get onpress(){return this.logger.log("get onpress"),this._onpress}set appendClassWhenInViewPort(t){t!==this._appendClassWhenInViewPort&&(this._appendClassWhenInViewPort=t,this.setAttribute("appendClassWhenInViewPort",t.toString()))}get appendClassWhenInViewport(){return this._appendClassWhenInViewPort}static getMeasurementUnitFromSizeValue(t){const e=new RegExp("^(?:[0-9]+)(\\w*|%)$");let i="px";if(!c.default.isNil(t)){const s=t.match(e);null!==s&&d.isNotNil(s[1])&&(i=s[1])}return i}static extractMeasurementNumber(t){const e=new RegExp("^-?\\d+\\.?\\d*");let i=0;if(null!=t){const s=t.match(e);null!==s&&void 0!==s[0]&&(i=Number(s[0]))}return i}static getMeasurementPxNumber(t){return"px"!==d.getMeasurementUnitFromSizeValue(t)?d.convertAltUnitsToPx(t):Math.round(d.extractMeasurementNumber(t))}static convertAltUnitsToPx(t){const e=d.getMeasurementUnitFromSizeValue(t),i=parseFloat(t);let s=i;switch(e){case"vh":s=d.convertVhUnitsToPx(i);break;case"vw":s=d.convertVwUnitsToPx(i)}return Math.round(s)}static convertPxUnitToAlt(t,e){let i=t;switch(e){case"vw":i=d.convertPxUnitToVw(t);break;case"vh":i=d.convertPxUnitToVh(t)}return Math.ceil(i)}static convertVhUnitsToPx(t){return t*(window.innerHeight||document.documentElement.clientHeight)/100}static convertVwUnitsToPx(t){return t*(window.innerWidth||document.documentElement.clientWidth)/100}static convertPxUnitToVh(t){return t/(window.innerHeight||document.documentElement.clientHeight)*100}static convertPxUnitToVw(t){return t/(window.innerWidth||document.documentElement.clientWidth)*100}static handlingTextTransformValue(t,e){let i=t;if(null==t)return"";switch(e){case"capitalize":i=i.replace(/\b\w/g,t=>t.toUpperCase());break;case"uppercase":i=i.toUpperCase();break;case"lowercase":i=i.toLowerCase();break;default:i=i}return i}static processUri(t){let e="";return n.Ch5Platform.getInstance().registerUpdateCallback(i=>{if(t.protocol)return;const{http:s,https:n}=i.capabilities.supportCredentialIntercept,r={http:s,https:n};if(!s&&!n)return;t.protocol=n||s;const a=new l.Ch5ImageUriModel(r,t.user,t.password,t.url);a.isValidAuthenticationUri()&&(e=a.toString())}),e}static isNil(t,e=!0){return!0===e?c.default.isNil(t)||""===t||""===t.toString().trim():c.default.isNil(t)||""===t}static isNotNil(t,e=!0){return!d.isNil(t,e)}_t(t){let e=t;const i=n.Ch5TranslationUtility.getInstance(),s=i.valuesToTranslation(t);return s&&s.length>0&&s.forEach(t=>{if(i.isTranslationIdentifier(t)){const s=i.stripDownTranslationCharacters(t);if(i.getTranslator().exists(s)){const n=i.getTranslator().t(s);e=e.replace(t,n)}}}),e}resolveTemplateChildren(t){t&&!d.isNil(t.content)&&0===t.content.childElementCount&&t.children.length>0&&Array.from(t.children).forEach(e=>{t.content.appendChild(e)})}_getTranslatedValue(t,e){const i=n.Ch5TranslationUtility.getInstance();let s=e,r=e,a=this.translatableObjects[t];a===e&&(s=a);if(!i.isTranslationIdentifier(s))return e;if(void 0===a)a=e,r=this._t(e);else{i.isTranslationIdentifier(a)?(this._t(a)!==e&&i.hasMultipleIdentifiers(a)&&(a=e),r=this._t(a)):(a!==e&&(a=e),r=this._t(e))}return this.translatableObjects[t]=a,r}static get observedAttributes(){return["customclass","customstyle","show","noshowtype","disabled","gestureable","receivestatecustomclass","receivestatecustomstyle","receivestateshow","receivestateshowpulse","receivestatehidepulse","receivestateenable","sendeventonshow","debug","trace","dir","appendclasswheninviewport"]}getCrId(){return this._crId}info(t,...e){this.logger.info(t,e)}error(t,...e){this.logger.error(t,e)}isDebug(){return this._isDebugEnabled}isTrace(){return this._isTraceEnabled}attributeChangedCallback(t,e,i){if(e!==i&&!this.ignoreAttributes.includes(t.toLowerCase()))switch(this.logger.log('ch5-common attributeChangedCallback("'+t+'","'+e+'","'+i+')"'),t){case"customclass":this.logger.log("CustomClass Set in Common"),this.hasAttribute("customclass")?this.customClass=this.getAttribute("customclass"):this.customClass="",this.updateForChangeInCustomCssClass();break;case"customstyle":this.hasAttribute("customstyle")?this.customStyle=this.getAttribute("customstyle"):this.customStyle="",this.updateForChangeInStyleCss();break;case"show":this.show=i;break;case"noshowtype":this.updateForChangeInShowStatus();break;case"receivestatecustomclass":this.hasAttribute("receivestatecustomclass")?this.receiveStateCustomClass=this.getAttribute("receivestatecustomclass"):(this.clearStringSignalSubscription(this._receiveStateCustomClass,this._subKeySigReceiveCustomClass),this._receiveStateCustomClass="");break;case"receivestatecustomstyle":this.hasAttribute("receivestatecustomstyle")?this.receiveStateCustomStyle=this.getAttribute("receivestatecustomstyle"):(this.clearStringSignalSubscription(this._receiveStateCustomStyle,this._subKeySigReceiveCustomStyle),this._receiveStateCustomStyle="");break;case"receivestateshow":this.hasAttribute("receivestateshow")?this.receiveStateShow=this.getAttribute("receivestateshow"):(this.clearBooleanSignalSubscription(this._receiveStateShow,this._subKeySigReceiveShow),this._sigNameSendOnShow="");break;case"receivestateshowpulse":this.hasAttribute("receivestateshowpulse")?this.receiveStateShowPulse=this.getAttribute("receivestateshowpulse"):(this.clearBooleanSignalSubscription(this._receiveStateShowPulse,this._subKeySigReceiveShowPulse),this._receiveStateShowPulse="");break;case"receivestatehidepulse":this.hasAttribute("receivestatehidepulse")?this.receiveStateHidePulse=this.getAttribute("receivestatehidepulse"):(this.clearBooleanSignalSubscription(this._receiveStateHidePulse,this._subKeySigReceiveHidePulse),this._receiveStateHidePulse="");break;case"receivestateenable":this.hasAttribute("receivestateenable")?this.receiveStateEnable=this.getAttribute("receivestateenable"):(this.clearBooleanSignalSubscription(this._receiveStateEnable,this._subKeySigReceiveEnable),this._receiveStateEnable="");break;case"sendeventonshow":this.hasAttribute("sendeventonshow")?this.sigNameSendOnShow=this.getAttribute("sendeventonshow"):(this._sigSendOnShow=null,this._sigNameSendOnShow="");break;case"disabled":this.hasAttribute("customclassdisabled")||(this.disabled=i);break;case"gestureable":this.hasAttribute("gestureable")?this.gestureable=this.toBoolean(i):this.gestureable=!1;break;case"debug":this.hasAttribute("debug")?this._isDebugEnabled=!0:this._isDebugEnabled=!1,this.logger.isDebugEnabled=this._isDebugEnabled;break;case"trace":let t=!1;t=!!this.hasAttribute("trace"),this.logger.isTraceEnabled=t;break;case"dir":const e=this.getAttribute("dir")||"";e!==this.dir&&(this.dir=e);break;case"appendclasswheninviewport":this.hasAttribute("appendclasswheninviewport")&&(this.appendClassWhenInViewPort=this.getAttribute("appendClassWhenInViewport"))}}cacheComponentChildrens(){this.childrenOfCurrentNode=Array.from(this.children).filter(t=>t.isConnected)}repaint(){try{const t=this.parentNode;if(this._wasInstatiated=!1,!0===this.hasChildNodes()){for(let t=this.childNodes.length;t--;){let e=!0;this.childrenOfCurrentNode&&this.childrenOfCurrentNode.length>0&&Array.from(this.childrenOfCurrentNode).filter(i=>{null!==i&&Object.is(i,this.childNodes[t])&&(e=!1)}),!0===e&&this.removeChild(this.childNodes[t])}const e=document.createElement("div");null!==t&&(t.insertBefore(e,this.nextSibling),this.remove(),e.parentNode.insertBefore(this,e.nextSibling),e.remove())}}catch(t){console.log("Error encountered during repaint  crId: "+this.getCrId()+" error ",t)}}updateCssClasses(t){this.logger.log("from common - updateCssClasses()")}updateForChangeInCustomCssClass(){const t=this.getTargetElementForCssClassesAndStyle();this.logger.start("updateForChangeInCustomCssClass()"),this.logger.log("updateForChangeInCustomCssClass()",this._prevAddedCustomClasses),this.logger.log("from common - updateForChangeInCustomCssClass()",this.customClass),this._prevAddedCustomClasses.forEach(e=>{""!==e&&t.classList.remove(e)}),this._prevAddedCustomClasses=[],this.customClass.split(" ").forEach(e=>{""!==e&&(this._prevAddedCustomClasses.push(e),t.classList.add(e))}),this.logger.stop()}updateForChangeInStyleCss(){const t=this.getTargetElementForCssClassesAndStyle();this.logger.log("from common - updateForChangeInStyleCss()"),t.style.cssText=this.customStyle}updateForChangeInShowStatusOld(){const t=this;this.logger.log("from common - updateForChangeInShowStatus()"),!1===this._show?this.handleHide(t):this.handleShow(t)}updateForChangeInShowStatus(){const t=this;this.logger.log("from common - updateForChangeInShowStatus()"),this.hasAttribute("noshowtype")?this.noshowType=this.getAttribute("noshowtype"):this.noshowType="display",!1===this._show?this.handleHide(t):this.handleShow(t)}handleHide(t){switch(this.beforeHandlingHide(),this.logger.log("handleHide"),this.sendShowSignal(!1),this._noshowType){case"visibility":t.classList.add(this._cssClassHideVisibility),t.classList.remove(this._cssClassHideDisplay);break;case"display":t.classList.add(this._cssClassHideDisplay),t.classList.remove(this._cssClassHideVisibility);break;case"remove":t.classList.remove(this._cssClassHideDisplay),t.classList.remove(this._cssClassHideVisibility),null!==this.parentElement&&void 0!==this.parentElement&&(this._cachedParentEl=this.parentElement,this.logger.log(" removes element from DOM due to change in show signal, cached parent element"),null!==this.nextElementSibling&&void 0!==this.nextElementSibling&&(this._nextSiblingIndexInParentChildNodes=Array.from(this.parentElement.childNodes).findIndex(t=>t===this.nextElementSibling),this._cachedNextSibling=this.nextElementSibling,this.logger.log(" cached sibling element")),this._keepListeningOnSignalsAfterRemoval=!0,this._isDetachedFromDom=!0,this.parentElement.removeChild(this))}this.afterHandlingHide()}handleShow(t){if(this.beforeHandlingShow(),this.logger.log("handleShow"),t.classList.remove(this._cssClassHideDisplay),t.classList.remove(this._cssClassHideVisibility),null!==this._cachedParentEl&&void 0!==this._cachedParentEl){const t=this._cachedParentEl;if(this._cachedParentEl=null,null!==this._cachedNextSibling&&void 0!==this._cachedNextSibling&&t===this._cachedNextSibling.parentElement){const e=this._cachedNextSibling;this._cachedNextSibling=null,t.insertBefore(this,e),this.logger.log(" inserted element before cached sibling due to change in show signal"),this._keepListeningOnSignalsAfterRemoval=!1}else{if(this._nextSiblingIndexInParentChildNodes){const e=t.childNodes[this._nextSiblingIndexInParentChildNodes];t.insertBefore(this,e)}else t.appendChild(this);this.logger.log(" appended element to parent due to change in show signal"),this._keepListeningOnSignalsAfterRemoval=!1}this._isDetachedFromDom=!1}this.sendShowSignal(!0),this.afterHandlingShow()}beforeHandlingShow(){}afterHandlingShow(){}beforeHandlingHide(){}afterHandlingHide(){}updateForChangeInDisabledStatus(){const t=this.getTargetElementForCssClassesAndStyle();this.logger.log("from common - updateForChangeInDisabledStatus()"),!0===this._disabled?t.classList.add(this.getCssClassDisabled()):t.classList.remove(this.getCssClassDisabled())}getTargetElementForCssClassesAndStyle(){return this}initAttributes(){this.applyPreConfiguredAttributes(),this.hasAttribute("disabled")&&!this.hasAttribute("customclassdisabled")&&!1===this.ignoreAttributes.includes("disabled")&&(this.disabled=this.getAttribute("disabled")),this.hasAttribute("debug")&&!1===this.ignoreAttributes.includes("debug")&&(this._isDebugEnabled=!0),this.hasAttribute("show")&&!1===this.ignoreAttributes.includes("show")&&(this.show=this.getAttribute("show")),this.hasAttribute("customclass")&&!1===this.ignoreAttributes.includes("customclass")&&(this.customClass=this.getAttribute("customclass"),this.updateForChangeInCustomCssClass()),this.hasAttribute("customstyle")&&!1===this.ignoreAttributes.includes("customstyle")&&(this.customStyle=this.getAttribute("customstyle"),this.updateForChangeInStyleCss()),this.hasAttribute("noshowtype")&&!1===this.ignoreAttributes.includes("noshowtype")&&(this.noshowType=this.getAttribute("noshowtype")),this.hasAttribute("receivestatecustomclass")&&!1===this.ignoreAttributes.includes("receivestatecustomclass")&&(this.receiveStateCustomClass=this.getAttribute("receivestatecustomclass")),this.hasAttribute("receivestatecustomstyle")&&!1===this.ignoreAttributes.includes("receivestatecustomstyle")&&(this.receiveStateCustomStyle=this.getAttribute("receivestatecustomstyle")),this.hasAttribute("receivestateshow")&&!1===this.ignoreAttributes.includes("receivestateshow")&&(this.receiveStateShow=this.getAttribute("receivestateshow")),this.hasAttribute("receivestateshowpulse")&&!1===this.ignoreAttributes.includes("receivestateshowpulse")&&(this.receiveStateShowPulse=this.getAttribute("receivestateshowpulse")),this.hasAttribute("receivestatehidepulse")&&!1===this.ignoreAttributes.includes("receivestatehidepulse")&&(this.receiveStateHidePulse=this.getAttribute("receivestatehidepulse")),this.hasAttribute("receivestateenable")&&!1===this.ignoreAttributes.includes("receivestateenable")&&(this.receiveStateEnable=this.getAttribute("receivestateenable")),this.hasAttribute("sendeventonshow")&&!1===this.ignoreAttributes.includes("sendeventonshow")&&(this.sigNameSendOnShow=this.getAttribute("sendeventonshow")),this.hasAttribute("gestureable")&&!1===this.ignoreAttributes.includes("gestureable")&&(this.gestureable=this.toBoolean(this.getAttribute("gestureable"))),this.dir=this.getAttribute("dir")||d.DIRECTION[0],this.hasAttribute("appendclasswheninviewport")&&!1===this.ignoreAttributes.includes("appendclasswheninviewport")&&(this.appendClassWhenInViewPort=this.getAttribute("appendclasswheninviewport"),(0,n.subscribeInViewPortChange)(this,t=>{this.updateElementVisibility(t),this.updateInViewPortClass()}))}attachEventListeners(){}removeEventListeners(){}_checkAndSetStringValue(t,e=""){return d.isNil(t)&&(t=e),t}clearStringSignalSubscription(t,e){let i=null;if(t){const e=n.Ch5Signal.getSubscriptionSignalName(t);i=n.Ch5SignalFactory.getInstance().getStringSignal(e)}null!==i&&""!==e&&i.unsubscribe(e)}clearBooleanSignalSubscription(t,e){let i=null;if(t){const e=n.Ch5Signal.getSubscriptionSignalName(t);i=n.Ch5SignalFactory.getInstance().getBooleanSignal(e)}null!==i&&""!==e&&i.unsubscribe(e)}clearNumberSignalSubscription(t,e){let i=null;if(d.isNotNil(t)){const e=n.Ch5Signal.getSubscriptionSignalName(t);i=n.Ch5SignalFactory.getInstance().getNumberSignal(e)}null!==i&&""!==e&&i.unsubscribe(e)}sendShowSignal(t){if(this.logger.log("sendShowSignal "+t+" "+this._sigNameSendOnShow),""!==this._sigNameSendOnShow){const e=n.Ch5SignalFactory.getInstance().getBooleanSignal(this._sigNameSendOnShow);null!==e&&e.publish(t)}}attributeChangeHandler(t,e,i){let s="";return this.hasAttribute(t)&&(s=e!==i?i:e),s}applyPreConfiguredAttributes(){const t=a.Ch5Config.getAttributesForElement(this);for(const e in t)t.hasOwnProperty(e)&&(this.hasAttribute(e)||this.setAttribute(e,t[e]))}_attributeValueAsString(t){let e="";return t=t.toLowerCase(),this.hasAttribute(t)&&(e=""+this.getAttribute(t)),e}contentCleanUp(){if(this.children.length){Array.from(this.children).forEach(t=>"TEMPLATE"!==t.nodeName&&t.remove())}}getCssClassDisabled(){return"ch5-disabled"}unsubscribeFromSignals(){!1===this._keepListeningOnSignalsAfterRemoval&&(this.clearBooleanSignalSubscription(this._receiveStateEnable,this._subKeySigReceiveEnable),this._receiveStateEnable="",this.clearBooleanSignalSubscription(this._receiveStateShow,this._subKeySigReceiveShow),this._receiveStateShow="",this.clearBooleanSignalSubscription(this._receiveStateShowPulse,this._subKeySigReceiveShowPulse),this._receiveStateShowPulse="",this.clearBooleanSignalSubscription(this._receiveStateHidePulse,this._subKeySigReceiveHidePulse),this._receiveStateHidePulse="",this.clearStringSignalSubscription(this._receiveStateCustomStyle,this._subKeySigReceiveCustomStyle),this._receiveStateCustomStyle="",this.clearStringSignalSubscription(this._receiveStateCustomClass,this._subKeySigReceiveCustomClass),this._receiveStateCustomClass="")}toBoolean(t,e=!1){switch(String(t).toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1;case"":case null:case void 0:case"null":case"undefined":return!0===e;default:return!1}}translateCallback(t){}componentLoadedEvent(t,e){(0,n.publishEvent)("object",t,{loaded:!0,id:e})}updateInViewPortClass(){const t=this.getTargetElementForCssClassesAndStyle();this.logger.log("from common - updateInViewPortClass()"),""!==this._appendClassWhenInViewPort&&(this.elementIsInViewPort?t.classList.add(this._appendClassWhenInViewPort):t.classList.remove(this._appendClassWhenInViewPort))}updateElementVisibility(t){this.elementIsVisible=t}initCommonMutationObserver(t){this._commonMutationObserver=new o.Ch5MutationObserver(this),this._commonMutationObserver.isConnected=!0;let e=t;for(;o.Ch5MutationObserver.checkElementValidity(e);)this._commonMutationObserver.observe(e),e=e.parentNode}updateElementVisibilityInViewport(t){this.elementIsInViewPort=t,this.updateInViewPortClass()}disconnectCommonMutationObserver(){d.isNil(this._commonMutationObserver)||(0,h.default)(this._commonMutationObserver)||this._commonMutationObserver.disconnectObserver()}checkIfValueIsTruey(t=""){return!!t&&t.length>0&&"false"!==t&&"0"!==t&&null!==t}convertAnalogValueBasedOnSignalResponse(t){let e=t;return e>32767?(e=e>65535?65535:e,e-=65536):e<-32768&&(e=e>-65535?e:-65535,e+=65536),e}setAttributeAndProperty(t,e,i=!1){this.logger.log("setAttributeAndProperty: "+t.attributeName+' - "'+e+'"');const s=t.attributeName.toLowerCase(),n=t.componentReference;if("boolean"===t.type){let r=!1;if(typeof e===t.type)r=e;else if(this.hasAttribute(s)){let i=e;[!0,!1,"true","false","0","1",0,1,"",null].indexOf(i)<0&&(i=t.default),r=this.toBoolean(i,t.valueOnAttributeEmpty)}else r=t.default;n[t.propertyName]===r&&!0!==i&&!0===n[t.variableName+"Initialized"]&&String(e)===String(r)||(n[t.variableName]=r,n[t.variableName+"Initialized"]=!0,t.enumeratedValues&&t.enumeratedValues.length>0&&t.enumeratedValues.indexOf(String(n.getAttribute(e)))<0&&!0===t.removeAttributeOnNull?this.hasAttribute(s)||!0===i?n.setAttribute(s,r.toString()):n.removeAttribute(s):n.setAttribute(s,r.toString()),c.default.isNil(t.callback)||t.callback())}else"enum"===t.type?n[s]!==e&&(t.enumeratedValues.indexOf(e)>=0?(n.setAttribute(s,String(e)),n[t.variableName]=String(e)):c.default.isNil(t.default)?(n.removeAttribute(s),n[t.variableName]=String(t.default)):(n.setAttribute(s,String(t.default)),n[t.variableName]=String(t.default)),c.default.isNil(t.callback)||t.callback()):"string"===t.type&&n[s]!==e&&(c.default.isNil(e)||""===String(e).trim()?(n.removeAttribute(s),n[t.variableName]=String(t.default)):(n.setAttribute(s,String(e)),n[t.variableName]=String(e)),c.default.isNil(t.callback)||t.callback())}}e.Ch5Common=d,d.DIRECTION=["ltr","rtl"],d.SIGNAL_ATTRIBUTE_TYPES={receivestatecustomclass:{direction:"state",stringJoin:1,contractName:!0},receivestatecustomstyle:{direction:"state",stringJoin:1,contractName:!0},receivestateshow:{direction:"state",booleanJoin:1,contractName:!0},receivestateshowpulse:{direction:"state",booleanJoin:1,contractName:!0},receivestatehidepulse:{direction:"state",booleanJoin:1,contractName:!0},receivestateenable:{direction:"state",booleanJoin:1,contractName:!0},sendeventonshow:{direction:"event",booleanJoin:1,contractName:!0}}},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Properties=void 0;const n=s(i(0)),r=i(158),a=i(7),o=i(8);e.Ch5Properties=class{constructor(t,e){this.ch5Component=t,this.propertiesObject=e,this._properties=[];for(let i=0;i<e.length;i++){const s=new r.Ch5Property(t,e[i]);this._properties.push(s)}}unsubscribe(){const t=a.Ch5SignalFactory.getInstance();for(const e of this._properties){if(""!==e.signalState&&""!==e.signalValue){const i=o.Ch5Signal.getSubscriptionSignalName(e.signalValue);if("string"===e.signalType){const s=t.getStringSignal(i);null!==s&&(s.unsubscribe(e.signalState),e.signalValue="",e.signalState="")}else if("number"===e.signalType){const s=t.getNumberSignal(i);null!==s&&(s.unsubscribe(e.signalState),e.signalValue="",e.signalState="")}else if("boolean"===e.signalType){const s=t.getBooleanSignal(i);null!==s&&(s.unsubscribe(e.signalState),e.signalValue="",e.signalState="")}}e.clearProperty()}}get(t){var e;return null===(e=this.getPropertyByName(t))||void 0===e?void 0:e.value}set(t,e,i,s){const r=this.getPropertyByName(t);r&&(n.default.isNil(r.property.nameForSignal)||""===r.property.nameForSignal||!1===this.isAttributeAvailableInComponent(r.property.nameForSignal))&&r.setValue(e,i,s)}setForSignalResponse(t,e,i,s){const n=this.getPropertyByName(t);n&&n.setValueFromSignal(e,i,s)}isAttributeAvailableInComponent(t){var e;return this.ch5Component.hasAttribute(t)&&""!==(null===(e=this.ch5Component.getAttribute(t))||void 0===e?void 0:e.trim())}getPropertyByName(t){const e=this._properties.find(e=>e.name===t);return e||null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5RoleAttributeMapping=void 0;class s{}e.Ch5RoleAttributeMapping=s,s.ch5Animation="animation",s.ch5Background="region",s.ch5Button="button",s.ch5ButtonLabel="label",s.ch5ButtonMode="template",s.ch5ButtonModeState="template",s.ch5ButtonList="button-list",s.ch5ButtonListMode="template",s.ch5ButtonListModeState="template",s.ch5ButtonListLabel="label",s.ch5ButtonListIndividualButton="template",s.ch5ColorChip="color-chip",s.ch5ColorPicker="color-picker",s.ch5Dpad="dpad",s.ch5DateTime="datetime",s.ch5DpadChild="dpad-child",s.ch5Keypad="keypad",s.ch5KeypadChild="keypad-child",s.ch5Label="label",s.ch5List="list",s.ch5Form="form",s.ch5Image="img",s.ch5ImportHtmlSnippet="template",s.ch5ModalDialog="dialog",s.ch5OverlayPanel="dialog",s.ch5SegmentedGauge="segmented-gauge",s.ch5SignalLevelGauge="signal-level-gauge",s.ch5Select="listbox",s.ch5SelectOption="option",s.ch5Slider="slider",s.ch5SliderButton="slider-button",s.ch5Spinner="listbox",s.ch5SubpageReferenceList="subpage-reference-list",s.ch5TabButton="tab-button",s.ch5TabButtonIndividualButton="template",s.ch5Text="label",s.ch5TextInput="textbox",s.ch5Toggle="switch",s.ch5TriggerView="listbox",s.ch5TriggerViewChild="listbox",s.ch5Template="template",s.ch5Video="video",s.ch5WifiSignalLevelGauge="wifi-signal-level-gauge"},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(5),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5SignalFactory=void 0;const s=i(8);class n{constructor(){this._signals={boolean:{},number:{},string:{},object:{}}}static getInstance(){return void 0===n._instance&&(n._instance=new n),n._instance}static clear(){void 0!==n._instance&&(n._instance._signals=void 0,n._instance=void 0)}clearSignals(t){this._signals&&(this._signals=t?{boolean:{},number:{},string:{},object:this._signals.object}:{boolean:{},number:{},string:{},object:{}})}getStates(){return this._signals}getBooleanSignal(t,e=!0){return this.getState(t,!1,e)}getObjectAsBooleanSignal(t,e=!0){return this.getState(t,!1,e)}getNumberSignal(t,e=!0){return this.getState(t,0,e)}getStringSignal(t,e=!0){return this.getState(t,"",e)}getObjectSignal(t,e=!0){return this.getState(t,{},e)}getState(t,e,i=!0){if(void 0===t||void 0===this._signals)return null;const n=typeof e;if(void 0===this._signals[n])return null;if(void 0===this._signals[n][t]){if(!i)return null;const r=new s.Ch5Signal(t,e);return this._signals[n][t]=r,r}{const i=this._signals[n][t];return i.type===typeof e?i:null}}}e.Ch5SignalFactory=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Signal=void 0;const s=i(51),n=i(52),r=i(56),a=i(1),o=i(58),l=i(57);class h{constructor(t,e){this._hasChangedSinceInit=!1,this._receivedFromSignalBridge=!1,this._name=t,this._uninitializedValue=this.uninitializedCreate(e),this._subject=new n.Ch5SignalBehaviorSubject(this._uninitializedValue,this._uninitializedValue),this._lastSubId=0,this._subscriptions={},this._signalBridge=new s.Ch5SignalBridge,this._ch5Resync=r.Ch5Resync.Instance,h._resetEventsInitialization(),this.subscribeToStates()}static isIntegerSignalName(t){const e=parseInt(t,10);return!isNaN(e)&&e.toString()===t}static getJoinNumberSignalName(t){return l.Ch5ResyncConstants.JOIN_NUMBER_SIGNAL_NAME_PREFIX+t}static getSubscriptionSignalName(t){return h.isIntegerSignalName(t)?h.getJoinNumberSignalName(t):t}static _resetEventsInitialization(){if(h._resetEventsInitialized)return;h._resetEventsInitialized=!0;const t=r.Ch5Resync.Instance;(0,a.subscribeState)("object","Csig.State_Synchronization",e=>{if(h._initialSubscriptionToResyncEvents)h._initialSubscriptionToResyncEvents=!1;else if(e.state===o.ResetEventNames.startOfUpdate){if(void 0===e.value||void 0===e.value.excludePrefixes)throw new Error("Invalid resyncRequest object");{const i={excludePrefixes:e.value.excludePrefixes};t.onReceiveStartOfUpdate(i)}}else if(e.state===o.ResetEventNames.startOfUpdateRange||e.state===o.ResetEventNames.startOfUpdateRangeSO){if(void 0===e.value||void 0===e.value.range||void 0===e.value.excludePrefixes)throw new Error("Invalid resyncRequest object");t.onReceiveStartOfUpdateRange(e.state,e.value.range,e.value.excludePrefixes)}else e.state===o.ResetEventNames.endOfUpdate&&t.onReceiveEndOfUpdate()})}subscribeToStates(){this._subscriptions.stateSubscription=this._subject.subscribe(()=>{this._ch5Resync.onReceiveUpdatedState(this._name,this.value,this.type)})}uninitializedCreate(t){switch(typeof t){case"boolean":return!1;case"number":return 0;case"string":return"";case"object":default:return{}}}get name(){return this._name}get type(){return typeof this._uninitializedValue}get value(){return this._subject.value}get prevValue(){return this._subject.prevValue}hasChangedSinceInit(){return this._hasChangedSinceInit}get receivedFromSignalBridge(){return this._receivedFromSignalBridge}publish(t){this._hasChangedSinceInit=!0,this._subject.next(t),this._signalBridge.publish(this._name,t)}fromSignalBridge(t){this._receivedFromSignalBridge=!0,this._hasChangedSinceInit=!0,this._subject.getValue()!==t?this._subject.next(t):this._ch5Resync.onReceiveUpdatedState(this._name,this.value,this.type)}subscribe(t,e){this._lastSubId++;const i=this._name+"-"+("00000"+this._lastSubId).slice(-5);let s;return s=null!=e?this._subject.subscribe(t,e):this._subject.subscribe(t),this._subscriptions[i]=s,1===Object.keys(this._subscriptions).length&&this._signalBridge.subscribe(this._name,typeof this._uninitializedValue),i}unsubscribe(t){const e=this._subscriptions[t];void 0!==e&&(e.unsubscribe(),delete this._subscriptions[t],1===Object.keys(this._subscriptions).length&&this._signalBridge.unsubscribe(this._name,typeof this._uninitializedValue))}}e.Ch5Signal=h,h._resetEventsInitialized=!1,h._initialSubscriptionToResyncEvents=!0},function(t,e,i){"use strict";var s=i(104),n=Object.prototype.toString;function r(t){return"[object Array]"===n.call(t)}function a(t){return void 0===t}function o(t){return null!==t&&"object"==typeof t}function l(t){if("[object Object]"!==n.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function h(t){return"[object Function]"===n.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),r(t))for(var i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}t.exports={isArray:r,isArrayBuffer:function(t){return"[object ArrayBuffer]"===n.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:o,isPlainObject:l,isUndefined:a,isDate:function(t){return"[object Date]"===n.call(t)},isFile:function(t){return"[object File]"===n.call(t)},isBlob:function(t){return"[object Blob]"===n.call(t)},isFunction:h,isStream:function(t){return o(t)&&h(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function t(){var e={};function i(i,s){l(e[s])&&l(i)?e[s]=t(e[s],i):l(i)?e[s]=t({},i):r(i)?e[s]=i.slice():e[s]=i}for(var s=0,n=arguments.length;s<n;s++)u(arguments[s],i);return e},extend:function(t,e,i){return u(e,(function(e,n){t[n]=i&&"function"==typeof e?s(e,i):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5AttrsLog=void 0;e.Ch5AttrsLog=class{static info(t,e,...i){const s=(new Date).toISOString();t&&console.info(s,"Ch5CustomAttributes",":",e,i)}}},function(t,e){t.exports=function(t){return null==t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Log=void 0;const s=i(1),n=i(72);class r extends HTMLElement{constructor(){super(),this._id="",this._crId="",this._crId=s.Ch5Uid.getUid(),this.logger=new n.Ch5CommonLog(!1,!1,this._crId)}static get observedAttributes(){return["debug","trace"]}getCrId(){return this._crId}info(t,...e){this.logger.info(t,e)}attributeChangedCallback(t,e,i){if(e!==i)switch(this.info('ch5-common attributeChangedCallback("'+t+'","'+e+'","'+i+')"'),t){case"debug":this.hasAttribute("debug")&&!0===this.toBoolean(this.getAttribute("debug"),!0)?this.logger.isDebugEnabled=!0:this.logger.isDebugEnabled=!1;break;case"trace":this.hasAttribute("trace")&&!0===this.toBoolean(this.getAttribute("trace"),!0)?this.logger.isTraceEnabled=!0:this.logger.isTraceEnabled=!1}}initAttributes(){this.hasAttribute("debug")&&!0===this.toBoolean(this.getAttribute("debug"),!0)?this.logger.isDebugEnabled=!0:this.logger.isDebugEnabled=!1,this.hasAttribute("trace")&&!0===this.toBoolean(this.getAttribute("trace"),!0)?this.logger.isTraceEnabled=!0:this.logger.isTraceEnabled=!1}toBoolean(t,e=!1){switch(String(t).toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1;case"":case null:case void 0:case"null":case"undefined":return!0===e;default:return!1}}}e.Ch5Log=r},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(177),e),n(i(178),e),n(i(179),e),n(i(180),e),n(i(181),e),n(i(182),e),n(i(183),e),n(i(184),e),n(i(185),e),n(i(186),e),n(i(187),e),n(i(188),e),n(i(189),e),n(i(190),e)},function(t,e,i){"use strict";i.r(e),i.d(e,"Observable",(function(){return U})),i.d(e,"ConnectableObservable",(function(){return X})),i.d(e,"observable",(function(){return H})),i.d(e,"animationFrames",(function(){return q})),i.d(e,"Subject",(function(){return it})),i.d(e,"BehaviorSubject",(function(){return nt})),i.d(e,"ReplaySubject",(function(){return at})),i.d(e,"AsyncSubject",(function(){return ot})),i.d(e,"asap",(function(){return Ct})),i.d(e,"asapScheduler",(function(){return St})),i.d(e,"async",(function(){return yt})),i.d(e,"asyncScheduler",(function(){return Et})),i.d(e,"queue",(function(){return Ot})),i.d(e,"queueScheduler",(function(){return At})),i.d(e,"animationFrame",(function(){return Pt})),i.d(e,"animationFrameScheduler",(function(){return wt})),i.d(e,"VirtualTimeScheduler",(function(){return Nt})),i.d(e,"VirtualAction",(function(){return Lt})),i.d(e,"Scheduler",(function(){return vt})),i.d(e,"Subscription",(function(){return f})),i.d(e,"Subscriber",(function(){return P})),i.d(e,"Notification",(function(){return ae})),i.d(e,"NotificationKind",(function(){return Wt})),i.d(e,"pipe",(function(){return F})),i.d(e,"noop",(function(){return T})),i.d(e,"identity",(function(){return V})),i.d(e,"isObservable",(function(){return le})),i.d(e,"lastValueFrom",(function(){return ue})),i.d(e,"firstValueFrom",(function(){return ce})),i.d(e,"ArgumentOutOfRangeError",(function(){return de})),i.d(e,"EmptyError",(function(){return he})),i.d(e,"NotFoundError",(function(){return pe})),i.d(e,"ObjectUnsubscribedError",(function(){return et})),i.d(e,"SequenceError",(function(){return ge})),i.d(e,"TimeoutError",(function(){return be})),i.d(e,"UnsubscriptionError",(function(){return m})),i.d(e,"bindCallback",(function(){return ye})),i.d(e,"bindNodeCallback",(function(){return Te})),i.d(e,"combineLatest",(function(){return Le})),i.d(e,"concat",(function(){return Ve})),i.d(e,"connectable",(function(){return Ue})),i.d(e,"defer",(function(){return Fe})),i.d(e,"empty",(function(){return Rt})),i.d(e,"forkJoin",(function(){return je})),i.d(e,"from",(function(){return se})),i.d(e,"fromEvent",(function(){return $e})),i.d(e,"fromEventPattern",(function(){return Xe})),i.d(e,"generate",(function(){return Je})),i.d(e,"iif",(function(){return Ke})),i.d(e,"interval",(function(){return Ze})),i.d(e,"merge",(function(){return Qe})),i.d(e,"never",(function(){return ei})),i.d(e,"of",(function(){return ne})),i.d(e,"onErrorResumeNext",(function(){return ri})),i.d(e,"pairs",(function(){return ai})),i.d(e,"partition",(function(){return hi})),i.d(e,"race",(function(){return ui})),i.d(e,"range",(function(){return di})),i.d(e,"throwError",(function(){return re})),i.d(e,"timer",(function(){return qe})),i.d(e,"using",(function(){return pi})),i.d(e,"zip",(function(){return gi})),i.d(e,"scheduled",(function(){return ie})),i.d(e,"EMPTY",(function(){return Mt})),i.d(e,"NEVER",(function(){return ti})),i.d(e,"config",(function(){return C})),i.d(e,"audit",(function(){return mi})),i.d(e,"auditTime",(function(){return bi})),i.d(e,"buffer",(function(){return fi})),i.d(e,"bufferCount",(function(){return vi})),i.d(e,"bufferTime",(function(){return _i})),i.d(e,"bufferToggle",(function(){return Si})),i.d(e,"bufferWhen",(function(){return Ci})),i.d(e,"catchError",(function(){return Ei})),i.d(e,"combineAll",(function(){return Pi})),i.d(e,"combineLatestAll",(function(){return wi})),i.d(e,"combineLatestWith",(function(){return Li})),i.d(e,"concatAll",(function(){return He})),i.d(e,"concatMap",(function(){return Mi})),i.d(e,"concatMapTo",(function(){return Ri})),i.d(e,"concatWith",(function(){return ki})),i.d(e,"connect",(function(){return Hi})),i.d(e,"count",(function(){return Vi})),i.d(e,"debounce",(function(){return Fi})),i.d(e,"debounceTime",(function(){return Di})),i.d(e,"defaultIfEmpty",(function(){return Ui})),i.d(e,"delay",(function(){return $i})),i.d(e,"delayWhen",(function(){return Yi})),i.d(e,"dematerialize",(function(){return Gi})),i.d(e,"distinct",(function(){return Xi})),i.d(e,"distinctUntilChanged",(function(){return Ji})),i.d(e,"distinctUntilKeyChanged",(function(){return qi})),i.d(e,"elementAt",(function(){return ts})),i.d(e,"endWith",(function(){return es})),i.d(e,"every",(function(){return is})),i.d(e,"exhaust",(function(){return ns})),i.d(e,"exhaustAll",(function(){return ss})),i.d(e,"exhaustMap",(function(){return rs})),i.d(e,"expand",(function(){return as})),i.d(e,"filter",(function(){return li})),i.d(e,"finalize",(function(){return os})),i.d(e,"find",(function(){return ls})),i.d(e,"findIndex",(function(){return us})),i.d(e,"first",(function(){return cs})),i.d(e,"groupBy",(function(){return ds})),i.d(e,"ignoreElements",(function(){return zi})),i.d(e,"isEmpty",(function(){return ps})),i.d(e,"last",(function(){return ms})),i.d(e,"map",(function(){return _e})),i.d(e,"mapTo",(function(){return Wi})),i.d(e,"materialize",(function(){return bs})),i.d(e,"max",(function(){return fs})),i.d(e,"mergeAll",(function(){return Be})),i.d(e,"flatMap",(function(){return vs})),i.d(e,"mergeMap",(function(){return ke})),i.d(e,"mergeMapTo",(function(){return _s})),i.d(e,"mergeScan",(function(){return Ss})),i.d(e,"mergeWith",(function(){return Es})),i.d(e,"min",(function(){return ys})),i.d(e,"multicast",(function(){return Ts})),i.d(e,"observeOn",(function(){return Zt})),i.d(e,"pairwise",(function(){return As})),i.d(e,"pluck",(function(){return Os})),i.d(e,"publish",(function(){return Is})),i.d(e,"publishBehavior",(function(){return ws})),i.d(e,"publishLast",(function(){return Ps})),i.d(e,"publishReplay",(function(){return Ns})),i.d(e,"raceWith",(function(){return Ls})),i.d(e,"reduce",(function(){return Ti})),i.d(e,"repeat",(function(){return Ms})),i.d(e,"repeatWhen",(function(){return Rs})),i.d(e,"retry",(function(){return xs})),i.d(e,"retryWhen",(function(){return ks})),i.d(e,"refCount",(function(){return G})),i.d(e,"sample",(function(){return Bs})),i.d(e,"sampleTime",(function(){return Hs})),i.d(e,"scan",(function(){return Vs})),i.d(e,"sequenceEqual",(function(){return Fs})),i.d(e,"share",(function(){return Ds})),i.d(e,"shareReplay",(function(){return js})),i.d(e,"single",(function(){return zs})),i.d(e,"skip",(function(){return Ws})),i.d(e,"skipLast",(function(){return Ys})),i.d(e,"skipUntil",(function(){return $s})),i.d(e,"skipWhile",(function(){return Gs})),i.d(e,"startWith",(function(){return Xs})),i.d(e,"subscribeOn",(function(){return Qt})),i.d(e,"switchAll",(function(){return Ks})),i.d(e,"switchMap",(function(){return Js})),i.d(e,"switchMapTo",(function(){return qs})),i.d(e,"switchScan",(function(){return Zs})),i.d(e,"take",(function(){return ji})),i.d(e,"takeLast",(function(){return gs})),i.d(e,"takeUntil",(function(){return Qs})),i.d(e,"takeWhile",(function(){return tn})),i.d(e,"tap",(function(){return en})),i.d(e,"throttle",(function(){return nn})),i.d(e,"throttleTime",(function(){return rn})),i.d(e,"throwIfEmpty",(function(){return Zi})),i.d(e,"timeInterval",(function(){return an})),i.d(e,"timeout",(function(){return fe})),i.d(e,"timeoutWith",(function(){return ln})),i.d(e,"timestamp",(function(){return hn})),i.d(e,"toArray",(function(){return Oi})),i.d(e,"window",(function(){return un})),i.d(e,"windowCount",(function(){return cn})),i.d(e,"windowTime",(function(){return dn})),i.d(e,"windowToggle",(function(){return pn})),i.d(e,"windowWhen",(function(){return gn})),i.d(e,"withLatestFrom",(function(){return mn})),i.d(e,"zipAll",(function(){return bn})),i.d(e,"zipWith",(function(){return vn}));var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function r(t,e,i,s){return new(i||(i=Promise))((function(n,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))}function a(t,e){var i,s,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(n=2&r[0]?s.return:r[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,r[1])).done)return n;switch(s=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,s=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],s=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}Object.create;function o(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],s=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var s,n,r=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return a}function h(t,e,i){if(i||2===arguments.length)for(var s,n=0,r=e.length;n<r;n++)!s&&n in e||(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function u(t){return this instanceof u?(this.v=t,this):new u(t)}function c(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,n=i.apply(t,e||[]),r=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(t){n[t]&&(s[t]=function(e){return new Promise((function(i,s){r.push([t,e,i,s])>1||o(t,e)}))})}function o(t,e){try{(i=n[t](e)).value instanceof u?Promise.resolve(i.value.v).then(l,h):c(r[0][2],i)}catch(t){c(r[0][3],t)}var i}function l(t){o("next",t)}function h(t){o("throw",t)}function c(t,e){t(e),r.shift(),r.length&&o(r[0][0],r[0][1])}}function d(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=o(t),e={},s("next"),s("throw"),s("return"),e[Symbol.asyncIterator]=function(){return this},e);function s(i){e[i]=t[i]&&function(e){return new Promise((function(s,n){(function(t,e,i,s){Promise.resolve(s).then((function(e){t({value:e,done:i})}),e)})(s,n,(e=t[i](e)).done,e.value)}))}}}Object.create;function p(t){return"function"==typeof t}function g(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var m=g((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function b(t,e){if(t){var i=t.indexOf(e);0<=i&&t.splice(i,1)}}var f=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var t,e,i,s,n;if(!this.closed){this.closed=!0;var r=this._parentage;if(r)if(this._parentage=null,Array.isArray(r))try{for(var a=o(r),u=a.next();!u.done;u=a.next()){u.value.remove(this)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}else r.remove(this);var c=this.initialTeardown;if(p(c))try{c()}catch(t){n=t instanceof m?t.errors:[t]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var g=o(d),b=g.next();!b.done;b=g.next()){var f=b.value;try{S(f)}catch(t){n=null!=n?n:[],t instanceof m?n=h(h([],l(n)),l(t.errors)):n.push(t)}}}catch(t){i={error:t}}finally{try{b&&!b.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}}if(n)throw new m(n)}},t.prototype.add=function(e){var i;if(e&&e!==this)if(this.closed)S(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&b(e,t)},t.prototype.remove=function(e){var i=this._finalizers;i&&b(i,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),v=f.EMPTY;function _(t){return t instanceof f||t&&"closed"in t&&p(t.remove)&&p(t.add)&&p(t.unsubscribe)}function S(t){p(t)?t():t.unsubscribe()}var C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},E={setTimeout:function(t,e){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var n=E.delegate;return(null==n?void 0:n.setTimeout)?n.setTimeout.apply(n,h([t,e],l(i))):setTimeout.apply(void 0,h([t,e],l(i)))},clearTimeout:function(t){var e=E.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function y(t){E.setTimeout((function(){var e=C.onUnhandledError;if(!e)throw t;e(t)}))}function T(){}var A=O("C",void 0,void 0);function O(t,e,i){return{kind:t,value:e,error:i}}var I=null;function w(t){if(C.useDeprecatedSynchronousErrorHandling){var e=!I;if(e&&(I={errorThrown:!1,error:null}),t(),e){var i=I,s=i.errorThrown,n=i.error;if(I=null,s)throw n}}else t()}var P=function(t){function e(e){var i=t.call(this)||this;return i.isStopped=!1,e?(i.destination=e,_(e)&&e.add(i)):i.destination=B,i}return n(e,t),e.create=function(t,e,i){return new R(t,e,i)},e.prototype.next=function(t){this.isStopped?k(function(t){return O("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?k(O("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?k(A,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(f),N=Function.prototype.bind;function L(t,e){return N.call(t,e)}var M=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){x(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){x(t)}else x(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){x(t)}},t}(),R=function(t){function e(e,i,s){var n,r,a=t.call(this)||this;p(e)||!e?n={next:null!=e?e:void 0,error:null!=i?i:void 0,complete:null!=s?s:void 0}:a&&C.useDeprecatedNextContext?((r=Object.create(e)).unsubscribe=function(){return a.unsubscribe()},n={next:e.next&&L(e.next,r),error:e.error&&L(e.error,r),complete:e.complete&&L(e.complete,r)}):n=e;return a.destination=new M(n),a}return n(e,t),e}(P);function x(t){var e;C.useDeprecatedSynchronousErrorHandling?(e=t,C.useDeprecatedSynchronousErrorHandling&&I&&(I.errorThrown=!0,I.error=e)):y(t)}function k(t,e){var i=C.onStoppedNotification;i&&E.setTimeout((function(){return i(t,e)}))}var B={closed:!0,next:T,error:function(t){throw t},complete:T},H="function"==typeof Symbol&&Symbol.observable||"@@observable";function V(t){return t}function F(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return D(t)}function D(t){return 0===t.length?V:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var U=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var i=new t;return i.source=this,i.operator=e,i},t.prototype.subscribe=function(t,e,i){var s,n=this,r=(s=t)&&s instanceof P||function(t){return t&&p(t.next)&&p(t.error)&&p(t.complete)}(s)&&_(s)?t:new R(t,e,i);return w((function(){var t=n,e=t.operator,i=t.source;r.add(e?e.call(r,i):i?n._subscribe(r):n._trySubscribe(r))})),r},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var i=this;return new(e=j(e))((function(e,s){var n=new R({next:function(e){try{t(e)}catch(t){s(t),n.unsubscribe()}},error:s,complete:e});i.subscribe(n)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[H]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return D(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=j(t))((function(t,i){var s;e.subscribe((function(t){return s=t}),(function(t){return i(t)}),(function(){return t(s)}))}))},t.create=function(e){return new t(e)},t}();function j(t){var e;return null!==(e=null!=t?t:C.Promise)&&void 0!==e?e:Promise}function z(t){return p(null==t?void 0:t.lift)}function W(t){return function(e){if(z(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Y(t,e,i,s,n){return new $(t,e,i,s,n)}var $=function(t){function e(e,i,s,n,r,a){var o=t.call(this,e)||this;return o.onFinalize=r,o.shouldUnsubscribe=a,o._next=i?function(t){try{i(t)}catch(t){e.error(t)}}:t.prototype._next,o._error=n?function(t){try{n(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,o._complete=s?function(){try{s()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,o}return n(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;t.prototype.unsubscribe.call(this),!i&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(P);function G(){return W((function(t,e){var i=null;t._refCount++;var s=Y(e,void 0,void 0,void 0,(function(){if(!t||t._refCount<=0||0<--t._refCount)i=null;else{var s=t._connection,n=i;i=null,!s||n&&s!==n||s.unsubscribe(),e.unsubscribe()}}));t.subscribe(s),s.closed||(i=t.connect())}))}var X=function(t){function e(e,i){var s=t.call(this)||this;return s.source=e,s.subjectFactory=i,s._subject=null,s._refCount=0,s._connection=null,z(e)&&(s.lift=e.lift),s}return n(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,null==t||t.unsubscribe()},e.prototype.connect=function(){var t=this,e=this._connection;if(!e){e=this._connection=new f;var i=this.getSubject();e.add(this.source.subscribe(Y(i,void 0,(function(){t._teardown(),i.complete()}),(function(e){t._teardown(),i.error(e)}),(function(){return t._teardown()})))),e.closed&&(this._connection=null,e=f.EMPTY)}return e},e.prototype.refCount=function(){return G()(this)},e}(U),J={now:function(){return(J.delegate||performance).now()},delegate:void 0},K={schedule:function(t){var e=requestAnimationFrame,i=cancelAnimationFrame,s=K.delegate;s&&(e=s.requestAnimationFrame,i=s.cancelAnimationFrame);var n=e((function(e){i=void 0,t(e)}));return new f((function(){return null==i?void 0:i(n)}))},requestAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=K.delegate;return((null==i?void 0:i.requestAnimationFrame)||requestAnimationFrame).apply(void 0,h([],l(t)))},cancelAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=K.delegate;return((null==i?void 0:i.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,h([],l(t)))},delegate:void 0};function q(t){return t?Z(t):tt}function Z(t){var e=K.schedule;return new U((function(i){var s=new f,n=t||J,r=n.now(),a=function(o){var l=n.now();i.next({timestamp:t?l:o,elapsed:l-r}),i.closed||s.add(e(a))};return s.add(e(a)),s}))}var Q,tt=Z(),et=g((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),it=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return n(e,t),e.prototype.lift=function(t){var e=new st(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new et},e.prototype.next=function(t){var e=this;w((function(){var i,s;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var n=o(e.currentObservers),r=n.next();!r.done;r=n.next()){r.value.next(t)}}catch(t){i={error:t}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}}}))},e.prototype.error=function(t){var e=this;w((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var i=e.observers;i.length;)i.shift().error(t)}}))},e.prototype.complete=function(){var t=this;w((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,i=this.hasError,s=this.isStopped,n=this.observers;return i||s?v:(this.currentObservers=null,n.push(t),new f((function(){e.currentObservers=null,b(n,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this.hasError,i=this.thrownError,s=this.isStopped;e?t.error(i):s&&t.complete()},e.prototype.asObservable=function(){var t=new U;return t.source=this,t},e.create=function(t,e){return new st(t,e)},e}(U),st=function(t){function e(e,i){var s=t.call(this)||this;return s.destination=e,s.source=i,s}return n(e,t),e.prototype.next=function(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)},e.prototype.error=function(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:v},e}(it),nt=function(t){function e(e){var i=t.call(this)||this;return i._value=e,i}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var i=t.prototype._subscribe.call(this,e);return!i.closed&&e.next(this._value),i},e.prototype.getValue=function(){var t=this.hasError,e=this.thrownError,i=this._value;if(t)throw e;return this._throwIfClosed(),i},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(it),rt={now:function(){return(rt.delegate||Date).now()},delegate:void 0},at=function(t){function e(e,i,s){void 0===e&&(e=1/0),void 0===i&&(i=1/0),void 0===s&&(s=rt);var n=t.call(this)||this;return n._bufferSize=e,n._windowTime=i,n._timestampProvider=s,n._buffer=[],n._infiniteTimeWindow=!0,n._infiniteTimeWindow=i===1/0,n._bufferSize=Math.max(1,e),n._windowTime=Math.max(1,i),n}return n(e,t),e.prototype.next=function(e){var i=this,s=i.isStopped,n=i._buffer,r=i._infiniteTimeWindow,a=i._timestampProvider,o=i._windowTime;s||(n.push(e),!r&&n.push(a.now()+o)),this._trimBuffer(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),i=this._infiniteTimeWindow,s=this._buffer.slice(),n=0;n<s.length&&!t.closed;n+=i?1:2)t.next(s[n]);return this._checkFinalizedStatuses(t),e},e.prototype._trimBuffer=function(){var t=this._bufferSize,e=this._timestampProvider,i=this._buffer,s=this._infiniteTimeWindow,n=(s?1:2)*t;if(t<1/0&&n<i.length&&i.splice(0,i.length-n),!s){for(var r=e.now(),a=0,o=1;o<i.length&&i[o]<=r;o+=2)a=o;a&&i.splice(0,a+1)}},e}(it),ot=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._value=null,e._hasValue=!1,e._isComplete=!1,e}return n(e,t),e.prototype._checkFinalizedStatuses=function(t){var e=this,i=e.hasError,s=e._hasValue,n=e._value,r=e.thrownError,a=e.isStopped,o=e._isComplete;i?t.error(r):(a||o)&&(s&&t.next(n),t.complete())},e.prototype.next=function(t){this.isStopped||(this._value=t,this._hasValue=!0)},e.prototype.complete=function(){var e=this._hasValue,i=this._value;this._isComplete||(this._isComplete=!0,e&&t.prototype.next.call(this,i),t.prototype.complete.call(this))},e}(it),lt=function(t){function e(e,i){return t.call(this)||this}return n(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(f),ht={setInterval:function(t,e){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var n=ht.delegate;return(null==n?void 0:n.setInterval)?n.setInterval.apply(n,h([t,e],l(i))):setInterval.apply(void 0,h([t,e],l(i)))},clearInterval:function(t){var e=ht.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},ut=function(t){function e(e,i){var s=t.call(this,e,i)||this;return s.scheduler=e,s.work=i,s.pending=!1,s}return n(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this},e.prototype.requestAsyncId=function(t,e,i){return void 0===i&&(i=0),ht.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,e,i){if(void 0===i&&(i=0),null!=i&&this.delay===i&&!1===this.pending)return e;ht.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var i,s=!1;try{this.work(t)}catch(t){s=!0,i=t||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),i},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,i=this.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,b(s,this),null!=e&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(lt),ct=1,dt={};function pt(t){return t in dt&&(delete dt[t],!0)}var gt=function(t){var e=ct++;return dt[e]=!0,Q||(Q=Promise.resolve()),Q.then((function(){return pt(e)&&t()})),e},mt=function(t){pt(t)},bt={setImmediate:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=bt.delegate;return((null==i?void 0:i.setImmediate)||gt).apply(void 0,h([],l(t)))},clearImmediate:function(t){var e=bt.delegate;return((null==e?void 0:e.clearImmediate)||mt)(t)},delegate:void 0},ft=function(t){function e(e,i){var s=t.call(this,e,i)||this;return s.scheduler=e,s.work=i,s}return n(e,t),e.prototype.requestAsyncId=function(e,i,s){return void 0===s&&(s=0),null!==s&&s>0?t.prototype.requestAsyncId.call(this,e,i,s):(e.actions.push(this),e._scheduled||(e._scheduled=bt.setImmediate(e.flush.bind(e,void 0))))},e.prototype.recycleAsyncId=function(e,i,s){if(void 0===s&&(s=0),null!=s&&s>0||null==s&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,i,s);e.actions.some((function(t){return t.id===i}))||(bt.clearImmediate(i),e._scheduled=void 0)},e}(ut),vt=function(){function t(e,i){void 0===i&&(i=t.now),this.schedulerActionCtor=e,this.now=i}return t.prototype.schedule=function(t,e,i){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(i,e)},t.now=rt.now,t}(),_t=function(t){function e(e,i){void 0===i&&(i=vt.now);var s=t.call(this,e,i)||this;return s.actions=[],s._active=!1,s._scheduled=void 0,s}return n(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}},e}(vt),St=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.flush=function(t){this._active=!0;var e=this._scheduled;this._scheduled=void 0;var i,s=this.actions;t=t||s.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=s[0])&&t.id===e&&s.shift());if(this._active=!1,i){for(;(t=s[0])&&t.id===e&&s.shift();)t.unsubscribe();throw i}},e}(_t))(ft),Ct=St,Et=new _t(ut),yt=Et,Tt=function(t){function e(e,i){var s=t.call(this,e,i)||this;return s.scheduler=e,s.work=i,s}return n(e,t),e.prototype.schedule=function(e,i){return void 0===i&&(i=0),i>0?t.prototype.schedule.call(this,e,i):(this.delay=i,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,i){return i>0||this.closed?t.prototype.execute.call(this,e,i):this._execute(e,i)},e.prototype.requestAsyncId=function(e,i,s){return void 0===s&&(s=0),null!=s&&s>0||null==s&&this.delay>0?t.prototype.requestAsyncId.call(this,e,i,s):e.flush(this)},e}(ut),At=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(_t))(Tt),Ot=At,It=function(t){function e(e,i){var s=t.call(this,e,i)||this;return s.scheduler=e,s.work=i,s}return n(e,t),e.prototype.requestAsyncId=function(e,i,s){return void 0===s&&(s=0),null!==s&&s>0?t.prototype.requestAsyncId.call(this,e,i,s):(e.actions.push(this),e._scheduled||(e._scheduled=K.requestAnimationFrame((function(){return e.flush(void 0)}))))},e.prototype.recycleAsyncId=function(e,i,s){if(void 0===s&&(s=0),null!=s&&s>0||null==s&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,i,s);e.actions.some((function(t){return t.id===i}))||(K.cancelAnimationFrame(i),e._scheduled=void 0)},e}(ut),wt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.flush=function(t){this._active=!0;var e=this._scheduled;this._scheduled=void 0;var i,s=this.actions;t=t||s.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=s[0])&&t.id===e&&s.shift());if(this._active=!1,i){for(;(t=s[0])&&t.id===e&&s.shift();)t.unsubscribe();throw i}},e}(_t))(It),Pt=wt,Nt=function(t){function e(e,i){void 0===e&&(e=Lt),void 0===i&&(i=1/0);var s=t.call(this,e,(function(){return s.frame}))||this;return s.maxFrames=i,s.frame=0,s.index=-1,s}return n(e,t),e.prototype.flush=function(){for(var t,e,i=this.actions,s=this.maxFrames;(e=i[0])&&e.delay<=s&&(i.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=i.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(_t),Lt=function(t){function e(e,i,s){void 0===s&&(s=e.index+=1);var n=t.call(this,e,i)||this;return n.scheduler=e,n.work=i,n.index=s,n.active=!0,n.index=e.index=s,n}return n(e,t),e.prototype.schedule=function(i,s){if(void 0===s&&(s=0),Number.isFinite(s)){if(!this.id)return t.prototype.schedule.call(this,i,s);this.active=!1;var n=new e(this.scheduler,this.work);return this.add(n),n.schedule(i,s)}return f.EMPTY},e.prototype.requestAsyncId=function(t,i,s){void 0===s&&(s=0),this.delay=t.frame+s;var n=t.actions;return n.push(this),n.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,i){void 0===i&&(i=0)},e.prototype._execute=function(e,i){if(!0===this.active)return t.prototype._execute.call(this,e,i)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(ut),Mt=new U((function(t){return t.complete()}));function Rt(t){return t?function(t){return new U((function(e){return t.schedule((function(){return e.complete()}))}))}(t):Mt}function xt(t){return t&&p(t.schedule)}function kt(t){return t[t.length-1]}function Bt(t){return p(kt(t))?t.pop():void 0}function Ht(t){return xt(kt(t))?t.pop():void 0}function Vt(t,e){return"number"==typeof kt(t)?t.pop():e}var Ft=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Dt(t){return p(null==t?void 0:t.then)}function Ut(t){return p(t[H])}function jt(t){return Symbol.asyncIterator&&p(null==t?void 0:t[Symbol.asyncIterator])}function zt(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Wt,Yt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function $t(t){return p(null==t?void 0:t[Yt])}function Gt(t){return c(this,arguments,(function(){var e,i,s;return a(this,(function(n){switch(n.label){case 0:e=t.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,u(e.read())];case 3:return i=n.sent(),s=i.value,i.done?[4,u(void 0)]:[3,5];case 4:return[2,n.sent()];case 5:return[4,u(s)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function Xt(t){return p(null==t?void 0:t.getReader)}function Jt(t){if(t instanceof U)return t;if(null!=t){if(Ut(t))return n=t,new U((function(t){var e=n[H]();if(p(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Ft(t))return s=t,new U((function(t){for(var e=0;e<s.length&&!t.closed;e++)t.next(s[e]);t.complete()}));if(Dt(t))return i=t,new U((function(t){i.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,y)}));if(jt(t))return Kt(t);if($t(t))return e=t,new U((function(t){var i,s;try{for(var n=o(e),r=n.next();!r.done;r=n.next()){var a=r.value;if(t.next(a),t.closed)return}}catch(t){i={error:t}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}t.complete()}));if(Xt(t))return Kt(Gt(t))}var e,i,s,n;throw zt(t)}function Kt(t){return new U((function(e){(function(t,e){var i,s,n,o;return r(this,void 0,void 0,(function(){var r,l;return a(this,(function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),i=d(t),a.label=1;case 1:return[4,i.next()];case 2:if((s=a.sent()).done)return[3,4];if(r=s.value,e.next(r),e.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=a.sent(),n={error:l},[3,11];case 6:return a.trys.push([6,,9,10]),s&&!s.done&&(o=i.return)?[4,o.call(i)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(n)throw n.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function qt(t,e,i,s,n){void 0===s&&(s=0),void 0===n&&(n=!1);var r=e.schedule((function(){i(),n?t.add(this.schedule(null,s)):this.unsubscribe()}),s);if(t.add(r),!n)return r}function Zt(t,e){return void 0===e&&(e=0),W((function(i,s){i.subscribe(Y(s,(function(i){return qt(s,t,(function(){return s.next(i)}),e)}),(function(){return qt(s,t,(function(){return s.complete()}),e)}),(function(i){return qt(s,t,(function(){return s.error(i)}),e)})))}))}function Qt(t,e){return void 0===e&&(e=0),W((function(i,s){s.add(t.schedule((function(){return i.subscribe(s)}),e))}))}function te(t,e){return new U((function(i){var s;return qt(i,e,(function(){s=t[Yt](),qt(i,e,(function(){var t,e,n;try{e=(t=s.next()).value,n=t.done}catch(t){return void i.error(t)}n?i.complete():i.next(e)}),0,!0)})),function(){return p(null==s?void 0:s.return)&&s.return()}}))}function ee(t,e){if(!t)throw new Error("Iterable cannot be null");return new U((function(i){qt(i,e,(function(){var s=t[Symbol.asyncIterator]();qt(i,e,(function(){s.next().then((function(t){t.done?i.complete():i.next(t.value)}))}),0,!0)}))}))}function ie(t,e){if(null!=t){if(Ut(t))return function(t,e){return Jt(t).pipe(Qt(e),Zt(e))}(t,e);if(Ft(t))return function(t,e){return new U((function(i){var s=0;return e.schedule((function(){s===t.length?i.complete():(i.next(t[s++]),i.closed||this.schedule())}))}))}(t,e);if(Dt(t))return function(t,e){return Jt(t).pipe(Qt(e),Zt(e))}(t,e);if(jt(t))return ee(t,e);if($t(t))return te(t,e);if(Xt(t))return function(t,e){return ee(Gt(t),e)}(t,e)}throw zt(t)}function se(t,e){return e?ie(t,e):Jt(t)}function ne(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Ht(t);return se(t,i)}function re(t,e){var i=p(t)?t:function(){return t},s=function(t){return t.error(i())};return new U(e?function(t){return e.schedule(s,0,t)}:s)}!function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(Wt||(Wt={}));var ae=function(){function t(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}return t.prototype.observe=function(t){return oe(this,t)},t.prototype.do=function(t,e,i){var s=this.kind,n=this.value,r=this.error;return"N"===s?null==t?void 0:t(n):"E"===s?null==e?void 0:e(r):null==i?void 0:i()},t.prototype.accept=function(t,e,i){var s;return p(null===(s=t)||void 0===s?void 0:s.next)?this.observe(t):this.do(t,e,i)},t.prototype.toObservable=function(){var t=this.kind,e=this.value,i=this.error,s="N"===t?ne(e):"E"===t?re((function(){return i})):"C"===t?Mt:0;if(!s)throw new TypeError("Unexpected notification kind "+t);return s},t.createNext=function(e){return new t("N",e)},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t}();function oe(t,e){var i,s,n,r=t,a=r.kind,o=r.value,l=r.error;if("string"!=typeof a)throw new TypeError('Invalid notification, missing "kind"');"N"===a?null===(i=e.next)||void 0===i||i.call(e,o):"E"===a?null===(s=e.error)||void 0===s||s.call(e,l):null===(n=e.complete)||void 0===n||n.call(e)}function le(t){return!!t&&(t instanceof U||p(t.lift)&&p(t.subscribe))}var he=g((function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}}));function ue(t,e){var i="object"==typeof e;return new Promise((function(s,n){var r,a=!1;t.subscribe({next:function(t){r=t,a=!0},error:n,complete:function(){a?s(r):i?s(e.defaultValue):n(new he)}})}))}function ce(t,e){var i="object"==typeof e;return new Promise((function(s,n){var r=new R({next:function(t){s(t),r.unsubscribe()},error:n,complete:function(){i?s(e.defaultValue):n(new he)}});t.subscribe(r)}))}var de=g((function(t){return function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})),pe=g((function(t){return function(e){t(this),this.name="NotFoundError",this.message=e}})),ge=g((function(t){return function(e){t(this),this.name="SequenceError",this.message=e}}));function me(t){return t instanceof Date&&!isNaN(t)}var be=g((function(t){return function(e){void 0===e&&(e=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e}}));function fe(t,e){var i=me(t)?{first:t}:"number"==typeof t?{each:t}:t,s=i.first,n=i.each,r=i.with,a=void 0===r?ve:r,o=i.scheduler,l=void 0===o?null!=e?e:Et:o,h=i.meta,u=void 0===h?null:h;if(null==s&&null==n)throw new TypeError("No timeout provided.");return W((function(t,e){var i,r,o=null,h=0,c=function(t){r=qt(e,l,(function(){try{i.unsubscribe(),Jt(a({meta:u,lastValue:o,seen:h})).subscribe(e)}catch(t){e.error(t)}}),t)};i=t.subscribe(Y(e,(function(t){null==r||r.unsubscribe(),h++,e.next(o=t),n>0&&c(n)}),void 0,void 0,(function(){(null==r?void 0:r.closed)||null==r||r.unsubscribe(),o=null}))),!h&&c(null!=s?"number"==typeof s?s:+s-l.now():n)}))}function ve(t){throw new be(t)}function _e(t,e){return W((function(i,s){var n=0;i.subscribe(Y(s,(function(i){s.next(t.call(e,i,n++))})))}))}var Se=Array.isArray;function Ce(t){return _e((function(e){return function(t,e){return Se(e)?t.apply(void 0,h([],l(e))):t(e)}(t,e)}))}function Ee(t,e,i,s){if(i){if(!xt(i))return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Ee(t,e,s).apply(this,n).pipe(Ce(i))};s=i}return s?function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return Ee(t,e).apply(this,i).pipe(Qt(s),Zt(s))}:function(){for(var i=this,s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];var r=new ot,a=!0;return new U((function(n){var o=r.subscribe(n);if(a){a=!1;var u=!1,c=!1;e.apply(i,h(h([],l(s)),[function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(t){var s=e.shift();if(null!=s)return void r.error(s)}r.next(1<e.length?e:e[0]),c=!0,u&&r.complete()}])),c&&r.complete(),u=!0}return o}))}}function ye(t,e,i){return Ee(!1,t,e,i)}function Te(t,e,i){return Ee(!0,t,e,i)}var Ae=Array.isArray,Oe=Object.getPrototypeOf,Ie=Object.prototype,we=Object.keys;function Pe(t){if(1===t.length){var e=t[0];if(Ae(e))return{args:e,keys:null};if((s=e)&&"object"==typeof s&&Oe(s)===Ie){var i=we(e);return{args:i.map((function(t){return e[t]})),keys:i}}}var s;return{args:t,keys:null}}function Ne(t,e){return t.reduce((function(t,i,s){return t[i]=e[s],t}),{})}function Le(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Ht(t),s=Bt(t),n=Pe(t),r=n.args,a=n.keys;if(0===r.length)return se([],i);var o=new U(Me(r,i,a?function(t){return Ne(a,t)}:V));return s?o.pipe(Ce(s)):o}function Me(t,e,i){return void 0===i&&(i=V),function(s){Re(e,(function(){for(var n=t.length,r=new Array(n),a=n,o=n,l=function(n){Re(e,(function(){var l=se(t[n],e),h=!1;l.subscribe(Y(s,(function(t){r[n]=t,h||(h=!0,o--),o||s.next(i(r.slice()))}),(function(){--a||s.complete()})))}),s)},h=0;h<n;h++)l(h)}),s)}}function Re(t,e,i){t?qt(i,t,e):e()}function xe(t,e,i,s,n,r,a,o){var l=[],h=0,u=0,c=!1,d=function(){!c||l.length||h||e.complete()},p=function(t){return h<s?g(t):l.push(t)},g=function(t){r&&e.next(t),h++;var o=!1;Jt(i(t,u++)).subscribe(Y(e,(function(t){null==n||n(t),r?p(t):e.next(t)}),(function(){o=!0}),void 0,(function(){if(o)try{h--;for(var t=function(){var t=l.shift();a?qt(e,a,(function(){return g(t)})):g(t)};l.length&&h<s;)t();d()}catch(t){e.error(t)}})))};return t.subscribe(Y(e,p,(function(){c=!0,d()}))),function(){null==o||o()}}function ke(t,e,i){return void 0===i&&(i=1/0),p(e)?ke((function(i,s){return _e((function(t,n){return e(i,t,s,n)}))(Jt(t(i,s)))}),i):("number"==typeof e&&(i=e),W((function(e,s){return xe(e,s,t,i)})))}function Be(t){return void 0===t&&(t=1/0),ke(V,t)}function He(){return Be(1)}function Ve(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return He()(se(t,Ht(t)))}function Fe(t){return new U((function(e){Jt(t()).subscribe(e)}))}var De={connector:function(){return new it},resetOnDisconnect:!0};function Ue(t,e){void 0===e&&(e=De);var i=null,s=e.connector,n=e.resetOnDisconnect,r=void 0===n||n,a=s(),o=new U((function(t){return a.subscribe(t)}));return o.connect=function(){return i&&!i.closed||(i=Fe((function(){return t})).subscribe(a),r&&i.add((function(){return a=s()}))),i},o}function je(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Bt(t),s=Pe(t),n=s.args,r=s.keys,a=new U((function(t){var e=n.length;if(e)for(var i=new Array(e),s=e,a=e,o=function(e){var o=!1;Jt(n[e]).subscribe(Y(t,(function(t){o||(o=!0,a--),i[e]=t}),(function(){return s--}),void 0,(function(){s&&o||(a||t.next(r?Ne(r,i):i),t.complete())})))},l=0;l<e;l++)o(l);else t.complete()}));return i?a.pipe(Ce(i)):a}var ze=["addListener","removeListener"],We=["addEventListener","removeEventListener"],Ye=["on","off"];function $e(t,e,i,s){if(p(i)&&(s=i,i=void 0),s)return $e(t,e,i).pipe(Ce(s));var n=l(function(t){return p(t.addEventListener)&&p(t.removeEventListener)}(t)?We.map((function(s){return function(n){return t[s](e,n,i)}})):function(t){return p(t.addListener)&&p(t.removeListener)}(t)?ze.map(Ge(t,e)):function(t){return p(t.on)&&p(t.off)}(t)?Ye.map(Ge(t,e)):[],2),r=n[0],a=n[1];if(!r&&Ft(t))return ke((function(t){return $e(t,e,i)}))(Jt(t));if(!r)throw new TypeError("Invalid event target");return new U((function(t){var e=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.next(1<e.length?e:e[0])};return r(e),function(){return a(e)}}))}function Ge(t,e){return function(i){return function(s){return t[i](e,s)}}}function Xe(t,e,i){return i?Xe(t,e).pipe(Ce(i)):new U((function(i){var s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.next(1===t.length?t[0]:t)},n=t(s);return p(e)?function(){return e(s,n)}:void 0}))}function Je(t,e,i,s,n){var r,o,l,h;function u(){var t;return a(this,(function(s){switch(s.label){case 0:t=h,s.label=1;case 1:return e&&!e(t)?[3,4]:[4,l(t)];case 2:s.sent(),s.label=3;case 3:return t=i(t),[3,1];case 4:return[2]}}))}return 1===arguments.length?(h=(r=t).initialState,e=r.condition,i=r.iterate,o=r.resultSelector,l=void 0===o?V:o,n=r.scheduler):(h=t,!s||xt(s)?(l=V,n=s):l=s),Fe(n?function(){return te(u(),n)}:u)}function Ke(t,e,i){return Fe((function(){return t()?e:i}))}function qe(t,e,i){void 0===t&&(t=0),void 0===i&&(i=yt);var s=-1;return null!=e&&(xt(e)?i=e:s=e),new U((function(e){var n=me(t)?+t-i.now():t;n<0&&(n=0);var r=0;return i.schedule((function(){e.closed||(e.next(r++),0<=s?this.schedule(void 0,s):e.complete())}),n)}))}function Ze(t,e){return void 0===t&&(t=0),void 0===e&&(e=Et),t<0&&(t=0),qe(t,t,e)}function Qe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Ht(t),s=Vt(t,1/0),n=t;return n.length?1===n.length?Jt(n[0]):Be(s)(se(n,i)):Mt}var ti=new U(T);function ei(){return ti}var ii=Array.isArray;function si(t){return 1===t.length&&ii(t[0])?t[0]:t}function ni(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=si(t);return W((function(t,e){var s=h([t],l(i)),n=function(){if(!e.closed)if(s.length>0){var t=void 0;try{t=Jt(s.shift())}catch(t){return void n()}var i=Y(e,void 0,T,T);t.subscribe(i),i.add(n)}else e.complete()};n()}))}function ri(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ni(si(t))(Mt)}function ai(t,e){return se(Object.entries(t),e)}function oi(t,e){return function(i,s){return!t.call(e,i,s)}}function li(t,e){return W((function(i,s){var n=0;i.subscribe(Y(s,(function(i){return t.call(e,i,n++)&&s.next(i)})))}))}function hi(t,e,i){return[li(e,i)(Jt(t)),li(oi(e,i))(Jt(t))]}function ui(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===(t=si(t)).length?Jt(t[0]):new U(ci(t))}function ci(t){return function(e){for(var i=[],s=function(s){i.push(Jt(t[s]).subscribe(Y(e,(function(t){if(i){for(var n=0;n<i.length;n++)n!==s&&i[n].unsubscribe();i=null}e.next(t)}))))},n=0;i&&!e.closed&&n<t.length;n++)s(n)}}function di(t,e,i){if(null==e&&(e=t,t=0),e<=0)return Mt;var s=e+t;return new U(i?function(e){var n=t;return i.schedule((function(){n<s?(e.next(n++),this.schedule()):e.complete()}))}:function(e){for(var i=t;i<s&&!e.closed;)e.next(i++);e.complete()})}function pi(t,e){return new U((function(i){var s=t(),n=e(s);return(n?Jt(n):Mt).subscribe(i),function(){s&&s.unsubscribe()}}))}function gi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Bt(t),s=si(t);return s.length?new U((function(t){var e=s.map((function(){return[]})),n=s.map((function(){return!1}));t.add((function(){e=n=null}));for(var r=function(r){Jt(s[r]).subscribe(Y(t,(function(s){if(e[r].push(s),e.every((function(t){return t.length}))){var a=e.map((function(t){return t.shift()}));t.next(i?i.apply(void 0,h([],l(a))):a),e.some((function(t,e){return!t.length&&n[e]}))&&t.complete()}}),(function(){n[r]=!0,!e[r].length&&t.complete()})))},a=0;!t.closed&&a<s.length;a++)r(a);return function(){e=n=null}})):Mt}function mi(t){return W((function(e,i){var s=!1,n=null,r=null,a=!1,o=function(){if(null==r||r.unsubscribe(),r=null,s){s=!1;var t=n;n=null,i.next(t)}a&&i.complete()},l=function(){r=null,a&&i.complete()};e.subscribe(Y(i,(function(e){s=!0,n=e,r||Jt(t(e)).subscribe(r=Y(i,o,l))}),(function(){a=!0,(!s||!r||r.closed)&&i.complete()})))}))}function bi(t,e){return void 0===e&&(e=Et),mi((function(){return qe(t,e)}))}function fi(t){return W((function(e,i){var s=[];return e.subscribe(Y(i,(function(t){return s.push(t)}),(function(){i.next(s),i.complete()}))),t.subscribe(Y(i,(function(){var t=s;s=[],i.next(t)}),T)),function(){s=null}}))}function vi(t,e){return void 0===e&&(e=null),e=null!=e?e:t,W((function(i,s){var n=[],r=0;i.subscribe(Y(s,(function(i){var a,l,h,u,c=null;r++%e==0&&n.push([]);try{for(var d=o(n),p=d.next();!p.done;p=d.next()){(f=p.value).push(i),t<=f.length&&(c=null!=c?c:[]).push(f)}}catch(t){a={error:t}}finally{try{p&&!p.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}if(c)try{for(var g=o(c),m=g.next();!m.done;m=g.next()){var f=m.value;b(n,f),s.next(f)}}catch(t){h={error:t}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(h)throw h.error}}}),(function(){var t,e;try{for(var i=o(n),r=i.next();!r.done;r=i.next()){var a=r.value;s.next(a)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}s.complete()}),void 0,(function(){n=null})))}))}function _i(t){for(var e,i,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];var r=null!==(e=Ht(s))&&void 0!==e?e:Et,a=null!==(i=s[0])&&void 0!==i?i:null,l=s[1]||1/0;return W((function(e,i){var s=[],n=!1,h=function(t){var e=t.buffer;t.subs.unsubscribe(),b(s,t),i.next(e),n&&u()},u=function(){if(s){var e=new f;i.add(e);var n={buffer:[],subs:e};s.push(n),qt(e,r,(function(){return h(n)}),t)}};null!==a&&a>=0?qt(i,r,u,a,!0):n=!0,u();var c=Y(i,(function(t){var e,i,n=s.slice();try{for(var r=o(n),a=r.next();!a.done;a=r.next()){var u=a.value,c=u.buffer;c.push(t),l<=c.length&&h(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}}),(function(){for(;null==s?void 0:s.length;)i.next(s.shift().buffer);null==c||c.unsubscribe(),i.complete(),i.unsubscribe()}),void 0,(function(){return s=null}));e.subscribe(c)}))}function Si(t,e){return W((function(i,s){var n=[];Jt(t).subscribe(Y(s,(function(t){var i=[];n.push(i);var r=new f;r.add(Jt(e(t)).subscribe(Y(s,(function(){b(n,i),s.next(i),r.unsubscribe()}),T)))}),T)),i.subscribe(Y(s,(function(t){var e,i;try{for(var s=o(n),r=s.next();!r.done;r=s.next()){r.value.push(t)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}}),(function(){for(;n.length>0;)s.next(n.shift());s.complete()})))}))}function Ci(t){return W((function(e,i){var s=null,n=null,r=function(){null==n||n.unsubscribe();var e=s;s=[],e&&i.next(e),Jt(t()).subscribe(n=Y(i,r,T))};r(),e.subscribe(Y(i,(function(t){return null==s?void 0:s.push(t)}),(function(){s&&i.next(s),i.complete()}),void 0,(function(){return s=n=null})))}))}function Ei(t){return W((function(e,i){var s,n=null,r=!1;n=e.subscribe(Y(i,void 0,void 0,(function(a){s=Jt(t(a,Ei(t)(e))),n?(n.unsubscribe(),n=null,s.subscribe(i)):r=!0}))),r&&(n.unsubscribe(),n=null,s.subscribe(i))}))}function yi(t,e,i,s,n){return function(r,a){var o=i,l=e,h=0;r.subscribe(Y(a,(function(e){var i=h++;l=o?t(l,e,i):(o=!0,e),s&&a.next(l)}),n&&function(){o&&a.next(l),a.complete()}))}}function Ti(t,e){return W(yi(t,e,arguments.length>=2,!1,!0))}var Ai=function(t,e){return t.push(e),t};function Oi(){return W((function(t,e){Ti(Ai,[])(t).subscribe(e)}))}function Ii(t,e){return F(Oi(),ke((function(e){return t(e)})),e?Ce(e):V)}function wi(t){return Ii(Le,t)}var Pi=wi;function Ni(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Bt(t);return i?F(Ni.apply(void 0,h([],l(t))),Ce(i)):W((function(e,i){Me(h([e],l(si(t))))(i)}))}function Li(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ni.apply(void 0,h([],l(t)))}function Mi(t,e){return p(e)?ke(t,e,1):ke(t,1)}function Ri(t,e){return p(e)?Mi((function(){return t}),e):Mi((function(){return t}))}function xi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Ht(t);return W((function(e,s){He()(se(h([e],l(t)),i)).subscribe(s)}))}function ki(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xi.apply(void 0,h([],l(t)))}var Bi={connector:function(){return new it}};function Hi(t,e){void 0===e&&(e=Bi);var i=e.connector;return W((function(e,s){var n,r=i();se(t((n=r,new U((function(t){return n.subscribe(t)}))))).subscribe(s),s.add(e.subscribe(r))}))}function Vi(t){return Ti((function(e,i,s){return!t||t(i,s)?e+1:e}),0)}function Fi(t){return W((function(e,i){var s=!1,n=null,r=null,a=function(){if(null==r||r.unsubscribe(),r=null,s){s=!1;var t=n;n=null,i.next(t)}};e.subscribe(Y(i,(function(e){null==r||r.unsubscribe(),s=!0,n=e,r=Y(i,a,T),Jt(t(e)).subscribe(r)}),(function(){a(),i.complete()}),void 0,(function(){n=r=null})))}))}function Di(t,e){return void 0===e&&(e=Et),W((function(i,s){var n=null,r=null,a=null,o=function(){if(n){n.unsubscribe(),n=null;var t=r;r=null,s.next(t)}};function l(){var i=a+t,r=e.now();if(r<i)return n=this.schedule(void 0,i-r),void s.add(n);o()}i.subscribe(Y(s,(function(i){r=i,a=e.now(),n||(n=e.schedule(l,t),s.add(n))}),(function(){o(),s.complete()}),void 0,(function(){r=n=null})))}))}function Ui(t){return W((function(e,i){var s=!1;e.subscribe(Y(i,(function(t){s=!0,i.next(t)}),(function(){s||i.next(t),i.complete()})))}))}function ji(t){return t<=0?function(){return Mt}:W((function(e,i){var s=0;e.subscribe(Y(i,(function(e){++s<=t&&(i.next(e),t<=s&&i.complete())})))}))}function zi(){return W((function(t,e){t.subscribe(Y(e,T))}))}function Wi(t){return _e((function(){return t}))}function Yi(t,e){return e?function(i){return Ve(e.pipe(ji(1),zi()),i.pipe(Yi(t)))}:ke((function(e,i){return t(e,i).pipe(ji(1),Wi(e))}))}function $i(t,e){void 0===e&&(e=Et);var i=qe(t,e);return Yi((function(){return i}))}function Gi(){return W((function(t,e){t.subscribe(Y(e,(function(t){return oe(t,e)})))}))}function Xi(t,e){return W((function(i,s){var n=new Set;i.subscribe(Y(s,(function(e){var i=t?t(e):e;n.has(i)||(n.add(i),s.next(e))}))),null==e||e.subscribe(Y(s,(function(){return n.clear()}),T))}))}function Ji(t,e){return void 0===e&&(e=V),t=null!=t?t:Ki,W((function(i,s){var n,r=!0;i.subscribe(Y(s,(function(i){var a=e(i);!r&&t(n,a)||(r=!1,n=a,s.next(i))})))}))}function Ki(t,e){return t===e}function qi(t,e){return Ji((function(i,s){return e?e(i[t],s[t]):i[t]===s[t]}))}function Zi(t){return void 0===t&&(t=Qi),W((function(e,i){var s=!1;e.subscribe(Y(i,(function(t){s=!0,i.next(t)}),(function(){return s?i.complete():i.error(t())})))}))}function Qi(){return new he}function ts(t,e){if(t<0)throw new de;var i=arguments.length>=2;return function(s){return s.pipe(li((function(e,i){return i===t})),ji(1),i?Ui(e):Zi((function(){return new de})))}}function es(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return Ve(e,ne.apply(void 0,h([],l(t))))}}function is(t,e){return W((function(i,s){var n=0;i.subscribe(Y(s,(function(r){t.call(e,r,n++,i)||(s.next(!1),s.complete())}),(function(){s.next(!0),s.complete()})))}))}function ss(){return W((function(t,e){var i=!1,s=null;t.subscribe(Y(e,(function(t){s||(s=Jt(t).subscribe(Y(e,void 0,(function(){s=null,i&&e.complete()}))))}),(function(){i=!0,!s&&e.complete()})))}))}var ns=ss;function rs(t,e){return e?function(i){return i.pipe(rs((function(i,s){return Jt(t(i,s)).pipe(_e((function(t,n){return e(i,t,s,n)})))})))}:W((function(e,i){var s=0,n=null,r=!1;e.subscribe(Y(i,(function(e){n||(n=Y(i,void 0,(function(){n=null,r&&i.complete()})),Jt(t(e,s++)).subscribe(n))}),(function(){r=!0,!n&&i.complete()})))}))}function as(t,e,i){return void 0===e&&(e=1/0),e=(e||0)<1?1/0:e,W((function(s,n){return xe(s,n,t,e,void 0,!0,i)}))}function os(t){return W((function(e,i){try{e.subscribe(i)}finally{i.add(t)}}))}function ls(t,e){return W(hs(t,e,"value"))}function hs(t,e,i){var s="index"===i;return function(i,n){var r=0;i.subscribe(Y(n,(function(a){var o=r++;t.call(e,a,o,i)&&(n.next(s?o:a),n.complete())}),(function(){n.next(s?-1:void 0),n.complete()})))}}function us(t,e){return W(hs(t,e,"index"))}function cs(t,e){var i=arguments.length>=2;return function(s){return s.pipe(t?li((function(e,i){return t(e,i,s)})):V,ji(1),i?Ui(e):Zi((function(){return new he})))}}function ds(t,e,i,s){return W((function(n,r){var a;e&&"function"!=typeof e?(i=e.duration,a=e.element,s=e.connector):a=e;var o=new Map,l=function(t){o.forEach(t),t(r)},h=function(t){return l((function(e){return e.error(t)}))},u=0,c=!1,d=new $(r,(function(e){try{var n=t(e),l=o.get(n);if(!l){o.set(n,l=s?s():new it);var p=(m=n,b=l,(f=new U((function(t){u++;var e=b.subscribe(t);return function(){e.unsubscribe(),0==--u&&c&&d.unsubscribe()}}))).key=m,f);if(r.next(p),i){var g=Y(l,(function(){l.complete(),null==g||g.unsubscribe()}),void 0,void 0,(function(){return o.delete(n)}));d.add(Jt(i(p)).subscribe(g))}}l.next(a?a(e):e)}catch(t){h(t)}var m,b,f}),(function(){return l((function(t){return t.complete()}))}),h,(function(){return o.clear()}),(function(){return c=!0,0===u}));n.subscribe(d)}))}function ps(){return W((function(t,e){t.subscribe(Y(e,(function(){e.next(!1),e.complete()}),(function(){e.next(!0),e.complete()})))}))}function gs(t){return t<=0?function(){return Mt}:W((function(e,i){var s=[];e.subscribe(Y(i,(function(e){s.push(e),t<s.length&&s.shift()}),(function(){var t,e;try{for(var n=o(s),r=n.next();!r.done;r=n.next()){var a=r.value;i.next(a)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}i.complete()}),void 0,(function(){s=null})))}))}function ms(t,e){var i=arguments.length>=2;return function(s){return s.pipe(t?li((function(e,i){return t(e,i,s)})):V,gs(1),i?Ui(e):Zi((function(){return new he})))}}function bs(){return W((function(t,e){t.subscribe(Y(e,(function(t){e.next(ae.createNext(t))}),(function(){e.next(ae.createComplete()),e.complete()}),(function(t){e.next(ae.createError(t)),e.complete()})))}))}function fs(t){return Ti(p(t)?function(e,i){return t(e,i)>0?e:i}:function(t,e){return t>e?t:e})}var vs=ke;function _s(t,e,i){return void 0===i&&(i=1/0),p(e)?ke((function(){return t}),e,i):("number"==typeof e&&(i=e),ke((function(){return t}),i))}function Ss(t,e,i){return void 0===i&&(i=1/0),W((function(s,n){var r=e;return xe(s,n,(function(e,i){return t(r,e,i)}),i,(function(t){r=t}),!1,void 0,(function(){return r=null}))}))}function Cs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Ht(t),s=Vt(t,1/0);return t=si(t),W((function(e,n){Be(s)(se(h([e],l(t)),i)).subscribe(n)}))}function Es(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Cs.apply(void 0,h([],l(t)))}function ys(t){return Ti(p(t)?function(e,i){return t(e,i)<0?e:i}:function(t,e){return t<e?t:e})}function Ts(t,e){var i=p(t)?t:function(){return t};return p(e)?Hi(e,{connector:i}):function(t){return new X(t,i)}}function As(){return W((function(t,e){var i,s=!1;t.subscribe(Y(e,(function(t){var n=i;i=t,s&&e.next([n,t]),s=!0})))}))}function Os(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.length;if(0===i)throw new Error("list of properties cannot be empty.");return _e((function(e){for(var s=e,n=0;n<i;n++){var r=null==s?void 0:s[t[n]];if(void 0===r)return;s=r}return s}))}function Is(t){return t?function(e){return Hi(t)(e)}:function(t){return Ts(new it)(t)}}function ws(t){return function(e){var i=new nt(t);return new X(e,(function(){return i}))}}function Ps(){return function(t){var e=new ot;return new X(t,(function(){return e}))}}function Ns(t,e,i,s){i&&!p(i)&&(s=i);var n=p(i)?i:void 0;return function(i){return Ts(new at(t,e,s),n)(i)}}function Ls(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?W((function(e,i){ci(h([e],l(t)))(i)})):V}function Ms(t){var e,i,s=1/0;return null!=t&&("object"==typeof t?(e=t.count,s=void 0===e?1/0:e,i=t.delay):s=t),s<=0?function(){return Mt}:W((function(t,e){var n,r=0,a=function(){if(null==n||n.unsubscribe(),n=null,null!=i){var t="number"==typeof i?qe(i):Jt(i(r)),s=Y(e,(function(){s.unsubscribe(),o()}));t.subscribe(s)}else o()},o=function(){var i=!1;n=t.subscribe(Y(e,void 0,(function(){++r<s?n?a():i=!0:e.complete()}))),i&&a()};o()}))}function Rs(t){return W((function(e,i){var s,n,r=!1,a=!1,o=!1,l=function(){return o&&a&&(i.complete(),!0)},h=function(){o=!1,s=e.subscribe(Y(i,void 0,(function(){o=!0,!l()&&(n||(n=new it,t(n).subscribe(Y(i,(function(){s?h():r=!0}),(function(){a=!0,l()})))),n).next()}))),r&&(s.unsubscribe(),s=null,r=!1,h())};h()}))}function xs(t){var e;void 0===t&&(t=1/0);var i=(e=t&&"object"==typeof t?t:{count:t}).count,s=void 0===i?1/0:i,n=e.delay,r=e.resetOnSuccess,a=void 0!==r&&r;return s<=0?V:W((function(t,e){var i,r=0,o=function(){var l=!1;i=t.subscribe(Y(e,(function(t){a&&(r=0),e.next(t)}),void 0,(function(t){if(r++<s){var a=function(){i?(i.unsubscribe(),i=null,o()):l=!0};if(null!=n){var h="number"==typeof n?qe(n):Jt(n(t,r)),u=Y(e,(function(){u.unsubscribe(),a()}),(function(){e.complete()}));h.subscribe(u)}else a()}else e.error(t)}))),l&&(i.unsubscribe(),i=null,o())};o()}))}function ks(t){return W((function(e,i){var s,n,r=!1,a=function(){s=e.subscribe(Y(i,void 0,void 0,(function(e){n||(n=new it,t(n).subscribe(Y(i,(function(){return s?a():r=!0})))),n&&n.next(e)}))),r&&(s.unsubscribe(),s=null,r=!1,a())};a()}))}function Bs(t){return W((function(e,i){var s=!1,n=null;e.subscribe(Y(i,(function(t){s=!0,n=t}))),t.subscribe(Y(i,(function(){if(s){s=!1;var t=n;n=null,i.next(t)}}),T))}))}function Hs(t,e){return void 0===e&&(e=Et),Bs(Ze(t,e))}function Vs(t,e){return W(yi(t,e,arguments.length>=2,!0))}function Fs(t,e){return void 0===e&&(e=function(t,e){return t===e}),W((function(i,s){var n={buffer:[],complete:!1},r={buffer:[],complete:!1},a=function(t){s.next(t),s.complete()},o=function(t,i){var n=Y(s,(function(s){var n=i.buffer,r=i.complete;0===n.length?r?a(!1):t.buffer.push(s):!e(s,n.shift())&&a(!1)}),(function(){t.complete=!0;var e=i.complete,s=i.buffer;e&&a(0===s.length),null==n||n.unsubscribe()}));return n};i.subscribe(o(n,r)),t.subscribe(o(r,n))}))}function Ds(t){void 0===t&&(t={});var e=t.connector,i=void 0===e?function(){return new it}:e,s=t.resetOnError,n=void 0===s||s,r=t.resetOnComplete,a=void 0===r||r,o=t.resetOnRefCountZero,l=void 0===o||o;return function(t){var e=null,s=null,r=null,o=0,h=!1,u=!1,c=function(){null==s||s.unsubscribe(),s=null},d=function(){c(),e=r=null,h=u=!1},p=function(){var t=e;d(),null==t||t.unsubscribe()};return W((function(t,g){o++,u||h||c();var m=r=null!=r?r:i();g.add((function(){0!==--o||u||h||(s=Us(p,l))})),m.subscribe(g),e||(e=new R({next:function(t){return m.next(t)},error:function(t){u=!0,c(),s=Us(d,n,t),m.error(t)},complete:function(){h=!0,c(),s=Us(d,a),m.complete()}}),se(t).subscribe(e))}))(t)}}function Us(t,e){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return!0===e?(t(),null):!1===e?null:e.apply(void 0,h([],l(i))).pipe(ji(1)).subscribe((function(){return t()}))}function js(t,e,i){var s,n,r,a,o=!1;return t&&"object"==typeof t?(s=t.bufferSize,a=void 0===s?1/0:s,n=t.windowTime,e=void 0===n?1/0:n,o=void 0!==(r=t.refCount)&&r,i=t.scheduler):a=null!=t?t:1/0,Ds({connector:function(){return new at(a,e,i)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function zs(t){return W((function(e,i){var s,n=!1,r=!1,a=0;e.subscribe(Y(i,(function(o){r=!0,t&&!t(o,a++,e)||(n&&i.error(new ge("Too many matching values")),n=!0,s=o)}),(function(){n?(i.next(s),i.complete()):i.error(r?new pe("No matching values"):new he)})))}))}function Ws(t){return li((function(e,i){return t<=i}))}function Ys(t){return t<=0?V:W((function(e,i){var s=new Array(t),n=0;return e.subscribe(Y(i,(function(e){var r=n++;if(r<t)s[r]=e;else{var a=r%t,o=s[a];s[a]=e,i.next(o)}}))),function(){s=null}}))}function $s(t){return W((function(e,i){var s=!1,n=Y(i,(function(){null==n||n.unsubscribe(),s=!0}),T);Jt(t).subscribe(n),e.subscribe(Y(i,(function(t){return s&&i.next(t)})))}))}function Gs(t){return W((function(e,i){var s=!1,n=0;e.subscribe(Y(i,(function(e){return(s||(s=!t(e,n++)))&&i.next(e)})))}))}function Xs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Ht(t);return W((function(e,s){(i?Ve(t,e,i):Ve(t,e)).subscribe(s)}))}function Js(t,e){return W((function(i,s){var n=null,r=0,a=!1,o=function(){return a&&!n&&s.complete()};i.subscribe(Y(s,(function(i){null==n||n.unsubscribe();var a=0,l=r++;Jt(t(i,l)).subscribe(n=Y(s,(function(t){return s.next(e?e(i,t,l,a++):t)}),(function(){n=null,o()})))}),(function(){a=!0,o()})))}))}function Ks(){return Js(V)}function qs(t,e){return p(e)?Js((function(){return t}),e):Js((function(){return t}))}function Zs(t,e){return W((function(i,s){var n=e;return Js((function(e,i){return t(n,e,i)}),(function(t,e){return n=e,e}))(i).subscribe(s),function(){n=null}}))}function Qs(t){return W((function(e,i){Jt(t).subscribe(Y(i,(function(){return i.complete()}),T)),!i.closed&&e.subscribe(i)}))}function tn(t,e){return void 0===e&&(e=!1),W((function(i,s){var n=0;i.subscribe(Y(s,(function(i){var r=t(i,n++);(r||e)&&s.next(i),!r&&s.complete()})))}))}function en(t,e,i){var s=p(t)||e||i?{next:t,error:e,complete:i}:t;return s?W((function(t,e){var i;null===(i=s.subscribe)||void 0===i||i.call(s);var n=!0;t.subscribe(Y(e,(function(t){var i;null===(i=s.next)||void 0===i||i.call(s,t),e.next(t)}),(function(){var t;n=!1,null===(t=s.complete)||void 0===t||t.call(s),e.complete()}),(function(t){var i;n=!1,null===(i=s.error)||void 0===i||i.call(s,t),e.error(t)}),(function(){var t,e;n&&(null===(t=s.unsubscribe)||void 0===t||t.call(s)),null===(e=s.finalize)||void 0===e||e.call(s)})))})):V}var sn={leading:!0,trailing:!1};function nn(t,e){return void 0===e&&(e=sn),W((function(i,s){var n=e.leading,r=e.trailing,a=!1,o=null,l=null,h=!1,u=function(){null==l||l.unsubscribe(),l=null,r&&(p(),h&&s.complete())},c=function(){l=null,h&&s.complete()},d=function(e){return l=Jt(t(e)).subscribe(Y(s,u,c))},p=function(){if(a){a=!1;var t=o;o=null,s.next(t),!h&&d(t)}};i.subscribe(Y(s,(function(t){a=!0,o=t,(!l||l.closed)&&(n?p():d(t))}),(function(){h=!0,(!(r&&a&&l)||l.closed)&&s.complete()})))}))}function rn(t,e,i){void 0===e&&(e=Et),void 0===i&&(i=sn);var s=qe(t,e);return nn((function(){return s}),i)}function an(t){return void 0===t&&(t=Et),W((function(e,i){var s=t.now();e.subscribe(Y(i,(function(e){var n=t.now(),r=n-s;s=n,i.next(new on(e,r))})))}))}var on=function(t,e){this.value=t,this.interval=e};function ln(t,e,i){var s,n,r;if(i=null!=i?i:yt,me(t)?s=t:"number"==typeof t&&(n=t),!e)throw new TypeError("No observable provided to switch to");if(r=function(){return e},null==s&&null==n)throw new TypeError("No timeout provided.");return fe({first:s,each:n,scheduler:i,with:r})}function hn(t){return void 0===t&&(t=rt),_e((function(e){return{value:e,timestamp:t.now()}}))}function un(t){return W((function(e,i){var s=new it;i.next(s.asObservable());var n=function(t){s.error(t),i.error(t)};return e.subscribe(Y(i,(function(t){return null==s?void 0:s.next(t)}),(function(){s.complete(),i.complete()}),n)),t.subscribe(Y(i,(function(){s.complete(),i.next(s=new it)}),T,n)),function(){null==s||s.unsubscribe(),s=null}}))}function cn(t,e){void 0===e&&(e=0);var i=e>0?e:t;return W((function(e,s){var n=[new it],r=0;s.next(n[0].asObservable()),e.subscribe(Y(s,(function(e){var a,l;try{for(var h=o(n),u=h.next();!u.done;u=h.next()){u.value.next(e)}}catch(t){a={error:t}}finally{try{u&&!u.done&&(l=h.return)&&l.call(h)}finally{if(a)throw a.error}}var c=r-t+1;if(c>=0&&c%i==0&&n.shift().complete(),++r%i==0){var d=new it;n.push(d),s.next(d.asObservable())}}),(function(){for(;n.length>0;)n.shift().complete();s.complete()}),(function(t){for(;n.length>0;)n.shift().error(t);s.error(t)}),(function(){null,n=null})))}))}function dn(t){for(var e,i,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];var r=null!==(e=Ht(s))&&void 0!==e?e:Et,a=null!==(i=s[0])&&void 0!==i?i:null,o=s[1]||1/0;return W((function(e,i){var s=[],n=!1,l=function(t){var e=t.window,i=t.subs;e.complete(),i.unsubscribe(),b(s,t),n&&h()},h=function(){if(s){var e=new f;i.add(e);var n=new it,a={window:n,subs:e,seen:0};s.push(a),i.next(n.asObservable()),qt(e,r,(function(){return l(a)}),t)}};null!==a&&a>=0?qt(i,r,h,a,!0):n=!0,h();var u=function(t){return s.slice().forEach(t)},c=function(t){u((function(e){var i=e.window;return t(i)})),t(i),i.unsubscribe()};return e.subscribe(Y(i,(function(t){u((function(e){e.window.next(t),o<=++e.seen&&l(e)}))}),(function(){return c((function(t){return t.complete()}))}),(function(t){return c((function(e){return e.error(t)}))}))),function(){s=null}}))}function pn(t,e){return W((function(i,s){var n=[],r=function(t){for(;0<n.length;)n.shift().error(t);s.error(t)};Jt(t).subscribe(Y(s,(function(t){var i=new it;n.push(i);var a,o=new f;try{a=Jt(e(t))}catch(t){return void r(t)}s.next(i.asObservable()),o.add(a.subscribe(Y(s,(function(){b(n,i),i.complete(),o.unsubscribe()}),T,r)))}),T)),i.subscribe(Y(s,(function(t){var e,i,s=n.slice();try{for(var r=o(s),a=r.next();!a.done;a=r.next()){a.value.next(t)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}}),(function(){for(;0<n.length;)n.shift().complete();s.complete()}),r,(function(){for(;0<n.length;)n.shift().unsubscribe()})))}))}function gn(t){return W((function(e,i){var s,n,r=function(t){s.error(t),i.error(t)},a=function(){var e;null==n||n.unsubscribe(),null==s||s.complete(),s=new it,i.next(s.asObservable());try{e=Jt(t())}catch(t){return void r(t)}e.subscribe(n=Y(i,a,a,r))};a(),e.subscribe(Y(i,(function(t){return s.next(t)}),(function(){s.complete(),i.complete()}),r,(function(){null==n||n.unsubscribe(),s=null})))}))}function mn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Bt(t);return W((function(e,s){for(var n=t.length,r=new Array(n),a=t.map((function(){return!1})),o=!1,u=function(e){Jt(t[e]).subscribe(Y(s,(function(t){r[e]=t,o||a[e]||(a[e]=!0,(o=a.every(V))&&(a=null))}),T))},c=0;c<n;c++)u(c);e.subscribe(Y(s,(function(t){if(o){var e=h([t],l(r));s.next(i?i.apply(void 0,h([],l(e))):e)}})))}))}function bn(t){return Ii(gi,t)}function fn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return W((function(e,i){gi.apply(void 0,h([e],l(t))).subscribe(i)}))}function vn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fn.apply(void 0,h([],l(t)))}},function(t,e,i){var s=i(68),n="object"==typeof self&&self&&self.Object===Object&&self,r=s||n||Function("return this")();t.exports=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5AugmentVarSignalsNames=void 0;const s=i(1),n=i(2);class r{static getUpdatedAttrIdxPlaceholderValue(t,e,i){const s=new RegExp(e,"g");if(!s.test(t))return t;const n=t.replace(s,"").trim(),r=/\s*(\d+)\s*\+{1}\s*(\d+)\s*\*{1}\s*/.exec(n);if(null!==r&&r[0]===n){const t=parseInt(r[1],10);return(parseInt(r[2],10)*i+t).toString()}const a=/\s*(\d+)\s*\+{0,1}\s*/.exec(n);if(null!==a&&a[0]===n){return(i+parseInt(a[1],10)).toString()}return t.replace(s,String(i)).trim()}static replaceAttrIdxPlaceholder(t,e,i,s,n){const a=`{{${n}}}`;if(i.indexOf(a)>-1)if("context"===e){const n=i.split(";");for(let t=0;t<n.length;t++){const e=n[t],i=e.indexOf(":");if(i>0&&e.length>i+1){const o=e.substr(i+1);o.indexOf(a)>-1&&(n[t]=e.substring(0,i+1)+r.getUpdatedAttrIdxPlaceholderValue(o,a,s))}}t.setAttribute(e,String(n.join(";")))}else t.setAttribute(e,r.getUpdatedAttrIdxPlaceholderValue(i,a,s))}static iterateAttributesInTemplate(t,e,i){const s=t.querySelectorAll("*");if(0!==s.length)for(let t=0;t<s.length;t++){const n=s[t];void 0!==i&&i(n),Array.from(n.attributes).forEach(t=>{const i=t.value.trim();e(n,t.name,i)})}}static incrementOrPrependAttrValue(t,e,i,n,r){const a=/({{[\w\-]+}})/g,o=i.replace(a,"");if(s.Ch5Signal.isIntegerSignalName(o)){if(n>0){const s=parseInt(o,10)+n,r=i.match(a),l=null!==r?`${s}${r.join("")}`:""+s;t.setAttribute(e,l)}}else t.setAttribute(e,`${r}${i}`)}static differentiateTmplElemsAttrs(t,e,i,s,a){r.iterateAttributesInTemplate(t,(t,o,l)=>{const h=n.Ch5SignalAttributeRegistry.instance.getElementAttributeEntry(t.tagName,o);if(void 0!==h){const u=h[n.Ch5SignalAttributeRegistry.CONTRACT_NAME]?e:"";let c=0;void 0!==h[n.Ch5SignalAttributeRegistry.BOOLEAN_JOIN]?c=i:void 0!==h[n.Ch5SignalAttributeRegistry.NUMERIC_JOIN]?c=s:void 0!==h[n.Ch5SignalAttributeRegistry.STRING_JOIN]&&(c=a),r.incrementOrPrependAttrValue(t,o,l,c,u)}},t=>{const o=n.Ch5SignalAttributeRegistry.instance.getElementDefaultAttributeEntries(t.tagName);void 0!==o&&(e.length>0&&r.addDefaultEntriesForDifferentiation(t,o.contractName),i>0&&r.addDefaultEntriesForDifferentiation(t,o.booleanJoin),s>0&&r.addDefaultEntriesForDifferentiation(t,o.numericJoin),a>0&&r.addDefaultEntriesForDifferentiation(t,o.stringJoin))})}static addDefaultEntriesForDifferentiation(t,e){void 0!==e&&e.attributes.forEach(i=>{null===t.getAttribute(i)&&t.setAttribute(i,e.defaultValue)})}static replaceIndexIdInTmplElemsAttrs(t,e,i){r.iterateAttributesInTemplate(t.content,(t,s,n)=>{r.replaceAttrIdxPlaceholder(t,s,n,e,i)},t=>{"TEMPLATE"===t.tagName&&r.replaceIndexIdInTmplElemsAttrs(t,e,i)})}static replaceIndexIdInTmplElemsContent(t,e,i){let s=t.innerHTML;const n=`{{${i}}}`;s.indexOf(n)>-1&&(s=s.replace(new RegExp(n,"g"),String(e)),t.innerHTML=s)}}e.Ch5AugmentVarSignalsNames=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Button=void 0;const s=i(2),n=i(74);class r extends n.Ch5ButtonBase{constructor(t){super(t),this.buttonListContractObj=t}static registerSignalAttributeTypes(){s.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(r.ELEMENT_NAME,r.SIGNAL_ATTRIBUTE_TYPES)}static registerSignalAttributeDefaults(){s.Ch5SignalAttributeRegistry.instance.addElementDefaultAttributeEntries(r.ELEMENT_NAME,{contractName:{attributes:["contractname"],defaultValue:""},booleanJoin:{attributes:["booleanjoinoffset"],defaultValue:"0"},numericJoin:{attributes:["numericjoinoffset"],defaultValue:"0"},stringJoin:{attributes:["stringjoinoffset"],defaultValue:"0"}})}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(r.ELEMENT_NAME)&&window.customElements.define(r.ELEMENT_NAME,r)}}e.Ch5Button=r,r.ELEMENT_NAME="ch5-button",r.registerCustomElement(),r.registerSignalAttributeTypes(),r.registerSignalAttributeDefaults()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resizeObserver=void 0,e.resizeObserver=function(t,e){new ResizeObserver(e).observe(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NumericFormat=void 0;e.NumericFormat=class{}},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=s(i(0));e.default=class{constructor(t,e){this._pattern=new RegExp("([\\w\\.]*)\\((.*)\\)","i"),this._callbacks=[],this._context={},this.context=t,this.prepareCallbacks(e)}run(t){this._callbacks.forEach(e=>{const i=this.getNestedMethod(e.reference);if(!n.default.isNil(i))if(this.isNativeMethod(i))i.apply(null,e.arguments);else{let s=e.arguments;n.default.isNil(t)?s=e.arguments:s[0]=t,i.apply(this.context,s)}})}set callbacks(t){this._callbacks=t}get callbacks(){return this._callbacks}set context(t){this._context=t}get context(){return this._context}prepareCallbacks(t){if(n.default.isNil(t))return;const e=window,i=t.split(";");this._callbacks=i.filter(t=>{if(this._pattern.test(t)){const e=t.match(this._pattern),i=n.default.isNil(e)?"":e[1];if(!n.default.isUndefined(this.getNestedMethod(i)))return!0;console.warn("Undefined method "+t)}return!1}).map(t=>{const i=t.match(this._pattern),s=n.default.isNil(i)?"":i[1];let r=(n.default.isNil(i)||n.default.isNil(i[2])?"":i[2]).split(",");return r=r.map(t=>{const i=t.replace(/['"]/g,"");return t.indexOf("'")>-1?i:n.default.isNaN(parseFloat(t))?"true"===i||"false"===i?"true"===i:e[i]:parseFloat(i)}),{reference:s,arguments:r}})}getNestedMethod(t,e){const i=window;if(n.default.isNil(t))return;const s=t.split(".");let r=null;return r=n.default.isUndefined(e)?i[s[0]]:e[s[0]],n.default.isObject(r)&&!n.default.isFunction(r)&&(r=this.getNestedMethod(s[1],r)),r}isNativeMethod(t){return-1!==t.toString().indexOf("[native code]")}}},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(114),e),n(i(73),e),n(i(162),e),n(i(164),e),n(i(169),e),n(i(171),e),n(i(40),e),n(i(1),e),n(i(79),e),n(i(193),e),n(i(196),e),n(i(199),e),n(i(201),e),n(i(203),e),n(i(206),e),n(i(208),e),n(i(210),e),n(i(220),e),n(i(222),e),n(i(47),e),n(i(226),e),n(i(238),e),n(i(93),e),n(i(56),e),n(i(241),e),n(i(243),e),n(i(244),e),n(i(246),e),n(i(248),e),n(i(257),e),n(i(263),e),n(i(265),e),n(i(268),e),n(i(271),e),n(i(273),e),n(i(277),e),n(i(279),e),n(i(281),e),n(i(286),e),n(i(316),e),n(i(321),e),n(i(6),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogEndpointsEnum=e.AppendersEnum=e.LogLevelEnum=void 0,function(t){t[t.default=0]="default",t[t.info=1]="info",t[t.warning=2]="warning",t[t.error=3]="error"}(e.LogLevelEnum||(e.LogLevelEnum={})),function(t){t.remote="remote",t.console="console"}(e.AppendersEnum||(e.AppendersEnum={})),function(t){t.log="log"}(e.LogEndpointsEnum||(e.LogEndpointsEnum={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5TranslationUtility=void 0;const s=i(53),n=i(28);class r{constructor(){this._translatorBeginKey="",this._translatorEndKey="",this.translatorBeginKey=s.Ch5TranslationConfiguration.translationTokenStartDelimiter,this.translatorEndKey=s.Ch5TranslationConfiguration.translationTokenEndDelimiter}static getInstance(){return void 0===r._instance&&(r._instance=new r),r._instance}getTranslator(){return n.translationFactory.translator}valuesToTranslation(t){const e=new RegExp("(\\"+this.translatorBeginKey+")([a-zA-Z0-9\\.]+)\\w+(\\"+this.translatorEndKey+")","g");return t.match(e)}hasMultipleIdentifiers(t){const e=new RegExp("(\\"+this.translatorBeginKey+")([a-zA-Z0-9\\.]+)\\w+(\\"+this.translatorEndKey+")","g");return!!(t.match(e)&&t.match(e).length>1)}isTranslationIdentifier(t){return new RegExp("(\\"+this.translatorBeginKey+")([a-zA-Z0-9\\.]+)\\w+(\\"+this.translatorEndKey+")","g").test(t)}stripDownTranslationCharacters(t){const e=new RegExp("^(\\"+this.translatorBeginKey+")([a-zA-Z0-9\\.]+)(\\"+this.translatorEndKey+")$");let i="";return e.exec(t)&&e.exec(t).length>0&&(i=e.exec(t)[2]),i}set translatorBeginKey(t){null!=t&&(this._translatorBeginKey=t.split("").join("\\"))}get translatorBeginKey(){return this._translatorBeginKey}set translatorEndKey(t){null!=t&&(this._translatorEndKey=t.split("").join("\\"))}get translatorEndKey(){return this._translatorEndKey}_t(t){let e=t;const i=this.valuesToTranslation(t);return i&&i.length>0&&i.forEach(t=>{if(this.isTranslationIdentifier(t)){const i=this.stripDownTranslationCharacters(t);if(this.getTranslator().exists(i)){const s=this.getTranslator().t(i);e=e.replace(t,s)}}}),e}translatedValue(t){let e=t;return e=this.isTranslationIdentifier(t)?this._t(t):t,e}}e.Ch5TranslationUtility=r},function(t,e,i){var s=i(138),n=i(143);t.exports=function(t,e){var i=n(t,e);return s(i)?i:void 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCSSCustomProperty=e.normalizeEvent=e.intGetter=e.intSetter=e.booleanGetter=e.booleanSetter=e.clamp=void 0,e.clamp=function(t,e=t,i=t){let s=t;if(e>i)throw new RangeError(`'min' ${e} should be lower than 'max' ${i}`);return t<e&&(s=e),t>i&&(s=i),s},e.booleanSetter=function(t,e,i){t.setAttribute(e,i.toString())},e.booleanGetter=function(t,e,i=!1){const s=t.getAttribute(e);return null===s?i:function(t){switch(String(t).toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(!1)}}(s)},e.intSetter=function(t,e,i){t.setAttribute(e,i.toString())},e.intGetter=function(t,e,i=0){const s=t.getAttribute(e);return null===s?i:parseInt(s,10)},e.normalizeEvent=function(t){if("touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type){const e=t.changedTouches[0];return{x:e.clientX,y:e.clientY,id:e.identifier,event:t,targetElement:e.target}}return{x:t.clientX,y:t.clientY,id:null,event:t,targetElement:t.target}},e.getCSSCustomProperty=function(t,e){const i=getComputedStyle(t);return String(i.getPropertyValue(e)).trim()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ListAbstractHelper=void 0;e.Ch5ListAbstractHelper=class{constructor(t){this._list={},this._templateHelper={},this._eventManager={},this._animationHelper={},this._list=t}addTemplateHelper(t){this._templateHelper=t}addAnimationHelper(t){this._animationHelper=t}addEventManager(t){this._eventManager=t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Debug=void 0;const s=i(22);class n{static shouldDisplay(t){return n._config.hasOwnProperty(t)&&!0===n._config[t]}static info(t,e,...i){n.shouldDisplay(t)&&console.log(t+":"+e,i)}static loadConfig(t){n._config=t}static setConfigKeyValue(t,e){n._config[t]=e}static getConfig(){return n._config}static getConfigKeyValue(t){return n._config[t]}static enableAll(){for(const t in n._config)n._config.hasOwnProperty(t)&&(n._config[t]=!0)}static disableAll(){for(const t in n._config)n._config.hasOwnProperty(t)&&(n._config[t]=!1)}}e.Ch5Debug=n,n.DEBUG_MESSAGE_FILTER_SOURCE_KEY="Logger.messagesFilter.source",n.DEBUG_MESSAGE_FILTER_LEVEL_KEY="Logger.messagesFilter.defaultLevel",n.CONSOLE_OVERRIDDEN=!1,n._defaultConfig={"Ch5SignalBridge.constructor":!1,"Ch5SignalBridge.subscribe":!1,"Ch5SignalBridge.unsubscribe":!1,"Ch5SignalBridge.publish":!1,"Ch5SignalBridge.sendBooleanToNative":!1,"Ch5SignalBridge.sendIntegerToNative":!1,"Ch5SignalBridge.sendStringToNative":!1,"Ch5SignalBridge.sendObjectToNative":!1,bridgeReceiveIntegerFromNative:!1,bridgeReceiveBooleanFromNative:!1,bridgeReceiveStringFromNative:!1,bridgeReceiveObjectFromNative:!1,"bridge.rcbTimerCallback":!1,"bridge.clearTimersForSignal":!1,"bridge.rcbIntervalTimerCallback":!1,Ch5Resync:!1,"Logger.messagesFilter.defaultLevel":s.LogLevelEnum.warning},n._config=n._defaultConfig},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.languageChangedSignalName=e.translationFactory=e.Ch5TranslationFactory=void 0;const n=s(i(324)),r=i(54);class a{constructor(){this.receiveUpdateSub="",this._translator={}}get translator(){return this._translator}set translator(t){Object.keys(t).length>0&&(this._translator=t,this.runListeners())}runListeners(){return new r.Ch5TranslationListeners(this.translator)}}e.Ch5TranslationFactory=a,e.translationFactory=new a,e.translationFactory.translator=n.default,e.languageChangedSignalName="language_changed"},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5CoreIntersectionObserver=void 0;const n=s(i(0));class r{constructor(t){this._intersectionObserverConfig={root:null,rootMargin:t&&t.length>0?t:r.observerRootMargin,threshold:r.observerThreshold},this._intersectionObserver=new IntersectionObserver(this.intersectionObserverCallback,this._intersectionObserverConfig)}static getInstance(t){if(r._instance instanceof r)return r._instance;{const e=t&&t.length>0?t:"";r._instance=new r(e)}return r._instance}intersectionObserverCallback(t,e){t.forEach(t=>{const e=t.target;e.elementIntersectionEntry=t,e.elementIsInViewPort=t.isIntersecting,t.target.viewportCallBack(t.target,t.isIntersecting)})}observe(t,e){n.default.isNil(t)||(t.viewportCallBack=e,this._intersectionObserver.observe(t))}unobserve(t){n.default.isNil(t)||(delete t.viewportCallBack,this._intersectionObserver.unobserve(t))}disconnect(){this._intersectionObserver instanceof IntersectionObserver&&this._intersectionObserver.disconnect()}}e.Ch5CoreIntersectionObserver=r,r.observerThreshold=[.2,.3,.4,.5,.6,.7,.8,.9,.91,.92,.93,1],r.observerRootMargin="0px"},function(t,e,i){var s=i(67),n=i(139),r=i(140),a=s?s.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?n(t):r(t)}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Ch5Pressable=void 0,__webpack_require__(32);const rxjs_1=__webpack_require__(14),lodash_1=__importDefault(__webpack_require__(0)),ch5_core_1=__webpack_require__(1);var Ch5PressableFingerStateMode;!function(t){t[t.Idle=0]="Idle",t[t.Start=1]="Start",t[t.FingerDown=2]="FingerDown"}(Ch5PressableFingerStateMode||(Ch5PressableFingerStateMode={}));class Ch5Pressable{constructor(t,e){this._fingerState=new Ch5Pressable.FingerState,this._touchStart=!1,this._touchEnd=!1,this._touchIos=!1,this._pressed=!1,this._released=!0,this._hammerManager=null,this._gestureableSubscription=null,this.TOUCH_TIMEOUT=250,this.PRESS_MOVE_THRESHOLD=10,this.CLICK_MOVE_THRESHOLD=1,this.isTouch=!1,this.isMouse=!1,this._ch5Component=t,this._options=e||null,this.observablePressed=new rxjs_1.Subject,this._pressEvent=new CustomEvent("press",{bubbles:!0,cancelable:!1}),this._releaseEvent=new CustomEvent("release",{bubbles:!0,cancelable:!1}),this._onClick=this._onClick.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onTouchCancel=this._onTouchCancel.bind(this),this._onTouchHoldTimer=this._onTouchHoldTimer.bind(this),this._onHold=this._onHold.bind(this),this._onRelease=this._onRelease.bind(this),this._onPanEnd=this._onPanEnd.bind(this),this._onMouseMove=this._onMouseMove.bind(this)}get ch5Component(){return this._ch5Component}get options(){return this._options}get pressDelayTime(){return null===this._options||lodash_1.default.isNil(this._options.pressDelayTime)?this.TOUCH_TIMEOUT:this._options.pressDelayTime}get pressDelayMoveDistance(){return null===this._options||lodash_1.default.isNil(this._options.pressDelayDistance)?this.PRESS_MOVE_THRESHOLD:this._options.pressDelayDistance}get clickDelayMoveDistance(){return null===this.options||lodash_1.default.isNil(this.options.clickDelayDistance)?this.CLICK_MOVE_THRESHOLD:this.options.clickDelayDistance}init(){this._hammerManager=new Hammer(this._ch5Component,{touchAction:"auto"}),this._subscribeToGestureableProp(),this._attachEvents()}setPressed(t){!0===this._pressed?!1===t&&this._onRelease():!0===t&&this._onHold()}destroy(){this._unsubscribeFromGestureableProp(),this._removeEvents()}_attachEvents(){this._ch5Component.addEventListener("click",this._onClick),this._ch5Component.addEventListener("mousedown",this._onMouseDown,{passive:!0}),this._ch5Component.addEventListener("mouseup",this._onMouseUp),this._ch5Component.addEventListener("mousemove",this._onMouseMove),this._ch5Component.addEventListener("mouseleave",this._onMouseLeave),this._ch5Component.addEventListener("mouseout",this._onMouseLeave),this._ch5Component.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this._ch5Component.addEventListener("touchmove",this._onTouchMove),this._ch5Component.addEventListener("touchend",this._onTouchEnd),this._ch5Component.addEventListener("touchcancel",this._onTouchCancel)}_removeEvents(){this._ch5Component.removeEventListener("click",this._onClick),this._ch5Component.removeEventListener("mousedown",this._onMouseDown),this._ch5Component.removeEventListener("mouseup",this._onMouseUp),this._ch5Component.removeEventListener("mouseleave",this._onMouseLeave),this._ch5Component.removeEventListener("touchstart",this._onTouchStart),this._ch5Component.removeEventListener("touchmove",this._onTouchMove),this._ch5Component.removeEventListener("touchend",this._onTouchEnd),this._ch5Component.removeEventListener("touchcancel",this._onTouchCancel),this._removeEventsFromHammer()}_subscribeToGestureableProp(){null===this._gestureableSubscription&&(this._gestureableSubscription=this._ch5Component.observableGestureableProperty.subscribe(t=>{t?this._attachEventsFromHammer():this._removeEventsFromHammer()}))}_unsubscribeFromGestureableProp(){null!==this._gestureableSubscription&&(this._gestureableSubscription.unsubscribe(),this._gestureableSubscription=null)}_attachEventsFromHammer(){null!==this._hammerManager&&(this._hammerManager.on("press",this._onHold),this._hammerManager.on("pressup",this._onRelease),this._hammerManager.on("panend",this._onPanEnd))}_removeEventsFromHammer(){null!==this._hammerManager&&(this._hammerManager.off("press",this._onHold),this._hammerManager.off("pressup",this._onRelease),this._hammerManager.off("panend",this._onPanEnd),this._hammerManager.destroy(),this._hammerManager=null)}_onClick(t){this._touchStart=!1,this._touchEnd=!1}_onMouseDown(t){if(this._touchStart)return;if(this.isTouch)return;this.isMouse=!0,this.isTouch=!1;const e=t;this._fingerState.mode===Ch5PressableFingerStateMode.Idle&&(this._fingerState.mode=Ch5PressableFingerStateMode.Start,this._fingerState.touchHoldTimer=window.setTimeout(this._onTouchHoldTimer,this.pressDelayTime),this._fingerState.touchStartLocationX=e.clientX,this._fingerState.touchStartLocationY=e.clientY)}_onMouseMove(t){if(!this.isTouch&&this._fingerState.mode===Ch5PressableFingerStateMode.Start){const e=t;if(null!==e){const t=e.clientX-this._fingerState.touchStartLocationX,i=e.clientY-this._fingerState.touchStartLocationY,s=Math.sqrt(Math.pow(t,2)+Math.pow(i,2));this._ch5Component.info(`DELETE ME Ch5Pressable.onMouseMove() , ${e.clientX}, ${e.clientY}, ${s}`),s>this.clickDelayMoveDistance&&(this._ch5Component.info(`Ch5Pressable.onMouseMove() cancelling press, ${e.clientX}, ${e.clientY}, ${s}`),this._touchStart=!1,this._fingerState.reset())}}}_onMouseUp(t){if(this.isTouch)return;null!==t&&(this._fingerState.mode===Ch5PressableFingerStateMode.Start&&this._fingerIsDownActions(),this._touchEnd||(this._touchEnd=!0),this._fingerState.mode===Ch5PressableFingerStateMode.FingerDown&&(this._ch5Component.gestureable||this._onRelease()),this._fingerState.reset())}_onMouseLeave(t){if(this.isTouch)return;null!==t&&(this._fingerState.mode===Ch5PressableFingerStateMode.Start&&this._fingerIsDownActions(),this._touchEnd||(this._touchEnd=!0),this._fingerState.mode===Ch5PressableFingerStateMode.FingerDown&&(this._ch5Component.gestureable||this._onRelease()),this._fingerState.reset())}_onTouchStart(t){if(this.isMouse)return;if((0,ch5_core_1.isIosDevice)()){if(!0===this._touchIos)return;this._touchIos=!0}this.isTouch=!0,this.isMouse=!1,this._touchStart=!0;const e=t.changedTouches[0];this._fingerState.mode===Ch5PressableFingerStateMode.Idle&&(this._fingerState.mode=Ch5PressableFingerStateMode.Start,this._fingerState.touchHoldTimer=window.setTimeout(this._onTouchHoldTimer,this.pressDelayTime),this._fingerState.touchStartLocationX=e.clientX,this._fingerState.touchStartLocationY=e.clientY,this._fingerState.touchPointId=e.identifier)}_onTouchMove(t){if(!this.isMouse&&this._fingerState.mode===Ch5PressableFingerStateMode.Start){const e=t,i=this._fingerState.getTouchFromTouchList(e);if(null!==i){const e=i.clientX-this._fingerState.touchStartLocationX,s=i.clientY-this._fingerState.touchStartLocationY,n=Math.sqrt(Math.pow(e,2)+Math.pow(s,2));this._ch5Component.info(`DELETE ME Ch5Pressable._onTouchMove() , ${i.clientX}, ${i.clientY}, ${i.identifier}, ${n}`),n>this.pressDelayMoveDistance&&(0,ch5_core_1.isIosDevice)()&&!0===this._touchIos&&this._onTouchEnd(t)}}}_onTouchHoldTimer(t){this._fingerState.touchHoldTimer=null,this._fingerIsDownActions()}_fingerIsDownActions(){this._fingerState.mode=Ch5PressableFingerStateMode.FingerDown,this._ch5Component.gestureable||this._onHold(),null!==this._fingerState.touchHoldTimer&&(window.clearTimeout(this._fingerState.touchHoldTimer),this._fingerState.touchHoldTimer=null)}_onTouchEnd(t){if(this.isMouse)return;const e=t;null!==this._fingerState.getTouchFromTouchList(e)&&(this._fingerState.mode===Ch5PressableFingerStateMode.Start&&this._fingerIsDownActions(),this._touchEnd||(this._touchEnd=!0),this._fingerState.mode===Ch5PressableFingerStateMode.FingerDown&&(this._ch5Component.gestureable||this._onRelease()),this._fingerState.reset())}_onTouchCancel(t){this._ch5Component.info("Ch5Pressable._onCancel()"),this._onTouchEnd(t)}_onHold(){if(this._ch5Component.info("Ch5Pressable._onHold() alreadyPressed:"+this._pressed),!this._pressed){this._addCssPressClass(),this._pressed=!0,this._released=!1,this.observablePressed.next(this._pressed),this._ch5Component.setAttribute("pressed","true"),this._ch5Component.dispatchEvent(this._pressEvent);const onPressAttrib=this._ch5Component.getAttribute("onpress");if(null!==onPressAttrib)try{eval(onPressAttrib)}catch(t){}}}_onRelease(){if(this._ch5Component.info("Ch5Pressable._onRelease() alreadyReleased:"+this._released),!this._released){setTimeout(()=>{this._removeCssPressClass(),(0,ch5_core_1.isIosDevice)()&&setTimeout(()=>{this._touchIos=!1},300)},this.pressDelayTime),this._pressed=!1,this._released=!0,this.observablePressed.next(this._pressed),this._ch5Component.removeAttribute("pressed"),this._ch5Component.dispatchEvent(this._releaseEvent);const onReleaseAttrib=this._ch5Component.getAttribute("onrelease");if(null!==onReleaseAttrib)try{eval(onReleaseAttrib)}catch(t){}}}_onPanEnd(){this._ch5Component.info("Ch5Pressable._onPanEnd()"),this._onRelease()}_addCssPressClass(){null!==this._options&&void 0!==this._options.cssTargetElement.classList&&this._options.cssPressedClass.split(" ").forEach(t=>{var e;null===(e=this._options)||void 0===e||e.cssTargetElement.classList.add(t)})}_removeCssPressClass(){null!==this._options&&void 0!==this._options.cssTargetElement.classList&&this._options.cssPressedClass.split(" ").forEach(t=>{var e;null===(e=this._options)||void 0===e||e.cssTargetElement.classList.remove(t)})}}exports.Ch5Pressable=Ch5Pressable,Ch5Pressable.FingerState=class{constructor(){this.touchHoldTimer=null,this.touchPointId=-1,this.mode=Ch5PressableFingerStateMode.Idle,this.touchStartLocationX=0,this.touchStartLocationY=0,this.touchPointId=-1,this.touchHoldTimer=null}getTouchFromTouchList(t){if(void 0!==t.changedTouches)for(let e=0;e<t.changedTouches.length;e++)if(t.changedTouches[e].identifier===this.touchPointId)return t.changedTouches[e];return null}reset(){this.mode=Ch5PressableFingerStateMode.Idle,this.touchStartLocationX=0,this.touchStartLocationY=0,this.touchPointId=-1,null!==this.touchHoldTimer&&(window.clearTimeout(this.touchHoldTimer),this.touchHoldTimer=null)}}},function(t,e,i){var s;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(n,r,a,o){"use strict";var l,h=["","webkit","Moz","MS","ms","o"],u=r.createElement("div"),c=Math.round,d=Math.abs,p=Date.now;function g(t,e,i){return setTimeout(C(t,i),e)}function m(t,e,i){return!!Array.isArray(t)&&(b(t,i[e],i),!0)}function b(t,e,i){var s;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(s=0;s<t.length;)e.call(i,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(i,t[s],s,t)}function f(t,e,i){var s="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=n.console&&(n.console.warn||n.console.log);return r&&r.call(n.console,s,i),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var n in s)s.hasOwnProperty(n)&&(e[n]=s[n])}return e}:Object.assign;var v=f((function(t,e,i){for(var s=Object.keys(e),n=0;n<s.length;)(!i||i&&void 0===t[s[n]])&&(t[s[n]]=e[s[n]]),n++;return t}),"extend","Use `assign`."),_=f((function(t,e){return v(t,e,!0)}),"merge","Use `assign`.");function S(t,e,i){var s,n=e.prototype;(s=t.prototype=Object.create(n)).constructor=t,s._super=n,i&&l(s,i)}function C(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function y(t,e){return void 0===t?e:t}function T(t,e,i){b(w(e),(function(e){t.addEventListener(e,i,!1)}))}function A(t,e,i){b(w(e),(function(e){t.removeEventListener(e,i,!1)}))}function O(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function I(t,e){return t.indexOf(e)>-1}function w(t){return t.trim().split(/\s+/g)}function P(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var s=0;s<t.length;){if(i&&t[s][i]==e||!i&&t[s]===e)return s;s++}return-1}function N(t){return Array.prototype.slice.call(t,0)}function L(t,e,i){for(var s=[],n=[],r=0;r<t.length;){var a=e?t[r][e]:t[r];P(n,a)<0&&s.push(t[r]),n[r]=a,r++}return i&&(s=e?s.sort((function(t,i){return t[e]>i[e]})):s.sort()),s}function M(t,e){for(var i,s,n=e[0].toUpperCase()+e.slice(1),r=0;r<h.length;){if((s=(i=h[r])?i+n:e)in t)return s;r++}}var R=1;function x(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||n}var k="ontouchstart"in n,B=void 0!==M(n,"PointerEvent"),H=k&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),V=["x","y"],F=["clientX","clientY"];function D(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&i.handler(e)},this.init()}function U(t,e,i){var s=i.pointers.length,n=i.changedPointers.length,r=1&e&&s-n==0,a=12&e&&s-n==0;i.isFirst=!!r,i.isFinal=!!a,r&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,s=e.pointers,n=s.length;i.firstInput||(i.firstInput=j(e));n>1&&!i.firstMultiple?i.firstMultiple=j(e):1===n&&(i.firstMultiple=!1);var r=i.firstInput,a=i.firstMultiple,o=a?a.center:r.center,l=e.center=z(s);e.timeStamp=p(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=G(o,l),e.distance=$(o,l),function(t,e){var i=e.center,s=t.offsetDelta||{},n=t.prevDelta||{},r=t.prevInput||{};1!==e.eventType&&4!==r.eventType||(n=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},s=t.offsetDelta={x:i.x,y:i.y});e.deltaX=n.x+(i.x-s.x),e.deltaY=n.y+(i.y-s.y)}(i,e),e.offsetDirection=Y(e.deltaX,e.deltaY);var h=W(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=d(h.x)>d(h.y)?h.x:h.y,e.scale=a?(u=a.pointers,c=s,$(c[0],c[1],F)/$(u[0],u[1],F)):1,e.rotation=a?function(t,e){return G(e[1],e[0],F)+G(t[1],t[0],F)}(a.pointers,s):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,s,n,r,a=t.lastInterval||e,o=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(o>25||void 0===a.velocity)){var l=e.deltaX-a.deltaX,h=e.deltaY-a.deltaY,u=W(o,l,h);s=u.x,n=u.y,i=d(u.x)>d(u.y)?u.x:u.y,r=Y(l,h),t.lastInterval=e}else i=a.velocity,s=a.velocityX,n=a.velocityY,r=a.direction;e.velocity=i,e.velocityX=s,e.velocityY=n,e.direction=r}(i,e);var u,c;var g=t.element;O(e.srcEvent.target,g)&&(g=e.srcEvent.target);e.target=g}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function j(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:c(t.pointers[i].clientX),clientY:c(t.pointers[i].clientY)},i++;return{timeStamp:p(),pointers:e,center:z(e),deltaX:t.deltaX,deltaY:t.deltaY}}function z(t){var e=t.length;if(1===e)return{x:c(t[0].clientX),y:c(t[0].clientY)};for(var i=0,s=0,n=0;n<e;)i+=t[n].clientX,s+=t[n].clientY,n++;return{x:c(i/e),y:c(s/e)}}function W(t,e,i){return{x:e/t||0,y:i/t||0}}function Y(t,e){return t===e?1:d(t)>=d(e)?t<0?2:4:e<0?8:16}function $(t,e,i){i||(i=V);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(s*s+n*n)}function G(t,e,i){i||(i=V);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,s)/Math.PI}D.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(x(this.element),this.evWin,this.domHandler)}};var X={mousedown:1,mousemove:2,mouseup:4};function J(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,D.apply(this,arguments)}S(J,D,{handler:function(t){var e=X[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},q={2:"touch",3:"pen",4:"mouse",5:"kinect"},Z="pointerdown",Q="pointermove pointerup pointercancel";function tt(){this.evEl=Z,this.evWin=Q,D.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}n.MSPointerEvent&&!n.PointerEvent&&(Z="MSPointerDown",Q="MSPointerMove MSPointerUp MSPointerCancel"),S(tt,D,{handler:function(t){var e=this.store,i=!1,s=t.type.toLowerCase().replace("ms",""),n=K[s],r=q[t.pointerType]||t.pointerType,a="touch"==r,o=P(e,t.pointerId,"pointerId");1&n&&(0===t.button||a)?o<0&&(e.push(t),o=e.length-1):12&n&&(i=!0),o<0||(e[o]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(o,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function it(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,D.apply(this,arguments)}function st(t,e){var i=N(t.touches),s=N(t.changedTouches);return 12&e&&(i=L(i.concat(s),"identifier",!0)),[i,s]}S(it,D,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var i=st.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var nt={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function rt(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},D.apply(this,arguments)}function at(t,e){var i=N(t.touches),s=this.targetIds;if(3&e&&1===i.length)return s[i[0].identifier]=!0,[i,i];var n,r,a=N(t.changedTouches),o=[],l=this.target;if(r=i.filter((function(t){return O(t.target,l)})),1===e)for(n=0;n<r.length;)s[r[n].identifier]=!0,n++;for(n=0;n<a.length;)s[a[n].identifier]&&o.push(a[n]),12&e&&delete s[a[n].identifier],n++;return o.length?[L(r.concat(o),"identifier",!0),o]:void 0}S(rt,D,{handler:function(t){var e=nt[t.type],i=at.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});function ot(){D.apply(this,arguments);var t=C(this.handler,this);this.touch=new rt(this.manager,t),this.mouse=new J(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function lt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ht.call(this,e)):12&t&&ht.call(this,e)}function ht(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var s=this.lastTouches;setTimeout((function(){var t=s.indexOf(i);t>-1&&s.splice(t,1)}),2500)}}function ut(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var n=this.lastTouches[s],r=Math.abs(e-n.x),a=Math.abs(i-n.y);if(r<=25&&a<=25)return!0}return!1}S(ot,D,{handler:function(t,e,i){var s="touch"==i.pointerType,n="mouse"==i.pointerType;if(!(n&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(s)lt.call(this,e,i);else if(n&&ut.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ct=M(u.style,"touchAction"),dt=void 0!==ct,pt=function(){if(!dt)return!1;var t={},e=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){t[i]=!e||n.CSS.supports("touch-action",i)})),t}();function gt(t,e){this.manager=t,this.set(e)}gt.prototype={set:function(t){"compute"==t&&(t=this.compute()),dt&&this.manager.element.style&&pt[t]&&(this.manager.element.style[ct]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return b(this.manager.recognizers,(function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(I(t,"none"))return"none";var e=I(t,"pan-x"),i=I(t,"pan-y");if(e&&i)return"none";if(e||i)return e?"pan-x":"pan-y";if(I(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var s=this.actions,n=I(s,"none")&&!pt.none,r=I(s,"pan-y")&&!pt["pan-y"],a=I(s,"pan-x")&&!pt["pan-x"];if(n){var o=1===t.pointers.length,l=t.distance<2,h=t.deltaTime<250;if(o&&l&&h)return}if(!a||!r)return n||r&&6&i||a&&24&i?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function mt(t){this.options=l({},this.defaults,t||{}),this.id=R++,this.manager=null,this.options.enable=y(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function bt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function ft(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function vt(t,e){var i=e.manager;return i?i.get(t):t}function _t(){mt.apply(this,arguments)}function St(){_t.apply(this,arguments),this.pX=null,this.pY=null}function Ct(){_t.apply(this,arguments)}function Et(){mt.apply(this,arguments),this._timer=null,this._input=null}function yt(){_t.apply(this,arguments)}function Tt(){_t.apply(this,arguments)}function At(){mt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ot(t,e){return(e=e||{}).recognizers=y(e.recognizers,Ot.defaults.preset),new It(t,e)}mt.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=vt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)||(t=vt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===P(e,t=vt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=vt(t,this);var e=P(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function s(i){e.manager.emit(i,t)}i<8&&s(e.options.event+bt(i)),s(e.options.event),t.additionalEvent&&s(t.additionalEvent),i>=8&&s(e.options.event+bt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},S(_t,mt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,s=6&e,n=this.attrTest(t);return s&&(8&i||!n)?16|e:s||n?4&i?8|e:2&e?4|e:2:32}}),S(St,_t,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,i=!0,s=t.distance,n=t.direction,r=t.deltaX,a=t.deltaY;return n&e.direction||(6&e.direction?(n=0===r?1:r<0?2:4,i=r!=this.pX,s=Math.abs(t.deltaX)):(n=0===a?1:a<0?8:16,i=a!=this.pY,s=Math.abs(t.deltaY))),t.direction=n,i&&s>e.threshold&&n&e.direction},attrTest:function(t){return _t.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=ft(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),S(Ct,_t,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),S(Et,mt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!s||!i||12&t.eventType&&!n)this.reset();else if(1&t.eventType)this.reset(),this._timer=g((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),S(yt,_t,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),S(Tt,_t,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return St.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return 30&i?e=t.overallVelocity:6&i?e=t.overallVelocityX:24&i&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=ft(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),S(At,mt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(s&&n&&i){if(4!=t.eventType)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||$(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&r?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=g((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=g((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ot.VERSION="2.0.7",Ot.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[yt,{enable:!1}],[Ct,{enable:!1},["rotate"]],[Tt,{direction:6}],[St,{direction:6},["swipe"]],[At],[At,{event:"doubletap",taps:2},["tap"]],[Et]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function It(t,e){var i;this.options=l({},Ot.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(B?tt:H?rt:k?ot:J))(i,U),this.touchAction=new gt(this,this.options.touchAction),wt(this,!0),b(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function wt(t,e){var i,s=t.element;s.style&&(b(t.options.cssProps,(function(n,r){i=M(s.style,r),e?(t.oldCssProps[i]=s.style[i],s.style[i]=n):s.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}It.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var s=this.recognizers,n=e.curRecognizer;(!n||n&&8&n.state)&&(n=e.curRecognizer=null);for(var r=0;r<s.length;)i=s[r],2===e.stopped||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&14&i.state&&(n=e.curRecognizer=i),r++}},get:function(t){if(t instanceof mt)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=P(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var i=this.handlers;return b(w(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var i=this.handlers;return b(w(t),(function(t){e?i[t]&&i[t].splice(P(i[t],e),1):delete i[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=r.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<i.length;)i[s](e),s++}},destroy:function(){this.element&&wt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Ot,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:It,Input:D,TouchAction:gt,TouchInput:rt,MouseInput:J,PointerEventInput:tt,TouchMouseInput:ot,SingleTouchInput:it,Recognizer:mt,AttrRecognizer:_t,Tap:At,Pan:St,Swipe:Tt,Pinch:Ct,Rotate:yt,Press:Et,on:T,off:A,each:b,merge:_,extend:v,assign:l,inherit:S,bindFn:C,prefixed:M}),(void 0!==n?n:"undefined"!=typeof self?self:{}).Hammer=Ot,void 0===(s=function(){return Ot}.call(e,i,e,t))||(t.exports=s)}(window,document)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonMode=void 0;const n=i(17),r=i(5),a=i(12),o=s(i(0));class l extends a.Ch5Log{constructor(t){super(),this.parentButton=t,this.logger.start("constructor()"),o.default.isNil(t)?this._parentCh5Button=this.getParentButton():this._parentCh5Button=t,this.logger.stop()}set labelInnerHTML(t){this.logger.start('set labelInnerHTML("'+t+'")'),null!==t?this.setAttribute("labelInnerHTML".toLowerCase(),t):this.removeAttribute("labelInnerHTML"),this._parentCh5Button.createButtonLabel(this),this._parentCh5Button.setButtonDisplay(),this.logger.stop()}get labelInnerHTML(){return this.getAttribute("labelinnerhtml")}set iconClass(t){this.validateAndSetAttributeWithStringType("iconClass",t)}get iconClass(){return this.getAttribute("iconclass")}set hAlignLabel(t){this.validateAndSetAttributeWithCustomType("hAlignLabel",n.Ch5Button.HORIZONTAL_LABEL_ALIGNMENTS,t)}get hAlignLabel(){return this.getAttribute("halignlabel")}set vAlignLabel(t){this.validateAndSetAttributeWithCustomType("vAlignLabel",n.Ch5Button.VERTICAL_LABEL_ALIGNMENTS,t)}get vAlignLabel(){return this.getAttribute("valignlabel")}set checkboxPosition(t){this.validateAndSetAttributeWithCustomType("checkboxPosition",n.Ch5Button.CHECKBOX_POSITIONS,t)}get checkboxPosition(){return this.getAttribute("checkboxposition")}set iconPosition(t){this.validateAndSetAttributeWithCustomType("iconPosition",n.Ch5Button.ICON_POSITIONS,t)}get iconPosition(){return this.getAttribute("iconposition")}set iconUrl(t){this.validateAndSetAttributeWithStringType("iconUrl",t)}get iconUrl(){return this.getAttribute("iconurl")}set type(t){this.logger.log('set type("'+t+'")'),this.validateAndSetAttributeWithCustomType("type",n.Ch5Button.TYPES,t)}get type(){return this.getAttribute("type")}set customClass(t){this.logger.log('set customClass("'+t+'")'),this.validateAndSetAttributeWithStringType("customClass",t)}get customClass(){return this.getAttribute("customclass")}set customStyle(t){this.validateAndSetAttributeWithStringType("customStyle",t)}get customStyle(){return this.getAttribute("customstyle")}set iconUrlFillType(t){this.validateAndSetAttributeWithCustomType("iconUrlFillType",n.Ch5Button.ICON_URL_FILL_TYPE,t)}get iconUrlFillType(){return this.getAttribute("iconurlfilltype")}connectedCallback(){if(this.logger.start("connectedCallback()","ch5-button-mode"),!(this._parentCh5Button instanceof n.Ch5Button))throw new Error("Invalid parent element for ch5-button-mode.");this.setAttribute("role",r.Ch5RoleAttributeMapping.ch5ButtonMode),this.setAttribute("data-ch5-id",this.getCrId()),this.initAttributes(),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()","ch5-button-mode"),this.logger.stop()}static get observedAttributes(){return a.Ch5Log.observedAttributes.concat(["type","iconclass","halignlabel","valignlabel","checkboxposition","iconposition","iconurl","customclass","customstyle","labelinnerhtml","iconurlfilltype"])}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback","ch5-button-mode"),e!==i)switch(this.logger.log('Ch5ButtonMode.attributeChangedCallback("'+t+'","'+e+'","'+i+')"'),t){case"type":this.hasAttribute("type")?this.type=i:this.type=null;break;case"labelinnerhtml":this.hasAttribute("labelinnerhtml")&&(this.labelInnerHTML=i);break;case"iconclass":this.hasAttribute("iconclass")&&(this.iconClass=i);break;case"customclass":this.hasAttribute("customclass")&&(this.customClass=i);break;case"customstyle":this.hasAttribute("customstyle")&&(this.customStyle=i);break;case"halignlabel":this.hasAttribute("halignlabel")?this.hAlignLabel=i:this.hAlignLabel=null;break;case"valignlabel":this.hasAttribute("valignlabel")?this.vAlignLabel=i:this.vAlignLabel=null;break;case"checkboxposition":this.hasAttribute("checkboxposition")&&(this.checkboxPosition=i);break;case"iconposition":this.hasAttribute("iconposition")&&(this.iconPosition=i);break;case"iconurl":this.hasAttribute("iconurl")&&(this.iconUrl=i);break;case"iconurlfilltype":this.hasAttribute("iconurlfilltype")&&(this.iconUrlFillType=i);break;default:super.attributeChangedCallback(t,e,i)}this.logger.stop()}validateAndSetAttributeWithCustomType(t,e,i){null!==i?e.indexOf(i)>=0?(this.setAttribute(t.toLowerCase(),i),this._parentCh5Button.setButtonDisplay()):this.removeAttribute(t):(this.removeAttribute(t),this._parentCh5Button.setButtonDisplay())}validateAndSetAttributeWithStringType(t,e){null!==e?this.setAttribute(t.toLowerCase(),e):this.removeAttribute(t),this._parentCh5Button.setButtonDisplay()}getParentButton(){const t=e=>o.default.isNil(e)||"CH5-BUTTON"===e.nodeName.toString().toUpperCase()?e:t(e.parentNode);return t(this.parentElement)}}e.Ch5ButtonMode=l,l.ELEMENT_NAME="ch5-button-mode","object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(l.ELEMENT_NAME,l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentHelper=void 0;const s=i(1);class n{constructor(){}static getInstance(){return n.instance||(n.instance=new n),n.instance}static getAttributeAsString(t,e,i=""){let s=i;return e=e.toLowerCase(),t&&t.hasAttribute([e])&&(s=t.getAttribute([e])),s}static getAttributeAsBool(t,e,i){let s=i;return e=e.toLowerCase(),t.hasAttribute([e])&&(s="true"===t.getAttribute([e])||!0===t.getAttribute([e])),s}static clearComponentContent(t){const e=t.getElementsByClassName(t.primaryCssClass);Array.from(e).forEach(t=>{t.remove()})}static isNullOrUndefined(t){return null==t}static setAttributeToElement(t,e,i){e=e.toLowerCase();let s=null===i?"":i;return!t.hasAttribute(e)&&s.length>0?t.setAttribute(e,s):t.hasAttribute(e)&&(s=t.getAttribute(e)),s}static getBoolFromString(t){return!n.isNullOrUndefined(t)&&"true"===t}static clearSignalValue(t,e,i,n){if(""!==e[i]&&""!==e[n]){const r=s.Ch5Signal.getSubscriptionSignalName(e[n]),a=t.getStringSignal(r);null!==a&&(a.unsubscribe(e[i]),e[n]="")}}static setAttributesBasedValue(t,e,i){return t?e:i}static setAttributeValueOnControl(t,e,i,s,n){const r="_"+e;i!==t[r]&&(s.indexOf(i)>=0?t[r]=i:t[r]=s[0],null!==t[r]&&t.setAttribute(e,t[r]),null!==n&&n())}static setAttributeValueOnControlAsBool(t,e,i,s,n){const r="_"+e;i!==t[r]&&(t[r]="boolean"==typeof i?i:s,null!==t[r]&&t.setAttribute(e,t[r].toString()),null!==n&&n())}}e.ComponentHelper=n},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5List=e.easeMode=e.duration=e.Ch5ListItemAxis=void 0;const n=s(i(11)),r=i(3),a=i(227),o=i(21),l=i(25),h=i(228),u=i(230),c=i(233),d=i(234),p=i(235),g=i(236),m=i(1),b=i(6),f=i(2),v=i(4);!function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(e.Ch5ListItemAxis||(e.Ch5ListItemAxis={})),e.duration=300,e.easeMode="ease-out";class _ extends r.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-list",this._bufferedItems={bufferActive:!1,bufferingComplete:!1,bufferForwardStartIndex:NaN,forwardBufferedItems:[],bufferBackwardsStartIndex:NaN,backwardsBufferedItems:[]},this._appendPosition=0,this._divListWidth=0,this._divListHeight=0,this.itemOffsetWidth=0,this.itemOffsetHeight=0,this.viewportClientHeight=0,this.viewportClientWidth=0,this.divList=document.createElement("div"),this.pointerStartTime=0,this.pointerEndTime=0,this.stepOnX=0,this.stepOnY=0,this.currentPage=0,this.templateElement={},this.sizeResolver={},this._currentXPosition=0,this._currentYPosition=0,this._defaultScrollToTime=500,this._size=1,this._previousSize=1,this._orientation=_.ORIENTATION[0],this._bufferAmount=0,this._itemHeight=null,this._itemWidth=null,this._minWidth=null,this._maxWidth=null,this._minHeight=null,this._maxHeight=null,this._pagedSwipe=!1,this._endless=!1,this._scrollToTime=500,this._indexId=null,this._direction=r.Ch5Common.DIRECTION[0],this._templateVars=null,this._receiveStateSize=null,this._receiveStateSizeSub="",this._receiveStateScrollTo=null,this._receiveStateScrollToSub="",this._receiveStateTemplateVars=null,this._receiveStateTemplateVarsSub="",this._processingPan=!1,this._storedOffsetWidth=0,this._storedOffsetHeight=0,this._tplHtmlString="",this._updateTimer=void 0,this._isPointerActive=!1,this._pointerId=0,this._pointerFirstX=0,this._pointerFirstY=0,this._pointerLastX=0,this._pointerLastY=0,this._pointerCurrentX=0,this._pointerCurrentY=0,this._lastDraggedLayoutIndex=0,this._trackingPointsX=[],this._trackingPointsY=[],this._dragTicking=!1,this._maxDecelVelocity=50,this._minDecelVelocity=20,this._friction=.7,this._attraction=.04,this._decelVelocity=0,this._decelerating=!1,this._scrollToTimeReference=0,this._initCompleted=!1,this._cachedFirstRenderVisibleItemsNr=0,this._items=[],this._lastViewIndex=-1,this._infiniteLoop=!1,this._wrapperTranslateX=0,this._wrapperTranslateY=0,this._selectedIteration=0,this._previousEffectiveLayoutIndex=0,this._isListVisible=!0,this.receiveStateScrollToChanged=!1,this.templateHelper=new h.Ch5ListTemplate(this),this.signalManager=new c.Ch5ListSignalManager(this),this.animationHelper=new d.Ch5ListAnimation(this),this.eventManager=new u.Ch5ListEventManager(this),this.bufferdItemsHelper=new p.Ch5ListBufferedItems(this),this._ch5Properties=new v.Ch5Properties(this,_.COMPONENT_PROPERTIES),this.eventManager.addAnimationHelper(this.animationHelper),this.eventManager.addTemplateHelper(this.templateHelper),this.animationHelper.addTemplateHelper(this.templateHelper),this.animationHelper.addEventManager(this.eventManager),this.bufferdItemsHelper.addTemplateHelper(this.templateHelper)}static registerSignalAttributeTypes(){f.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(_.ELEMENT_NAME,_.SIGNAL_ATTRIBUTE_TYPES)}static registerSignalAttributeDefaults(){f.Ch5SignalAttributeRegistry.instance.addElementDefaultAttributeEntries(_.ELEMENT_NAME,{contractName:{attributes:["contractname"],defaultValue:""},booleanJoin:{attributes:["booleanjoinoffset"],defaultValue:"0"},numericJoin:{attributes:["numericjoinoffset"],defaultValue:"0"},stringJoin:{attributes:["stringjoinoffset"],defaultValue:"0"}})}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(_.ELEMENT_NAME)&&window.customElements.define(_.ELEMENT_NAME,_)}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}connectedCallback(){this._isListVisible=!0,this.contentCleanUp(),(0,m.subscribeInViewPortChange)(this,()=>{this.info(`Ch5List.subscribeInViewPortChange() with elementIsInViewPort: ${this.elementIsInViewPort}, this.receiveStateScrollToChanged: ${this.receiveStateScrollToChanged}, _isListVisible: ${this._isListVisible},  this.hasAttribute('scrollbar'): ${this.hasAttribute("scrollbar")}`),this.elementIsInViewPort&&(this._isListVisible||this.receiveStateScrollToChanged)&&(this.info("Updating View"),this.hasAttribute("scrollbar")&&"true"===String(this.getAttribute("scrollbar"))?(this.templateHelper.customScrollbar(this.divList),setTimeout(()=>{this.templateHelper.resizeList(this.divList,this.templateVars)},.5)):this.templateHelper.resetListLayout(),this.templateHelper.checkAndSetSizes(),this.templateHelper.customScrollbar(this.divList),this._isListVisible=!1,this.receiveStateScrollToChanged=!1,this.hasAttribute("receiveStateScrollTo")&&""!==String(this.getAttribute("receiveStateScrollTo"))&&this.setScrollToContent())});const t=()=>{this.hasAttribute("role")||this.setAttribute("role",b.Ch5RoleAttributeMapping.ch5List),this.hasAttribute("endless")&&(this.templateHelper.endless=!0),this.info("connectedCallback"),this.setAttribute("data-ch5-id",this.getCrId());const t=()=>{this.info("connectedCallback initializations"),this.initializations()},i=()=>{this.info("add mutation observer in order to extract template data"),this._startReadyObserver(),this.initializations()};this._tplHtmlString=this.templateHelper.checkForTemplate(),""===this._tplHtmlString?(i(),this.templateHelper.updateTemplateString(this._tplHtmlString)):t(),this.initCommonMutationObserver(this);const s=(new g.Ch5AnimationFactory).getAnimation(e.duration,e.easeMode,this.divList);this.animationHelper.addAnimationApi(s),this.info("Callback loaded - ch5 list")};Promise.all([customElements.whenDefined("ch5-list")]).then(()=>{t(),this.componentLoadedEvent("ch5-list",this.id)})}initializations(){this.cacheComponentChildrens(),this.initializeAttributes(),this.resolveTemplateChildren(this.templateElement);const t=o.Ch5Config.getTemplateVarsForElement(this);t.length>0&&(this.templateVars=JSON.stringify(t)),this._previousEffectiveLayoutIndex=this.selected,this._tplHtmlString.length<=0||(this.templateHelper.resizeList(this.divList,this.templateVars),this.isPagedSwipeCompatible(this.pagedSwipe)||(this.pagedSwipe=!1),this.initializeEvents(),this._initCompleted=!0)}disconnectedCallback(){this.removeEvents(),this.unsubscribeFromSignals(),(0,m.unSubscribeInViewPortChange)(this),this.disconnectCommonMutationObserver()}unsubscribeFromSignals(){this.info("unsubscribeFromSignals()"),super.unsubscribeFromSignals(),this.signalManager.unsubscribeFromSignals(this.clearStringSignalSubscription)}attributeChangedCallback(t,e,i){if(e===i)return;this.info('ch5-list attributeChangedCallback("'+t+'","'+e+'","'+i+'")'),this.info("attribute changed callback:",t);const s=_.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else switch(t){case"selected":const s=parseInt(i,10);if(!Number.isFinite(s)||s>this._lastViewIndex||s<0)return void(this.selected=Number(e)||0);if(this._infiniteLoop){const t=this.selected+this._selectedIteration*(this._lastViewIndex+1),e=this._previousEffectiveLayoutIndex-t,i=[],s=e<0?this.getItemsPerPage()+e:0;for(let n=-1;n<Math.abs(e);n++)i.push(n+t+s);this._previousEffectiveLayoutIndex=t}break;case"disableanimation":this.animationHelper.disableAnimation=null!==i;break;case"size":const n=i?Number(i):1;this._initCompleted&&n!==this.size&&(this.size=n,this.templateHelper.resizeList(this.divList,this.templateVars));break;case"orientation":this.hasAttribute("orientation")?this.orientation=i:this.orientation=_.ORIENTATION[0];break;case"bufferamount":this.hasAttribute("bufferamount")?this.bufferAmount=Number(i):this.bufferAmount=0;break;case"itemheight":this.hasAttribute("itemheight")&&(this.itemHeight=i);break;case"itemwidth":this.hasAttribute("itemwidth")&&(this.itemWidth=i);break;case"minwidth":this.hasAttribute("minwidth")&&(this.minWidth=i);break;case"maxwidth":this.hasAttribute("maxwidth")&&(this.maxWidth=i);break;case"minheight":this.hasAttribute("minheight")&&(this.minHeight=i);break;case"maxheight":this.hasAttribute("maxheight")&&(this.maxHeight=i);break;case"indexid":this.hasAttribute("indexid")&&(this.indexId=i);break;case"pagedswipe":this.hasAttribute("pagedswipe")&&(this.pagedSwipe="true"===i);break;case"endless":this.hasAttribute("endless")&&"false"!==i?this.endless=!0:this.endless=!1,this._updateInfiniteLoop(),this._computeItemsPerViewLayout();break;case"scrolltotime":this.hasAttribute("scrolltotime")&&(this.scrollToTime=Number(i));break;case"dir":this.hasAttribute("dir")&&(this.direction=i);break;case"receivestatesize":this.hasAttribute("receivestatesize")?this.receiveStateSize=i:this.receiveStateSize="";break;case"receivestatescrollto":this.hasAttribute("receivestatescrollto")?this.receiveStateScrollTo=i:this.receiveStateScrollTo="";break;case"receivestatetemplatevars":this.hasAttribute("receivestatetemplatevars")?this.receiveStateTemplateVars=i:this.receiveStateTemplateVars="";break;default:super.attributeChangedCallback(t,e,i)}}getItemSize(){return this.isHorizontal?this.itemOffsetWidth:this.itemOffsetHeight}getItemsPerPage(){let t=0;return t=this.isHorizontal?this.viewportClientWidth/this.itemOffsetWidth:this.viewportClientHeight/this.itemOffsetHeight,t}getVisibleItemsPerPage(){const t=this.getItemsPerPage();return Math.floor(t)}_canUseBufferAmount(t){return t<Number(this.size)}getFirstRenderVisibleItemsNr(t=!1){if(t&&(this._cachedFirstRenderVisibleItemsNr=0),this._cachedFirstRenderVisibleItemsNr>0)return this._cachedFirstRenderVisibleItemsNr;const e=Number(this.size),i=Number(this.bufferAmount);return this._cachedFirstRenderVisibleItemsNr=0===i||e<=i?e:this._getFirstRenderedItemsNr(e),this._cachedFirstRenderVisibleItemsNr}swipe(t){this._processingPan||(this._processingPan=!0,this.divList.childElementCount>0&&t.then(()=>{this._processingPan=!1}).catch(t=>{this._processingPan=!1,this.error("Error while processing a swipe operation. More details: ",t)}).then(a.noop))}static get observedAttributes(){const t=r.Ch5Common.observedAttributes,e=[];for(let t=0;t<_.COMPONENT_PROPERTIES.length;t++)!0===_.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(_.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(["selected","disableanimation","size","orientation","bufferamount","itemheight","itemwidth","minwidth","maxwidth","minheight","maxheight","indexid","pagedswipe","endless","scrolltotime","direction","receivestateshow","receivestatesize","receivestatescrollto","receivestatetemplatevars"])}set currentXPosition(t){(0,n.default)(t)||(this._currentXPosition=t)}get currentXPosition(){return this._currentXPosition}set currentYPosition(t){(0,n.default)(t)||(this._currentYPosition=t)}get currentYPosition(){return this._currentYPosition}get isVertical(){return this.orientation===_.ORIENTATION[0]}get isHorizontal(){return this.orientation===_.ORIENTATION[1]}get size(){return void 0===this._size&&(this._size=1),this._size}set size(t){(0,n.default)(t)&&(t=1),t>1e3&&(t=1e3),t!==this._size&&(this._size=Number(t),this.setAttribute("size",this._size.toString()))}get previousSize(){return(0,n.default)(this._previousSize)&&(this._previousSize=1),this._previousSize}set previousSize(t){(0,n.default)(t)&&(t=1),t>1e3&&(t=1e3),this._previousSize=Number(t)}get orientation(){return null==this._orientation&&(this._orientation=_.ORIENTATION[0]),this._orientation}set orientation(t){(0,n.default)(t)&&(t=_.ORIENTATION[0]),t!==this._orientation&&(_.ORIENTATION.indexOf(t)>=0?this._orientation=t:this._orientation=_.ORIENTATION[0],this.setAttribute("orientation",this._orientation))}get bufferAmount(){return this._bufferAmount}set bufferAmount(t){(0,n.default)(t)&&(t=0),t!==this.bufferAmount&&(this._bufferAmount=Number(t),this.setAttribute("bufferamount",this._bufferAmount.toString()))}get itemHeight(){return this._itemHeight}set itemHeight(t){(t=this._checkAndSetStringValue(t))!==this._itemHeight&&(this._itemHeight=t,this.setAttribute("itemheight",t),this.templateHelper.attachCSS(),this.templateHelper.checkAndSetSizes())}get itemWidth(){return this._itemWidth}set itemWidth(t){(t=this._checkAndSetStringValue(t))!==this._itemWidth&&(this._itemWidth=t,this.setAttribute("itemwidth",t),this.templateHelper.attachCSS(),this.templateHelper.checkAndSetSizes())}get minWidth(){return this._minWidth}set minWidth(t){(t=this._checkAndSetStringValue(t))!==this._minWidth&&(this._minWidth=t,this.setAttribute("minwidth",this._minWidth),this.templateHelper.triggerResizeDueWidthAndHeightUpdates(),this.templateHelper.resetListLayout())}get maxWidth(){return(0,n.default)(this._maxWidth)&&(this._maxWidth=""),this._maxWidth}set maxWidth(t){(t=this._checkAndSetStringValue(t))!==this._maxWidth&&(this._maxWidth=t,this.setAttribute("maxwidth",this._maxWidth))}isLtr(){return!!this.isVertical||this.direction===r.Ch5Common.DIRECTION[0]}getMaxWidthInPxFromPercentage(){let t=this.maxWidth;if(this.parentElement){const e=this.parentElement.getBoundingClientRect(),i=r.Ch5Common.extractMeasurementNumber(t);t=String(e.width*i/100)+"px"}return t}getMaxHeightInPxFromPercentage(){let t=this.maxHeight;if(this.parentElement){const e=this.parentElement.getBoundingClientRect(),i=r.Ch5Common.extractMeasurementNumber(t);t=String(e.height*i/100)+"px"}return t}calculatePxSize(t,e){switch(r.Ch5Common.getMeasurementUnitFromSizeValue(t)){case"%":if("function"==typeof e)return e();break;case"vw":const i=r.Ch5Common.extractMeasurementNumber(t);return r.Ch5Common.convertVwUnitsToPx(i)+"px"}return t}get minHeight(){return(0,n.default)(this._minHeight)&&(this._minHeight=""),this._minHeight}set minHeight(t){(t=this._checkAndSetStringValue(t))!==this._minHeight&&(this._minHeight=t,this.setAttribute("minheight",t),this.templateHelper.triggerResizeDueWidthAndHeightUpdates(),this.templateHelper.resetListLayout())}get maxHeight(){return this._maxHeight}set maxHeight(t){(t=this._checkAndSetStringValue(t))!==this._maxHeight&&(this._maxHeight=t,this.setAttribute("maxheight",t),this.templateHelper.triggerResizeDueWidthAndHeightUpdates(),this.templateHelper.resetListLayout())}get indexId(){return(0,n.default)(this._indexId)&&(this._indexId="1"),this._indexId}set indexId(t){(0,n.default)(t)&&(t="1"),t!==this._indexId&&(this._indexId=t,this.setAttribute("indexid",t))}get pagedSwipe(){return null==this._pagedSwipe&&(this._pagedSwipe=!1),this._pagedSwipe}set pagedSwipe(t){null==t&&(t=!1),t!==this._pagedSwipe&&(this._pagedSwipe=t,!0===t?this.setAttribute("pagedswipe",t.toString()):this.removeAttribute("pagedswipe"))}get endless(){return this._endless}set endless(t){null==t&&(t=!1),t!==this._endless&&(this._endless=t,!0===t?this.setAttribute("endless",t.toString()):this.removeAttribute("endless"))}set scrollbar(t){this._ch5Properties.set("scrollbar",t,()=>{this.templateHelper.removeScrollbar(),this.hasAttribute("scrollbar")&&this.templateHelper.customScrollbar(this.divList)})}get scrollbar(){return this._ch5Properties.get("scrollbar")}get scrollToTime(){return null==this._scrollToTime?this._defaultScrollToTime:this._scrollToTime}set scrollToTime(t){(0,n.default)(t)&&(t=this._defaultScrollToTime),t!==this._scrollToTime&&(this._scrollToTime=t,this.setAttribute("scrolltotime",t.toString()))}get templateVars(){return this._templateVars}set templateVars(t){this._templateVars=t}get direction(){return this._direction}set direction(t){null==t&&(t="ltr"),r.Ch5Common.DIRECTION.indexOf(t)>=0?this._direction=t:this._direction=r.Ch5Common.DIRECTION[0]}set isPointerActive(t){this._isPointerActive===t||(0,n.default)(t)||(this._isPointerActive=t)}get isPointerActive(){return this._isPointerActive}set pointerId(t){this._pointerId=t}get pointerId(){return this._pointerId}set decelerating(t){(0,n.default)(t)||this.decelerating===t||(this._decelerating=t)}get decelerating(){return this._decelerating}set decelVelocity(t){(0,n.default)(t)||this._decelVelocity===t||(this._decelVelocity=t)}get decelVelocity(){return this._decelVelocity}get receiveStateSize(){return this._attributeValueAsString("receivestatesize")}set receiveStateSize(t){if(this._receiveStateSize===t||(0,n.default)(t))return;this._receiveStateSize=t,this.setAttribute("receivestatesize",t);this._receiveStateSizeSub=this.signalManager.subscribeToSignal(0,this._receiveStateSize,this.receiveStateSizeSub,t=>{const e=t;if(null!==e||void 0!==e)if(e>=0&&e<1001){const t=this._items.length;if(this.setAttribute("size",""+e),this.endless)this.animationHelper.maxOffsetTranslate=void 0,this.shouldUpdateListAndPosition(t);else{const e=this.bufferAmount||0,i=this.animationHelper.adjustMaxOffset(e>0);this.animationHelper.maxOffsetTranslate=i,this.shouldUpdateListAndPosition(t)}}else e>1e3&&this.info(`List size exceeded : ${e} ; `)})}getLayoutInfo(){if(!this.bufferAmount)return this.sizeResolver;const t=this.getItemsPerPage(),e=this.getItemSize(),i=this.size||0;return{hiddenListSize:(i-t)*e,fullListSize:i*e,viewPortSize:this.sizeResolver.viewPortSize}}get receiveStateScrollTo(){return this._attributeValueAsString("receivestatescrollto")}set receiveStateScrollTo(t){this._receiveStateScrollTo===t||(0,n.default)(t)||(this._receiveStateScrollTo=t,this.setAttribute("receivestatescrollto",t))}setScrollToContent(){setTimeout(()=>{this._receiveStateScrollToSub=this.signalManager.subscribeToSignal(0,this.receiveStateScrollTo,this.receiveStateScrollToSub,t=>{const e=t;if(this.info("SignalSubscriptionCallback value is ",e),null!==e||void 0!==e){const t=this.bufferAmount||0,i=this.animationHelper.adjustMaxOffset(t>0);this.animationHelper.maxOffsetTranslate=i,this.animationHelper.signalScrollTo(e),this.receiveStateScrollToChanged=!0}})},100)}get receiveStateTemplateVars(){return this._attributeValueAsString("receivestatetemplatevars")}set receiveStateTemplateVars(t){if(this._receiveStateTemplateVars===t||(0,n.default)(t))return;this._receiveStateTemplateVars=t,this.setAttribute("receivestatetemplatevars",t);this._receiveStateTemplateVarsSub=this.signalManager.subscribeToSignal("",this.receiveStateTemplateVars,this.receiveStateTemplateVarsSub,t=>{const e=t;(0,n.default)(e)||(this.templateVars=e,this.templateHelper.resizeList(this.divList,this.templateVars))})}get receiveStateSizeSub(){return this._receiveStateSizeSub}set receiveStateSizeSub(t){this._receiveStateSizeSub=t}get receiveStateScrollToSub(){return this._receiveStateScrollToSub}set receiveStateScrollToSub(t){this._receiveStateScrollToSub=t}get receiveStateTemplateVarsSub(){return this._receiveStateTemplateVarsSub}set receiveStateTemplateVarsSub(t){this._receiveStateTemplateVarsSub=t}get selected(){const t=this.getAttribute("selected");return(0,n.default)(t)?0:parseInt(t,10)}set selected(t){this.setAttribute("selected",t.toString())}set disableAnimation(t){(t=Boolean(t))?this.setAttribute("disableAnimation",""):this.removeAttribute("disableAnimation")}get disableAnimation(){return this.hasAttribute("disableAnimation")}get appendPosition(){return this._appendPosition}set appendPosition(t){(0,n.default)(t)||this._appendPosition===t||(this._appendPosition=t)}set pointerFirstX(t){(0,n.default)(t)||this.pointerFirstX===t||(this._pointerFirstX=t)}get pointerFirstX(){return this._pointerFirstX}set pointerLastX(t){(0,n.default)(t)||this._pointerLastX===t||(this._pointerLastX=t)}get pointerLastX(){return this._pointerLastX}set pointerCurrentX(t){(0,n.default)(t)||this._pointerCurrentX===t||(this._pointerCurrentX=t)}get pointerCurrentX(){return this._pointerCurrentX}set pointerCurrentY(t){(0,n.default)(t)||this._pointerCurrentY===t||(this._pointerCurrentY=t)}get pointerCurrentY(){return this._pointerCurrentY}set pointerFirstY(t){(0,n.default)(t)||this._pointerFirstY===t||(this._pointerFirstY=t)}get pointerFirstY(){return this._pointerFirstY}set pointerLastY(t){(0,n.default)(t)||this._pointerLastY===t||(this._pointerLastY=t)}get pointerLastY(){return this._pointerLastY}set lastDraggedLayoutIndex(t){(0,n.default)(t)||this._lastDraggedLayoutIndex===t||(this._lastDraggedLayoutIndex=t)}get lastDraggedLayoutIndex(){return this._lastDraggedLayoutIndex}set trackingPointsX(t){(0,n.default)(t)||(this._trackingPointsX=t)}get trackingPointsX(){return this._trackingPointsX}set trackingPointsY(t){(0,n.default)(t)||(this._trackingPointsY=t)}get trackingPointsY(){return this._trackingPointsY}set items(t){(0,n.default)(t)||(this._items=t)}get items(){return this._items}set selectedIteration(t){(0,n.default)(t)||this._selectedIteration===t||(this._selectedIteration=t)}get selectedIteration(){return this._selectedIteration}set wrapperTranslateX(t){(0,n.default)(t)||this._wrapperTranslateX===t||(this._wrapperTranslateX=t)}get wrapperTranslateX(){return this._wrapperTranslateX}set wrapperTranslateY(t){(0,n.default)(t)||this._wrapperTranslateY===t||(this._wrapperTranslateY=t)}get wrapperTranslateY(){return this._wrapperTranslateY}set minDecelVelocity(t){(0,n.default)(t)||this._minDecelVelocity===t||(this._minDecelVelocity=t)}get minDecelVelocity(){return this._minDecelVelocity}set maxDecelVelocity(t){(0,n.default)(t)||this._maxDecelVelocity===t||(this._maxDecelVelocity=t)}set divListWidth(t){(0,n.default)(t)||this._divListWidth===t||(this._divListWidth=t)}get divListWidth(){return this._divListWidth}set divListHeight(t){(0,n.default)(t)||this._divListHeight===t||(this._divListHeight=t)}get divListHeight(){return this._divListHeight}set lastViewIndex(t){(0,n.default)(t)||this._lastViewIndex===t||(this._lastViewIndex=t)}get lastViewIndex(){return this._lastViewIndex}set attraction(t){(0,n.default)(t)||this._lastViewIndex===t||(this._attraction=t)}get attraction(){return this._attraction}set friction(t){(0,n.default)(t)||this._lastViewIndex===t||(this._friction=t)}get friction(){return this._friction}set dragTicking(t){(0,n.default)(t)||this._dragTicking===t||(this._dragTicking=t)}get dragTicking(){return this._dragTicking}set infiniteLoop(t){(0,n.default)(t)||this._infiniteLoop===t||(this._infiniteLoop=t)}get infiniteLoop(){return this._infiniteLoop}set bufferedItems(t){(0,n.default)(t)||this._bufferedItems===t||(this._bufferedItems=t)}get bufferedItems(){return this._bufferedItems}set scrollToTimeReference(t){(0,n.default)(t)||this._scrollToTimeReference===t||(this._scrollToTimeReference=t)}get scrollToTimeReference(){return this._scrollToTimeReference}set storedOffsetWidth(t){(0,n.default)(t)||(this._storedOffsetWidth=t)}get storedOffsetWidth(){return this._storedOffsetWidth}set storedOffsetHeight(t){(0,n.default)(t)||(this._storedOffsetHeight=t)}get storedOffsetHeight(){return this._storedOffsetHeight}previousViewChild(){this.selected=this.computePrevious(this.selected)}nextViewChild(){this.selected=this.computeNext(this.selected)}onResizeList(){this._items=this._getItems();const t=0===this._items.length&&-1===this._lastViewIndex;this._internalUpdate(),t&&(this.selected=this.selected)}getItemDataIndexFromLayoutIndex(t){let e=t;for(;e<0;)e+=this._items.length;return e%this._items.length}computeNext(t){let e=t;return t<this._lastViewIndex?e=t+1:this.endless&&(this._infiniteLoop&&(this._selectedIteration+=1),e=0),(0,l.clamp)(e,0,this._lastViewIndex)}computePrevious(t){let e=t;return t>0?e=t-1:this.endless&&(this._infiniteLoop&&(this._selectedIteration-=1),e=this._lastViewIndex),(0,l.clamp)(e,0,this._lastViewIndex)}update(){clearTimeout(this._updateTimer),this._updateTimer=window.setTimeout(()=>{this._internalUpdate()},50)}handleShow(t){super.handleShow(t),this.templateHelper.resizeList(this.divList,this.templateVars)}isPagedSwipeCompatible(t){if(!t)return!0;const e=this.size||0,i=this.sizeResolver.getItemsPerPage();return!(i>e-i)||(this.invokePropIncompatibility("pagedSwipe"),!1)}invokePropIncompatibility(t){switch(t){case"pagedSwipe":console.warn(this.definePropIncompatibilityInfo(t,["size","endless"]))}}definePropIncompatibilityInfo(t,e){const i=e.join(",");return`For element #${this.id} - ${t} doesn't work as expected. See(${i})`}_getCssBiggestSizeValue(t,e){let i=e;if(t){const e=r.Ch5Common.getMeasurementPxNumber(t);i<e&&(i=e)}return i}shouldUpdateListAndPosition(t){this._items=this._getItems(),this._items.length<t?(this.isVertical||this.isHorizontal)&&this.resetListAndPosition():this.endless?this.animationHelper.stop():this._items.length>t&&this.direction===r.Ch5Common.DIRECTION[1]&&this.resetListAndPosition()}resetListAndPosition(){this.animationHelper.stop(),this.currentXPosition=0,this.currentYPosition=0,this.templateHelper.resizeList(this.divList,this.templateVars)}_getFirstRenderedItemsNr(t){const e=this.divList.getBoundingClientRect(),i=this.getFirstItemSizingDetails();let s=0;if(this.orientation===_.ORIENTATION[0]){const t=this.calculatePxSize(this.maxHeight,this.getMaxHeightInPxFromPercentage.bind(this)),n=this._getCssBiggestSizeValue(t,e.height),r=Math.max(this.itemOffsetHeight,i.height);s=Math.ceil(n/r)}else{const t=this.calculatePxSize(this.maxWidth,this.getMaxWidthInPxFromPercentage.bind(this)),n=this._getCssBiggestSizeValue(t,e.width),r=Math.max(this.itemOffsetWidth,i.width);s=Math.ceil(n/r)}return s*=2,s=s<=t?s:t,s}getFirstItemSizingDetails(){return this.divList.children[0].getBoundingClientRect()}setCurrentPosition(t){this.isHorizontal?this.currentXPosition=t:this.currentYPosition=t}_startReadyObserver(){const t=new MutationObserver(e=>{this.info("mutationObserver Callback"),e.forEach(e=>{if(this.info("mutation",e),"childList"===e.type&&e.addedNodes&&e.addedNodes.length>0){let i=null;for(let t=0;t<e.addedNodes.length;t++)if("template"===e.addedNodes[t].nodeName.toLowerCase()){i=e.addedNodes[t];break}if(null!==i){this.info("templateElement innerhtml",i.innerHTML);let e=i.innerHTML;""===e.trim()&&(e=i.firstElementChild.outerHTML,this._tplHtmlString=e,this.initializations(),t.disconnect(),i.remove())}}})});t.observe(this,{childList:!0,subtree:!1,attributes:!1,characterData:!1})}_getItems(){return Array.from(this.divList.children).map((t,e)=>({element:t,layoutIndex:e,translateX:0,translateY:0}))||[]}_internalUpdate(){this._updateInfiniteLoop(),this._computeItemsPerViewLayout(),this.templateHelper.checkAndSetSizes()}_updateInfiniteLoop(){this._infiniteLoop=this.endless&&this._computeLastViewIndex()>1}_computeItemsPerViewLayout(){this._lastViewIndex=this._infiniteLoop?this._items.length-1:this._computeLastViewIndex(),!this._infiniteLoop&&this.selected>this._lastViewIndex&&(this.selected=this._lastViewIndex)}_computeLastViewIndex(){return Math.max(0,this._items.length-this.getItemsPerPage())}initializeAttributes(){this.info("initializeAttributes()"),super.initAttributes();const t=this;for(let e=0;e<_.COMPONENT_PROPERTIES.length;e++)if(!0===_.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(_.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=_.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}this.hasAttribute("size")?this.size=this.previousSize=Number(this.getAttribute("size")):this.size=this.previousSize=1,this.hasAttribute("orientation")?this.orientation=this.getAttribute("orientation"):this.orientation=_.ORIENTATION[0],this.hasAttribute("bufferamount")&&(this.bufferAmount=Number(this.getAttribute("bufferamount"))),this.hasAttribute("itemheight")&&(this.itemHeight=this.getAttribute("itemheight")),this.hasAttribute("itemwidth")&&(this.itemWidth=this.getAttribute("itemwidth")),this.hasAttribute("minwidth")&&(this.minWidth=this.getAttribute("minwidth")),this.hasAttribute("maxwidth")&&(this.maxWidth=this.getAttribute("maxwidth")),this.hasAttribute("minheight")&&(this.minHeight=this.getAttribute("minheight")),this.hasAttribute("maxheight")&&(this.maxHeight=this.getAttribute("maxheight")),this.hasAttribute("indexid")&&(this.indexId=this.getAttribute("indexid")),this.hasAttribute("pagedswipe")&&(this.pagedSwipe=this.toBoolean(this.getAttribute("pagedswipe"))),this.hasAttribute("endless")?this.endless=this.toBoolean(this.getAttribute("endless")):this.endless=!1,this.hasAttribute("scrolltotime")?this.scrollToTime=Number(this.getAttribute("scrolltotime")):this.scrollToTime=500,this.hasAttribute("dir")&&(this.direction=this.getAttribute("dir")),this.hasAttribute("receivestatesize")&&(this.receiveStateSize=this.getAttribute("receivestatesize")),this.hasAttribute("receivestatescrollto")&&(this.receiveStateScrollTo=this.getAttribute("receivestatescrollto")),this.hasAttribute("receivestatetemplatevars")&&(this.receiveStateTemplateVars=this.getAttribute("receivestatetemplatevars")),this.info("Ch5 list initialized")}initializeEvents(){super.attachEventListeners(),this.eventManager.initializeEvents(this.divList),this.info("Ch5 list - events")}removeEvents(){super.removeEventListeners(),this.eventManager.removeEvents(this.divList)}}e.Ch5List=_,_.ELEMENT_NAME="ch5-list",_.ORIENTATION=["vertical","horizontal"],_.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},r.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatesize:{direction:"state",numericJoin:1,contractName:!0},receivestatescrollto:{direction:"state",numericJoin:1,contractName:!0},receivestatetemplatevars:{direction:"state",stringJoin:1,contractName:!0},contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1}}),_.COMPONENT_DATA={SCALE:{default:_.ORIENTATION[0],values:_.ORIENTATION,key:"scale",classListPrefix:"--"}},_.COMPONENT_PROPERTIES=[{default:!1,name:"scrollbar",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0}],_.ENABLED_CLASS_NAME="ch5-list",_.ITEMCLASS="list-item",_.registerCustomElement(),_.registerSignalAttributeTypes(),_.registerSignalAttributeDefaults()},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.publishEvent=void 0;const s=i(7);e.publishEvent=function(t,e,i){const n=s.Ch5SignalFactory.getInstance();switch(t.toLowerCase()){case"b":case"boolean":const t=n.getBooleanSignal(e);null!==t&&t.publish(i);break;case"n":case"number":case"numeric":const s=n.getNumberSignal(e);null!==s&&s.publish(i);break;case"s":case"string":const r=n.getStringSignal(e);null!==r&&r.publish(i);break;case"o":case"object":const a=n.getObjectSignal(e);null!==a&&a.publish(i)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.subscribeState=void 0;const s=i(7),n=i(8),r=i(0);e.subscribeState=function(t,e,i,a){const o=s.Ch5SignalFactory.getInstance();let l="";switch(e=n.Ch5Signal.getSubscriptionSignalName(e),t.toLowerCase()){case"b":case"boolean":const s=o.getBooleanSignal(e);(0,r.isNil)(s)||(l=s.subscribe(i,a));break;case"n":case"number":case"numeric":const n=o.getNumberSignal(e);(0,r.isNil)(n)||(l=n.subscribe(i,a));break;case"s":case"string":const h=o.getStringSignal(e);(0,r.isNil)(h)||(l=h.subscribe(i,a));break;case"o":case"object":const u=o.getObjectSignal(e);(0,r.isNil)(u)||(l=u.subscribe(i,a));break;default:(0,r.isNil)(a)||a(`Signal: ${e}, has unsupported type: ${t}`)}return l}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Config=void 0;class s{static loadConfig(t){const e=this._defaultConfig;t.hasOwnProperty("attributes")&&(t.attributes.hasOwnProperty("id")&&(e.attributes.id=t.attributes.id),t.attributes.hasOwnProperty("component")&&(e.attributes.component=t.attributes.component)),t.hasOwnProperty("templatevariables")&&t.templatevariables.hasOwnProperty("id")&&(e.templatevariables.id=t.templatevariables.id),s._config=e}static setAttributeForId(t,e,i){s._config.attributes.id.hasOwnProperty(t)||(s._config.attributes.id[t]={}),s._config.attributes.id[t][e.toLowerCase()]=i}static setAttributeForComponent(t,e,i){const n=t.toLowerCase();s._config.attributes.component.hasOwnProperty(n)||(s._config.attributes.component[n]={}),s._config.attributes.component[n][e.toLowerCase()]=i}static setTemplateVarsForId(t,e){s._config.templatevariables.id.hasOwnProperty(t)||(s._config.templatevariables.id[t]=[]),s._config.templatevariables.id[t]=e}static getConfig(){return s._config}static getAttributesForId(t){const e=s._config.attributes.id;return e.hasOwnProperty(t)?e[t]:{}}static getAttributesForComponent(t){const e=s._config.attributes.component;return t=t.toLowerCase(),e.hasOwnProperty(t)?e[t]:{}}static getAttributesForElement(t){let e,i={};const n=t.tagName.toLowerCase(),r=s.getAttributesForComponent(n);if(t.hasAttribute("id")){const e=t.getAttribute("id");null!==e&&(i=s.getAttributesForId(e))}return e=Object.assign(Object.assign({},r),i),e}static getTemplateVarsForElementById(t){const e=s._config.templatevariables.id;return e.hasOwnProperty(t)?e[t]:[]}static getTemplateVarsForElement(t){let e=[];if(t.hasAttribute("id")){const i=t.getAttribute("id");null!==i&&(e=s.getTemplateVarsForElementById(i))}return e}}e.Ch5Config=s,s._defaultConfig={attributes:{id:{},component:{}},templatevariables:{id:{}}},s._config=s._defaultConfig},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonLabel=void 0;const s=i(17),n=i(33),r=i(43),a=i(5),o=i(12),l=i(2);class h extends o.Ch5Log{constructor(){super()}static registerSignalAttributeTypes(){l.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(h.ELEMENT_NAME,{contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1}})}connectedCallback(){if(this.logger.start("connectedCallback"),!(this.parentElement instanceof s.Ch5Button||this.parentElement instanceof n.Ch5ButtonMode||this.parentElement instanceof r.Ch5ButtonModeState))throw new Error("Invalid parent element for ch5-button-label.");this.setAttribute("role",a.Ch5RoleAttributeMapping.ch5ButtonLabel),this.setAttribute("data-ch5-id",this.getCrId()),this.initAttributes(),this.logger.stop()}disconnectedCallback(){this.logger.log("Ch5ButtonLabel.disconnectedCallback()")}}e.Ch5ButtonLabel=h,h.ELEMENT_NAME="ch5-button-label","object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(h.ELEMENT_NAME,h),h.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonModeState=void 0;const n=i(17),r=i(5),a=i(33),o=i(12),l=s(i(0));class h extends o.Ch5Log{constructor(t){super(),this.parentButton=t,this._state="normal",this.logger.start("constructor"),l.default.isNil(t)?this._parentCh5Button=this.getParentButton():this._parentCh5Button=t,this.logger.stop()}set labelInnerHTML(t){this.logger.start('set labelInnerHTML("'+t+'")'),null!==t?this.setAttribute("labelInnerHTML".toLowerCase(),t):this.removeAttribute("labelInnerHTML"),this._parentCh5Button.createButtonLabel(this),this._parentCh5Button.setButtonDisplay(),this.logger.stop()}get labelInnerHTML(){return this.getAttribute("labelinnerhtml")}set state(t){this.logger.log('set state("'+t+'")'),this._state!==t&&(h.STATES.indexOf(t)>=0?this._state=t:this._state=h.STATES[0],this.setAttribute("state",this._state),this._parentCh5Button.setButtonDisplay())}get state(){return this._state}set iconClass(t){this.validateAndSetAttributeWithStringType("iconClass",t)}get iconClass(){return this.getAttribute("iconclass")}set hAlignLabel(t){this.validateAndSetAttributeWithCustomType("hAlignLabel",n.Ch5Button.HORIZONTAL_LABEL_ALIGNMENTS,t)}get hAlignLabel(){return this.getAttribute("halignlabel")}set vAlignLabel(t){this.validateAndSetAttributeWithCustomType("vAlignLabel",n.Ch5Button.VERTICAL_LABEL_ALIGNMENTS,t)}get vAlignLabel(){return this.getAttribute("valignlabel")}set checkboxPosition(t){this.validateAndSetAttributeWithCustomType("checkboxPosition",n.Ch5Button.CHECKBOX_POSITIONS,t)}get checkboxPosition(){return this.getAttribute("checkboxposition")}set iconPosition(t){this.validateAndSetAttributeWithCustomType("iconPosition",n.Ch5Button.ICON_POSITIONS,t)}get iconPosition(){return this.getAttribute("iconposition")}set iconUrl(t){this.validateAndSetAttributeWithStringType("iconUrl",t)}get iconUrl(){return this.getAttribute("iconurl")}set type(t){this.validateAndSetAttributeWithCustomType("type",n.Ch5Button.TYPES,t)}get type(){return this.getAttribute("type")}set customClass(t){this.validateAndSetAttributeWithStringType("customClass",t)}get customClass(){return this.getAttribute("customclass")}set customStyle(t){this.validateAndSetAttributeWithStringType("customStyle",t)}get customStyle(){return this.getAttribute("customstyle")}set iconUrlFillType(t){this.validateAndSetAttributeWithCustomType("iconUrlFillType",n.Ch5Button.ICON_URL_FILL_TYPE,t)}get iconUrlFillType(){return this.getAttribute("iconurlfilltype")}connectedCallback(){if(this.logger.start("connectedCallback"),!(this.parentElement instanceof a.Ch5ButtonMode))throw new Error("Invalid parent element for ch5-button-mode-state.");if(l.default.isNil(this._parentCh5Button))throw new Error("Missing parent ch5-button element for ch5-button-mode-state.");this.setAttribute("role",r.Ch5RoleAttributeMapping.ch5ButtonModeState),this.setAttribute("data-ch5-id",this.getCrId()),this.initAttributes(),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback"),this.logger.stop()}static get observedAttributes(){return o.Ch5Log.observedAttributes.concat(["type","iconclass","halignlabel","valignlabel","checkboxposition","iconposition","iconurl","state","customclass","customstyle","labelinnerhtml","iconurlfilltype"])}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback"),e!==i)switch(this.logger.log('Ch5ButtonModeState.attributeChangedCallback("'+t+'","'+e+'","'+i+')"'),t){case"type":this.hasAttribute("type")?this.type=i:this.type=null;break;case"labelinnerhtml":this.hasAttribute("labelinnerhtml")&&(this.labelInnerHTML=i);break;case"iconclass":this.hasAttribute("iconclass")&&(this.iconClass=i);break;case"customclass":this.hasAttribute("customclass")&&(this.customClass=i);break;case"customstyle":this.hasAttribute("customstyle")&&(this.customStyle=i);break;case"halignlabel":this.hasAttribute("halignlabel")?this.hAlignLabel=i:this.hAlignLabel=null;break;case"valignlabel":this.hasAttribute("valignlabel")?this.vAlignLabel=i:this.vAlignLabel=null;break;case"checkboxposition":this.hasAttribute("checkboxposition")&&(this.checkboxPosition=i);break;case"iconposition":this.hasAttribute("iconposition")&&(this.iconPosition=i);break;case"iconurl":this.hasAttribute("iconurl")&&(this.iconUrl=i);break;case"state":this.hasAttribute("state")&&(this.state=i);break;case"iconurlfilltype":this.hasAttribute("iconurlfilltype")&&(this.iconUrlFillType=i);break;default:super.attributeChangedCallback(t,e,i)}this.logger.stop()}validateAndSetAttributeWithCustomType(t,e,i,s=!0){this.logger.start("set "+t+'("'+i+'")'),null!==i?e.indexOf(i)>=0?(this.setAttribute(t.toLowerCase(),String(i)),this._parentCh5Button.setButtonDisplay()):!0===s?this.removeAttribute(t):(this.setAttribute(t.toLowerCase(),String(e[0])),this._parentCh5Button.setButtonDisplay()):!0===s?(this.removeAttribute(t),this._parentCh5Button.setButtonDisplay()):(this.setAttribute(t.toLowerCase(),String(e[0])),this._parentCh5Button.setButtonDisplay()),this.logger.stop()}validateAndSetAttributeWithStringType(t,e){this.logger.start("set "+t+'("'+e+'")'),null!==e?this.setAttribute(t.toLowerCase(),e):this.removeAttribute(t),this._parentCh5Button.setButtonDisplay(),this.logger.stop()}getParentButton(){const t=e=>l.default.isNil(e)||"CH5-BUTTON"===e.nodeName.toString().toUpperCase()?e:t(e.parentNode);return t(this.parentElement)}}e.Ch5ButtonModeState=h,h.ELEMENT_NAME="ch5-button-mode-state",h.STATES=["normal","pressed","selected"],"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(h.ELEMENT_NAME,h)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonList=void 0;const s=i(2),n=i(165);class r extends n.Ch5ButtonListBase{constructor(){super(),this.primaryCssClass=r.ELEMENT_NAME}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(r.ELEMENT_NAME)&&window.customElements.define(r.ELEMENT_NAME,r)}static registerSignalAttributeTypes(){s.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(r.ELEMENT_NAME,r.SIGNAL_ATTRIBUTE_TYPES)}}e.Ch5ButtonList=r,r.ELEMENT_NAME="ch5-button-list",r.SIGNAL_ATTRIBUTE_TYPES=Object.assign({},n.Ch5ButtonListBase.SIGNAL_ATTRIBUTE_TYPES),r.registerCustomElement(),r.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonListModeBase=void 0;const s=i(12),n=i(4),r=i(5);class a extends s.Ch5Log{constructor(){super(),this._parentCh5ButtonList=null,this.logger.start("constructor()"),this._ch5Properties=new n.Ch5Properties(this,a.COMPONENT_PROPERTIES)}set parentComponent(t){this._parentCh5ButtonList=t}get parentComponent(){return this._parentCh5ButtonList}set type(t){this._ch5Properties.set("type",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get type(){return this._ch5Properties.get("type")}set hAlignLabel(t){this._ch5Properties.set("hAlignLabel",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get hAlignLabel(){return this._ch5Properties.get("hAlignLabel")}set vAlignLabel(t){this._ch5Properties.set("vAlignLabel",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get vAlignLabel(){return this._ch5Properties.get("vAlignLabel")}set checkboxPosition(t){this._ch5Properties.set("checkboxPosition",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get checkboxPosition(){return this._ch5Properties.get("checkboxPosition")}set iconPosition(t){this._ch5Properties.set("iconPosition",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get iconPosition(){return this._ch5Properties.get("iconPosition")}set iconClass(t){this._ch5Properties.set("iconClass",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get iconClass(){return this._ch5Properties.get("iconClass")}set iconUrl(t){this._ch5Properties.set("iconUrl",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get iconUrl(){return this._ch5Properties.get("iconUrl")}set customClass(t){this._ch5Properties.set("customClass",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get customClass(){return this._ch5Properties.get("customClass")}set customStyle(t){this._ch5Properties.set("customStyle",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get customStyle(){return this._ch5Properties.get("customStyle")}set labelInnerHTML(t){this._ch5Properties.set("labelInnerHTML",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get labelInnerHTML(){return this._ch5Properties.get("labelInnerHTML")}static get observedAttributes(){const t=s.Ch5Log.observedAttributes;for(let e=0;e<a.COMPONENT_PROPERTIES.length;e++)!0===a.COMPONENT_PROPERTIES[e].isObservableProperty&&t.push(a.COMPONENT_PROPERTIES[e].name.toLowerCase());return t}attributeChangedCallback(t,e,i){if(e!==i){this.logger.log(this.nodeName+' attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=a.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()"),this.setAttribute("role",r.Ch5RoleAttributeMapping.ch5ButtonListMode),this.setAttribute("data-ch5-id",this.getCrId()),this.initAttributes(),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<a.COMPONENT_PROPERTIES.length;e++)if(!0===a.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(a.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=a.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}}e.Ch5ButtonListModeBase=a,a.BUTTON_TYPES=["default","danger","text","warning","info","success","primary","secondary"],a.BUTTON_HALIGN_LABEL_POSITIONS=["center","left","right"],a.BUTTON_VALIGN_LABEL_POSITIONS=["middle","top","bottom"],a.BUTTON_CHECKBOX_POSITIONS=["left","right"],a.BUTTON_ICON_POSITIONS=["first","last","top","bottom"],a.COMPONENT_PROPERTIES=[{default:a.BUTTON_HALIGN_LABEL_POSITIONS[0],enumeratedValues:a.BUTTON_HALIGN_LABEL_POSITIONS,name:"hAlignLabel",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:a.BUTTON_HALIGN_LABEL_POSITIONS[0],isObservableProperty:!0},{default:a.BUTTON_TYPES[0],enumeratedValues:a.BUTTON_TYPES,name:"type",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:a.BUTTON_TYPES[0],isObservableProperty:!0},{default:a.BUTTON_VALIGN_LABEL_POSITIONS[0],enumeratedValues:a.BUTTON_VALIGN_LABEL_POSITIONS,name:"vAlignLabel",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:a.BUTTON_VALIGN_LABEL_POSITIONS[0],isObservableProperty:!0},{default:a.BUTTON_CHECKBOX_POSITIONS[0],enumeratedValues:a.BUTTON_CHECKBOX_POSITIONS,name:"checkboxPosition",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:a.BUTTON_CHECKBOX_POSITIONS[0],isObservableProperty:!0},{default:a.BUTTON_ICON_POSITIONS[0],enumeratedValues:a.BUTTON_ICON_POSITIONS,name:"iconPosition",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:a.BUTTON_ICON_POSITIONS[0],isObservableProperty:!0},{default:"",name:"iconClass",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"iconUrl",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"customClass",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"customStyle",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"labelInnerHTML",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{static rgbToHex(t,e,i){let s=t.toString(16),n=e.toString(16),r=i.toString(16);return 1===s.length&&(s="0"+s),1===n.length&&(n="0"+n),1===r.length&&(r="0"+r),"#"+s+n+r}static checkHex(t){return!!/^[#]*([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i.test(t)}static checkRgb(t){return!!/([R][G][B][A]?[(]\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\s*,\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\s*,\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])(\s*,\s*((0\.[0-9]{1})|(1\.0)|(1)))?[)])/i.test(t)}static modifyHex(t){return 4===t.length&&(t=t.replace("#","")),3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),t}static hexToRgb(t){const e=[];return 6!==(t=t.replace("#","")).length&&(t=this.modifyHex(t)),e.push(parseInt(t.slice(0,2),16)),e.push(parseInt(t.slice(2,4),16)),e.push(parseInt(t.slice(4,6),16)),"rgb("+e.toString()+")"}static convert(t){const e=document.createElement("div");e.style.color=t,document.body.appendChild(e);const i=window.getComputedStyle(e).getPropertyValue("color");return document.body.removeChild(e),i}static col2rgb(t){if(!0===this.checkRgb(t))return this.rgbFormat(t);if(!0===this.checkHex(t))return this.rgbFormat(this.hexToRgb(t));const e=this.convert(t);return this.rgbFormat(e)}static rgbToObj(t){const e=["red","green","blue","alpha"],i=t.slice(t.indexOf("(")+1,t.indexOf(")")).split(","),s={};return i.forEach((t,i)=>{s[e[i]]=Number(t.trim())}),s}}e.default=s,s.getDigitalValue=(t,e)=>{const i=t/(e/255);return Math.round(i)},s.getAnalogValue=(t,e)=>{const i=t*e/255;return Math.round(i)},s.rgbFormat=t=>t.substring(t.indexOf("(")+1,t.lastIndexOf(")")).split(/,\s*/)},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(225),e)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5CommonInput=void 0;const n=i(3),r=s(i(20));class a extends n.Ch5Common{constructor(){super(),this._elInput={},this._signalValueSyncTimeout=1500,this._cleanValue="",this._clean=!0,this._dirtyValue="",this._dirty=!1,this._submitted=!1,this._dirtyTimerHandle=null,this._feedbackMode="",this._value="",this._required=!1,this._ondirtyCallback={},this._oncleanCallback={}}getDirty(){return"submit"===this.feedbackMode&&this._dirty}get feedbackMode(){return this._feedbackMode}set feedbackMode(t){this._feedbackMode!==t&&(a.FEEDBACKMODES.indexOf(t)<0&&(t=a.FEEDBACKMODES[0]),this.setAttribute("feedbackMode",t),this._feedbackMode=t)}get signalValueSyncTimeout(){return this._signalValueSyncTimeout}set signalValueSyncTimeout(t){t=Number(t),isNaN(t)&&(t=1500),this._signalValueSyncTimeout!==t&&(this.setAttribute("signalValueSyncTimeout",t+""),this._signalValueSyncTimeout=t)}set cleanValue(t){this.cleanValue!==t&&null==t&&(t=""),this._cleanValue=t}get cleanValue(){return this._cleanValue}set dirtyValue(t){this.dirtyValue!==t&&null==t&&(t=""),this._dirtyValue=t}get dirtyValue(){return this._dirtyValue}set value(t){this.info("Set input value ("+t+")"),this.value!==t&&null==t&&(t=""),this._value=t,this.setAttribute("value",this.value)}get value(){return this._value}setValue(t){this.value=t}getValue(){return this.value}set required(t){this.required!==t&&null==t&&(t=!1),this._required=t,this._elInput instanceof HTMLElement&&(!0!==this._required?this._elInput.removeAttribute("required"):this._elInput.required=this._required)}get required(){return this._required}set oncleanCallback(t){null==t&&(t={}),this._oncleanCallback=t}get oncleanCallback(){return this._oncleanCallback}set onclean(t){this.oncleanCallback=t}get onclean(){return this.oncleanCallback}set ondirtyCallback(t){null==t&&(t={}),this._ondirtyCallback=t}get ondirtyCallback(){return this._ondirtyCallback}set ondirty(t){this.ondirtyCallback=t}get ondirty(){return this.ondirtyCallback}setClean(){this._clean=!0,this._dirty=!1,this._submitted=!1}setDirty(){this._dirty=!0,this._clean=!1}getValid(){return!0}static get observedAttributes(){return["required","signalvaluesynctimeout","feedbackmode","onclean","ondirty"]}attributeChangedCallback(t,e,i){if(e!==i)switch(super.attributeChangedCallback(t,e,i),t){case"required":this.required="false"!==i;break;case"signalvaluesynctimeout":this.hasAttribute("signalvaluesynctimeout")?this.signalValueSyncTimeout=i:this.signalValueSyncTimeout="";break;case"feedbackmode":this.hasAttribute("feedbackmode")?this.feedbackMode=i:this.feedbackMode=a.FEEDBACKMODES[0];break;case"onclean":this.onclean=new r.default(this,i);break;case"ondirty":this.ondirty=new r.default(this,i)}}initAttributes(){if(super.initAttributes(),this.hasAttribute("tabindex")&&(this.tabIndex=Number(this.getAttribute("tabindex"))),this.hasAttribute("feedbackmode")?this.feedbackMode=this.getAttribute("feedbackmode"):this.feedbackMode=a.FEEDBACKMODES[0],this.hasAttribute("required")){const t="false"!==this.getAttribute("required");this.required=t}this.hasAttribute("onclean")&&(this.onclean=new r.default(this,this.getAttribute("onclean"))),this.hasAttribute("ondirty")&&(this.ondirty=new r.default(this,this.getAttribute("ondirty")))}runEventHandlers(t,e){switch(t){case"clean":this.runOncleanHandler(e);break;case"dirty":this.runOndirtyHandler(e)}}runOncleanHandler(t){this.onclean instanceof r.default?this.onclean.run(t):this.onclean instanceof Function&&this.onclean.call(this,t)}runOndirtyHandler(t){this.ondirty instanceof r.default?this.ondirty.run(t):this.ondirty instanceof Function&&this.ondirty.call(this,t)}}e.Ch5CommonInput=a,a.FEEDBACKMODES=["direct","submit"]},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(287),e),n(i(100),e)},function(t,e,i){"use strict";(function(e){var s=i(9),n=i(303),r=i(106),a={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!s.isUndefined(t)&&s.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var l,h={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(l=i(107)),l),transformRequest:[function(t,e){return n(e,"Accept"),n(e,"Content-Type"),s.isFormData(t)||s.isArrayBuffer(t)||s.isBuffer(t)||s.isStream(t)||s.isFile(t)||s.isBlob(t)?t:s.isArrayBufferView(t)?t.buffer:s.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):s.isObject(t)||e&&"application/json"===e["Content-Type"]?(o(e,"application/json"),function(t,e,i){if(s.isString(t))try{return(e||JSON.parse)(t),s.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(i||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional,i=e&&e.silentJSONParsing,n=e&&e.forcedJSONParsing,a=!i&&"json"===this.responseType;if(a||n&&s.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(a){if("SyntaxError"===t.name)throw r(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};h.headers={common:{Accept:"application/json, text/plain, */*"}},s.forEach(["delete","get","head"],(function(t){h.headers[t]={}})),s.forEach(["post","put","patch"],(function(t){h.headers[t]=s.merge(a)})),t.exports=h}).call(this,i(302))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5SignalBridge=void 0;const s=i(0),n=i(27);class r{constructor(){this._isWebView=!1,this._isWebKit=!1;n.Ch5Debug.info("Ch5SignalBridge.constructor"," start "),this._subscriptions={boolean:new Set,number:new Set,object:new Set,string:new Set},this._localPublishers={boolean:new Set,number:new Set,object:new Set,string:new Set},this._isWebView="undefined"!=typeof JSInterface&&"function"==typeof JSInterface.bridgeSendBooleanToNative&&"function"==typeof JSInterface.bridgeSendIntegerToNative&&"function"==typeof JSInterface.bridgeSendStringToNative,this._isWebKit="undefined"!=typeof webkit&&void 0!==webkit.messageHandlers&&void 0!==webkit.messageHandlers.bridgeSendBooleanToNative&&void 0!==webkit.messageHandlers.bridgeSendIntegerToNative&&void 0!==webkit.messageHandlers.bridgeSendStringToNative&&void 0!==webkit.messageHandlers.bridgeSendObjectToNative}subscribe(t,e){if(n.Ch5Debug.info("Ch5SignalBridge.subscribe",'"'+t+'":"'+e+'"'),!this._subscriptions[e].has(t)&&!this._localPublishers[e].has(t))if(this._subscriptions[e].add(t),this._isWebView&&"function"==typeof JSInterface.bridgeSubscribeBooleanSignalFromNative&&"function"==typeof JSInterface.bridgeSubscribeIntegerSignalFromNative&&"function"==typeof JSInterface.bridgeSubscribeStringSignalFromNative&&"function"==typeof JSInterface.bridgeSubscribeObjectSignalFromNative)switch(e){case"boolean":JSInterface.bridgeSubscribeBooleanSignalFromNative(t);break;case"number":JSInterface.bridgeSubscribeIntegerSignalFromNative(t);break;case"string":JSInterface.bridgeSubscribeStringSignalFromNative(t);break;case"object":default:JSInterface.bridgeSubscribeObjectSignalFromNative(t)}else if(this._isWebKit&&void 0!==webkit.messageHandlers.bridgeSubscribeBooleanSignalFromNative&&void 0!==webkit.messageHandlers.bridgeSubscribeIntegerSignalFromNative&&void 0!==webkit.messageHandlers.bridgeSubscribeStringSignalFromNative&&void 0!==webkit.messageHandlers.bridgeSubscribeObjectSignalFromNative)switch(e){case"boolean":webkit.messageHandlers.bridgeSubscribeBooleanSignalFromNative.postMessage(this.createPMParam(t));break;case"number":webkit.messageHandlers.bridgeSubscribeIntegerSignalFromNative.postMessage(this.createPMParam(t));break;case"string":webkit.messageHandlers.bridgeSubscribeStringSignalFromNative.postMessage(this.createPMParam(t));break;case"object":default:webkit.messageHandlers.bridgeSubscribeObjectSignalFromNative.postMessage(this.createPMParam(t))}}unsubscribe(t,e){if(n.Ch5Debug.info("Ch5SignalBridge.unsubscribe",'"'+t+'":"'+e+'"'),this._subscriptions[e].has(t))if(this._subscriptions[e].delete(t),this._isWebView&&"function"==typeof JSInterface.bridgeUnsubscribeBooleanSignalFromNative&&"function"==typeof JSInterface.bridgeUnsubscribeIntegerSignalFromNative&&"function"==typeof JSInterface.bridgeUnsubscribeStringSignalFromNative&&"function"==typeof JSInterface.bridgeUnsubscribeObjectSignalFromNative)switch(e){case"boolean":JSInterface.bridgeUnsubscribeBooleanSignalFromNative(t);break;case"number":JSInterface.bridgeUnsubscribeIntegerSignalFromNative(t);break;case"string":JSInterface.bridgeUnsubscribeStringSignalFromNative(t);break;case"object":default:JSInterface.bridgeUnsubscribeObjectSignalFromNative(t)}else if(this._isWebKit&&void 0!==webkit.messageHandlers.bridgeUnsubscribeBooleanSignalFromNative&&void 0!==webkit.messageHandlers.bridgeUnsubscribeIntegerSignalFromNative&&void 0!==webkit.messageHandlers.bridgeUnsubscribeStringSignalFromNative)switch(e){case"boolean":webkit.messageHandlers.bridgeUnsubscribeBooleanSignalFromNative.postMessage(this.createPMParam(t));break;case"number":webkit.messageHandlers.bridgeUnsubscribeIntegerSignalFromNative.postMessage(this.createPMParam(t));break;case"string":webkit.messageHandlers.bridgeUnsubscribeStringSignalFromNative.postMessage(this.createPMParam(t));break;case"object":default:webkit.messageHandlers.bridgeUnsubscribeStringSignalFromNative.postMessage(this.createPMParam(t))}}publish(t,e){n.Ch5Debug.info("Ch5SignalBridge.publish",'"'+t+'":'+e);const i=typeof e;switch(this.unsubscribe(t,i),this._localPublishers[i].add(t),i){case"boolean":this.sendBooleanToNative(t,e);break;case"number":this.sendIntegerToNative(t,e);break;case"string":this.sendStringToNative(t,e);break;default:this.sendObjectToNative(t,e)}}sendBooleanToNative(t,e){n.Ch5Debug.info("Ch5SignalBridge.sendBooleanToNative",'"'+t+'":'+e),this._isWebView?JSInterface.bridgeSendBooleanToNative(t,e):this._isWebKit?webkit.messageHandlers.bridgeSendBooleanToNative.postMessage(this.createPMParam(t,e)):this._isWebXPanel()&&CommunicationInterface.bridgeSendBooleanToNative(t,e)}sendIntegerToNative(t,e){n.Ch5Debug.info("Ch5SignalBridge.sendIntegerToNative",'"'+t+'":'+e),this._isWebView?JSInterface.bridgeSendIntegerToNative(t,e):this._isWebKit?webkit.messageHandlers.bridgeSendIntegerToNative.postMessage(this.createPMParam(t,e)):this._isWebXPanel()&&CommunicationInterface.bridgeSendIntegerToNative(t,e)}sendStringToNative(t,e){n.Ch5Debug.info("Ch5SignalBridge.sendStringToNative",'"'+t+'":"'+e+'"'),this._isWebView?JSInterface.bridgeSendStringToNative(t,e):this._isWebKit?webkit.messageHandlers.bridgeSendStringToNative.postMessage(this.createPMParam(t,e)):this._isWebXPanel()&&CommunicationInterface.bridgeSendStringToNative(t,e)}sendObjectToNative(t,e){const i="Ch5SignalBridge.sendObjectToNative";n.Ch5Debug.shouldDisplay(i)&&n.Ch5Debug.info(i,`"${t}": ${JSON.stringify(e)}`),this._isWebView?JSInterface.bridgeSendObjectToNative(t,JSON.stringify(e)):this._isWebKit?webkit.messageHandlers.bridgeSendObjectToNative.postMessage(this.createPMParam(t,e)):this._isWebXPanel()&&CommunicationInterface.bridgeSendObjectToNative(t,JSON.stringify(e))}sendArrayToNative(t){}_isWebXPanel(){const t="undefined"!=typeof CommunicationInterface&&(0,s.isFunction)(CommunicationInterface.bridgeSendBooleanToNative)&&(0,s.isFunction)(CommunicationInterface.bridgeSendIntegerToNative)&&(0,s.isFunction)(CommunicationInterface.bridgeSendStringToNative)&&(0,s.isFunction)(CommunicationInterface.bridgeSendObjectToNative);return t&&(this._isWebView=!1),t}createPMParam(t,e){let i;return i=void 0!==e?{signal:t,value:e}:{signal:t},JSON.stringify(i)}}e.Ch5SignalBridge=r,r.REPEAT_DIGITAL_KEY="repeatdigital"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5SignalBehaviorSubject=void 0;const s=i(14),n=i(23);class r extends s.BehaviorSubject{constructor(t,e){super(t),this._prevValue=e}get prevValue(){return this.getPrevValue()}getPrevValue(){return this._prevValue}next(t){if(this._prevValue=this.value,"string"==typeof t){let e=t;n.Ch5TranslationUtility.getInstance().isTranslationIdentifier(t)&&(e=n.Ch5TranslationUtility.getInstance().translatedValue(t)),super.next(e)}else super.next(t)}}e.Ch5SignalBehaviorSubject=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5TranslationConfiguration=void 0;class s{}e.Ch5TranslationConfiguration=s,s.translationTokenStartDelimiter="-+",s.translationTokenEndDelimiter="+-"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5TranslationListeners=void 0;const s=i(55);e.Ch5TranslationListeners=class{constructor(t){this.translator={},this.translator=t,this.init()}init(){this.translator.on("initialized",this.onInitialized.bind(this)),this.translator.on("loaded",this.onLoaded.bind(this)),this.translator.on("added",this.onAdded.bind(this)),this.translator.on("languageChanged",this.onLanguageChanged.bind(this))}onInitialized(t){this.translate(t.language)}onLanguageChanged(t){this.translate(t)}onLoaded(t){this.translate()}onAdded(t,e){this.translate()}translate(t){(0,s.triggerTranslation)(t)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.triggerTranslation=void 0;const s=i(28),n=i(7);e.triggerTranslation=function(t){const e=n.Ch5SignalFactory.getInstance().getStringSignal(s.languageChangedSignalName);let i=s.translationFactory.translator.language;null==i&&""!==t&&(i=t),null!==e&&e.publish(i)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Resync=void 0;const s=i(1),n=i(57),r=i(1),a=i(58);class o{constructor(){this.ch5SignalFactory=s.Ch5SignalFactory.getInstance(),this.LOG_KEY="Ch5Resync",this.startOfUpdateCounter=0,this.statesRef=this.ch5SignalFactory.getStates(),this._statesAtDefaultValue={}}static checkIfStateShouldBeIncluded(t,e){if("Csig.State_Synchronization"===e)return!1;for(const i of t.excludePrefixes)if(e&&e.toString().startsWith(i))return!1;return!0}static get Instance(){return this._instance||(this._instance=new this)}onReceiveStartOfUpdate(t){r.Ch5Debug.info(this.LOG_KEY,"Start of Update called with "+JSON.stringify(t)),this.initializeStartOfUpdateTimer(),this.startOfUpdateCounter+=1,this.setDefaultStatesOnStartOfUpdate(t)}onReceiveStartOfUpdateRange(t,e,i){r.Ch5Debug.shouldDisplay(this.LOG_KEY)&&r.Ch5Debug.info(this.LOG_KEY,"Start of Update Range called with "+JSON.stringify(e)),a.ResetEventNames.startOfUpdateRange===t&&(this.initializeStartOfUpdateTimer(),this.startOfUpdateCounter+=1),this.addDefaultJoinsOnClearRange(e.boolean.joinLow,e.boolean.joinHigh,"boolean"),this.addDefaultJoinsOnClearRange(e.numeric.joinLow,e.numeric.joinHigh,"number"),this.addDefaultJoinsOnClearRange(e.string.joinLow,e.string.joinHigh,"string"),this.addDefaultStatesOnClearRange(e.boolean.stateNames,"boolean",i),this.addDefaultStatesOnClearRange(e.numeric.stateNames,"number",i),this.addDefaultStatesOnClearRange(e.string.stateNames,"string",i),r.Ch5Debug.shouldDisplay(this.LOG_KEY)&&r.Ch5Debug.info(this.LOG_KEY,"Start Of Update Range:"+JSON.stringify(this._statesAtDefaultValue))}onReceiveUpdatedState(t,e,i){this.InUpdateState&&(r.Ch5Debug.info(this.LOG_KEY,`Updated ${i}:${t}`),void 0!==this._statesAtDefaultValue[i]&&void 0!==this._statesAtDefaultValue[i][t]&&delete this._statesAtDefaultValue[i][t])}onReceiveEndOfUpdate(){r.Ch5Debug.info(this.LOG_KEY,"End of Update called with counter "+this.startOfUpdateCounter),this.startOfUpdateCounter>0&&(this.startOfUpdateCounter-=1,0===this.startOfUpdateCounter&&this.resetRemainingStates())}resetRemainingStates(){this.startOfUpdateCounter=0,void 0!==this.startOfUpdateCounter&&(window.clearTimeout(this.startOfUpdateTimer),this.startOfUpdateTimer=void 0),this.setRemainingStatesToDefaultValue(),this._statesAtDefaultValue={}}addDefaultJoinsOnClearRange(t,e,i){if(0!==t||0!==e){void 0===this._statesAtDefaultValue[i]&&(this._statesAtDefaultValue[i]={});for(let s=t;s<=e;s++)this._statesAtDefaultValue[i][n.Ch5ResyncConstants.JOIN_NUMBER_SIGNAL_NAME_PREFIX+s.toString()]=!0}}addDefaultStatesOnClearRange(t,e,i){if(void 0!==t&&0!==t.length){void 0===this._statesAtDefaultValue[e]&&(this._statesAtDefaultValue[e]={});for(const i of t)this._statesAtDefaultValue[e][i]=!0}}setDefaultStatesOnStartOfUpdate(t){this._statesAtDefaultValue={};for(const e in this.statesRef)if(this.statesRef.hasOwnProperty(e)){void 0===this._statesAtDefaultValue[e]&&(this._statesAtDefaultValue[e]={});for(const i in this.statesRef[e])if(this.statesRef[e].hasOwnProperty(i)){const s=this.statesRef[e];o.checkIfStateShouldBeIncluded(t,s[i]._name)&&s[i].receivedFromSignalBridge&&(this._statesAtDefaultValue[e][s[i]._name]=!0)}}r.Ch5Debug.shouldDisplay(this.LOG_KEY)&&r.Ch5Debug.info(this.LOG_KEY,"Start of Update:"+JSON.stringify(this._statesAtDefaultValue))}setRemainingStatesToDefaultValue(){r.Ch5Debug.shouldDisplay(this.LOG_KEY)&&r.Ch5Debug.info(this.LOG_KEY,"End Of Update:"+JSON.stringify(this._statesAtDefaultValue));for(const t in this._statesAtDefaultValue)if(Object.prototype.hasOwnProperty.call(this._statesAtDefaultValue,t)){const e=this._statesAtDefaultValue[t];for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(!this.statesRef[t][i])continue;try{switch(t){case"boolean":this.statesRef[t][i].fromSignalBridge(!1);break;case"number":this.statesRef[t][i].fromSignalBridge(0),this.statesRef.object[i]&&this.statesRef.object[i].fromSignalBridge({rcb:{value:0,time:0}});break;case"string":this.statesRef[t][i].fromSignalBridge("")}}catch(e){console.log("[INFO] Failed to publish signal: "+i+" of type: "+t)}}}}initializeStartOfUpdateTimer(t=o.START_OF_UPDATE_TIME_LIMIT){window.clearTimeout(this.startOfUpdateTimer),this.startOfUpdateTimer=window.setTimeout(()=>{r.Ch5Debug.info(this.LOG_KEY,"Timeout waiting for EndOfUpdate remainingEOUs:"+this.startOfUpdateCounter),this.resetRemainingStates()},t)}get InUpdateState(){return void 0!==this.startOfUpdateTimer}}e.Ch5Resync=o,o.START_OF_UPDATE_TIME_LIMIT=6e4},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ResyncConstants=void 0;class s{}e.Ch5ResyncConstants=s,s.JOIN_NUMBER_SIGNAL_NAME_PREFIX="fb"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResetEventNames=void 0,function(t){t.startOfUpdateRange="StartOfUpdateRange",t.startOfUpdateRangeSO="StartOfUpdateRangeSO",t.clearAll="ClearAll",t.clearRange="ClearRange",t.endOfUpdate="EndOfUpdate",t.startOfUpdate="StartOfUpdate"}(e.ResetEventNames||(e.ResetEventNames={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getObjectSignalValue=e.getStringSignalValue=e.getNumericSignalValue=e.getBooleanSignalValue=e.getState=void 0;const s=i(7),n=i(8);function r(t,e){const i=s.Ch5SignalFactory.getInstance();let r=null;null!=e&&(r=e),t=n.Ch5Signal.getSubscriptionSignalName(t);const a=i.getBooleanSignal(t,!1);return null!==a&&a.hasChangedSinceInit()&&(r=a.value),r}function a(t,e){const i=s.Ch5SignalFactory.getInstance();let r=null;null!=e&&(r=e),t=n.Ch5Signal.getSubscriptionSignalName(t);const a=i.getNumberSignal(t,!1);return null!==a&&a.hasChangedSinceInit()&&(r=a.value),r}function o(t,e){const i=s.Ch5SignalFactory.getInstance();let r=null;null!=e&&(r=e),t=n.Ch5Signal.getSubscriptionSignalName(t);const a=i.getStringSignal(t,!1);return null!==a&&a.hasChangedSinceInit()&&(r=a.value),r}function l(t,e){const i=s.Ch5SignalFactory.getInstance();let r=null;null!=e&&(r=e),t=n.Ch5Signal.getSubscriptionSignalName(t);const a=i.getObjectSignal(t,!1);return null!==a&&a.hasChangedSinceInit()&&(r=a.value),r}e.getState=function(t,e,i){let s=null;switch(t.toLowerCase()){case"b":case"boolean":s=void 0!==i?r(e,i):r(e);break;case"n":case"number":case"numeric":s=void 0!==i?a(e,i):a(e);break;case"s":case"string":s=void 0!==i?o(e,i):o(e);break;case"o":case"object":s=void 0!==i?l(e,i):l(e)}return s},e.getBooleanSignalValue=r,e.getNumericSignalValue=a,e.getStringSignalValue=o,e.getObjectSignalValue=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unsubscribeState=void 0;const s=i(7),n=i(8);e.unsubscribeState=function(t,e,i){const r=s.Ch5SignalFactory.getInstance();switch(e=n.Ch5Signal.getSubscriptionSignalName(e),t.toLowerCase()){case"b":case"boolean":const t=r.getBooleanSignal(e);null!==t&&t.unsubscribe(i);break;case"n":case"number":case"numeric":const s=r.getNumberSignal(e);null!==s&&s.unsubscribe(i);break;case"s":case"string":const n=r.getStringSignal(e);null!==n&&n.unsubscribe(i);break;case"o":case"object":const a=r.getObjectSignal(e);null!==a&&a.unsubscribe(i)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unSubscribeInViewPortChange=e.subscribeInViewPortChange=void 0;const s=i(29);e.subscribeInViewPortChange=function(t,e){s.Ch5CoreIntersectionObserver.getInstance().observe(t,e)},e.unSubscribeInViewPortChange=function(t){s.Ch5CoreIntersectionObserver.getInstance()instanceof s.Ch5CoreIntersectionObserver&&s.Ch5CoreIntersectionObserver.getInstance().unobserve(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=void 0;e.debounce=(t,e,i=0)=>{const s=Date.now();t.start||(t.start=s);const n=s-t.start>i;t.timeoutIdentifier&&!n||(clearTimeout(t.timeoutIdentifier),t.timeoutIdentifier=setTimeout(()=>e(),i),t.start=n?s:t.start)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ImageUriModel=void 0;const s=i(0);e.Ch5ImageUriModel=class{constructor(t,e,i,s){this._schemas={},this._user="",this._password="",this._location="",this._protocol="",this.schemas=t,this._protocol=this.getProtocol(s),this.user=e,this.password=i,this.location=s}set schemas(t){(0,s.isNil)(t)||(0,s.isEmpty)(t)||(this._schemas=t)}get schemas(){return this._schemas}set user(t){(0,s.isNil)(t)||(0,s.isEmpty)(t)||(this._user=t)}get user(){return this._user}set password(t){(0,s.isNil)(t)||(0,s.isEmpty)(t)||(this._password=t)}get password(){return this._password}set location(t){if((0,s.isNil)(t)||(0,s.isEmpty)(t))return;const e=new RegExp("http(s?)[://]+(www.)*"),i=t.match(e);!(0,s.isNil)(i)&&i.length>0&&(t=t.replace(i[0],"")),this._location=t}get location(){return this._location}toString(){return this.isValidAuthenticationUri()?`${this._protocol}://${this.user}:${this.password}@${this.location}`:""}isValidAuthenticationUri(){return!((0,s.isNil)(this.password)||(0,s.isEmpty)(this.password)||(0,s.isNil)(this.user)||(0,s.isEmpty)(this.user)||(0,s.isNil)(this.schemas)||(0,s.isEmpty)(this.schemas)&&this.schemas.http)}getProtocol(t){const e=new RegExp("^http(?:s?)"),i=t.match(e);return i&&"https"===i[0]&&this.schemas.https?this.schemas.https:this.schemas.http}}},function(t,e){var i=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}},function(t,e,i){var s=i(30),n=i(69);t.exports=function(t){if(!n(t))return!1;var e=s(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,i){var s=i(15).Symbol;t.exports=s},function(t,e,i){(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.exports=i}).call(this,i(36))},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var i=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5CommonLog=void 0;const s=i(1);e.Ch5CommonLog=class{constructor(t,e=!1,i=""){this.isDebugEnabled=t,this.isTraceEnabled=e,this.crId=i}start(t,e=""){if(!0===this.isTraceEnabled){let i="";!1===s.Ch5Debug.CONSOLE_OVERRIDDEN&&(i=(new Date).toISOString()),console.group((""!==e?e+" ":"")+i+": "+this.crId+": "+t)}else!0===this.isDebugEnabled&&this.info(t,e)}log(...t){if(!0===this.isTraceEnabled)console.log(...t);else if(!0===this.isDebugEnabled){let e="";!1===s.Ch5Debug.CONSOLE_OVERRIDDEN&&(e=(new Date).toISOString());try{let i=String((new Error).stack).trim();null!==i&&(i&&(i=i.replace(/^Error\s+/,"")),i&&(i=i.split("\n")[1]),i&&(i=i.replace(/^\s+at Object./,"")),i&&(i=i.replace(/^\s+at HTMLElement./,"")),i&&(i=i.replace(/^\s+at /,"")),i&&(i=i.replace(/ \(.+\)$/,"")),i&&(i=i.replace(/\@.+/,"")),i&&""!==i&&(i="Method is "+i+":")),console.log(e+":"+this.crId+":"+i+":",t)}catch(i){console.log(e+":"+this.crId+":",t)}}}info(t,...e){if(!0===this.isDebugEnabled){let i="";!1===s.Ch5Debug.CONSOLE_OVERRIDDEN&&(i=(new Date).toISOString());try{let s=String((new Error).stack).trim();null!==s&&(s&&(s=s.replace(/^Error\s+/,"")),s&&(s=s.split("\n")[1]),s&&(s=s.replace(/^\s+at Object./,"")),s&&(s=s.replace(/^\s+at HTMLElement./,"")),s&&(s=s.replace(/^\s+at /,"")),s&&(s=s.replace(/ \(.+\)$/,"")),s&&(s=s.replace(/\@.+/,"")),s&&""!==s&&(s="Method is "+s+":")),console.info(i+":"+this.crId+":"+s+t+":"+e)}catch(s){console.info(i+":"+this.crId+":"+t+":"+e)}}}error(t,...e){if(!0===this.isDebugEnabled){let i="";!1===s.Ch5Debug.CONSOLE_OVERRIDDEN&&(i=(new Date).toISOString());try{let s=String((new Error).stack).trim();null!==s&&(s&&(s=s.replace(/^Error\s+/,"")),s&&(s=s.split("\n")[1]),s&&(s=s.replace(/^\s+at Object./,"")),s&&(s=s.replace(/^\s+at HTMLElement./,"")),s&&(s=s.replace(/^\s+at /,"")),s&&(s=s.replace(/ \(.+\)$/,"")),s&&(s=s.replace(/\@.+/,"")),s&&""!==s&&(s="Method is "+s+":")),console.error(i+":"+this.crId+":"+s+t+":"+e)}catch(s){console.error(i+":"+this.crId+":"+t+":"+e)}}}stop(){!0===this.isTraceEnabled&&console.groupEnd()}}},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(74),e),n(i(17),e),n(i(42),e),n(i(33),e),n(i(43),e)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonBase=void 0;const n=i(3),r=i(1),a=i(1),o=s(i(11)),l=i(4),h=i(31),u=i(5),c=i(159),d=i(160),p=i(161),g=s(i(0)),m=i(16),b=i(18);class f extends n.Ch5Common{constructor(t){super(),this.buttonListContractObj=t,this.BUTTON_PROPERTIES={CHECKBOX_SHOW:{default:!1,valueOnAttributeEmpty:!0,variableName:"_checkboxShow",attributeName:"checkboxShow",propertyName:"checkboxShow",type:"boolean",removeAttributeOnNull:!0,enumeratedValues:["true","false","",!0,!1],componentReference:this,callback:this.checkboxDisplay.bind(this)},SELECTED:{default:!1,valueOnAttributeEmpty:!0,variableName:"_selected",attributeName:"selected",propertyName:"selected",removeAttributeOnNull:!0,type:"boolean",enumeratedValues:["true","false","",!0,!1],componentReference:this,callback:this.setSelectionMethods.bind(this)},VALIGN_LABEL:{default:f.VERTICAL_LABEL_ALIGNMENTS[0],valueOnAttributeEmpty:f.VERTICAL_LABEL_ALIGNMENTS[0],variableName:"_vAlignLabel",attributeName:"vAlignLabel",propertyName:"vAlignLabel",removeAttributeOnNull:!1,type:"enum",enumeratedValues:f.VERTICAL_LABEL_ALIGNMENTS,componentReference:this,callback:this.setButtonDisplay.bind(this)},PRESSED:{default:!1,valueOnAttributeEmpty:!0,variableName:"_pressed",attributeName:"pressed",propertyName:"pressed",removeAttributeOnNull:!0,type:"boolean",enumeratedValues:["true","false","",!0,!1],componentReference:this}},this.STATE_CHANGE_TIMEOUTS=500,this.BUTTON_PRIMARY_CLASS="cb-btn",this.pressedCssClassPostfix="--pressed",this.selectedCssClassPostfix="--selected",this.iosCssClassPostfix="--ios-vertical",this.isResizeInProgress=!1,this.RESIZE_DEBOUNCE=500,this.ELEMENT_NAME="ch5-button",this.primaryCssClass="ch5-button",this.DEBOUNCE_BUTTON_DISPLAY=25,this._elContainer={},this._elButton={},this._elSpanForLabelOnly={},this._elSpanForLabelIconImg={},this._elIcon={},this._elCheckboxIcon={},this._elIosDots={},this.isLabelLoaded=!1,this._isPressedSubscription=null,this._mode=0,this.isModeSetUsingJavascript=!1,this._pressDelayTime=null,this._pressDelayDistance=null,this._label="",this._labelInnerHTML="",this.isLabelSetUsingJavascript=!1,this.labelSetByJavascriptValue="",this._iconClass="",this._previousIconClass="",this._previousSgIconNumeric=-1,this._previousSgIconString="",this._iconPosition="first",this._checkboxPosition="left",this._checkboxShow=!1,this.isButtonInitiated=!1,this._hAlignLabel="center",this._vAlignLabel="middle",this._orientation="horizontal",this._shape="rounded-rectangle",this._size="regular",this._formType=null,this._stretch=null,this._type="default",this._iconUrlFillType=null,this._selected=!1,this._customClassState="",this._sigNameReceiveSelected="",this._subReceiveSelected="",this._sigNameSendOnTouch="",this._sigNameSendOnClick="",this._sigNameReceiveStateMode=null,this._subReceiveSignalMode=null,this._repeatDigitalInterval=null,this._pressable=null,this._iconUrl="",this._previousIconUrl="",this._customClassPressed=null,this._customClassDisabled=null,this.sgIconNumeric=-1,this.sgIconString="",this.buttonListContract={clickHoldTime:0,index:-1,contractName:"",parentComponent:""},this.previousExtendedProperties={},this.debounceSetButtonDisplay=this.debounce(()=>{this.setButtonDisplayDetails()},this.DEBOUNCE_BUTTON_DISPLAY),this.logger.start("constructor()",this.primaryCssClass),this._wasInstatiated||this.createInternalHtml(),t&&(this.buttonListContract=t),this._wasInstatiated=!0,this._ch5ButtonSignal=new p.Ch5ButtonSignal,this._onBlur=this._onBlur.bind(this),this._onFocus=this._onFocus.bind(this),this._ch5Properties=new l.Ch5Properties(this,f.COMPONENT_PROPERTIES),this.updateCssClasses(),this.logger.stop()}set label(t){this.logger.log('set label("'+t+'")'),(0,o.default)(t)&&(t="");const e=this._getTranslatedValue("label",t);e!==this.label&&(this.setAttribute("label",e),this.setButtonDisplay())}get label(){return this._label}set labelInnerHTML(t){this.logger.log('set labelInnerHTML("'+t+'")'),(0,o.default)(t)&&(t=""),t!==this.labelInnerHTML&&(this.setAttribute("labelInnerHTML",t),this._labelInnerHTML=t,this.createButtonLabel(this),this.setButtonDisplay())}get labelInnerHTML(){return this._labelInnerHTML}set formType(t){this.logger.log('set formType("'+t+'")'),(0,o.default)(t)?this.removeAttribute("formType"):this.setAttribute("formType",t)}get formType(){return this._formType}set customClass(t){this.setButtonAttribute("customClass",t)}get customClass(){return this._customClass}set customStyle(t){this.setButtonAttribute("customStyle",t)}get customStyle(){return this._customStyle}set iconClass(t){this.setButtonAttribute("iconClass",t)}get iconClass(){return this._iconClass}set hAlignLabel(t){this.setButtonAttribute("hAlignLabel",t,f.HORIZONTAL_LABEL_ALIGNMENTS,f.HORIZONTAL_LABEL_ALIGNMENTS[0])}get hAlignLabel(){return this._hAlignLabel}setButtonAttribute(t,e,i=[],s){this.logger.log("setButtonAttribute: "+t+' - "'+e+'"'),this[t]!==e&&(0===i.length?g.default.isNil(e)||""===String(e).trim()?(this.removeAttribute(t),this.setButtonDisplay()):(this.setAttribute(t,String(e)),this.setButtonDisplay()):i.indexOf(e)>=0?(this.setAttribute(t,String(e).trim()),this.setButtonDisplay()):g.default.isNil(s)?(this.removeAttribute(t),this.setButtonDisplay()):(this.setAttribute(t,String(s).trim()),this.setButtonDisplay()))}set vAlignLabel(t){this.setAttributeAndProperty(this.BUTTON_PROPERTIES.VALIGN_LABEL,t)}get vAlignLabel(){return this._vAlignLabel}set mode(t){if(this.logger.log('set mode("'+t+'")'),this._mode!==t){if(Number.isNaN(t))this._mode=0;else if(t>=f.MODES.MIN_LENGTH&&t<=f.MODES.MAX_LENGTH){const e=this.getElementsByTagName("ch5-button-mode");e&&e.length>0&&t<e.length?this._mode=t:this._mode=0}else this._mode=0;this.setAttribute("mode",String(this._mode)),this.setButtonDisplay()}}get mode(){return this._mode}set pressDelayTime(t){this.logger.log('set pressDelayTime("'+t+'")'),this._pressDelayTime!==t&&null!==t&&(Number.isNaN(t)||(this._pressDelayTime=t,this.setAttribute("pressDelayTime",String(this._pressDelayTime))))}get pressDelayTime(){return this._pressDelayTime}set pressDelayDistance(t){this.logger.log('set pressDelayDistance("'+t+'")'),this._pressDelayDistance!==t&&null!==t&&(Number.isNaN(t)||(this._pressDelayDistance=t,this.setAttribute("pressDelayDistance",String(this._pressDelayDistance))))}get pressDelayDistance(){return this._pressDelayDistance}set checkboxPosition(t){this.setButtonAttribute("checkboxPosition",t,f.CHECKBOX_POSITIONS,f.CHECKBOX_POSITIONS[0])}get checkboxPosition(){return this._checkboxPosition}set checkboxShow(t){this.logger.log('set checkboxShow("'+t+'")'),this.setAttributeAndProperty(this.BUTTON_PROPERTIES.CHECKBOX_SHOW,t)}get checkboxShow(){return this._checkboxShow}set iconPosition(t){this.setButtonAttribute("iconPosition",t,f.ICON_POSITIONS,f.ICON_POSITIONS[0])}get iconPosition(){return this._iconPosition}set iconUrl(t){this.setButtonAttribute("iconUrl",t)}get iconUrl(){return this._iconUrl}set orientation(t){this.logger.log('set orientation("'+t+'")'),this._orientation!==t&&(this._orientation=d.Ch5ButtonUtils.getValidInputValue(f.ORIENTATIONS,t),this.setAttribute("orientation",this._orientation))}get orientation(){return this._orientation}set type(t){this.logger.log('set type("'+t+'")'),this._type!==t&&(this.setAttribute("type",d.Ch5ButtonUtils.getValidInputValue(f.TYPES,t)),this.setButtonDisplay())}get type(){return this._type}set shape(t){this.logger.log('set shape("'+t+'")'),this._shape!==t&&null!==t&&(f.SHAPES.indexOf(t)>=0?this._shape=t:this._shape=f.SHAPES[0],this.setAttribute("shape",this._shape))}get shape(){return this._shape}set size(t){this.logger.log('set size("'+t+'")'),this._size!==t&&null!==t&&(f.SIZES.indexOf(t)>=0?this._size=t:this._size=f.SIZES[0],this.setAttribute("size",this._size))}get size(){return this._size}set stretch(t){this.logger.log('set stretch("'+t+'")'),null!==t?this._stretch!==t&&(f.STRETCHES.indexOf(t)>=0?(this._stretch=t,this.setAttribute("stretch",this._stretch)):(this._stretch=null,this.removeAttribute("stretch"))):(this._stretch=null,this.removeAttribute("stretch")),this.updateCssClasses()}get stretch(){return this._stretch}set selected(t){this.logger.log('set selected("'+t+'")'),(g.default.isNil(this.receiveStateSelected)||""===this.receiveStateSelected)&&this.setAttributeAndProperty(this.BUTTON_PROPERTIES.SELECTED,t)}get selected(){return this._selected}set pressed(t){var e;this.logger.log('set pressed("'+t+'")'),this.setAttributeAndProperty(this.BUTTON_PROPERTIES.PRESSED,t);let i=!1;i="boolean"==typeof t?t:!!this.hasAttribute("pressed")&&(!([!0,!1,"true","false","0","1",0,1,"",null].indexOf(t)<0)&&this.toBoolean(t,!0)),this._pressable&&(null===(e=this._pressable)||void 0===e?void 0:e._pressed)!==i&&this._pressable.setPressed(i),this.updateCssClasses()}get pressed(){return!!this._pressable&&this._pressable._pressed}set customClassState(t){this.logger.log('set customclassstate("'+t+'")'),this._customClassState!==t&&(this._customClassState=t)}get customClassState(){return this._customClassState}set customClassPressed(t){this.logger.log('set customClassPressed("'+t+'")'),this._customClassPressed!==t&&(this._customClassPressed=t)}get customClassPressed(){return this._customClassPressed}set customClassDisabled(t){this.logger.log('set customClassDisabled("'+t+'")'),this._customClassDisabled!==t&&(this._customClassDisabled=t)}get customClassDisabled(){return this._customClassDisabled}set backgroundImageUrl(t){this._ch5Properties.set("backgroundImageUrl",t,()=>{this.backgroundImageURLHandler()})}get backgroundImageUrl(){return this._ch5Properties.get("backgroundImageUrl")}set backgroundImageFillType(t){this._ch5Properties.set("backgroundImageFillType",t,()=>{this.updateCssClasses()})}get backgroundImageFillType(){return this._ch5Properties.get("backgroundImageFillType")}set iconUrlFillType(t){this._ch5Properties.set("iconUrlFillType",t,()=>{this._iconUrlFillType!==t&&(this.setButtonDisplay(),this.updateCssClasses())})}get iconUrlFillType(){return this._iconUrlFillType}set receiveStateBackgroundImageUrl(t){this._ch5Properties.set("receiveStateBackgroundImageUrl",t,null,t=>{this._ch5Properties.setForSignalResponse("backgroundImageUrl",t,()=>{this.backgroundImageURLHandler()})})}get receiveStateBackgroundImageUrl(){return this._ch5Properties.get("receiveStateBackgroundImageUrl")}set sendEventOnClick(t){this.logger.log('set sendEventOnClick("'+t+'")'),""!==t&&t!==this._sigNameSendOnClick&&(this._sigNameSendOnClick=t,this.setAttribute("sendeventonclick",t))}get sendEventOnClick(){return this._sigNameSendOnClick}set sendEventOnTouch(t){this.logger.log('set sendEventOnTouch("'+t+'")'),""!==t&&t!==this._sigNameSendOnTouch&&(this._sigNameSendOnTouch=t,this.setAttribute("sendeventontouch",t))}get sendEventOnTouch(){return this._sigNameSendOnTouch}set receiveStateSelected(t){if(this.logger.log('set receiveStateSelected("'+t+'")'),!t||this._sigNameReceiveSelected===t)return;if(this._sigNameReceiveSelected){const t=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveSelected),e=r.Ch5SignalFactory.getInstance().getBooleanSignal(t);null!==e&&e.unsubscribe(this._subReceiveSelected)}this._sigNameReceiveSelected=t,this.setAttribute("receiveStateSelected",t);const e=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveSelected),i=r.Ch5SignalFactory.getInstance().getBooleanSignal(e);null!==i&&(this._subReceiveSelected=i.subscribe(t=>{t!==this.selected&&this.setAttributeAndProperty(this.BUTTON_PROPERTIES.SELECTED,t,!0)}))}get receiveStateSelected(){return this._attributeValueAsString("receivestateselected")}set receiveStateLabel(t){this.receiveSignalAsString(this,"receiveStateLabel",t)}get receiveStateLabel(){return this._attributeValueAsString("receivestatelabel")}set receiveStateScriptLabelHtml(t){this.receiveSignalAsString(this,"receiveStateScriptLabelHtml",t)}get receiveStateScriptLabelHtml(){return this._attributeValueAsString("receivestatescriptlabelhtml")}set receiveStateIconClass(t){this.receiveSignalAsString(this,"receiveStateIconClass",t)}get receiveStateIconClass(){return this._attributeValueAsString("receivestateiconclass")}set receiveStateIconUrl(t){this.receiveSignalAsString(this,"receiveStateIconUrl",t)}get receiveStateIconUrl(){return this._attributeValueAsString("receivestateiconurl")}set receiveStateMode(t){if(this.logger.log("set receiveStateMode('"+t+"')"),this.logger.log("this._sigNameReceiveStateMode"+this._sigNameReceiveStateMode),this._sigNameReceiveStateMode===t||null===t)return;if(this._sigNameReceiveStateMode){this.logger.log("_sigNameReceiveStateMode exists");const t=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveStateMode),e=r.Ch5SignalFactory.getInstance().getNumberSignal(t);this.logger.log("oldReceiveStateSigName",t),this.logger.log("oldSignal",e),null!==e&&e.unsubscribe(this._subReceiveSignalMode)}this._sigNameReceiveStateMode=t,this.setAttribute("receivestatemode",t);const e=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveStateMode),i=r.Ch5SignalFactory.getInstance().getNumberSignal(e);null!==i&&(this._subReceiveSignalMode=i.subscribe(t=>{!1===this.isModeSetUsingJavascript&&(this.mode=Number(t),this.setButtonDisplay())}))}get receiveStateMode(){return this._attributeValueAsString("receivestatemode")}set receiveStateType(t){this.receiveSignalAsString(this,"receiveStateType",t)}get receiveStateType(){return this._attributeValueAsString("receivestatetype")}set sgIconTheme(t){this._ch5Properties.set("sgIconTheme",t,()=>{Array.from(f.SG_ICON_THEME).forEach(t=>this._elIcon.classList.remove("sg-"+t)),this._elIcon.classList.add("sg-"+this.sgIconTheme)})}get sgIconTheme(){return this._ch5Properties.get("sgIconTheme")}set receiveStateSGIconNumeric(t){this._ch5Properties.set("receiveStateSGIconNumeric",t,null,t=>{t>=0&&t<=f.MAX_SG_NUMERIC&&(this.sgIconNumeric=t,this.setButtonDisplay())})}get receiveStateSGIconNumeric(){return this._ch5Properties.get("receiveStateSGIconNumeric")}set receiveStateSGIconString(t){this._ch5Properties.set("receiveStateSGIconString",t,null,t=>{this.sgIconString=t.trim().toLowerCase().split(" ").join("-"),this.setButtonDisplay()})}get receiveStateSGIconString(){return this._ch5Properties.get("receiveStateSGIconString")}set receiveStateCustomClass(t){this.receiveSignalAsString(this,"receiveStateCustomClass",t)}get receiveStateCustomClass(){return this._attributeValueAsString("receivestatecustomclass")}set receiveStateCustomStyle(t){this.receiveSignalAsString(this,"receiveStateCustomStyle",t)}get receiveStateCustomStyle(){return this._attributeValueAsString("receivestatecustomstyle")}connectedCallback(){var t,e,i;this.logger.start("connectedCallback()",this.primaryCssClass),(0,a.subscribeInViewPortChange)(this,()=>{this.elementIsInViewPort&&this.verticalOrientationHandler()}),this.isButtonInitiated=!1,this.previousExtendedProperties={},this._listOfAllPossibleComponentCssClasses=this.generateListOfAllPossibleComponentCssClasses(),"ch5-tab-button"===(null===(t=this.buttonListContract)||void 0===t?void 0:t.parentComponent)||"ch5-button-list"===(null===(e=this.buttonListContract)||void 0===e?void 0:e.parentComponent)?this.updatePressedClass(this.primaryCssClass+this.pressedCssClassPostfix+" "+(null===(i=this.buttonListContract)||void 0===i?void 0:i.parentComponent)+this.pressedCssClassPostfix):this.updatePressedClass(this.primaryCssClass+this.pressedCssClassPostfix),this.hasAttribute("role")||this.setAttribute("role",u.Ch5RoleAttributeMapping.ch5Button),this._elContainer.parentElement!==this&&this.appendChild(this._elContainer),this.customClassState&&this.hasAttribute("customclasspressed")&&this.updatePressedClass(this.customClassState),this.attachEventListeners(),this.initAttributes(),this.initCommonMutationObserver(this),this.hasAttribute("customclasspressed")||this.updateCssClassesForCustomState(),customElements.whenDefined("ch5-button").then(()=>{this.isButtonInitiated=!0,this.setButtonDisplay(),this.updateCssClasses(),this.componentLoadedEvent(this.ELEMENT_NAME,this.id)}),this.logger.stop()}onWindowResizeHandler(){this.isResizeInProgress||(this.isResizeInProgress=!0,setTimeout(()=>{this.verticalOrientationHandler(),this.isResizeInProgress=!1},this.RESIZE_DEBOUNCE))}verticalOrientationHandler(){if(!g.default.isNil(this.stretch)&&"circle"===this.shape&&this.parentElement){const{offsetHeight:t,offsetWidth:e}=this.parentElement,i=e<=t?e:t;0!==i&&(this.style.height=i+"px",this.style.width=i+"px")}if("vertical"===this.orientation)if(!g.default.isNil(this.stretch)&&this.parentElement){const{height:t,width:e}=this.parentElement.getBoundingClientRect();"height"===this.stretch?(this._elButton.style.width=t+"px",this._elButton.style.height=this._elContainer.getBoundingClientRect().width+"px"):"width"===this.stretch?(this._elButton.style.height=e+"px",this._elButton.style.width=this._elContainer.getBoundingClientRect().height+"px"):"both"===this.stretch&&(this._elButton.style.height=e+"px",this._elButton.style.width=t+"px")}else if(g.default.isNil(this.stretch)&&"circle"!==this.shape){const{height:t,width:e}=this._elContainer.getBoundingClientRect();this._elButton.style.width=t+"px",this._elButton.style.height=e+"px"}else"circle"===this.shape&&(this._elButton.style.removeProperty("width"),this._elButton.style.removeProperty("height"));else this._elButton.style.removeProperty("width"),this._elButton.style.removeProperty("height")}static get observedAttributes(){const t=n.Ch5Common.observedAttributes,e=["label","labelinnerhtml","iconclass","iconposition","orientation","iconurl","checkboxshow","checkboxposition","halignlabel","valignlabel","pressdelaytime","pressdelaydistance","shape","size","stretch","type","formtype","mode","pressed","selected","customclassselected","customclasspressed","customclassdisabled","receivestatemode","receivestateselected","receivestatelabel","receivestatescriptlabelhtml","receivestateiconclass","receivestateiconurl","receivestatetype","sendeventonclick","sendeventontouch","iconurlfilltype","backgroundimageurl","backgroundimagefilltype","receivestatebackgroundimageurl"];for(let t=0;t<f.COMPONENT_PROPERTIES.length;t++)!0===f.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(f.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<f.COMPONENT_PROPERTIES.length;e++)if(!0===f.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(f.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=f.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}this.logger.start("initAttributes",this.primaryCssClass),this.hasAttribute("checkboxposition")&&(this.checkboxPosition=this.getAttribute("checkboxposition")),this.hasAttribute("checkboxshow")&&(this.checkboxShow=this.getAttribute("checkboxshow")),this.hasAttribute("customclassselected")&&(this.customClassState=this.getAttribute("customclassselected")),this.hasAttribute("customclasspressed")&&(this.customClassPressed=this.getAttribute("customclasspressed"),this.customClassState=this.customClassPressed),this.hasAttribute("customclassdisabled")&&(this.customClassDisabled=this.getAttribute("customclassdisabled"),this.customClassState=this.customClassDisabled),this.hasAttribute("formtype")&&(this.formType=this.getAttribute("formtype")),this.hasAttribute("halignlabel")&&(this.hAlignLabel=this.getAttribute("halignlabel")),this.hasAttribute("iconclass")&&(this.iconClass=this.getAttribute("iconclass")),this.hasAttribute("iconposition")&&(this.iconPosition=this.getAttribute("iconposition")),this.hasAttribute("iconurl")&&(this.iconUrl=this.getAttribute("iconurl")),this.hasAttribute("label")&&(this.label=this.getAttribute("label")),this.hasAttribute("mode")&&(this.mode=Number(this.getAttribute("mode"))),this.hasAttribute("pressdelaytime")&&(this.pressDelayTime=Number(this.getAttribute("pressdelaytime"))),this.hasAttribute("pressdelaydistance")&&(this.pressDelayDistance=Number(this.getAttribute("pressdelaydistance"))),this.hasAttribute("orientation")&&(this.orientation=this.getAttribute("orientation")),this.hasAttribute("selected")&&(this.selected=this.getAttribute("selected")),this.hasAttribute("shape")&&(this.shape=this.getAttribute("shape")),this.hasAttribute("size")&&(this.size=this.getAttribute("size")),this.hasAttribute("stretch")&&(this.stretch=this.getAttribute("stretch")),this.hasAttribute("type")&&(this.type=this.getAttribute("type")),this.hasAttribute("valignlabel")&&(this.vAlignLabel=this.getAttribute("valignlabel")),this.hasAttribute("pressed")&&(this.logger.log("### P: ",this.getAttribute("pressed")),this.pressed=this.getAttribute("pressed")),this.hasAttribute("labelInnerHTML")&&(this.labelInnerHTML=this.getAttribute("labelInnerHTML")),this.hasAttribute("receivestateselected")&&(this.receiveStateSelected=this.getAttribute("receivestateselected")),this.hasAttribute("receivestatelabel")&&(this.receiveStateLabel=this.getAttribute("receivestatelabel")),this.hasAttribute("receivestatescriptlabelhtml")&&(this.receiveStateScriptLabelHtml=this.getAttribute("receivestatescriptlabelhtml")),this.hasAttribute("receivestateiconclass")&&(this.receiveStateIconClass=this.getAttribute("receivestateiconclass")),this.hasAttribute("receivestateiconurl")&&(this.receiveStateIconUrl=this.getAttribute("receivestateiconurl")),this.hasAttribute("receivestatetype")&&(this.receiveStateType=this.getAttribute("receivestatetype")),this.hasAttribute("receivestatemode")&&(this.receiveStateMode=this.getAttribute("receivestatemode")),this.hasAttribute("sendeventonclick")&&(this.sendEventOnClick=this.getAttribute("sendeventonclick")),this.hasAttribute("sendeventontouch")&&(this.sendEventOnTouch=this.getAttribute("sendeventontouch")),this.updateCssClasses(),this.updateInternalHtml(),this.logger.stop()}attachEventListeners(){super.attachEventListeners(),this._elButton.addEventListener("focus",this._onFocus),this._elButton.addEventListener("blur",this._onBlur),this.logger.log("this._pressable",this._pressable),(0,o.default)(this._pressable)||(this._pressable.init(),this._subscribeToPressableIsPressed()),(0,b.resizeObserver)(this._elContainer,this.onWindowResizeHandler.bind(this))}removeEventListeners(){super.removeEventListeners(),this._elButton.removeEventListener("focus",this._onFocus),this._elButton.removeEventListener("blur",this._onBlur),this.style&&(this.style.removeProperty("height"),this.style.removeProperty("width")),(0,o.default)(this._pressable)||this._unsubscribeFromPressableIsPressed()}_onFocus(t){let e;this.logger.start("_onFocus"),e=new Event(t.type,t),this.dispatchEvent(e),t.preventDefault(),t.stopPropagation(),this.logger.stop()}_onBlur(t){let e;this.logger.start("_onBlur"),this.pressed=!1,e=new Event(t.type,t),this.dispatchEvent(e),t.preventDefault(),t.stopPropagation(),this.logger.stop()}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e===i)return void this.logger.stop();this.logger.log('ch5-button attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=f.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}switch(t){case"customclass":this.customClass=d.Ch5ButtonUtils.getAttributeValue(this,"customclass",i,"");break;case"labelinnerhtml":this.labelInnerHTML=d.Ch5ButtonUtils.getAttributeValue(this,"labelinnerhtml",i,"");break;case"receivestatecustomclass":this.hasAttribute("receivestatecustomclass")?this.receiveStateCustomClass=this.getAttribute("receivestatecustomclass"):(this.clearStringSignalSubscription(this._receiveStateCustomClass,this._subKeySigReceiveCustomClass),this._receiveStateCustomClass="");break;case"customstyle":this.customStyle=d.Ch5ButtonUtils.getAttributeValue(this,"customstyle",i,"");break;case"receivestatecustomstyle":this.hasAttribute("receivestatecustomstyle")?this.receiveStateCustomStyle=this.getAttribute("receivestatecustomstyle"):(this.clearStringSignalSubscription(this._receiveStateCustomStyle,this._subKeySigReceiveCustomStyle),this._receiveStateCustomStyle="");break;case"label":this.label=d.Ch5ButtonUtils.getAttributeValue(this,"label",i,"");break;case"iconclass":this.iconClass=d.Ch5ButtonUtils.getAttributeValue(this,"iconclass",i,"");break;case"iconposition":this.iconPosition=d.Ch5ButtonUtils.getAttributeValue(this,"iconposition",i,f.ICON_POSITIONS[0]);break;case"iconurl":this.iconUrl=d.Ch5ButtonUtils.getAttributeValue(this,"iconurl",i,"");break;case"mode":this.mode=d.Ch5ButtonUtils.getAttributeValue(this,"mode",Number(i),0),this.updateCssClasses(),this.updateInternalHtml();break;case"pressdelaytime":this.pressDelayTime=d.Ch5ButtonUtils.getAttributeValue(this,"pressdelaytime",Number(i),null),this.updatePressDelay();break;case"pressdelaydistance":this.pressDelayDistance=d.Ch5ButtonUtils.getAttributeValue(this,"pressdelaydistance",Number(i),null),this.updatePressDistance();break;case"orientation":this.orientation=d.Ch5ButtonUtils.getAttributeValue(this,"orientation",i,f.ORIENTATIONS[0]),this.updateCssClasses();break;case"type":this.type=d.Ch5ButtonUtils.getAttributeValue(this,"type",i,f.TYPES[0]);break;case"shape":this.shape=d.Ch5ButtonUtils.getAttributeValue(this,"shape",i,f.SHAPES[0]),this.updateCssClasses();break;case"halignlabel":this.hAlignLabel=d.Ch5ButtonUtils.getAttributeValue(this,"halignlabel",i,f.HORIZONTAL_LABEL_ALIGNMENTS[0]);break;case"valignlabel":this.vAlignLabel=d.Ch5ButtonUtils.getAttributeValue(this,"valignlabel",i,f.VERTICAL_LABEL_ALIGNMENTS[0]);break;case"size":this.size=d.Ch5ButtonUtils.getAttributeValue(this,"size",i,f.SIZES[0]),this.updateCssClasses();break;case"stretch":this.stretch=d.Ch5ButtonUtils.getAttributeValue(this,"stretch",i,null),this.updateCssClasses();break;case"selected":this.selected=i;break;case"pressed":this.pressed=i;break;case"checkboxshow":this.checkboxShow=i;break;case"checkboxposition":this.checkboxPosition=d.Ch5ButtonUtils.getAttributeValue(this,"checkboxposition",i,f.CHECKBOX_POSITIONS[0]);break;case"formtype":this.hasAttribute("formtype")&&(this.formType=this.getAttribute("formtype"));break;case"customclassselected":this.customClassState=d.Ch5ButtonUtils.getAttributeValue(this,"customclassselected",i,""),this.updateCssClassesForCustomState();break;case"customclasspressed":this.customClassPressed=d.Ch5ButtonUtils.getAttributeValue(this,"customclasspressed",i,""),this.customClassState=this.customClassPressed,this.updatePressedClass(this.customClassState);break;case"customclassdisabled":this.customClassDisabled=d.Ch5ButtonUtils.getAttributeValue(this,"customclassdisabled",i,""),this.customClassState=this.customClassDisabled,this.updateCssClassesForCustomState();break;case"receivestateselected":this.receiveStateSelected=d.Ch5ButtonUtils.getAttributeValue(this,"receivestateselected",i,"");break;case"receivestatelabel":this.receiveStateLabel=d.Ch5ButtonUtils.getAttributeValue(this,"receivestatelabel",i,"");break;case"receivestatescriptlabelhtml":this.receiveStateScriptLabelHtml=d.Ch5ButtonUtils.getAttributeValue(this,"receivestatescriptlabelhtml",i,"");break;case"sendeventonclick":this.sendEventOnClick=d.Ch5ButtonUtils.getAttributeValue(this,"sendeventonclick",i,"");break;case"sendeventontouch":this.sendEventOnTouch=d.Ch5ButtonUtils.getAttributeValue(this,"sendeventontouch",i,"");break;case"receivestateiconclass":this.receiveStateIconClass=d.Ch5ButtonUtils.getAttributeValue(this,"receivestateiconclass",i,"");break;case"receivestateiconurl":this.receiveStateIconUrl=d.Ch5ButtonUtils.getAttributeValue(this,"receivestateiconurl",i,"");break;case"receivestatetype":this.receiveStateType=d.Ch5ButtonUtils.getAttributeValue(this,"receivestatetype",i,"");break;case"receivestatemode":this.receiveStateMode=d.Ch5ButtonUtils.getAttributeValue(this,"receivestatemode",i,"");break;default:super.attributeChangedCallback(t,e,i)}this.logger.stop()}createButtonLabel(t){const e=t.getElementsByTagName("ch5-button-label"),i=Array.prototype.slice.call(e).filter(e=>e.parentNode.nodeName.toString().toLowerCase()===t.nodeName.toString().toLowerCase());let s=null;i&&i.length>0&&!(0,o.default)(i[0].children[0])?s=i[0]:(s=document.createElement("ch5-button-label"),t.appendChild(s));let n=s.querySelector("template");null!==n&&s.removeChild(n),n=document.createElement("template"),n.innerHTML=this.decodeInnerHTMLForAttribute(t.labelInnerHTML),s.appendChild(n)}updatePressDelay(){null===this._pressable||g.default.isNil(this._pressable.options)||g.default.isNil(this.pressDelayTime)||isNaN(this.pressDelayTime)||(this._pressable.options.pressDelayTime=this.pressDelayTime)}updatePressDistance(){null===this._pressable||g.default.isNil(this._pressable.options)||g.default.isNil(this.pressDelayDistance)||isNaN(this.pressDelayDistance)||(this._pressable.options.pressDelayDistance=this.pressDelayDistance)}backgroundImageURLHandler(){""===this.backgroundImageUrl||g.default.isNil(this.backgroundImageUrl)||(this._elButton.style.backgroundImage="url("+this.backgroundImageUrl+")")}_subscribeToPressableIsPressed(){if(""!==this.buttonListContract.contractName.trim()&&"ch5-button-list"===this.buttonListContract.parentComponent.trim())return this._subscribeToPressableIsPressedForButtonList();if(""!==this.buttonListContract.contractName.trim()&&"ch5-tab-button"===this.buttonListContract.parentComponent.trim())return this._subscribeToPressableIsPressedForTabButton();null===this._isPressedSubscription&&null!==this._pressable&&(this._isPressedSubscription=this._pressable.observablePressed.subscribe(t=>{if(this.logger.log(`Ch5Button.pressableSubscriptionCb(${t})`,this.pressed),!1===t)null!==this._repeatDigitalInterval&&window.clearInterval(this._repeatDigitalInterval),this.sendValueForRepeatDigitalWorking(!1),setTimeout(()=>{this.setButtonDisplay()},this.STATE_CHANGE_TIMEOUTS);else{this.sendValueForRepeatDigitalWorking(!0),null!==this._repeatDigitalInterval&&window.clearInterval(this._repeatDigitalInterval);let t=0;this._repeatDigitalInterval=window.setInterval(()=>{this.sendValueForRepeatDigitalWorking(!0),++t>=150&&(console.warn("Ch5Button MAXIMUM Repeat digitals sent"),window.clearInterval(this._repeatDigitalInterval),this.sendValueForRepeatDigitalWorking(!1))},200),this.setButtonDisplay()}}))}_subscribeToPressableIsPressedForTabButton(){null===this._isPressedSubscription&&null!==this._pressable&&(this._isPressedSubscription=this._pressable.observablePressed.subscribe(t=>{var e,i;this.logger.log(`Ch5Button.pressableSubscriptionCb(${t})`,this.pressed),!1===t?(null===(e=r.Ch5SignalFactory.getInstance().getBooleanSignal(this.buttonListContract.contractName+`.Tab${this.buttonListContract.index}_Press`))||void 0===e||e.publish(t),setTimeout(()=>{this.setButtonDisplay()},this.STATE_CHANGE_TIMEOUTS)):(null===(i=r.Ch5SignalFactory.getInstance().getBooleanSignal(this.buttonListContract.contractName+`.Tab${this.buttonListContract.index}_Press`))||void 0===i||i.publish(t),this.setButtonDisplay())}))}_subscribeToPressableIsPressedForButtonList(){if(null===this._isPressedSubscription&&null!==this._pressable){let t=!1;this._isPressedSubscription=this._pressable.observablePressed.subscribe(e=>{var i,s,n,a;this.logger.log(`Ch5Button.pressableSubscriptionCb(${e})`,this.pressed),!1===e?(null===(i=r.Ch5SignalFactory.getInstance().getBooleanSignal(this.buttonListContract.contractName+`.Button${this.buttonListContract.index}ItemPress`))||void 0===i||i.publish(e),!1===t&&(null===(s=r.Ch5SignalFactory.getInstance().getNumberSignal(this.buttonListContract.contractName+".ListItemClicked"))||void 0===s||s.publish(this.buttonListContract.index)),null!==this._repeatDigitalInterval&&(window.clearInterval(this._repeatDigitalInterval),t=!1),setTimeout(()=>{this.setButtonDisplay()},this.STATE_CHANGE_TIMEOUTS)):(null===(n=r.Ch5SignalFactory.getInstance().getBooleanSignal(this.buttonListContract.contractName+`.Button${this.buttonListContract.index}ItemPress`))||void 0===n||n.publish(e),null!==this._repeatDigitalInterval&&window.clearInterval(this._repeatDigitalInterval),0===this.buttonListContract.clickHoldTime?(t=!0,null===(a=r.Ch5SignalFactory.getInstance().getNumberSignal(this.buttonListContract.contractName+".ListItemHeld"))||void 0===a||a.publish(this.buttonListContract.index)):this._repeatDigitalInterval=window.setInterval(()=>{var e;t=!0,null===(e=r.Ch5SignalFactory.getInstance().getNumberSignal(this.buttonListContract.contractName+".ListItemHeld"))||void 0===e||e.publish(this.buttonListContract.index),window.clearInterval(this._repeatDigitalInterval)},this.buttonListContract.clickHoldTime),this.setButtonDisplay())})}}_unsubscribeFromPressableIsPressed(){null!==this._repeatDigitalInterval&&window.clearInterval(this._repeatDigitalInterval),null!==this._isPressedSubscription&&(this._isPressedSubscription.unsubscribe(),this._isPressedSubscription=null)}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),(0,a.unSubscribeInViewPortChange)(this),null!==this._pressable&&this._pressable.destroy(),this.disconnectCommonMutationObserver(),this.logger.stop()}updatePressedClass(t){this._pressable=new h.Ch5Pressable(this,{cssTargetElement:this.getTargetElementForCssClassesAndStyle(),cssPressedClass:t})}updateForChangeInCustomCssClass(){const t=this.getTargetElementForCssClassesAndStyle();this.logger.start("updateForChangeInCustomCssClass()"),this._prevAddedCustomClasses.forEach(e=>{""!==e&&t.classList.remove(e)}),this._prevAddedCustomClasses=[],this.customClass.split(" ").forEach(e=>{""!==e&&(this._prevAddedCustomClasses.push(e),t.classList.add(e))}),this.logger.stop()}updateForChangeInStyleCss(){this.logger.start("updateForChangeInStyleCss()");this.getTargetElementForCssClassesAndStyle().style.cssText=this.customStyle,this.logger.stop()}wrap(t,e){t.parentNode.insertBefore(e,t),e.appendChild(t)}generateListOfAllPossibleComponentCssClasses(){var t,e,i;const s=[];return s.push(this.primaryCssClass),f.SHAPES.forEach(t=>{const e=this.primaryCssClass+"--"+t;s.push(e)}),f.TYPES.forEach(t=>{const e=this.primaryCssClass+"--"+t;s.push(e)}),f.HORIZONTAL_LABEL_ALIGNMENTS.forEach(t=>{const e=this.primaryCssClass+"--horizontal-"+t;s.push(e)}),f.VERTICAL_LABEL_ALIGNMENTS.forEach(t=>{const e=this.primaryCssClass+"--vertical-"+t;s.push(e)}),f.SIZES.forEach(t=>{s.push(this.primaryCssClass+"--size-"+t)}),f.STRETCHES.forEach(t=>{s.push(this.primaryCssClass+"--stretch-"+t)}),f.BACKGROUND_IMAGE_FILL_TYPE.forEach(t=>{s.push(this.primaryCssClass+"--background-image-fill-type-"+t)}),f.ICON_URL_FILL_TYPE.forEach(t=>{s.push(this.primaryCssClass+"--icon-url-fill-type-"+t)}),f.ORIENTATIONS.forEach(t=>{s.push(this.primaryCssClass+"--"+t)}),s.push(this.primaryCssClass+this.selectedCssClassPostfix),"ch5-tab-button"!==(null===(t=this.buttonListContract)||void 0===t?void 0:t.parentComponent)&&"ch5-button-list"!==(null===(e=this.buttonListContract)||void 0===e?void 0:e.parentComponent)||s.push((null===(i=this.buttonListContract)||void 0===i?void 0:i.parentComponent)+this.selectedCssClassPostfix),s}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5ButtonSignal.unsubscribeAll()}updateIconDisplay(){var t,e;this.logger.start("updateIconDisplay"),(0,o.default)(this._previousIconUrl)||""===this._previousIconUrl||(this._elIcon.style.backgroundImage=""),(0,o.default)(this._previousIconClass)||""===this._previousIconClass||this._previousIconClass.split(" ").forEach(t=>{t=t.trim(),this._elIcon&&this._elIcon.classList&&""!==t&&this._elIcon.classList.remove(t)}),-1!==this._previousSgIconNumeric&&this._elIcon.classList.remove("sg-"+this._previousSgIconNumeric),""!==this._previousSgIconString&&this._elIcon.classList.remove("sg-"+this._previousSgIconString),this._elIcon.classList.remove("sg"),Array.from(f.SG_ICON_THEME).forEach(t=>this._elIcon.classList.remove("sg-"+t)),(0,o.default)(this.sgIconString)||""===this.sgIconString?(0,o.default)(this.sgIconNumeric)||-1===this.sgIconNumeric?(0,o.default)(this.iconUrl)||""===this.iconUrl||this.iconUrl!==(null===(t=this._ch5ButtonSignal.getSignal("receiveStateIconUrl"))||void 0===t?void 0:t.currentValue)?(0,o.default)(this.iconClass)||""===this.iconClass||this.iconClass!==(null===(e=this._ch5ButtonSignal.getSignal("receiveStateiconClass"))||void 0===e?void 0:e.currentValue)?(0,o.default)(this.iconUrl)||""===this.iconUrl?(0,o.default)(this.iconClass)||""===this.iconClass||this.iconClass.split(" ").forEach(t=>{""!==(t=t.trim())&&this._elIcon.classList.add(t)}):this._elIcon.style.backgroundImage=this.iconUrl:this.iconClass.split(" ").forEach(t=>{""!==(t=t.trim())&&this._elIcon.classList.add(t)}):this._elIcon.style.backgroundImage=this.iconUrl:(this._elIcon.classList.add("sg-"+this.sgIconNumeric),this._previousSgIconNumeric=this.sgIconNumeric,this._elIcon.classList.add("sg"),this._elIcon.classList.add("sg-"+this.sgIconTheme)):(this._elIcon.classList.add("sg-"+this.sgIconString),this._previousSgIconString=this.sgIconString,this._elIcon.classList.add("sg"),this._elIcon.classList.add("sg-"+this.sgIconTheme)),this.logger.stop()}setLabel(t){this.labelSetByJavascriptValue=t,this.isLabelSetUsingJavascript=!0,this.setButtonDisplay()}setMode(t){this.mode=t,this.isModeSetUsingJavascript=!0,this.setButtonDisplay()}createInternalHtml(){this.logger.start("createInternalHtml()"),this.clearComponentContent(),this._elContainer=document.createElement("div"),this._elButton=document.createElement("button"),this._elButton.classList.add(this.BUTTON_PRIMARY_CLASS),this._elCheckboxIcon=document.createElement("i"),this._elCheckboxIcon.classList.add("cb-checkbox-icon"),this._elSpanForLabelIconImg=document.createElement("span"),this._elSpanForLabelIconImg.classList.add("cb-lbl"),this._elSpanForLabelOnly=document.createElement("span"),this._elSpanForLabelOnly.classList.add("cb-lbl"),this._elIcon=document.createElement("i"),this._elIcon.classList.add("cb-icon"),this._elContainer.classList.add(this.primaryCssClass),this._elButton.setAttribute("data-ch5-id",this.getCrId()),this._elIcon.classList.add(this.primaryCssClass+"--icon"),this._elSpanForLabelOnly.classList.add(this.primaryCssClass+"--label"),this._elSpanForLabelIconImg.classList.add(this.primaryCssClass+"--span"),this._elContainer.appendChild(this._elButton),this.logger.stop()}addContainerClass(t){this._elContainer.classList.contains(t)||this._elContainer.classList.add(t)}removeContainerClass(t){this._elContainer.classList.contains(t)&&this._elContainer.classList.remove(t)}createIosEllipsis(){if((0,c.isSafariMobile)()){this._elButton.childNodes.forEach(t=>{t.className===this.primaryCssClass+"--ios-label"&&t.remove()}),this.isLabelLoaded?this.createEllipsisTpl():setTimeout(()=>{this.createEllipsisTpl(),this.isLabelLoaded=!0},2e3)}}createEllipsisTpl(){if(this._elSpanForLabelOnly.scrollHeight>this._elSpanForLabelOnly.clientHeight){this._elContainer.classList.add(this.primaryCssClass+this.iosCssClassPostfix),this._elIosDots=document.createElement("i"),this._elIosDots.classList.add("dots"),this._elIosDots.innerHTML="...",this._elSpanForLabelOnly.appendChild(this._elIosDots);const t=document.createElement("span");t.classList.add(this.primaryCssClass+"--ios-label"),this._elSpanForLabelOnly.closest("."+this.primaryCssClass+"--ios-label")||this.wrap(this._elSpanForLabelOnly,t)}}clearComponentContent(){const t=this.getElementsByTagName("div");Array.from(t).forEach(t=>{t.remove()})}getTargetElementForCssClassesAndStyle(){return this._elContainer}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}sendValueForRepeatDigitalWorking(t){if(this.info(`Ch5Button.sendValueForRepeatDigital(${t})`),!this._sigNameSendOnTouch&&!this._sigNameSendOnClick)return;const e=r.Ch5SignalFactory.getInstance().getObjectAsBooleanSignal(this._sigNameSendOnTouch),i=r.Ch5SignalFactory.getInstance().getObjectAsBooleanSignal(this._sigNameSendOnClick);i&&e&&i.name===e.name?i.publish({[r.Ch5SignalBridge.REPEAT_DIGITAL_KEY]:t}):(e&&e.name&&e.publish({[r.Ch5SignalBridge.REPEAT_DIGITAL_KEY]:t}),i&&i.name&&i.publish({[r.Ch5SignalBridge.REPEAT_DIGITAL_KEY]:t}))}checkboxDisplay(){this.logger.start("checkboxDisplay");let t=[],e=[];const i=this.primaryCssClass+"__checkbox";t=[i,i+"--unchecked",i+"--checked"],!0===this._checkboxShow&&!0===this._selected?e=[i,i+"--checked"]:!1===this._checkboxShow||!0===this._checkboxShow&&(e=[i,i+"--unchecked"]),t.forEach(t=>{""!==(t=t.trim())&&this._elCheckboxIcon.classList.remove(t)}),e.forEach(t=>{""!==(t=t.trim())&&this._elCheckboxIcon.classList.add(t)}),this._elCheckboxIcon.classList.remove("cx-button-checkbox-pos-left"),this._elCheckboxIcon.classList.remove("cx-button-checkbox-pos-right"),!0===this.checkboxShow&&this._elCheckboxIcon.classList.add("cx-button-checkbox-pos-"+this.checkboxPosition);let s=!1;this.hasAttribute("checkboxShow")&&!0===this.toBoolean(this.hasAttribute("checkboxshow")&&"false"!==this.getAttribute("checkboxshow"))&&(s=!0),this.logger.log("hasCheckboxIcon",s),this._elCheckboxIcon.parentNode&&this._elCheckboxIcon.remove(),s?"right"===this.checkboxPosition?this._elCheckboxIcon.parentNode!==this._elButton?this._elButton.appendChild(this._elCheckboxIcon):this._elButton.insertBefore(this._elSpanForLabelIconImg,this._elCheckboxIcon):"left"===this.checkboxPosition&&!0===this._elSpanForLabelIconImg.isConnected&&this._elButton.insertBefore(this._elCheckboxIcon,this._elSpanForLabelIconImg):this._elCheckboxIcon.parentNode&&this._elCheckboxIcon.remove(),this.logger.stop()}setButtonDisplay(){0===this.DEBOUNCE_BUTTON_DISPLAY||!0===this.isButtonInitiated?this.setButtonDisplayDetails():this.debounceSetButtonDisplay()}encodeInnerHTMLForAttribute(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}decodeInnerHTMLForAttribute(t){return t.replace("&amp;","&").replace("&lt;","<").replace("&gt;",">").replace("&quot;",'/"').replace("&apos;","/'")}setButtonDisplayDetails(t="ch5-button"){var e;this.logger.start("setButtonDisplayDetails"),this.DEBOUNCE_BUTTON_DISPLAY=0;const i={};if(this.receiveStateType&&""!==this.receiveStateType){const t=this._ch5ButtonSignal.getVariable("receiveStateType");!(0,o.default)(t)&&f.TYPES.indexOf(t)>=0?i.type=t:(i.type=f.TYPES[0],this._ch5ButtonSignal.setVariable("receiveStateType",f.TYPES[0]))}this.receiveStateIconClass&&""!==this.receiveStateIconClass&&(i.iconClass=this._ch5ButtonSignal.getVariable("receiveStateIconClass")),this.receiveStateIconUrl&&""!==this.receiveStateIconUrl&&(i.iconUrl=this._ch5ButtonSignal.getVariable("receiveStateIconUrl")),this.receiveStateCustomClass&&""!==this.receiveStateCustomClass&&(i.customClass=this._ch5ButtonSignal.getVariable("receiveStateCustomClass")),this.receiveStateCustomStyle&&""!==this.receiveStateCustomStyle&&(i.customStyle=this._ch5ButtonSignal.getVariable("receiveStateCustomStyle")),!0===this.isLabelSetUsingJavascript?i.labelHtml=this.labelSetByJavascriptValue:this.receiveStateScriptLabelHtml&&""!==this.receiveStateScriptLabelHtml?i.labelHtml=this._ch5ButtonSignal.getVariable("receiveStateScriptLabelHtml"):this.receiveStateLabel&&""!==this.receiveStateLabel&&(i.label=this._ch5ButtonSignal.getVariable("receiveStateLabel"));const s=this.getElementsByTagName("ch5-button-mode");if(s&&s.length>0){const t=s[this.mode];if(t){const s=t.getElementsByTagName("ch5-button-mode-state");if(s&&s.length>0){let t=null;if(t=!0===(null===(e=this._pressable)||void 0===e?void 0:e._pressed)?Array.from(s).find(t=>"pressed"===t.getAttribute("state")):!0===this.selected?Array.from(s).find(t=>"selected"===t.getAttribute("state")):Array.from(s).find(t=>"normal"===t.getAttribute("state")),t){(0,o.default)(i.type)&&!(0,o.default)(t.getAttribute("type"))&&(i.type=t.getAttribute("type")),(0,o.default)(i.iconUrl)&&!(0,o.default)(t.getAttribute("iconurl"))&&(i.iconUrl=t.getAttribute("iconurl")),(0,o.default)(i.iconClass)&&!(0,o.default)(t.getAttribute("iconclass"))&&(i.iconClass=t.getAttribute("iconclass")),(0,o.default)(i.iconPosition)&&!(0,o.default)(t.getAttribute("iconposition"))&&(i.iconPosition=t.getAttribute("iconposition")),(0,o.default)(i.checkboxPosition)&&!(0,o.default)(t.getAttribute("checkboxposition"))&&(i.checkboxPosition=t.getAttribute("checkboxposition")),(0,o.default)(i.customClass)&&!(0,o.default)(t.getAttribute("customclass"))&&(i.customClass=t.getAttribute("customclass")),(0,o.default)(i.customStyle)&&!(0,o.default)(t.getAttribute("customstyle"))&&(i.customStyle=t.getAttribute("customstyle")),(0,o.default)(i.hAlignLabel)&&!(0,o.default)(t.getAttribute("halignlabel"))&&(i.hAlignLabel=t.getAttribute("halignlabel")),(0,o.default)(i.vAlignLabel)&&!(0,o.default)(t.getAttribute("valignlabel"))&&(i.vAlignLabel=t.getAttribute("valignlabel")),(0,o.default)(i.iconUrlFillType)&&!(0,o.default)(t.getAttribute("iconurlfilltype"))&&(i.iconUrlFillType=t.getAttribute("iconurlfilltype"));const e=t.getElementsByTagName("ch5-button-label");(0,o.default)(i.labelHtml)&&(0,o.default)(i.label)&&e&&e.length>0&&e[0].children[0]&&(i.labelHtml=e[0].children[0].innerHTML)}}(0,o.default)(i.type)&&!(0,o.default)(t.getAttribute("type"))&&(i.type=t.getAttribute("type")),(0,o.default)(i.iconUrl)&&!(0,o.default)(t.getAttribute("iconurl"))&&(i.iconUrl=t.getAttribute("iconurl")),(0,o.default)(i.iconClass)&&!(0,o.default)(t.getAttribute("iconclass"))&&(i.iconClass=t.getAttribute("iconclass")),(0,o.default)(i.iconPosition)&&!(0,o.default)(t.getAttribute("iconposition"))&&(i.iconPosition=t.getAttribute("iconposition")),(0,o.default)(i.checkboxPosition)&&!(0,o.default)(t.getAttribute("checkboxposition"))&&(i.checkboxPosition=t.getAttribute("checkboxposition")),(0,o.default)(i.customClass)&&!(0,o.default)(t.getAttribute("customclass"))&&(i.customClass=t.getAttribute("customclass")),(0,o.default)(i.customStyle)&&!(0,o.default)(t.getAttribute("customstyle"))&&(i.customStyle=t.getAttribute("customstyle")),(0,o.default)(i.hAlignLabel)&&!(0,o.default)(t.getAttribute("halignlabel"))&&(i.hAlignLabel=t.getAttribute("halignlabel")),(0,o.default)(i.vAlignLabel)&&!(0,o.default)(t.getAttribute("valignlabel"))&&(i.vAlignLabel=t.getAttribute("valignlabel")),(0,o.default)(i.iconUrlFillType)&&!(0,o.default)(t.getAttribute("iconurlfilltype"))&&(i.iconUrlFillType=t.getAttribute("iconurlfilltype"));const n=t.getElementsByTagName("ch5-button-label");if((0,o.default)(i.labelHtml)&&(0,o.default)(i.label)&&n&&n.length>0){const t=Array.prototype.slice.call(n).filter(t=>"ch5-button-mode"===t.parentNode.nodeName.toString().toLowerCase());t&&t.length>0&&!(0,o.default)(t[0].children[0])&&(i.labelHtml=t[0].children[0].innerHTML)}}}if((0,o.default)(i.type)&&!(0,o.default)(this.getAttribute("type"))&&(i.type=this.getAttribute("type")),(0,o.default)(i.iconUrl)&&this.getAttribute("iconurl")&&""!==this.getAttribute("iconurl")&&(i.iconUrl=this.getAttribute("iconurl")),(0,o.default)(i.iconClass)&&this.getAttribute("iconclass")&&""!==this.getAttribute("iconclass")&&(i.iconClass=this.getAttribute("iconclass")),(0,o.default)(i.iconPosition)&&!(0,o.default)(this.getAttribute("iconposition"))&&(i.iconPosition=this.getAttribute("iconposition")),(0,o.default)(i.checkboxPosition)&&!(0,o.default)(this.getAttribute("checkboxposition"))&&(i.checkboxPosition=this.getAttribute("checkboxposition")),(0,o.default)(i.customClass)&&!(0,o.default)(this.getAttribute("customclass"))&&(i.customClass=this.getAttribute("customclass")),(0,o.default)(i.customStyle)&&!(0,o.default)(this.getAttribute("customstyle"))&&(i.customStyle=this.getAttribute("customstyle")),(0,o.default)(i.hAlignLabel)&&!(0,o.default)(this.getAttribute("halignlabel"))&&(i.hAlignLabel=this.getAttribute("halignlabel")),(0,o.default)(i.vAlignLabel)&&!(0,o.default)(this.getAttribute("valignlabel"))&&(i.vAlignLabel=this.getAttribute("valignlabel")),(0,o.default)(i.iconUrlFillType)&&!(0,o.default)(this.getAttribute("iconurlfilltype"))&&(i.iconUrlFillType=this.getAttribute("iconurlfilltype")),(0,o.default)(i.labelHtml)&&(0,o.default)(i.label)){const e=this.getElementsByTagName(t+"-label");if(e&&e.length>0){const s=Array.prototype.slice.call(e).filter(e=>e.parentNode.nodeName.toString().toLowerCase()===t);s&&s.length>0&&!(0,o.default)(s[0].children[0])&&(s&&s.length>0&&s[0].children?i.labelHtml=s[0].children[0].innerHTML:(0,o.default)(this.getAttribute("label"))||(i.label=this.getAttribute("label")))}else(0,o.default)(this.getAttribute("label"))||(i.label=this.getAttribute("label"))}(0,o.default)(i.labelHtml)&&(0,o.default)(i.label)&&(i.labelHtml=""),this.updatePropertiesObject(i),m.Ch5AugmentVarSignalsNames.differentiateTmplElemsAttrs(this,this.getAttribute("contractname")||"",parseInt(this.getAttribute("booleanjoinoffset")||"0",10)||0,parseInt(this.getAttribute("numericJoinOffset")||"0",10)||0,parseInt(this.getAttribute("stringJoinOffset")||"0",10)||0),this.logger.stop()}updatePropertiesObject(t){this.logger.start("updatePropertiesObject");const e={updateCssClasses:!1,updateIconDisplay:!1,updateInternalHtml:!1,checkboxDisplay:!1,updateForChangeInCustomCssClass:!1,updateForChangeInStyleCss:!1};((0,o.default)(t.type)||-1===f.TYPES.indexOf(t.type))&&(t.type=f.TYPES[0]),this._type=t.type,this.previousExtendedProperties.type!==this.type&&(e.updateCssClasses=!0),this._previousIconUrl=this._iconUrl,this._previousIconClass=this._iconClass,(0,o.default)(t.iconUrl)&&(t.iconUrl=""),this._iconUrl=t.iconUrl,(0,o.default)(t.iconClass)&&(t.iconClass=""),this._iconClass=t.iconClass,(this._previousSgIconNumeric!==this.sgIconNumeric||this._previousSgIconString!==this.sgIconString||this.previousExtendedProperties.iconUrl!==this.iconUrl||this.previousExtendedProperties.iconClass!==this.iconClass)&&(e.updateIconDisplay=!0,e.updateInternalHtml=!0),(0,o.default)(t.iconPosition)&&(t.iconPosition=f.ICON_POSITIONS[0]),this._iconPosition=t.iconPosition,this.previousExtendedProperties.iconPosition!==this.iconPosition&&(e.updateCssClasses=!0,e.updateInternalHtml=!0),(0,o.default)(t.checkboxPosition)&&(t.checkboxPosition=f.CHECKBOX_POSITIONS[0]),this._checkboxPosition=t.checkboxPosition,this.previousExtendedProperties.checkboxPosition!==this.checkboxPosition&&(e.checkboxDisplay=!0),(0,o.default)(t.customClass)&&(t.customClass=""),this._customClass=t.customClass,this.previousExtendedProperties.customClass!==this.customClass&&(e.updateForChangeInCustomCssClass=!0),(0,o.default)(t.customStyle)&&(t.customStyle=""),this._customStyle=t.customStyle,this.previousExtendedProperties.customStyle!==this.customStyle&&(e.updateForChangeInStyleCss=!0),((0,o.default)(t.hAlignLabel)||-1===f.HORIZONTAL_LABEL_ALIGNMENTS.indexOf(t.hAlignLabel))&&(t.hAlignLabel=f.HORIZONTAL_LABEL_ALIGNMENTS[0]),this._hAlignLabel=t.hAlignLabel,this.previousExtendedProperties.hAlignLabel!==this.hAlignLabel&&(e.updateCssClasses=!0),((0,o.default)(t.vAlignLabel)||-1===f.VERTICAL_LABEL_ALIGNMENTS.indexOf(t.vAlignLabel))&&(t.vAlignLabel=f.VERTICAL_LABEL_ALIGNMENTS[0]),this._vAlignLabel=t.vAlignLabel,this.previousExtendedProperties.vAlignLabel!==this.vAlignLabel&&(e.updateCssClasses=!0),((0,o.default)(t.iconUrlFillType)||-1===f.ICON_URL_FILL_TYPE.indexOf(t.iconUrlFillType))&&(t.iconUrlFillType=null),this._iconUrlFillType=t.iconUrlFillType,this.previousExtendedProperties.iconUrlFillType!==this.iconUrlFillType&&(e.updateCssClasses=!0),(0,o.default)(t.labelHtml)?(0,o.default)(t.label)||(this._label=t.label,t.labelHtml=t.label,this._elSpanForLabelOnly.textContent=this._label):(this._label=t.labelHtml,t.label=t.labelHtml,this._elSpanForLabelOnly.innerHTML=this._label),this.previousExtendedProperties.labelHtml!==this.label&&this.previousExtendedProperties.label!==this.label&&(e.updateInternalHtml=!0),!0===e.updateCssClasses&&this.updateCssClasses(),!0===e.updateIconDisplay&&this.updateIconDisplay(),!0===e.updateForChangeInCustomCssClass&&this.updateForChangeInCustomCssClass(),!0===e.updateForChangeInStyleCss&&this.updateForChangeInStyleCss(),!0===e.checkboxDisplay&&this.checkboxDisplay(),!0===e.updateInternalHtml&&this.updateInternalHtml(),this.previousExtendedProperties=t,this.logger.stop()}receiveSignalAsString(t,e,i){this.logger.log("set "+e+'("'+i+'")');const s=e.toLowerCase();t.hasAttribute(s)&&t.getAttribute(s)===i||t.setAttribute(s,i);const n=t._ch5ButtonSignal.setSignal(e,i);(0,o.default)(n)||(t._ch5ButtonSignal.getSignal(e).signalState=n.subscribe(i=>{t._ch5ButtonSignal.getSignal(e).currentValue=i,t._ch5ButtonSignal.setVariable(e,i),t.setButtonDisplay()}))}updateInternalHtml(){var t,e;if(this.logger.start("updateInternalHtml()"),void 0!==this._elButton.insertBefore&&void 0!==this._elIcon.classList){f.ICON_POSITIONS.forEach((t,e)=>{this.iconPosition===t?(this._elContainer.classList.add(`${this.primaryCssClass}--iconposition-${t}`),this._elIcon.classList.add("cx-button-icon-pos-"+t)):(this._elContainer.classList.remove(`${this.primaryCssClass}--iconposition-${t}`),this._elIcon.classList.remove("cx-button-icon-pos-"+t))});let i=!1,s=!1,n=!1,r=!1,a=!1,l=!1;if((!(0,o.default)(this.iconClass)&&""!==this.iconClass||this.receiveStateIconClass&&""!==this.receiveStateIconClass)&&(i=!0),(!(0,o.default)(this.iconUrl)&&""!==this.iconUrl||this.receiveStateIconUrl&&""!==this.receiveStateIconUrl)&&(n=!0),(!(0,o.default)(this.sgIconNumeric)&&-1!==this.sgIconNumeric||this.receiveStateSGIconNumeric&&""!==this.receiveStateSGIconNumeric)&&(r=!0),(!(0,o.default)(this.sgIconString)&&""!==this.sgIconString||this.receiveStateSGIconString&&""!==this.receiveStateSGIconString)&&(a=!0),(!(0,o.default)(this.label)&&""!==this.label||this.receiveStateLabel&&""!==this.receiveStateLabel||this.receiveStateScriptLabelHtml&&""!==this.receiveStateScriptLabelHtml)&&(s=!0),this.hasAttribute("aria-label")&&""!==this.getAttribute("aria-label")&&(l=!0),this.logger.log("hasIcon",i),this.logger.log("hasLabel",s),this.logger.log("hasImage",n),this.logger.log("hasAriaLabel",l),!s&&l&&n){const t=this.getAttribute("aria-label");t&&this._elIcon.setAttribute("alt",t)}a||r?(this._elIcon.classList.remove(this.primaryCssClass+"--icon"),Array.from(f.ICON_URL_FILL_TYPE).forEach(t=>{this._elSpanForLabelIconImg.classList.remove(this.primaryCssClass+"--icon-url-fill-type-"+t)}),null!==this.iconUrlFillType&&this._elSpanForLabelIconImg.classList.add(this.primaryCssClass+"--icon-url-fill-type-"+this.iconUrlFillType),this._elIcon.classList.add(this.primaryCssClass+"--img")):n&&this.iconUrl===(null===(t=this._ch5ButtonSignal.getSignal("receiveStateIconUrl"))||void 0===t?void 0:t.currentValue)?(this._elIcon.style.backgroundImage=`url(${this.iconUrl})`,this._elIcon.classList.remove(this.primaryCssClass+"--icon"),Array.from(f.ICON_URL_FILL_TYPE).forEach(t=>{this._elSpanForLabelIconImg.classList.remove(this.primaryCssClass+"--icon-url-fill-type-"+t)}),this._elIcon.classList.add(this.primaryCssClass+"--img"),null!==this.iconUrlFillType&&this._elSpanForLabelIconImg.classList.add(this.primaryCssClass+"--icon-url-fill-type-"+this.iconUrlFillType)):i&&this.iconClass===(null===(e=this._ch5ButtonSignal.getSignal("receiveStateiconClass"))||void 0===e?void 0:e.currentValue)?(this._elIcon.classList.remove(this.primaryCssClass+"--img"),Array.from(f.ICON_URL_FILL_TYPE).forEach(t=>{this._elSpanForLabelIconImg.classList.remove(this.primaryCssClass+"--icon-url-fill-type-"+t)}),this._elIcon.classList.add(this.primaryCssClass+"--icon")):n?(this._elIcon.style.backgroundImage=`url(${this.iconUrl})`,this._elIcon.classList.remove(this.primaryCssClass+"--icon"),Array.from(f.ICON_URL_FILL_TYPE).forEach(t=>{this._elSpanForLabelIconImg.classList.remove(this.primaryCssClass+"--icon-url-fill-type-"+t)}),this._elIcon.classList.add(this.primaryCssClass+"--img"),null!==this.iconUrlFillType&&this._elSpanForLabelIconImg.classList.add(this.primaryCssClass+"--icon-url-fill-type-"+this.iconUrlFillType)):i&&(this._elIcon.classList.remove(this.primaryCssClass+"--img"),Array.from(f.ICON_URL_FILL_TYPE).forEach(t=>{this._elSpanForLabelIconImg.classList.remove(this.primaryCssClass+"--icon-url-fill-type-"+t)}),this._elIcon.classList.add(this.primaryCssClass+"--icon")),this._elButton.appendChild(this._elSpanForLabelIconImg),this._elSpanForLabelIconImg.appendChild(this._elSpanForLabelOnly),s&&(i||n||r||a)?(this.logger.log("Has Label and Icon"),(!1===this._elSpanForLabelOnly.isConnected||this._elIcon.parentNode!==this._elSpanForLabelOnly)&&this._elSpanForLabelIconImg.appendChild(this._elSpanForLabelOnly),["last","bottom"].indexOf(this.iconPosition)>=0?this._elIcon.parentNode!==this._elButton?this._elSpanForLabelIconImg.appendChild(this._elIcon):this._elSpanForLabelIconImg.insertBefore(this._elSpanForLabelOnly,this._elIcon):["first","top"].indexOf(this.iconPosition)>=0&&(this.logger.log("insert icon before label"),!0===this._elSpanForLabelOnly.isConnected&&this._elSpanForLabelIconImg.insertBefore(this._elIcon,this._elSpanForLabelOnly))):s&&!(i||n||r||a)?(this.logger.log("Has Label Only"),this._elIcon.parentNode&&this._elIcon.remove()):!s&&(i||n||r||a)?(this.logger.log("Has Icon Only"),this._elSpanForLabelIconImg.appendChild(this._elIcon),this._elSpanForLabelOnly.parentNode&&this._elSpanForLabelOnly.remove()):(this.logger.log("No Label and No Icon"),this._elIcon.parentNode&&this._elIcon.remove(),this._elSpanForLabelOnly.parentNode&&this._elSpanForLabelOnly.remove()),"vertical"===this.orientation&&"circle"!==this.shape&&this.createIosEllipsis()}this.checkboxDisplay(),this.logger.stop()}updateCssClasses(){var t,e,i,s,n,r;this.logger.start("updateCssClasses()"),super.updateCssClasses();const a=new Set;a.add(this.primaryCssClass),a.add(this.primaryCssClass+"--"+this.shape),a.add(this.primaryCssClass+"--background-image-fill-type-"+this.backgroundImageFillType),!0===this.isButtonInitiated&&a.add(this.primaryCssClass+"--"+this.type),a.add(this.primaryCssClass+"--size-"+this.size),g.default.isNil(this.stretch)||a.add(this.primaryCssClass+"--stretch-"+this.stretch),a.add(this.primaryCssClass+"--"+this.orientation);const o=this.getTargetElementForCssClassesAndStyle();if(void 0!==o.classList){this._listOfAllPossibleComponentCssClasses.forEach(t=>{a.has(t)?o.classList.add(t):o.classList.remove(t)});const l=this.primaryCssClass+this.selectedCssClassPostfix;this._selected?(o.classList.add(l),"ch5-tab-button"!==(null===(t=this.buttonListContract)||void 0===t?void 0:t.parentComponent)&&"ch5-button-list"!==(null===(e=this.buttonListContract)||void 0===e?void 0:e.parentComponent)||o.classList.add((null===(i=this.buttonListContract)||void 0===i?void 0:i.parentComponent)+this.selectedCssClassPostfix)):(o.classList.remove(l),"ch5-tab-button"!==(null===(s=this.buttonListContract)||void 0===s?void 0:s.parentComponent)&&"ch5-button-list"!==(null===(n=this.buttonListContract)||void 0===n?void 0:n.parentComponent)||o.classList.remove((null===(r=this.buttonListContract)||void 0===r?void 0:r.parentComponent)+this.selectedCssClassPostfix))}this.verticalOrientationHandler();const l=new Set;l.add(this.primaryCssClass+"--horizontal-"+this.hAlignLabel),l.add(this.primaryCssClass+"--vertical-"+this.vAlignLabel),null!==this.iconUrlFillType&&l.add(this.primaryCssClass+"--icon-url-fill-type-"+this.iconUrlFillType),this._listOfAllPossibleComponentCssClasses.forEach(t=>{l.has(t)?this._elSpanForLabelIconImg.classList.add(t):this._elSpanForLabelIconImg.classList.remove(t)}),this.logger.stop()}updateCssClassesForCustomState(){const t=this.getTargetElementForCssClassesAndStyle();if(void 0===t.classList)return;const e=this.customClassState;this._customClassState&&t.classList.add(e)}setSelectionMethods(){this.setButtonDisplay(),this.checkboxDisplay(),this.updateCssClasses()}}e.Ch5ButtonBase=f,f.TYPES=["default","primary","info","text","danger","warning","success","secondary"],f.SHAPES=["rounded-rectangle","rectangle","tab","circle","oval"],f.SIZES=["regular","x-small","small","large","x-large"],f.STRETCHES=["both","width","height"],f.BACKGROUND_IMAGE_FILL_TYPE=["stretch-aspect","stretch","center","tile"],f.ICON_URL_FILL_TYPE=["stretch","stretch-aspect","center","tile","initial"],f.ICON_POSITIONS=["first","last","top","bottom"],f.CHECKBOX_POSITIONS=["left","right"],f.HORIZONTAL_LABEL_ALIGNMENTS=["center","left","right"],f.VERTICAL_LABEL_ALIGNMENTS=["middle","top","bottom"],f.ORIENTATIONS=["horizontal","vertical"],f.SG_ICON_THEME=["icons-lg","icons-sm","media-transports-accents","media-transports-light","media-transports-dark"],f.MODES={MIN_LENGTH:0,MAX_LENGTH:99},f.MAX_SG_NUMERIC=214,f.COMPONENT_DATA={TYPES:{default:f.TYPES[0],values:f.TYPES,key:"type",attribute:"type",classListPrefix:"--"},SHAPES:{default:f.SHAPES[0],values:f.SHAPES,key:"shape",attribute:"shape",classListPrefix:"--"},SIZES:{default:f.SIZES[0],values:f.SIZES,key:"size",attribute:"size",classListPrefix:"--size-"},STRETCH:{default:null,values:f.STRETCHES,key:"stretch",attribute:"stretch",classListPrefix:"--stretch-"},ICON_POSITIONS:{default:f.ICON_POSITIONS[0],values:f.ICON_POSITIONS,key:"iconposition",attribute:"iconPosition",classListPrefix:"--iconposition-"},CHECKBOX_POSITIONS:{default:f.CHECKBOX_POSITIONS[0],values:f.CHECKBOX_POSITIONS,key:"checkboxposition",attribute:"checkboxPosition",classListPrefix:"cx-button-checkbox-pos-"},HORIZONTAL_LABEL_ALIGNMENTS:{default:f.HORIZONTAL_LABEL_ALIGNMENTS[0],values:f.HORIZONTAL_LABEL_ALIGNMENTS,key:"halignlabel",attribute:"hAlignLabel",classListPrefix:"--horizontal-"},VERTICAL_LABEL_ALIGNMENTS:{default:f.VERTICAL_LABEL_ALIGNMENTS[0],values:f.VERTICAL_LABEL_ALIGNMENTS,key:"valignlabel",attribute:"vAlignLabel",classListPrefix:"--vertical-"},ORIENTATIONS:{default:f.ORIENTATIONS[0],values:f.ORIENTATIONS,key:"orientation",classListPrefix:"--"},BACKGROUND_IMAGE_FILL_TYPE:{default:f.BACKGROUND_IMAGE_FILL_TYPE[0],values:f.BACKGROUND_IMAGE_FILL_TYPE,key:"backgroundImageFillType",attribute:"backgroundImageFillType",classListPrefix:"--background-image-fill-type-"},ICON_URL_FILL_TYPE:{default:f.ICON_URL_FILL_TYPE[0],values:f.ICON_URL_FILL_TYPE,key:"iconUrlFillType",attribute:"iconUrlFillType",classListPrefix:"--icon-url-fill-type-"},SG_ICON_THEME:{default:f.SG_ICON_THEME[0],values:f.SG_ICON_THEME,key:"sgIconTheme",attribute:"sgIconTheme",classListPrefix:"--sg-icon-theme-"}},f.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatemode:{direction:"state",numericJoin:1,contractName:!0},receivestateselected:{direction:"state",booleanJoin:1,contractName:!0},receivestatelabel:{direction:"state",stringJoin:1,contractName:!0},receivestatescriptlabelhtml:{direction:"state",stringJoin:1,contractName:!0},receivestateiconclass:{direction:"state",stringJoin:1,contractName:!0},receivestateiconurl:{direction:"state",stringJoin:1,contractName:!0},receivestatetype:{direction:"state",stringJoin:1,contractName:!0},receivestatesgiconnumeric:{direction:"state",numericJoin:1,contractName:!0},receivestatesgiconstring:{direction:"state",stringJoin:1,contractName:!0},sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0},sendeventontouch:{direction:"event",booleanJoin:1,contractName:!0},contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1},receivestatebackgroundimageurl:{direction:"state",stringJoin:1,contractName:!0}}),f.COMPONENT_PROPERTIES=[{default:"",name:"backgroundImageUrl",nameForSignal:"receiveStateBackgroundImageUrl",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:f.BACKGROUND_IMAGE_FILL_TYPE[0],enumeratedValues:f.BACKGROUND_IMAGE_FILL_TYPE,name:"backgroundImageFillType",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:f.BACKGROUND_IMAGE_FILL_TYPE[0],isObservableProperty:!0},{default:null,enumeratedValues:f.ICON_URL_FILL_TYPE,name:"iconUrlFillType",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:null,isObservableProperty:!0,isNullable:!0},{default:"",isSignal:!0,name:"receiveStateBackgroundImageUrl",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:f.SG_ICON_THEME[0],enumeratedValues:f.SG_ICON_THEME,name:"sgIconTheme",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:f.SG_ICON_THEME[0],isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateSGIconNumeric",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateSGIconString",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}]},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonListModeStateBase=void 0;const n=s(i(0)),r=i(12),a=i(4),o=i(5);class l extends r.Ch5Log{constructor(){super(),this._parentCh5ButtonList=null,this.logger.start("constructor()"),this._ch5Properties=new a.Ch5Properties(this,l.COMPONENT_PROPERTIES),this._parentCh5ButtonList=this.getParentButton(),this.logger.stop()}set parentComponent(t){this._parentCh5ButtonList=t}get parentComponent(){return this._parentCh5ButtonList}set state(t){this._ch5Properties.set("state",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get state(){return this._ch5Properties.get("state")}set type(t){this._ch5Properties.set("type",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get type(){return this._ch5Properties.get("type")}set hAlignLabel(t){this._ch5Properties.set("hAlignLabel",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get hAlignLabel(){return this._ch5Properties.get("hAlignLabel")}set vAlignLabel(t){this._ch5Properties.set("vAlignLabel",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get vAlignLabel(){return this._ch5Properties.get("vAlignLabel")}set checkboxPosition(t){this._ch5Properties.set("checkboxPosition",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get checkboxPosition(){return this._ch5Properties.get("checkboxPosition")}set iconPosition(t){this._ch5Properties.set("iconPosition",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get iconPosition(){return this._ch5Properties.get("iconPosition")}set iconClass(t){this._ch5Properties.set("iconClass",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get iconClass(){return this._ch5Properties.get("iconClass")}set iconUrl(t){this._ch5Properties.set("iconUrl",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get iconUrl(){return this._ch5Properties.get("iconUrl")}set customClass(t){this._ch5Properties.set("customClass",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get customClass(){return this._ch5Properties.get("customClass")}set customStyle(t){this._ch5Properties.set("customStyle",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get customStyle(){return this._ch5Properties.get("customStyle")}set labelInnerHTML(t){this._ch5Properties.set("labelInnerHTML",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get labelInnerHTML(){return this._ch5Properties.get("labelInnerHTML")}static get observedAttributes(){const t=r.Ch5Log.observedAttributes;for(let e=0;e<l.COMPONENT_PROPERTIES.length;e++)!0===l.COMPONENT_PROPERTIES[e].isObservableProperty&&t.push(l.COMPONENT_PROPERTIES[e].name.toLowerCase());return t}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback"),e!==i){this.logger.log('attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=l.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()"),this.hasAttribute("role")||this.setAttribute("role",o.Ch5RoleAttributeMapping.ch5ButtonListModeState),this.setAttribute("data-ch5-id",this.getCrId()),this.initAttributes(),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<l.COMPONENT_PROPERTIES.length;e++)if(!0===l.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(l.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=l.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}getParentButton(){const t=e=>n.default.isNil(e)||"CH5-BUTTON-LIST"===e.nodeName.toString().toUpperCase()?e:t(e.parentNode);return t(this.parentElement)}}e.Ch5ButtonListModeStateBase=l,l.STATES=["normal","pressed","selected"],l.BUTTON_TYPES=["default","danger","text","warning","info","success","primary","secondary"],l.BUTTON_HALIGN_LABEL_POSITIONS=["center","left","right"],l.BUTTON_VALIGN_LABEL_POSITIONS=["middle","top","bottom"],l.BUTTON_CHECKBOX_POSITIONS=["left","right"],l.BUTTON_ICON_POSITIONS=["first","last","top","bottom"],l.COMPONENT_PROPERTIES=[{default:l.STATES[0],enumeratedValues:l.STATES,name:"state",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.STATES[0],isObservableProperty:!0},{default:l.BUTTON_TYPES[0],enumeratedValues:l.BUTTON_TYPES,name:"type",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.BUTTON_TYPES[0],isObservableProperty:!0},{default:l.BUTTON_HALIGN_LABEL_POSITIONS[0],enumeratedValues:l.BUTTON_HALIGN_LABEL_POSITIONS,name:"hAlignLabel",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.BUTTON_HALIGN_LABEL_POSITIONS[0],isObservableProperty:!0},{default:l.BUTTON_VALIGN_LABEL_POSITIONS[0],enumeratedValues:l.BUTTON_VALIGN_LABEL_POSITIONS,name:"vAlignLabel",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.BUTTON_VALIGN_LABEL_POSITIONS[0],isObservableProperty:!0},{default:l.BUTTON_CHECKBOX_POSITIONS[0],enumeratedValues:l.BUTTON_CHECKBOX_POSITIONS,name:"checkboxPosition",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.BUTTON_CHECKBOX_POSITIONS[0],isObservableProperty:!0},{default:l.BUTTON_ICON_POSITIONS[0],enumeratedValues:l.BUTTON_ICON_POSITIONS,name:"iconPosition",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.BUTTON_ICON_POSITIONS[0],isObservableProperty:!0},{default:"",name:"iconClass",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"iconUrl",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"customClass",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"customStyle",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"labelInnerHTML",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}]},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonListMode=void 0;const n=s(i(0)),r=i(45),a=i(44);class o extends r.Ch5ButtonListModeBase{static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(o.ELEMENT_NAME)&&window.customElements.define(o.ELEMENT_NAME,o)}connectedCallback(){const t=this.getParentButton();if(!(this.parentElement instanceof a.Ch5ButtonList))throw new Error("Invalid parent element for ch5-button-list-mode.");if(n.default.isNil(t))throw new Error(`Invalid parent element for ${this.nodeName}.`);super.connectedCallback(),this.parentComponent=t}getParentButton(){const t=e=>n.default.isNil(e)||"CH5-BUTTON-LIST"===e.nodeName.toString().toUpperCase()?e:t(e.parentNode);return t(this.parentElement)}}e.Ch5ButtonListMode=o,o.ELEMENT_NAME="ch5-button-list-mode",o.registerCustomElement()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonListLabelBase=void 0;const s=i(12),n=i(5);class r extends s.Ch5Log{constructor(){super(),this.logger.start("constructor()"),this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()"),this.hasAttribute("role")||this.setAttribute("role",n.Ch5RoleAttributeMapping.ch5ButtonListLabel),this.setAttribute("data-ch5-id",this.getCrId()),this.initAttributes(),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.logger.stop()}}e.Ch5ButtonListLabelBase=r},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonListModeState=void 0;const n=s(i(0)),r=i(45),a=i(75);class o extends a.Ch5ButtonListModeStateBase{static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(o.ELEMENT_NAME)&&window.customElements.define(o.ELEMENT_NAME,o)}connectedCallback(){const t=this.getParentButton();if(!(this.parentElement instanceof r.Ch5ButtonListModeBase))throw new Error("Invalid parent element for ch5-button-list-mode-state.");if(n.default.isNil(t))throw new Error(`Invalid parent element for ${this.nodeName}.`);super.connectedCallback(),this.parentComponent=t}getParentButton(){const t=e=>n.default.isNil(e)||"CH5-BUTTON-LIST"===e.nodeName.toString().toUpperCase()?e:t(e.parentNode);return t(this.parentElement)}}e.Ch5ButtonListModeState=o,o.ELEMENT_NAME="ch5-button-list-mode-state",o.registerCustomElement()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(10),e),n(i(175),e),n(i(80),e),n(i(81),e),n(i(88),e),n(i(82),e),n(i(83),e),n(i(84),e),n(i(86),e),n(i(85),e),n(i(87),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5AttrsShow=void 0;const s=i(10),n=i(1),r=i(13),a=i(2);class o extends r.CustomAttribute{static checkAndSubscribeToSignal(t){if(t.hasAttribute(o.DATA_CH5_ATTR_NAME)){const e=t.hasAttribute("debug"),i=n.Ch5SignalFactory.getInstance(),r=t.getAttribute(o.DATA_CH5_ATTR_NAME)||"",a=n.Ch5Signal.getSubscriptionSignalName(r),l=i.getBooleanSignal(a);if(l){const i=l.subscribe(e=>{o.handleDataCh5ShowReceived(t,e)});s.Ch5AttrsLog.info(e,"Signal subscription complete... "+i,t),t.setAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR,i)}}}static handleElAddedToDOM(t){if(t.hasAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)){const e=t.hasAttribute("debug");s.Ch5AttrsLog.info(e,"Added node already has data-ch5-show \n                    subs: "+t.getAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR),t)}else o.checkAndSubscribeToSignal(t)}static elHasRemovableSigSubscription(t){return t.hasAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)&&t.hasAttribute(o.DATA_CH5_ATTR_NAME)&&!t.hasAttribute(o.KEEP_SIG_SUBS_ATTR)}static unsubscribeDataCh5ShowSig(t,e){const i=n.Ch5Signal.getSubscriptionSignalName(t),s=n.Ch5SignalFactory.getInstance().getBooleanSignal(i);s&&s.unsubscribe(e)}static removeSigSubscription(t){const e=t.getAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)||"";s.Ch5AttrsLog.info(!0,`Node removed without using signal value... signal subscription: \n                    ${e} needs to be canceled`,t);const i=t.getAttribute(o.DATA_CH5_ATTR_NAME)||"";o.unsubscribeDataCh5ShowSig(i,e)}static handleCh5ShowAttributeChange(t,e,i){const n=i.hasAttribute("debug"),r=i.getAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)||"";"string"==typeof e&&""!==e&&""!==r&&(s.Ch5AttrsLog.info(n,"Unsubscribing "+r,i),this.unsubscribeDataCh5ShowSig(e,r),i.removeAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)),"string"==typeof t&&""!==t&&o.checkAndSubscribeToSignal(i)}static getNoShowType(t){let e="";if(t.hasAttribute("data-ch5-noshow-type"))e=t.getAttribute("data-ch5-noshow-type")||"";else switch(t.tagName.toLowerCase()){case"p":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":e="display";break;case"div":e="remove";break;default:e="visibility"}return o.NOSHOW_VALUES.indexOf(e)>-1?e:o.DEFAULT_NOSHOW_VALUE}static handleDataCh5ShowReceived(t,e){if(e)o.showElement(t);else{const e=o.getNoShowType(t);o.hideElement(t,e)}}static hideElement(t,e){switch(s.Ch5AttrsLog.info(t.hasAttribute("debug"),"Hide element using NOSHOW_TYPE: "+e,t),e){case"display":t.classList.add("ch5-hide-dis"),t.classList.remove("ch5-hide-vis");break;case"visibility":t.classList.add("ch5-hide-vis"),t.classList.remove("ch5-hide-dis");break;default:t.setAttribute(o.KEEP_SIG_SUBS_ATTR,"");const e=t.parentElement,i=t.nextSibling;e&&(e.removeChild(t),t.cachedP=e),i&&(t.sib=i)}}static showElement(t){const e=t.cachedP;let i="Element visibility/display restored.";const n=[t];if(e){const s=t.sib;n.push(e),s&&e===s.parentElement?(e.insertBefore(t,s),i="Element re-stamped to DOM using cached parent and sibling elements. "+i,n.push(s),delete t.sib):(e.appendChild(t),i="Element re-stamped to DOM using only cached parent, no sibling element required. "+i),delete t.cachedP,t.removeAttribute(o.KEEP_SIG_SUBS_ATTR)}s.Ch5AttrsLog.info(t.hasAttribute("debug"),i,...n),t.classList.remove("ch5-hide-vis"),t.classList.remove("ch5-hide-dis")}static registerSignalAttributeTypes(){a.Ch5SignalAttributeRegistry.instance.addCustomAttributeEntry(o.DATA_CH5_ATTR_NAME,{direction:"state",booleanJoin:1,contractName:!0})}}e.Ch5AttrsShow=o,o.DATA_CH5_ATTR_NAME="data-ch5-show",o.NOSHOW_VALUES=["visibility","display","remove"],o.DEFAULT_NOSHOW_VALUE="display",o.KEEP_SIG_SUBS_ATTR="data-ch5-keep-sig-subscription",o.SIGNAL_SUBSCRIPTION_KEY_ATTR="data-ch5-show-subs-key",o.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5AttrsShowPulse=void 0;const s=i(10),n=i(1),r=i(13),a=i(2);class o extends r.CustomAttribute{static checkAndSubscribeToSignal(t){if(t.hasAttribute("data-ch5-noshow-type")){const e=o.getNoShowType(t);o.hideElement(t,e)}if(t.hasAttribute(o.DATA_CH5_ATTR_NAME)){const e=t.hasAttribute("debug"),i=n.Ch5SignalFactory.getInstance(),r=t.getAttribute(o.DATA_CH5_ATTR_NAME)||"",a=n.Ch5Signal.getSubscriptionSignalName(r),l=i.getBooleanSignal(a);if(null!==l){const i=l.subscribe(e=>{!1===l.prevValue&&!0===e&&o.handleDataCh5ShowPulseReceived(t,e)});s.Ch5AttrsLog.info(e,"Signal subscription complete... "+i,t),t.setAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR,i)}}}static handleElAddedToDOM(t){if(t.hasAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)){const e=t.hasAttribute("debug");s.Ch5AttrsLog.info(e,"Added node already has data-ch5-showpulse \n                    subs: "+t.getAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR),t)}else o.checkAndSubscribeToSignal(t)}static elHasRemovableSigSubscription(t){return t.hasAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)&&t.hasAttribute(o.DATA_CH5_ATTR_NAME)&&!t.hasAttribute(o.KEEP_SIG_SUBS_ATTR)}static unsubscribeDataCh5ShowPulseSig(t,e){const i=n.Ch5Signal.getSubscriptionSignalName(t),s=n.Ch5SignalFactory.getInstance().getBooleanSignal(i);s&&s.unsubscribe(e)}static removeSigSubscription(t){const e=t.getAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)||"";s.Ch5AttrsLog.info(!0,`Node removed without using signal value... signal subscription: \n                    ${e} needs to be canceled`,t);const i=t.getAttribute(o.DATA_CH5_ATTR_NAME)||"";o.unsubscribeDataCh5ShowPulseSig(i,e)}static handleCh5ShowPulseAttributeChange(t,e,i){const n=i.hasAttribute("debug"),r=i.getAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)||"";"string"==typeof e&&""!==e&&""!==r&&(s.Ch5AttrsLog.info(n,"Unsubscribing "+r,i),this.unsubscribeDataCh5ShowPulseSig(e,r),i.removeAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)),"string"==typeof t&&""!==t&&o.checkAndSubscribeToSignal(i)}static handleDataCh5ShowPulseReceived(t,e){e&&o.showElement(t)}static showElement(t){const e=t.cachedP;let i="Element visibility/display restored.";const n=[t];if(e){const s=t.sib;n.push(e),s&&e===s.parentElement?(e.insertBefore(t,s),i="Element re-stamped to DOM using cached parent and sibling elements. "+i,n.push(s),delete t.sib):(e.appendChild(t),i="Element re-stamped to DOM using only cached parent, no sibling element required. "+i),delete t.cachedP,t.removeAttribute(o.KEEP_SIG_SUBS_ATTR)}s.Ch5AttrsLog.info(t.hasAttribute("debug"),i,...n),t.classList.remove("ch5-hide-vis"),t.classList.remove("ch5-hide-dis")}static getNoShowType(t){let e="";if(t.hasAttribute("data-ch5-noshow-type"))e=t.getAttribute("data-ch5-noshow-type")||"";else switch(t.tagName.toLowerCase()){case"p":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":e="display";break;case"div":e="remove";break;default:e="visibility"}return o.NOSHOW_VALUES.indexOf(e)>-1?e:o.DEFAULT_NOSHOW_VALUE}static hideElement(t,e){switch(s.Ch5AttrsLog.info(t.hasAttribute("debug"),"Hide element using NOSHOW_TYPE: "+e,t),e){case"display":t.classList.add("ch5-hide-dis"),t.classList.remove("ch5-hide-vis");break;case"visibility":t.classList.add("ch5-hide-vis"),t.classList.remove("ch5-hide-dis");break;default:t.setAttribute(o.KEEP_SIG_SUBS_ATTR,"");const e=t.parentElement,i=t.nextSibling;e&&(e.removeChild(t),t.cachedP=e),i&&(t.sib=i)}}static registerSignalAttributeTypes(){a.Ch5SignalAttributeRegistry.instance.addCustomAttributeEntry(o.DATA_CH5_ATTR_NAME,{direction:"state",booleanJoin:1,contractName:!0})}}e.Ch5AttrsShowPulse=o,o.DATA_CH5_ATTR_NAME="data-ch5-showpulse",o.NOSHOW_VALUES=["visibility","display","remove"],o.DEFAULT_NOSHOW_VALUE="display",o.KEEP_SIG_SUBS_ATTR="data-ch5-keep-sig-subscription",o.SIGNAL_SUBSCRIPTION_KEY_ATTR="data-ch5-show-pulse-subs-key",o.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5AttrsHidePulse=void 0;const s=i(10),n=i(1),r=i(13),a=i(2);class o extends r.CustomAttribute{static checkAndSubscribeToSignal(t){if(t.hasAttribute(o.DATA_CH5_ATTR_NAME)){const e=t.hasAttribute("debug"),i=n.Ch5SignalFactory.getInstance(),r=t.getAttribute(o.DATA_CH5_ATTR_NAME)||"",a=n.Ch5Signal.getSubscriptionSignalName(r),l=i.getBooleanSignal(a);if(null!==l){const i=l.subscribe(e=>{!1===l.prevValue&&!0===e&&o.handleDataCh5HidePulseReceived(t,e)});s.Ch5AttrsLog.info(e,"Signal subscription complete... "+i,t),t.setAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR,i)}}}static handleElAddedToDOM(t){if(t.hasAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)){const e=t.hasAttribute("debug");s.Ch5AttrsLog.info(e,"Added node already has data-ch5-show \n                    subs: "+t.getAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR),t)}else o.checkAndSubscribeToSignal(t)}static elHasRemovableSigSubscription(t){return t.hasAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)&&t.hasAttribute(o.DATA_CH5_ATTR_NAME)&&!t.hasAttribute(o.KEEP_SIG_SUBS_ATTR)}static unsubscribeDataCh5HidePulseSig(t,e){const i=n.Ch5Signal.getSubscriptionSignalName(t),s=n.Ch5SignalFactory.getInstance().getBooleanSignal(i);s&&s.unsubscribe(e)}static removeSigSubscription(t){const e=t.getAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)||"";s.Ch5AttrsLog.info(!0,`Node removed without using signal value... signal subscription: \n                    ${e} needs to be canceled`,t);const i=t.getAttribute(o.DATA_CH5_ATTR_NAME)||"";o.unsubscribeDataCh5HidePulseSig(i,e)}static handleCh5HidePulseAttributeChange(t,e,i){const n=i.hasAttribute("debug"),r=i.getAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)||"";"string"==typeof e&&""!==e&&""!==r&&(s.Ch5AttrsLog.info(n,"Unsubscribing "+r,i),this.unsubscribeDataCh5HidePulseSig(e,r),i.removeAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)),"string"==typeof t&&""!==t&&o.checkAndSubscribeToSignal(i)}static getNoShowType(t){let e="";if(t.hasAttribute("data-ch5-noshow-type"))e=t.getAttribute("data-ch5-noshow-type")||"";else switch(t.tagName.toLowerCase()){case"p":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":e="display";break;case"div":e="remove";break;default:e="visibility"}return o.NOSHOW_VALUES.indexOf(e)>-1?e:o.DEFAULT_NOSHOW_VALUE}static handleDataCh5HidePulseReceived(t,e){if(e){const e=o.getNoShowType(t);o.hideElement(t,e)}}static hideElement(t,e){switch(s.Ch5AttrsLog.info(t.hasAttribute("debug"),"Hide element using NOSHOW_TYPE: "+e,t),e){case"display":t.classList.add("ch5-hide-dis"),t.classList.remove("ch5-hide-vis");break;case"visibility":t.classList.add("ch5-hide-vis"),t.classList.remove("ch5-hide-dis");break;default:t.setAttribute(o.KEEP_SIG_SUBS_ATTR,"");const e=t.parentElement,i=t.nextSibling;e&&(e.removeChild(t),t.cachedP=e),i&&(t.sib=i)}}static registerSignalAttributeTypes(){a.Ch5SignalAttributeRegistry.instance.addCustomAttributeEntry(o.DATA_CH5_ATTR_NAME,{direction:"state",booleanJoin:1,contractName:!0})}}e.Ch5AttrsHidePulse=o,o.DATA_CH5_ATTR_NAME="data-ch5-hidepulse",o.NOSHOW_VALUES=["visibility","display","remove"],o.DEFAULT_NOSHOW_VALUE="display",o.KEEP_SIG_SUBS_ATTR="data-ch5-keep-sig-subscription",o.SIGNAL_SUBSCRIPTION_KEY_ATTR="data-ch5-hide-pulse-subs-key",o.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5AttrsTextContent=void 0;const s=i(10),n=i(1),r=i(23),a=i(13),o=i(2);class l extends a.CustomAttribute{static handleBeingAddedToDom(t){const e=t.getAttribute(l.DATA_CH5_ATTR_NAME)||"",i=t.getAttribute(l.CH5_ATTR_SIG_SUB_KEY);""!==i&&l.handleUnsubscribe(t,e,i),l.handleSubscribe(t,e)}static handleBeingRemovedFromDom(t){const e=t.getAttribute(l.DATA_CH5_ATTR_NAME)||"",i=t.getAttribute(l.CH5_ATTR_SIG_SUB_KEY);l.handleUnsubscribe(t,e,i)}static handleSubscribe(t,e){const i=t.hasAttribute("debug");if(s.Ch5AttrsLog.info(i,"handleSubscribe "+e,t),""===e)return"";let a=t.textContent;const o=n.Ch5Signal.getSubscriptionSignalName(e),h=n.Ch5SignalFactory.getInstance().getStringSignal(o);let u="";return null!==h&&(u=h.subscribe(e=>{t.textContent!==e&&(t.textContent=r.Ch5TranslationUtility.getInstance().translatedValue(e),s.Ch5AttrsLog.info(i,`textContent changed from ${a} to ${t.textContent}`,t),a=t.textContent)}),t.setAttribute(l.CH5_ATTR_SIG_SUB_KEY,u)),s.Ch5AttrsLog.info(i,` subscribed to ${e}, subKey is ${u}`,t),u}static handleUnsubscribe(t,e,i){const r=t.hasAttribute("debug");if(s.Ch5AttrsLog.info(r,"handleUnsubscribe "+e,t),""===e||""===i)return;s.Ch5AttrsLog.info(r,` preparing to unsubscribe from ${e} with subKey: ${i}`,t);const a=n.Ch5Signal.getSubscriptionSignalName(e),o=n.Ch5SignalFactory.getInstance().getStringSignal(a);null!==o&&""!==i&&(o.unsubscribe(i),s.Ch5AttrsLog.info(r,` unsubscribed from ${e} with subKey: ${i}`,t))}static handleCh5TextContentAttrChange(t,e,i){if("string"==typeof e&&""!==e){const t=i.getAttribute(l.CH5_ATTR_SIG_SUB_KEY)||"";""!==t&&l.handleUnsubscribe(i,e,t)}"string"==typeof t&&""!==t&&t!==e&&l.handleSubscribe(i,t)}static registerSignalAttributeTypes(){o.Ch5SignalAttributeRegistry.instance.addCustomAttributeEntry(l.DATA_CH5_ATTR_NAME,{direction:"state",stringJoin:1,contractName:!0})}}e.Ch5AttrsTextContent=l,l.DATA_CH5_ATTR_NAME="data-ch5-textcontent",l.CH5_ATTR_SIG_SUB_KEY="data-ch5-sub-key",l.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5AttrsInnerhtml=void 0;const s=i(10),n=i(1),r=i(13),a=i(2);class o extends r.CustomAttribute{static handleBeingAddedToDom(t){const e=t.getAttribute(o.DATA_CH5_ATTR_NAME)||"",i=t.getAttribute(o.CH5_ATTR_SIG_SUB_KEY);""!==i&&o.handleUnsubscribe(t,e,i),o.handleSubscribe(t,e)}static handleBeingRemovedFromDom(t){const e=t.getAttribute(o.DATA_CH5_ATTR_NAME)||"",i=t.getAttribute(o.CH5_ATTR_SIG_SUB_KEY);o.handleUnsubscribe(t,e,i)}static handleSubscribe(t,e){if(""===e||null===e)return"";const i=t.hasAttribute("debug");s.Ch5AttrsLog.info(i,"handleSubscribe "+e,t);const r=n.Ch5Signal.getSubscriptionSignalName(e),a=n.Ch5SignalFactory.getInstance().getStringSignal(r);let l="";return null!==a&&(l=a.subscribe(e=>{t.innerHTML!==e&&(t.innerHTML=e,s.Ch5AttrsLog.info(i,"innerHTML updated to "+e,t))}),t.setAttribute(o.CH5_ATTR_SIG_SUB_KEY,l)),s.Ch5AttrsLog.info(i,` subscribed to ${e}, subKey is ${l}`,t),l}static handleUnsubscribe(t,e,i){if(""===e||""===i||null===e||null===i)return;const r=t.hasAttribute("debug");s.Ch5AttrsLog.info(r,`handleUnsubscribe: preparing to unsubscribe from ${e} with subKey: ${i}`,t);const a=n.Ch5Signal.getSubscriptionSignalName(e),o=n.Ch5SignalFactory.getInstance().getStringSignal(a);null!==o&&""!==i&&(o.unsubscribe(i),s.Ch5AttrsLog.info(r,` unsubscribed from ${e} with subKey: ${i}`,t))}static handleCh5InnerhtmlAttrChange(t,e,i){if("string"==typeof e&&""!==e){const t=i.getAttribute(o.CH5_ATTR_SIG_SUB_KEY)||"";""!==t&&o.handleUnsubscribe(i,e,t)}"string"==typeof t&&""!==t&&t!==e&&o.handleSubscribe(i,t)}static registerSignalAttributeTypes(){a.Ch5SignalAttributeRegistry.instance.addCustomAttributeEntry(o.DATA_CH5_ATTR_NAME,{direction:"state",stringJoin:1,contractName:!0})}}e.Ch5AttrsInnerhtml=o,o.DATA_CH5_ATTR_NAME="data-ch5-innerhtml",o.CH5_ATTR_SIG_SUB_KEY="data-ch5-innerhtml-sub-key",o.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5AttrsAppendstyle=void 0;const s=i(10),n=i(1),r=i(13),a=i(2);class o extends r.CustomAttribute{static handleBeingAddedToDom(t){const e=t.getAttribute(o.DATA_CH5_ATTR_NAME)||"",i=t.getAttribute(o.CH5_ATTR_SIG_SUB_KEY);""!==i&&o.handleUnsubscribe(t,e,i),o.handleSubscribe(t,e)}static handleBeingRemovedFromDom(t){const e=t.getAttribute(o.DATA_CH5_ATTR_NAME)||"",i=t.getAttribute(o.CH5_ATTR_SIG_SUB_KEY);o.handleUnsubscribe(t,e,i)}static handleSubscribe(t,e){if(""===e||null===e)return"";const i=t.hasAttribute("debug");s.Ch5AttrsLog.info(i,"handleSubscribe "+e,t);const r=n.Ch5Signal.getSubscriptionSignalName(e),a=n.Ch5SignalFactory.getInstance().getStringSignal(r);let l="";return null!==a&&(l=a.subscribe(e=>{t.style.cssText!==e&&(t.style.cssText=e,s.Ch5AttrsLog.info(i,"style updated to "+e,t))}),t.setAttribute(o.CH5_ATTR_SIG_SUB_KEY,l)),s.Ch5AttrsLog.info(i,` subscribed to ${e}, subKey is ${l}`,t),l}static handleUnsubscribe(t,e,i){if(""===e||""===i||null===e||null===i)return;const r=t.hasAttribute("debug");s.Ch5AttrsLog.info(r,`handleUnsubscribe: preparing to unsubscribe from ${e} with subKey: ${i}`,t);const a=n.Ch5Signal.getSubscriptionSignalName(e),o=n.Ch5SignalFactory.getInstance().getStringSignal(a);null!==o&&""!==i&&(o.unsubscribe(i),s.Ch5AttrsLog.info(r,` unsubscribed from ${e} with subKey: ${i}`,t))}static handleCh5AppendstyleAttrChange(t,e,i){if("string"==typeof e&&""!==e){const t=i.getAttribute(o.CH5_ATTR_SIG_SUB_KEY)||"";""!==t&&o.handleUnsubscribe(i,e,t)}"string"==typeof t&&""!==t&&t!==e&&o.handleSubscribe(i,t)}static registerSignalAttributeTypes(){a.Ch5SignalAttributeRegistry.instance.addCustomAttributeEntry(o.DATA_CH5_ATTR_NAME,{direction:"state",stringJoin:1,contractName:!0})}}e.Ch5AttrsAppendstyle=o,o.DATA_CH5_ATTR_NAME="data-ch5-appendstyle",o.CH5_ATTR_SIG_SUB_KEY="data-ch5-appendstyle-sub-key",o.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5AttrsAppendclass=void 0;const s=i(10),n=i(1),r=i(13),a=i(2);class o extends r.CustomAttribute{static handleBeingAddedToDom(t){const e=t.getAttribute(o.DATA_CH5_ATTR_NAME)||"",i=t.getAttribute(o.CH5_ATTR_SIG_SUB_KEY);""!==i&&o.handleUnsubscribe(t,e,i),o.handleSubscribe(t,e)}static handleBeingRemovedFromDom(t){const e=t.getAttribute(o.DATA_CH5_ATTR_NAME)||"",i=t.getAttribute(o.CH5_ATTR_SIG_SUB_KEY);o.handleUnsubscribe(t,e,i)}static handleSubscribe(t,e){if(""===e||null===e)return"";const i=t.hasAttribute("debug");s.Ch5AttrsLog.info(i,"handleSubscribe "+e,t);const r=n.Ch5Signal.getSubscriptionSignalName(e),a=n.Ch5SignalFactory.getInstance().getStringSignal(r);let l="";return null!==a&&(l=a.subscribe(e=>{const n=e.split(" "),r=t.currentCh5AppendclassVal;if("string"==typeof r&&""!==r){const e=r.split(" ");e.length>0&&e.forEach(e=>{""!==e&&t.classList.contains(e)&&-1===n.indexOf(e)&&t.classList.remove(e)})}n.length>0&&n.forEach(e=>{t.classList.contains(e)||""===e||t.classList.add(e)}),s.Ch5AttrsLog.info(i,"innerHTML updated to "+e,t),t.currentCh5AppendclassVal=e}),t.setAttribute(o.CH5_ATTR_SIG_SUB_KEY,l)),s.Ch5AttrsLog.info(i,` subscribed to ${e}, subKey is ${l}`,t),l}static handleUnsubscribe(t,e,i){if(""===e||""===i||null===e||null===i)return;const r=t.hasAttribute("debug");s.Ch5AttrsLog.info(r,`handleUnsubscribe: preparing to unsubscribe from ${e} with subKey: ${i}`,t);const a=n.Ch5Signal.getSubscriptionSignalName(e),o=n.Ch5SignalFactory.getInstance().getStringSignal(a);null!==o&&""!==i&&(o.unsubscribe(i),s.Ch5AttrsLog.info(r,` unsubscribed from ${e} with subKey: ${i}`,t))}static handleCh5AppendclassAttrChange(t,e,i){if("string"==typeof e&&""!==e){const t=i.getAttribute(o.CH5_ATTR_SIG_SUB_KEY)||"";""!==t&&o.handleUnsubscribe(i,e,t)}"string"==typeof t&&""!==t&&t!==e&&o.handleSubscribe(i,t)}static registerSignalAttributeTypes(){a.Ch5SignalAttributeRegistry.instance.addCustomAttributeEntry(o.DATA_CH5_ATTR_NAME,{direction:"state",stringJoin:1,contractName:!0})}}e.Ch5AttrsAppendclass=o,o.DATA_CH5_ATTR_NAME="data-ch5-appendclass",o.CH5_ATTR_SIG_SUB_KEY="data-ch5-appendclass-sub-key",o.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5AttrsI18n=void 0;const s=i(10),n=i(191),r=i(192),a=i(23),o=i(13);class l extends o.CustomAttribute{constructor(){super(...arguments),this.translatableData=[],this.initialIndexValue=n.CH5_I18N_ATTRIBUTE_CONSTANT.defaultIndex}updateOnChange(){this.removeExtraNode(),this.translatableData.map((t,e)=>{const i=document.getElementById(t.uniqueElementId),s=i.getAttribute(t.attributeName)||"";this.updateValueToDom(i,s,e)})}handleBeingAddedToDom(t){const e=t.getAttribute(l.DATA_CH5_ATTR_NAME)||"",i=t.hasAttribute("debug");if(!t.id){const e=l.DATA_CH5_EL_ID_PREFIX+(0,r.randomFixedInteger)(l.RANDOM_NUMBER_LENGTH).toString();t.setAttribute("id",e),s.Ch5AttrsLog.info(i,`unique id:-${e} added to element`,t)}this.updateValueToDom(t,e)}getTextDisplayInfo(t){const e={typeOfAttribute:"",attributeSelector:"",valueToTranslate:"",hasAttribute:!1},i=t.trim(),s=i.match(/\[(.*?)\]/);if(!i&&!s)return e;if(i.indexOf("[")===l.EXPECTED_SUBATTRIBUTE_POSITION){const[t,s]=i.match(/\[(.*?)\]/)[1].split("=");e.valueToTranslate=i.replace(i.match(/\[(.*?)\]/)[0],""),e.typeOfAttribute=t,e.attributeSelector=s,e.hasAttribute=!0}return e}updateValueToDom(t,e,i=this.initialIndexValue){const n=t.hasAttribute("debug");i===this.initialIndexValue&&this.translatableData&&this.removeExtraNode();const r=this.getTextDisplayInfo(e);let a="";if(r.hasAttribute)if(a=this.getTranslatedValue(t,r.valueToTranslate,i),r.typeOfAttribute===l.SUBATTRIBUTE_TYPE){t.querySelector(r.attributeSelector).innerHTML=a,s.Ch5AttrsLog.info(n,`updated value ${a} to inner html`,t)}else t.hasAttribute(r.attributeSelector)&&t.removeAttribute(r.attributeSelector),t.setAttribute(r.attributeSelector,a),s.Ch5AttrsLog.info(n,`updated value ${a} of atrribute ${r.attributeSelector}`,t);else a=this.getTranslatedValue(t,e,i),t.innerHTML=a,s.Ch5AttrsLog.info(n,`updated text content ${a} `,t)}checkElementExistInDom(t){return!!document.getElementById(t)}removeExtraNode(){this.translatableData=this.translatableData.filter(t=>this.checkElementExistInDom(t.uniqueElementId))}getTranslatedValue(t,e,i=this.initialIndexValue){const s={},n=a.Ch5TranslationUtility.getInstance().isTranslationIdentifier(e)?this.doTranslation(e):"";return n&&(s.uniqueElementId=t.id,s.attributeName=l.DATA_CH5_ATTR_NAME,s.attributeValue=e,i!==this.initialIndexValue?this.translatableData[i]=s:this.translatableData.push(s)),n}doTranslation(t){let e=t;const i=a.Ch5TranslationUtility.getInstance(),s=i.valuesToTranslation(t);return s&&s.length>0&&s.forEach(t=>{if(i.isTranslationIdentifier(t)){const s=i.stripDownTranslationCharacters(t);if(i.getTranslator().exists(s)){const n=i.getTranslator().t(s);e=e.replace(t,n)}}}),e}}e.Ch5AttrsI18n=l,l.DATA_CH5_ATTR_NAME=n.CH5_I18N_ATTRIBUTE_CONSTANT.dataCh5AttrName,l.DATA_CH5_EL_ID_PREFIX=n.CH5_I18N_ATTRIBUTE_CONSTANT.elementIdPrefix,l.RANDOM_NUMBER_LENGTH=n.CH5_I18N_ATTRIBUTE_CONSTANT.randomNumberLength,l.EXPECTED_SUBATTRIBUTE_POSITION=n.CH5_I18N_ATTRIBUTE_CONSTANT.subAttributePosition,l.SUBATTRIBUTE_TYPE=n.CH5_I18N_ATTRIBUTE_CONSTANT.subAttributeType},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5AttrsEnable=void 0;const s=i(10),n=i(1),r=i(13),a=i(2);class o extends r.CustomAttribute{static checkAndSubscribeToSignal(t){if(t.hasAttribute(o.DATA_CH5_ATTR_NAME)){const e=t.hasAttribute("debug"),i=n.Ch5SignalFactory.getInstance(),r=t.getAttribute(o.DATA_CH5_ATTR_NAME)||"",a=n.Ch5Signal.getSubscriptionSignalName(r),l=i.getBooleanSignal(a);if(l){const i=l.subscribe(e=>{o.handleDataCh5EnableReceived(t,e)});s.Ch5AttrsLog.info(e,"Signal subscription complete... "+i,t),t.setAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR,i)}}}static handleElAddedToDOM(t){t.hasAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)||o.checkAndSubscribeToSignal(t)}static elHasRemovableSigSubscription(t){return t.hasAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)&&t.hasAttribute(o.DATA_CH5_ATTR_NAME)&&!t.hasAttribute(o.KEEP_SIG_SUBS_ATTR)}static unsubscribeDataCh5EnableSig(t,e){const i=n.Ch5Signal.getSubscriptionSignalName(t),s=n.Ch5SignalFactory.getInstance().getBooleanSignal(i);s&&s.unsubscribe(e)}static removeSigSubscription(t){const e=t.getAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)||"";s.Ch5AttrsLog.info(!0,`Node removed without using signal value... signal subscription: \n                    ${e} needs to be canceled`,t);const i=t.getAttribute(o.DATA_CH5_ATTR_NAME)||"";o.unsubscribeDataCh5EnableSig(i,e)}static handleCh5EnableAttributeChange(t,e,i){const n=i.hasAttribute("debug"),r=i.getAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)||"";"string"==typeof e&&""!==e&&""!==r&&(s.Ch5AttrsLog.info(n,"Unsubscribing "+r,i),this.unsubscribeDataCh5EnableSig(e,r),i.removeAttribute(o.SIGNAL_SUBSCRIPTION_KEY_ATTR)),"string"==typeof t&&""!==t&&o.checkAndSubscribeToSignal(i)}static handleDataCh5EnableReceived(t,e){e?t.classList.remove("ch5-disabled"):t.classList.add("ch5-disabled")}static registerSignalAttributeTypes(){a.Ch5SignalAttributeRegistry.instance.addCustomAttributeEntry(o.DATA_CH5_ATTR_NAME,{direction:"state",booleanJoin:1,contractName:!0})}}e.Ch5AttrsEnable=o,o.DATA_CH5_ATTR_NAME="data-ch5-enable",o.KEEP_SIG_SUBS_ATTR="data-ch5-keep-sig-subscription",o.SIGNAL_SUBSCRIPTION_KEY_ATTR="data-ch5-enable-subs-key",o.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Dpad=void 0;const n=s(i(0)),r=i(3),a=i(6),o=i(90),l=i(34),h=i(2),u=i(91),c=i(1),d=i(4);class p extends r.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-dpad",this.isResizeInProgress=!1,this.RESIZE_DEBOUNCE=500,this.container={},this.containerClass="dpad-container",this.logger.start("constructor()",p.ELEMENT_NAME),l.ComponentHelper.clearComponentContent(this),this._ch5Properties=new d.Ch5Properties(this,p.COMPONENT_PROPERTIES),this.initCssClasses(),this.logger.stop()}static registerSignalAttributeTypes(){h.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(p.ELEMENT_NAME,p.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(p.ELEMENT_NAME)&&window.customElements.define(p.ELEMENT_NAME,p)}set contractName(t){this._ch5Properties.set("contractName",t,()=>{this.updateContractNameBasedHandlers()})}get contractName(){var t;return null===(t=this._ch5Properties.get("contractName"))||void 0===t?void 0:t.trim()}set type(t){this._ch5Properties.set("type",t,()=>{this.updateCssClasses()})}get type(){return this._ch5Properties.get("type")}set shape(t){this._ch5Properties.set("shape",t,()=>{this.checkAndRestructureDomOfDpad()})}get shape(){return this._ch5Properties.get("shape")}set stretch(t){this._ch5Properties.set("stretch",t,()=>{this.stretchHandler()})}get stretch(){return this._ch5Properties.get("stretch")}set size(t){this._ch5Properties.set("size",t,()=>{this.updateCssClasses()})}get size(){return this._ch5Properties.get("size")}set sendEventOnClickStart(t){this._ch5Properties.set("sendEventOnClickStart",t,()=>{this.updateEventClickHandlers(parseInt(t,10))})}get sendEventOnClickStart(){return this._ch5Properties.get("sendEventOnClickStart")}set useContractForEnable(t){this._ch5Properties.set("useContractForEnable",t,()=>{const t=this.contractName;t.length>0&&!0===this.useContractForEnable&&(this.receiveStateEnable=t+".Enable")})}get useContractForEnable(){return this._ch5Properties.get("useContractForEnable")}set useContractForShow(t){this._ch5Properties.set("useContractForShow",t,()=>{const t=this.contractName;t.length>0&&!0===this.useContractForShow&&(this.receiveStateShow=t+".Show")})}get useContractForShow(){return this._ch5Properties.get("useContractForShow")}set useContractForCustomStyle(t){this._ch5Properties.set("useContractForCustomStyle",t,()=>{const t=this.contractName;t.length>0&&!0===this.useContractForCustomStyle&&(this.receiveStateCustomStyle=t+".CustomStyle")})}get useContractForCustomStyle(){return this._ch5Properties.get("useContractForCustomStyle")}set useContractForCustomClass(t){this._ch5Properties.set("useContractForCustomClass",t,()=>{const t=this.contractName;t.length>0&&!0===this.useContractForCustomClass&&(this.receiveStateCustomClass=t+".CustomClass")})}get useContractForCustomClass(){return this._ch5Properties.get("useContractForCustomClass")}connectedCallback(){this.logger.start("connectedCallback() - start",p.ELEMENT_NAME),(0,c.subscribeInViewPortChange)(this,()=>{if(this.elementIsInViewPort&&!n.default.isNil(this.stretch)&&this.parentElement){const{offsetHeight:t,offsetWidth:e}=this.parentElement,i=e<=t?e:t;this.container.style.height=i+"px",this.container.style.width=i+"px"}}),customElements.whenDefined("ch5-dpad").then(()=>{this._wasInstatiated||this.createHtmlElements(),this._wasInstatiated=!0,this.attachEventListeners(),this.initAttributes(),this.stretchHandler()}),this.logger.stop()}disconnectedCallback(){this.removeEvents(),this.unsubscribeFromSignals(),(0,c.unSubscribeInViewPortChange)(this),this.container&&this.container.style&&(this.container.style.removeProperty("height"),this.container.style.removeProperty("width")),this.disconnectCommonMutationObserver()}removeEvents(){super.removeEventListeners(),window.removeEventListener("resize",this.onWindowResizeHandler)}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}static get observedAttributes(){const t=r.Ch5Common.observedAttributes,e=[];for(let t=0;t<p.COMPONENT_PROPERTIES.length;t++)!0===p.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(p.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-dpad attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=p.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}createHtmlElements(){var t;this.logger.start("createHtmlElements",p.ELEMENT_NAME),this.classList.add(this.primaryCssClass);const e=this.children;if(0===e.length||0===e[0].children.length)n.default.cloneDeep(null===(t=e[0])||void 0===t?void 0:t.children)?this.createAndAppendAllExistingButtonsUnderDpad(e):this.createAndAppendAllButtonsUnderDpad();else{this.checkIfOrderOfTagsAreInTheRightOrder(e[0].children)||this.createAndAppendAllExistingButtonsUnderDpad(e[0].children)}this.logger.stop()}updateHtmlElements(){var t;this.logger.start("updateHtmlElements",p.ELEMENT_NAME);const e=this.children;if(0===e.length||0===e[0].children.length)n.default.cloneDeep(null===(t=e[0])||void 0===t?void 0:t.children)?this.createAndAppendAllExistingButtonsUnderDpad(e[0].children):this.createAndAppendAllButtonsUnderDpad();else{this.checkIfOrderOfTagsAreInTheRightOrder(e[0].children)||this.createAndAppendAllExistingButtonsUnderDpad(e[0].children)}this.logger.stop()}createEmptyContainerDiv(){for((n.default.isNil(this.container)||n.default.isNil(this.container.classList)||0===this.container.classList.length)&&(this.container=document.createElement("div"),this.container.classList.add(this.containerClass)),this.container.parentElement!==this&&this.appendChild(this.container);this.container.firstChild;)this.container.removeChild(this.container.firstChild)}createAndAppendAllButtonsUnderDpad(){const t=new u.Ch5DpadButton;t.setAttribute("key","center");const e=new u.Ch5DpadButton;e.setAttribute("key","up");const i=new u.Ch5DpadButton;i.setAttribute("key","right");const s=new u.Ch5DpadButton;s.setAttribute("key","down");const n=new u.Ch5DpadButton;n.setAttribute("key","left"),this.createEmptyContainerDiv(),this.appendButtonsInRightOrder(t,e,n,i,s)}createAndAppendAllExistingButtonsUnderDpad(t){if(!t.length)return;let e=null,i=null,s=null,n=null,r=null;Array.from(t).forEach(t=>{switch(t.getAttribute("key")){case"center":e=t;break;case"up":i=t;break;case"right":s=t;break;case"down":n=t;break;case"left":r=t;break;default:throw new Error("Seems to be an invalid dpad Button value ")}}),e||(e=new u.Ch5DpadButton,e.setAttribute("key","center")),i||(i=new u.Ch5DpadButton,i.setAttribute("key","up")),s||(s=new u.Ch5DpadButton,s.setAttribute("key","right")),n||(n=new u.Ch5DpadButton,n.setAttribute("key","down")),r||(r=new u.Ch5DpadButton,r.setAttribute("key","left")),this.createEmptyContainerDiv(),this.appendButtonsInRightOrder(e,i,r,s,n)}appendButtonsInRightOrder(t,e,i,s,n){if(this.container.appendChild(t),this.container.appendChild(e),this.shape===p.SHAPES[0])this.container.appendChild(i),this.container.appendChild(s);else{if(this.shape!==p.SHAPES[1])throw new Error("Seems to be an invalid shape. Must be 'plus' or 'circle' as values.");this.container.appendChild(s),this.container.appendChild(i)}this.container.appendChild(n)}checkIfOrderOfTagsAreInTheRightOrder(t){let e=!1;if(5===t.length){const i=this.shape===p.SHAPES[0]?"left":"right",s=this.shape===p.SHAPES[0]?"right":"left";e="center"===t[0].getAttribute("key")&&"up"===t[1].getAttribute("key")&&t[2].getAttribute("key")===i&&t[3].getAttribute("key")===s&&"down"===t[4].getAttribute("key")}else if(t.length>0)for(const e of Array.from(t))e.remove();return e}initAttributes(){this.logger.start("initAttributes",p.ELEMENT_NAME),super.initAttributes(),this.setAttribute("data-ch5-id",this.getCrId()),l.ComponentHelper.setAttributeToElement(this,"role",a.Ch5RoleAttributeMapping.ch5Dpad);const t=this;for(let e=0;e<p.COMPONENT_PROPERTIES.length;e++)if(!0===p.COMPONENT_PROPERTIES[e].isObservableProperty)if(this.hasAttribute(p.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=p.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}else{t[p.COMPONENT_PROPERTIES[e].name]=p.COMPONENT_PROPERTIES[e].default}this.logger.stop()}attachEventListeners(){super.attachEventListeners(),window.addEventListener("resize",this.onWindowResizeHandler.bind(this))}updateCssClasses(){super.updateCssClasses();for(const t of p.TYPES)this.classList.remove(p.ELEMENT_NAME+p.CSS_CLASS_PREFIX_TYPE+t);this.classList.add(p.ELEMENT_NAME+p.CSS_CLASS_PREFIX_TYPE+this.type);for(const t of p.SHAPES)this.classList.remove(p.ELEMENT_NAME+p.CSS_CLASS_PREFIX_SHAPE+t);this.classList.add(p.ELEMENT_NAME+p.CSS_CLASS_PREFIX_SHAPE+this.shape);for(const t of p.SIZES)this.classList.remove(p.ELEMENT_NAME+p.CSS_CLASS_PREFIX_SIZE+t);this.classList.add(p.ELEMENT_NAME+p.CSS_CLASS_PREFIX_SIZE+this.size);for(const t of p.STRETCHES)this.classList.remove(p.ELEMENT_NAME+p.CSS_CLASS_PREFIX_STRETCH+t);this.stretch&&this.stretch.length>0&&(this.classList.add(p.ELEMENT_NAME+p.CSS_CLASS_PREFIX_STRETCH+this.stretch),this.size&&this.size.length>0&&this.classList.remove(p.ELEMENT_NAME+p.CSS_CLASS_PREFIX_SIZE+this.size))}initCssClasses(){this.classList.add(p.ELEMENT_NAME+p.CSS_CLASS_PREFIX_TYPE+this.type),this.classList.add(p.ELEMENT_NAME+p.CSS_CLASS_PREFIX_SHAPE+this.shape),this.classList.add(p.ELEMENT_NAME+p.CSS_CLASS_PREFIX_SIZE+this.size),this.stretch&&this.stretch.length>0&&(this.classList.add(p.ELEMENT_NAME+p.CSS_CLASS_PREFIX_STRETCH+this.stretch),this.size&&this.size.length>0&&this.classList.remove(p.ELEMENT_NAME+p.CSS_CLASS_PREFIX_SIZE+this.size))}checkAndRestructureDomOfDpad(){this.logger.start("checkAndRestructureDomOfDpad()",p.ELEMENT_NAME),this.updateHtmlElements(),this.updateCssClasses(),this.logger.stop()}updateEventClickHandlers(t){const e=this.contractName,i=this.getElementsByTagName("ch5-dpad-button");let s,r,a,l,h;if(i.length>0)for(let t=0;t<i.length;t++){const e=i[t].getAttribute("key");if(e)switch(e){case"center":s=i[t];break;case"up":r=i[t];break;case"left":h=i[t];break;case"right":a=i[t];break;case"down":l=i[t];break;default:s=i[t]}}if(0===e.length&&!isNaN(t)){if(!n.default.isNil(s)){const e=t+o.CH5DpadUtils.sendEventOnClickSigCountToAdd.center;s.setAttribute("sendEventOnClick".toLowerCase(),e.toString())}if(!n.default.isNil(r)){const e=t+o.CH5DpadUtils.sendEventOnClickSigCountToAdd.up;r.setAttribute("sendEventOnClick".toLowerCase(),e.toString())}if(!n.default.isNil(a)){const e=t+o.CH5DpadUtils.sendEventOnClickSigCountToAdd.right;a.setAttribute("sendEventOnClick".toLowerCase(),e.toString())}if(!n.default.isNil(l)){const e=t+o.CH5DpadUtils.sendEventOnClickSigCountToAdd.down;l.setAttribute("sendEventOnClick".toLowerCase(),e.toString())}if(!n.default.isNil(h)){const e=t+o.CH5DpadUtils.sendEventOnClickSigCountToAdd.left;h.setAttribute("sendEventOnClick".toLowerCase(),e.toString())}}}updateContractNameBasedHandlers(){const t=this.contractName,e=this.getElementsByTagName("ch5-dpad-button");let i,s,r,a,l;if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t].getAttribute("key");if(n)switch(n){case"center":i=e[t];break;case"up":s=e[t];break;case"left":l=e[t];break;case"right":r=e[t];break;case"down":a=e[t];break;default:i=e[t]}}if(t.length>0){if(!0===this.useContractForEnable&&(this.receiveStateEnable=t+".Enable"),!0===this.useContractForShow&&(this.receiveStateShow=t+".Show"),!n.default.isNil(i)){const e=t+"."+o.CH5DpadUtils.contractSuffix.center;i.setAttribute("sendEventOnClick".toLowerCase(),e.toString())}if(!n.default.isNil(s)){const e=t+"."+o.CH5DpadUtils.contractSuffix.up;s.setAttribute("sendEventOnClick".toLowerCase(),e.toString())}if(!n.default.isNil(r)){const e=t+"."+o.CH5DpadUtils.contractSuffix.right;r.setAttribute("sendEventOnClick".toLowerCase(),e.toString())}if(!n.default.isNil(a)){const e=t+"."+o.CH5DpadUtils.contractSuffix.down;a.setAttribute("sendEventOnClick".toLowerCase(),e.toString())}if(!n.default.isNil(l)){const e=t+"."+o.CH5DpadUtils.contractSuffix.left;l.setAttribute("sendEventOnClick".toLowerCase(),e.toString())}}}stretchHandler(){this.logger.start(p.ELEMENT_NAME+" > stretchHandler"),this.updateCssClasses();const t=this.offsetHeight,e=this.offsetWidth;let i=Math.min(t,e);if(this.stretch&&0===this.stretch.length&&(i=0),this.container&&this.container.style){0===i&&(this.container.style.removeProperty("height"),this.container.style.removeProperty("width"));const t=this.parentElement;this.stretch&&this.stretch.trim().length>0&&t&&(i=Math.min(t.offsetHeight,t.offsetWidth),this.container.style.height=i+"px",this.container.style.width=i+"px")}this.logger.stop()}onWindowResizeHandler(){this.stretch&&this.stretch.length>0&&!this.isResizeInProgress&&(this.isResizeInProgress=!0,setTimeout(()=>{this.stretchHandler(),this.isResizeInProgress=!1},this.RESIZE_DEBOUNCE))}}e.Ch5Dpad=p,p.ELEMENT_NAME="ch5-dpad",p.TYPES=["default","primary","info","text","danger","warning","success","secondary"],p.SHAPES=["plus","circle"],p.STRETCHES=["both","width","height"],p.SIZES=["regular","x-small","small","large","x-large"],p.CSS_CLASS_PREFIX_STRETCH="--stretch-",p.CSS_CLASS_PREFIX_TYPE="--type-",p.CSS_CLASS_PREFIX_SHAPE="--shape-",p.CSS_CLASS_PREFIX_SIZE="--size-",p.COMPONENT_PROPERTIES=[{default:"",name:"contractName",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:p.TYPES[0],enumeratedValues:p.TYPES,name:"type",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:p.TYPES[0],isObservableProperty:!0},{default:p.SHAPES[0],enumeratedValues:p.SHAPES,name:"shape",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:p.SHAPES[0],isObservableProperty:!0},{default:p.SIZES[0],enumeratedValues:p.SIZES,name:"size",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:p.SIZES[0],isObservableProperty:!0},{default:null,enumeratedValues:p.STRETCHES,name:"stretch",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:null,isObservableProperty:!0,isNullable:!0},{default:!1,name:"useContractForEnable",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!1,isObservableProperty:!0},{default:!1,name:"useContractForShow",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!1,isObservableProperty:!0},{default:!1,name:"useContractForCustomClass",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!1,isObservableProperty:!0},{default:!1,name:"useContractForCustomStyle",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!1,isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnClickStart",signalType:"number",removeAttributeOnNull:!0,type:"string",isNullable:!0,valueOnAttributeEmpty:"",isObservableProperty:!0}],p.COMPONENT_DATA={TYPES:{default:p.TYPES[0],values:p.TYPES,key:"type",attribute:"type",classListPrefix:p.CSS_CLASS_PREFIX_TYPE},STRETCHES:{default:null,values:p.STRETCHES,key:"stretch",attribute:"stretch",classListPrefix:p.CSS_CLASS_PREFIX_STRETCH},SHAPES:{default:p.SHAPES[0],values:p.SHAPES,key:"shape",attribute:"shape",classListPrefix:p.CSS_CLASS_PREFIX_SHAPE},SIZES:{default:p.SIZES[0],values:p.SIZES,key:"size",attribute:"size",classListPrefix:p.CSS_CLASS_PREFIX_SIZE}},p.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},r.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{sendeventonclickstart:{direction:"event",booleanJoin:1,contractName:!0},contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1}}),p.registerCustomElement(),p.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CH5DpadUtils=void 0;class s{static createIconTag(t){(void 0===t._icon.classList||t._icon.classList.length<=0)&&(t._icon=document.createElement("span"))}}e.CH5DpadUtils=s,s.sendEventOnClickSigCountToAdd={up:0,down:1,left:2,right:3,center:4},s.contractSuffix={up:"Up",down:"Down",left:"Left",right:"Right",center:"Center"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5DpadButton=void 0;const s=i(3),n=i(2),r=i(194);class a extends r.Ch5DpadChildBase{constructor(){super()}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(a.ELEMENT_NAME,a)}static registerSignalAttributeTypes(){n.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(a.ELEMENT_NAME,a.SIGNAL_ATTRIBUTE_TYPES)}static get observedAttributes(){const t=s.Ch5Common.observedAttributes,e=[];for(let t=0;t<r.Ch5DpadChildBase.COMPONENT_PROPERTIES.length;t++)!0===r.Ch5DpadChildBase.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(r.Ch5DpadChildBase.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-dpad-button attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=r.Ch5DpadChildBase.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}}e.Ch5DpadButton=a,a.ELEMENT_NAME="ch5-dpad-button",a.DEFAULT_ICONS={up:"fa-caret-up",down:"fa-caret-down",left:"fa-caret-left",right:"fa-caret-right",center:"fa-circle"},a.registerCustomElement(),a.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Animation=void 0;const n=s(i(0));e.Ch5Animation=class{constructor(t,e,i){this._duration=0,this._defaultDuration=0,this._easeMode="linear",this._wrapper={},this.duration=t,this.defaultDuration=t,this.easeMode=e,this.wrapper=i}set duration(t){n.default.isNil(t)||(this._duration=t)}get duration(){return this._duration}set defaultDuration(t){n.default.isNil(t)||(this._defaultDuration=t)}get defaultDuration(){return this._defaultDuration}set easeMode(t){n.default.isNil(t)||(this._easeMode=t)}get easeMode(){return this._easeMode}set wrapper(t){n.default.isNil(t)||(this._wrapper=t)}get wrapper(){return this._wrapper}}},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(240),e)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Select=void 0,i(32);const n=i(3),r=i(40),a=i(1),o=s(i(20)),l=i(16),h=i(6),u=i(0),c=i(2);class d extends n.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-select",this.iconPosition="first",this.mainPanel={},this.selectedOptionsPanel={},this.selectPanel={},this.comboTrigger={},this.templateVarsData=[],this._selectionTimeout=null,this._multiselectionTimeout=null,this.receiveStateSizeSubscription="",this.receiveStateValueSubscription="",this.receiveStateTemplateVarsSubscription="",this._optionTemplateHTML="",this._lastReceivedSignalValue=-1,this._cleanValue=-1,this._lastSelectedOptIdx=null,this._size=0,this._multiselect=!1,this._selectedValue=-1,this._selectedValues=[],this._cleanValues=[],this._multiselectedValuesMap=[],this._panelScrollHeight="0px",this._minWidth="",this._maxWidth="",this._minHeight="",this._maxHeight="",this._resize=!1,this._mode=d.MODE_VALUES[0],this._feedbackMode=d.FEEDBACK_MODE_VALUES[0],this._signalValueSyncTimeout=d.DEFAULT_SIGNAL_VALUE_SYNC_TIMEOUT,this._indexId="",this._receiveStateValue=null,this._receiveStateSize=null,this._receiveStateTemplateVars=null,this._sendEventOnFocus=null,this._sendEventOnChange=null,this._dirty=!1,this._ondirtyCallback={},this._oncleanCallback={},this._noneSelectedPrompt=d.PLACEHOLDER_DEFAULT,this._comboTriggerHammer=null,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._handleSelectPanelToggle=this._handleSelectPanelToggle.bind(this),this._handleOptionSelected=this._handleOptionSelected.bind(this),this.closeSelectPanel=this.closeSelectPanel.bind(this),this._wasInstatiated=!1}static registerSignalAttributeDefaults(){c.Ch5SignalAttributeRegistry.instance.addElementDefaultAttributeEntries(d.ELEMENT_NAME,{contractName:{attributes:["contractname"],defaultValue:""},booleanJoin:{attributes:["booleanjoinoffset"],defaultValue:"0"},numericJoin:{attributes:["numericjoinoffset"],defaultValue:"0"},stringJoin:{attributes:["stringjoinoffset"],defaultValue:"0"}})}set ondirtyCallback(t){null==t&&(t={}),this._ondirtyCallback=t}get ondirtyCallback(){return this._ondirtyCallback}set ondirty(t){this.ondirtyCallback=t}get ondirty(){return this.ondirtyCallback}set oncleanCallback(t){null==t&&(t={}),this._oncleanCallback=t}get oncleanCallback(){return this._oncleanCallback}set onclean(t){this.oncleanCallback=t}get onclean(){return this.oncleanCallback}connectedCallback(){Promise.all([customElements.whenDefined("ch5-select")]).then(()=>{this.info("connectedCallback()"),this.hasAttribute("role")||this.setAttribute("role",h.Ch5RoleAttributeMapping.ch5Select),this.setAttribute("data-ch5-id",this.getCrId()),this.hasAttribute("role")||this.setAttribute("role",h.Ch5RoleAttributeMapping.ch5Spinner),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this._initOptionTemplate(),""===this._optionTemplateHTML?(this.info("add mutation observer in order to extract template data"),this._startReadyObserver()):(this.info("connectedCallback initializations"),this.initializations()),this.initCommonMutationObserver(this),this.info("Callback loaded - ch5-select"),this._wasInstatiated=!0})}disconnectedCallback(){this.removeEventListeners(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver()}unsubscribeFromSignals(){this.info("unsubscribeFromSignal()"),super.unsubscribeFromSignals(),this.clearStringSignalSubscription(this._receiveStateSize,this.receiveStateSizeSubscription),this._receiveStateSize="",this.clearStringSignalSubscription(this._receiveStateTemplateVars,this.receiveStateTemplateVarsSubscription),this._receiveStateTemplateVars="",this.clearStringSignalSubscription(this._receiveStateValue,this.receiveStateValueSubscription),this._receiveStateValue=""}initializations(){this._addMainClass(),this._updateModeClass(),this.initAttributes(),this.multiselect?this._cleanValues=this.selectedValues.slice(0):this._cleanValue=this.selectedValue,this._createMainPanel(),this.templateVarsData=this._getTemplateVarsFromDefaultConfig(),this.selectedOptionsPanel.innerHTML=this.noneSelectedPrompt,this._updateCh5SelectDimensions(),this.shouldComputeDropdownHeight(),this._createSelectPanel(),this.attachEventListeners()}shouldComputeDropdownHeight(){if(this.panelScrollHeight.toString().includes("%")&&!(0,u.isNil)(this.parentElement)&&this.parentElement.offsetHeight>0){const t=parseInt(this.panelScrollHeight,10);this.panelScrollHeight=t>0?this.parentElement.offsetHeight/100*t+"px":""}}_initOptionTemplate(){if(""!==this._optionTemplateHTML||!0===this._wasInstatiated)return;const t=this.getElementsByTagName("template")[0];t&&t.innerHTML&&t.innerHTML.length>0?(this.info("optionTemplate.innerHtml ",t.innerHTML),this._validateTmplFirstElAsCh5SelectOption(t.content),this._optionTemplateHTML=t.innerHTML.trim(),t.remove()):t&&t.firstElementChild&&t.firstElementChild.outerHTML&&t.firstElementChild.outerHTML.length>0&&(this.info("optionTemplate.firstElementChild.outerHTML ",t.firstElementChild.outerHTML),this._validateTmplFirstElAsCh5SelectOption(t),this._optionTemplateHTML=t.firstElementChild.outerHTML.trim(),t.remove())}_startReadyObserver(){if(this.querySelector("."+d.MAIN_PANEL_STYLE_CLASS))return this.mainPanel=this.querySelector("."+d.MAIN_PANEL_STYLE_CLASS),this.selectedOptionsPanel=this.querySelector("."+d.SELECTED_ITEMS_STYLE_CLASS),this.selectPanel=this.querySelector("."+d.PANEL_ITEMS_STYLE_CLASS),void this.attachEventListeners();const t=new MutationObserver(e=>{this.info("mutationObserver Callback"),e.forEach(e=>{if(this.info("mutation",e),"childList"===e.type&&e.addedNodes&&e.addedNodes.length>0){let i=null;for(let t=0;t<e.addedNodes.length;t++)if("template"===e.addedNodes[t].nodeName.toLowerCase()){i=e.addedNodes[t];break}if(null!==i){this.info("templateElement innerhtml",i.innerHTML),this._validateTmplFirstElAsCh5SelectOption(i);let e=i.innerHTML;""===e.trim()&&(e=i.firstElementChild.outerHTML,this._optionTemplateHTML=e,this.initializations(),t.disconnect(),i.remove())}}})});t.observe(this,{childList:!0,subtree:!1,attributes:!1,characterData:!1})}_validateTmplFirstElAsCh5SelectOption(t){if("ch5-select-option"!==t.firstElementChild.nodeName.toLowerCase())throw new Error(`ch5-select, id: ${this.getAttribute("data-ch5-id")}\n                - no ch5-select-option provided`)}_updateCh5SelectDimensions(){let t=(this._getStyleWidthProps()+this._getStyleHeightProps()).trim();""===t&&(t=this._getCssDimensionsUsingParent(!0)),this.style.cssText=t,this._isValidElement(this.mainPanel)&&(this.mainPanel.style.cssText=this._getStyleHeightProps())}_createMainPanel(){!0!==this._wasInstatiated&&(this.mainPanel=document.createElement("div"),this.mainPanel.classList.add(d.MAIN_PANEL_STYLE_CLASS),this.selectedOptionsPanel=document.createElement("div"),this.selectedOptionsPanel.classList.add(d.SELECTED_ITEMS_STYLE_CLASS),this.mainPanel.appendChild(this.selectedOptionsPanel),this._createComboTrigger(),this.appendChild(this.mainPanel))}_createSelectPanel(){this.selectPanel instanceof HTMLElement&&(this.selectPanel.remove(),this.selectPanel={}),this.selectPanel=document.createElement("div"),this.selectPanel.classList.add(d.PANEL_ITEMS_STYLE_CLASS),this.appendChild(this.selectPanel),this._updateSelectPanelScrollHeight(),this._applyResize(),this.renderCh5SelectOptions()}_createComboTrigger(){!this._isPanel()&&this._isValidElement(this.mainPanel)&&(this.comboTrigger=document.createElement("span"),this.comboTrigger.classList.add(d.COMBO_TRIGGER_STYLE_CLASS),this.comboTrigger.innerHTML=this._getCh5SelectOpenTriggerIcon(),this.mainPanel.appendChild(this.comboTrigger))}_handleSelectPanelToggle(){this._isOpened()?this.closeSelectPanel():this.openSelectPanel()}_isOpened(){return this.classList.contains(d.OPENED_STYLE_CLASS)}openSelectPanel(){this.classList.contains(d.SELECTION_IN_PROGRESS_STYLE_CLASS)||this.classList.add(d.OPENED_STYLE_CLASS)}closeSelectPanel(){this.classList.remove(d.OPENED_STYLE_CLASS)}static get observedAttributes(){return n.Ch5Common.observedAttributes.concat(["size","iconposition","multiselect","selectedvalue","panelscrollheight","minwidth","maxwidth","minheight","maxheight","resize","mode","feedbackmode","signalvaluesynctimeout","indexid","receivestatevalue","receivestatesize","receivestatetemplatevars","sendeventonfocus","sendeventonchange","noneselectedprompt","ondirty","onclean"])}attributeChangedCallback(t,e,i){if(e!==i){switch(this.info('ch5-select attributeChangedCallback("'+t+'","'+e+'","'+i+")"),t){case"size":this.size=this.getAttribute("size")||1;break;case"multiselect":this.multiselect=this.hasAttribute("multiselect");break;case"selectedvalue":this.selectedValue=this.getAttribute("selectedValue")||0;break;case"panelscrollheight":this.panelScrollHeight=this.getAttribute("panelScrollHeight")||"";break;case"minwidth":this.minWidth=this.getAttribute("minWidth")||"";break;case"maxwidth":this.maxWidth=this.getAttribute("maxWidth")||"";break;case"minheight":this.minHeight=this.getAttribute("minHeight")||"";break;case"maxheight":this.maxHeight=this.getAttribute("maxHeight")||"";break;case"resize":this.resize=this.hasAttribute("resize");break;case"mode":this.mode=this.getAttribute("mode")||d.MODE_VALUES[0];break;case"feedbackmode":this.feedbackMode=this.getAttribute("feedbackMode")||d.FEEDBACK_MODE_VALUES[0];break;case"signalvaluesynctimeout":this.signalValueSyncTimeout=this.getAttribute("signalValueSyncTimeout")||d.DEFAULT_SIGNAL_VALUE_SYNC_TIMEOUT;break;case"indexid":this.indexId=this.getAttribute("indexId")||"";break;case"receivestatevalue":this.receiveStateValue=this.getAttribute("receiveStateValue")||"";break;case"receivestatesize":this.receiveStateSize=this.getAttribute("receiveStateSize")||"";break;case"receivestatetemplatevars":this.receiveStateTemplateVars=this.getAttribute("receiveStateTemplateVars")||"";break;case"sendeventonfocus":this.sendEventOnFocus=this.getAttribute("sendEventOnFocus")||"";break;case"sendeventonchange":this.sendEventOnChange=this.getAttribute("sendEventOnChange")||"";break;case"noneselectedprompt":this.noneSelectedPrompt=this.getAttribute("noneSelectedPrompt");break;case"ondirty":this.ondirtyCallback=new o.default(this,this.getAttribute("ondirty"));break;case"onclean":this.oncleanCallback=new o.default(this,this.getAttribute("onclean"));break;default:super.attributeChangedCallback(t,e,i)}"dir"===t&&this._updateOptionsDirAttr()}}initAttributes(){super.initAttributes(),this.info("initAttributes()"),this.multiselect&&(this.selectedValues=this.selectedValues),this.hasAttribute("size")&&(this.size=this.getAttribute("size")),this.multiselect=this.hasAttribute("multiselect"),this.hasAttribute("selectedValue")&&(this.selectedValue=this.getAttribute("selectedValue")),this.hasAttribute("panelScrollHeight")&&(this.panelScrollHeight=this.getAttribute("panelScrollHeight")),this.hasAttribute("minWidth")&&(this.minWidth=this.getAttribute("minWidth")),this.hasAttribute("maxWidth")&&(this.maxWidth=this.getAttribute("maxWidth")),this.hasAttribute("minHeight")&&(this.minHeight=this.getAttribute("minHeight")),this.hasAttribute("maxHeight")&&(this.maxHeight=this.getAttribute("maxHeight")),this.resize=this.hasAttribute("resize"),this.hasAttribute("mode")&&(this.mode=this.getAttribute("mode")),this.hasAttribute("feedbackMode")&&(this.feedbackMode=this.getAttribute("feedbackMode")),this.hasAttribute("signalValueSyncTimeout")&&(this.signalValueSyncTimeout=this.getAttribute("signalValueSyncTimeout")),this.hasAttribute("indexId")&&(this.indexId=this.getAttribute("indexId")),this.hasAttribute("receiveStateValue")&&(this.receiveStateValue=this.getAttribute("receiveStateValue")),this.hasAttribute("receiveStateSize")&&(this.receiveStateSize=this.getAttribute("receiveStateSize")),this.hasAttribute("receiveStateTemplateVars")&&(this.receiveStateTemplateVars=this.getAttribute("receiveStateTemplateVars")),this.hasAttribute("sendEventOnFocus")&&(this.sendEventOnFocus=this.getAttribute("sendEventOnFocus")),this.hasAttribute("sendEventOnChange")&&(this.sendEventOnChange=this.getAttribute("sendEventOnChange")),this.hasAttribute("noneSelectedPrompt")&&(this.noneSelectedPrompt=this.getAttribute("noneSelectedPrompt"))}attachEventListeners(){super.attachEventListeners(),this.removeEventListeners(),this.addEventListener("focus",this._onFocus),this.addEventListener("blur",this._onBlur),this.addEventListener("option-selected",this._handleOptionSelected),this._isPlain()&&(this.addEventListener("blur",this.closeSelectPanel),this._comboTriggerHammer=new Hammer.Manager(this.mainPanel),this._comboTriggerHammer.add(new Hammer.Tap({event:"tap"})),this._comboTriggerHammer.on("tap",this._handleSelectPanelToggle))}removeEventListeners(){super.removeEventListeners(),this.removeEventListener("focus",this._onFocus),this.removeEventListener("blur",this._onBlur),this.removeEventListener("option-selected",this._handleOptionSelected),this._isPlain()&&(null!==this._comboTriggerHammer&&this._comboTriggerHammer.off("tap",this._handleSelectPanelToggle),this.removeEventListener("blur",this.closeSelectPanel))}set size(t){t=Number(t),(isNaN(t)||t<1)&&(t=1),this._size!==t&&(this._size=t,this.setAttribute("size",t.toString()),this.renderCh5SelectOptions())}get size(){return this.hasTemplateVars()&&this.templateVarsData.length>this._size?this._size:this.hasTemplateVars()?this.templateVarsData.length:this._size}set multiselect(t){this._multiselect!==t&&(this._multiselect=t,!0===t?this.setAttribute("multiselect",t.toString()):this.removeAttribute("multiselect"))}get multiselect(){return this._multiselect}set selectedValue(t){t=Number(t),isNaN(t)&&(t=0),this._selectedValue!==t&&(this._selectedValue=t,this.setAttribute("selectedvalue",t.toString()),this._markOptionAsSelected(this.selectedValue),this._updateSingleSelectionInMainPanel(),!0===this.getDirty()&&this._selectedValue===this._cleanValue&&(this.dirty=!1))}get selectedValue(){return this._selectedValue}set selectedValues(t){t instanceof Array==!1&&(t=[]),this._selectedValues=t,this._updateMultiSelectionInMainPanel()}get selectedValues(){return this._selectedValues}set panelScrollHeight(t){t=this._checkAndSetStringValue(t),this._panelScrollHeight!==t&&(this._panelScrollHeight=t,this.setAttribute("panelscrollheight",t.toString()),this._updateSelectPanelScrollHeight())}get panelScrollHeight(){return this._panelScrollHeight}set minWidth(t){t=this._checkAndSetStringValue(t),this._minWidth!==t&&(this._minWidth=t,this.setAttribute("minwidth",t))}get minWidth(){return this._minWidth}set maxWidth(t){t=this._checkAndSetStringValue(t),this._maxWidth!==t&&(this._maxWidth=t,this.setAttribute("maxwidth",t))}get maxWidth(){return this._maxWidth}set minHeight(t){t=this._checkAndSetStringValue(t),this._minHeight!==t&&(this._minHeight=t,this.setAttribute("minheight",t))}get minHeight(){return this._minHeight}set maxHeight(t){t=this._checkAndSetStringValue(t),this._maxHeight!==t&&(this._maxHeight=t,this.setAttribute("maxheight",t))}get maxHeight(){return this._maxHeight}set resize(t){this._resize!==t&&(this._resize=t,!0===t?this.setAttribute("resize",t.toString()):this.removeAttribute("resize"),this._applyResize())}get resize(){return this._resize}set mode(t){d.MODE_VALUES.some(e=>e===t)||(t=d.MODE_VALUES[0]),this._mode!==t&&(this._mode=t,this.setAttribute("mode",t.toString()),this._updateModeClass())}get mode(){return this._mode}_isPlain(){return this.mode===d.MODE_VALUES[0]}_isPanel(){return this.mode===d.MODE_VALUES[1]}set feedbackMode(t){d.FEEDBACK_MODE_VALUES.some(e=>e===t)||(t=d.FEEDBACK_MODE_VALUES[0]),this._feedbackMode!==t&&(this._feedbackMode=t,this.setAttribute("feedbackmode",t.toString()))}get feedbackMode(){return this._feedbackMode}set signalValueSyncTimeout(t){t=Number(t),(isNaN(t)||t<0)&&(t=d.DEFAULT_SIGNAL_VALUE_SYNC_TIMEOUT),this._signalValueSyncTimeout!==t&&(this._signalValueSyncTimeout=t,this.setAttribute("signalvaluesynctimeout",t.toString()))}get signalValueSyncTimeout(){return this._signalValueSyncTimeout}set indexId(t){t=this._checkAndSetStringValue(t),this._indexId!==t&&(this._indexId=t,this.setAttribute("indexid",t))}get indexId(){return this._indexId}set receiveStateValue(t){t=this._checkAndSetStringValue(t),this._receiveStateValue!==t&&(this._receiveStateValue=t,this.setAttribute("receivestatevalue",t),this._handleReceiveSignalValue())}get receiveStateValue(){return this._attributeValueAsString("receivestatevalue")}set receiveStateSize(t){t=this._checkAndSetStringValue(t),this._receiveStateSize!==t&&(this._receiveStateSize=t,this.setAttribute("receivestatesize",t),this._handleReceiveSignalSize())}get receiveStateSize(){return this._attributeValueAsString("receivestatesize")}set receiveStateTemplateVars(t){t=this._checkAndSetStringValue(t),this._receiveStateTemplateVars!==t&&(this._receiveStateTemplateVars=t,this.setAttribute("receivestatetemplatevars",t),this._handleReceiveSignalTemplateVars())}get receiveStateTemplateVars(){return this._attributeValueAsString("receivestatetemplatevars")}set sendEventOnFocus(t){t=this._checkAndSetStringValue(t),this._sendEventOnFocus!==t&&(this._sendEventOnFocus=t,this.setAttribute("sendeventonfocus",t))}get sendEventOnFocus(){return this._sendEventOnFocus}set sendEventOnChange(t){t=this._checkAndSetStringValue(t),this._sendEventOnChange!==t&&(this._sendEventOnChange=t,this.setAttribute("sendeventonchange",t))}get sendEventOnChange(){return this._sendEventOnChange}_getStyleWidthProps(){return`${null===this.minWidth||""===this.minWidth?"":`min-width:${this.minWidth};`} ${null==this.maxWidth||""===this._maxWidth?"":`max-width:${this.maxWidth};`}`}_getStyleHeightProps(){return`${null===this.minHeight||""===this.minHeight?"":`min-height:${this.minHeight};`} ${null===this.maxHeight||""===this.maxHeight?"":`max-height:${this.maxHeight};`}`}_getCh5SelectOpenTriggerIcon(){return'<svg role="img" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"></path></svg>'}_getCssDimensionsUsingParent(t){const e=this.parentElement;if(e&&this._isValidElement(e)){const i=e.getBoundingClientRect();let s="";if(i.width>0&&(s=`min-width: 0; max-width:${i.width}px;`),t)return s;let n="";return i.height>0&&(n=`min-height: 0; max-height:${i.height}px;`),s+n}return""}_updateSelectPanelScrollHeight(){this._isValidElement(this.selectPanel)&&(this.selectPanel.style.maxHeight=parseFloat(this.panelScrollHeight)>0?this.panelScrollHeight:"")}_applyResize(){const t=this.parentElement;if(t&&this._isValidElement(this.selectPanel))if(this.resize){t.style.position="relative",this.style.position="static";const e=t.getBoundingClientRect();this.selectPanel.style.width="auto",this.selectPanel.style.maxWidth=e.width+"px";const i=this.getBoundingClientRect(),s=Math.abs(e.left-i.left);this.selectPanel.style.left=s+"px"}else t.style.position="inherit",this.style.position="",this.selectPanel.style.width="",this.selectPanel.style.maxWidth="",this.selectPanel.style.left=""}_isValidElement(t){return"object"==typeof t&&t instanceof HTMLElement}_addMainClass(){this.classList.add(d.CH5_SELECT_MAIN_STYLE_CLASS)}_updateModeClass(){this._isPlain()?(this.classList.remove(d.MODE_PANEL_STYLE_CLASS),this.classList.add(d.MODE_COMBO_STYLE_CLASS)):(this.classList.remove(d.MODE_COMBO_STYLE_CLASS),this.classList.add(d.MODE_PANEL_STYLE_CLASS))}_getOptionTemplateWithReplacedVars(t,e){const i=this.getOptionTemplateVars(e);return null!==i&&Object.keys(i).forEach(e=>{const s="{{"+e+"}}",n=i[e];t=this.textReplace(t,s,n,!0)}),t}_getProcessedOptionEl(t){let e=this._optionTemplateHTML;this.hasTemplateVars()&&(e=this._getOptionTemplateWithReplacedVars(e,t));const i=document.createElement("template");return i.innerHTML=e,null!==this.indexId&&(l.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsAttrs(i,t,this.indexId),l.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsContent(i,t,this.indexId)),i.content.firstChild}getOptionsListSize(){return this.selectPanel.querySelectorAll("ch5-select-option").length}buildOptions(t){t=void 0!==t?t:0,this.info("Build ch5-select options starting with index: "+t);for(let e=t;e<this.size;e++){const t=this._getProcessedOptionEl(e),i=e;t.setAttribute("data-ch5-opt-idx",String(i)),t.classList.add(d.PANEL_ITEM_STYLE_CLASS),t.dir=this.dir,this.selectPanel.appendChild(t)}l.Ch5AugmentVarSignalsNames.differentiateTmplElemsAttrs(this,this.getAttribute("contractname")||"",parseInt(this.getAttribute("booleanjoinoffset")||"0",10)||0,parseInt(this.getAttribute("numericJoinOffset")||"0",10)||0,parseInt(this.getAttribute("stringJoinOffset")||"0",10)||0)}removeLastOptsFromList(t,e){for(let i=t;i<e;i++){const t=i,e=this._getOptionElByIdx(t);e instanceof HTMLElement&&(this.info("Removing ch5-select-option "+t),e.remove())}}renderCh5SelectOptions(){if(!this._isValidElement(this.selectPanel))return;const t=this.getOptionsListSize();0===t?this.buildOptions():this.size<t?this.removeLastOptsFromList(this.size,t):this.size>t&&this.buildOptions(t),this.multiselect?(this.selectedValues.forEach(t=>{const e=this._getOptionElByIdx(t);e&&this._setOptionSelected(e)}),this._updateMultiSelectionInMainPanel()):(this._markOptionAsSelected(this.selectedValue),this._updateSingleSelectionInMainPanel())}textReplace(t,e,i,s){let n="";return"string"==typeof t&&""!==t&&(n=!0===s?t.replace(new RegExp(e,"g"),i):t.replace(new RegExp(e),i)),n}_getTemplateVarsFromDefaultConfig(){return r.Ch5Config.getTemplateVarsForElement(this)}hasTemplateVars(){return this.templateVarsData.length>0}getOptionTemplateVars(t){const e=this.templateVarsData[t];return null!==e&&"object"==typeof e&&Object.keys(e).length>0?e:null}_unsubscribeOldSignal(t,e,i){let s=null;const n=a.Ch5Signal.getSubscriptionSignalName(t);switch(i){case"number":s=a.Ch5SignalFactory.getInstance().getNumberSignal(n);break;case"string":s=a.Ch5SignalFactory.getInstance().getStringSignal(n)}null!==s&&""!==e&&(s.unsubscribe(e),this.receiveStateSizeSubscription="")}_handleReceiveSignalSize(){if(""!==this.receiveStateSize&&""!==this.receiveStateSizeSubscription&&(this._unsubscribeOldSignal(this.receiveStateSize,this.receiveStateSizeSubscription,"number"),this.receiveStateSizeSubscription=""),""===this.receiveStateSize||null===this.receiveStateSize)return;const t=a.Ch5Signal.getSubscriptionSignalName(this.receiveStateSize),e=a.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==e&&(this.receiveStateSizeSubscription=e.subscribe(t=>{const i=Number(t);!isNaN(i)&&e.hasChangedSinceInit()?(this.info("Received new size signal value: "+t),this.setAttribute("size",String(i))):this.info("Ch5Select receiveSizeSignal signal value for "+this.getAttribute("data-ch5-id")+" is invalid")}))}_handleReceiveSignalTemplateVars(){if(""!==this.receiveStateTemplateVars&&""!==this.receiveStateTemplateVarsSubscription&&(this._unsubscribeOldSignal(this.receiveStateTemplateVars,this.receiveStateTemplateVarsSubscription,"string"),this.receiveStateTemplateVarsSubscription=""),""===this.receiveStateTemplateVars||null===this.receiveStateTemplateVars)return;const t=a.Ch5Signal.getSubscriptionSignalName(this.receiveStateTemplateVars),e=a.Ch5SignalFactory.getInstance().getStringSignal(t);null!==e&&(this.receiveStateTemplateVarsSubscription=e.subscribe(t=>{let e=null;try{e=JSON.parse(t)}catch(t){this.info("Ch5Select receiveTemplateVarsSignal signal value for "+this.getAttribute("data-ch5-id")+" cannot be parsed")}e instanceof Array&&null!==e?(this.templateVarsData=e,this.selectPanel.innerHTML="",this.renderCh5SelectOptions()):this.info("Ch5Select receiveTemplateVarsSignal signal value for "+this.getAttribute("data-ch5-id")+" is invalid")}))}_setSelectionTimeoutCallback(t){const e=""===this.receiveStateValue||null===this.receiveStateValue||void 0===this.receiveStateValue||""===this.receiveStateValueSubscription,i=this._optionsHaveReceiveSignalSelectedAttr();e&&!i||(null!==this._selectionTimeout&&(clearTimeout(this._selectionTimeout),this._selectionTimeout=null),this.info("New selection timeout set..."),this._selectionTimeout=window.setTimeout(()=>{const e=i?this._cleanValue:this.lastReceivedSignalValue;e!==t&&(this.setAttribute("selectedValue",String(e)),this._fireChangeEvent(e,t),this.info("Selection timeout: selectedValue was updated to the last value received from receivedSignalValue or receiveStateSelected signals: "+e),this.dirty=!1),clearTimeout(this._selectionTimeout),this._selectionTimeout=null},this._signalValueSyncTimeout))}_handleOptionSelected(t){const e=t.detail.set;let i=t.detail.idx;if(this.multiselect){const s=this._getOptionElByIdx(i),n=t.detail.confirmed||!1;this._updateMultiselectedValuesMap(e,i,n),e?(this._addToSelectedOptions(i),this._setOptionSelected(s)):(this._removeFromSelectedOptions(i),this._unsetOptionSelected(s)),this.dirty=!0,this._hasFeedbackModeSubmit()||this._setMultiselectionTimeoutCallback(),this._multiselectValuesAreAllConfirmed()&&(this.info("Multi-selection confirmed, cancel confirmation timeout fallback..."),null!==this._multiselectionTimeout&&(clearTimeout(this._multiselectionTimeout),this._multiselectionTimeout=null),this._multiselectionTimeoutCallback())}else{const s=this.selectedValue;if(t.detail.resetDirty&&(this.dirty=!1,this._cleanValue=e||s!==i?i:0),!e){if(s!==i)return;i=-1,this._lastSelectedOptIdx=s}if(s!==i){const n=this._getOptionElByIdx(e?i:s);n instanceof HTMLElement&&(e?this._markOptionAsSelected(i,n):this._unsetOptionSelected(n),this._closeSelectPanelIfPlain(),this.setAttribute("selectedValue",String(i)),!0!==t.detail.resetDirty&&i!==this._cleanValue&&(this.dirty=!0),this._fireChangeEvent(i,s),this._hasFeedbackModeSubmit()||(this._setSelectionTimeoutCallback(i),this.sendOnChangeSignal(i)))}else s===i&&this._closeSelectPanelIfPlain()}}_multiselectValuesAreAllConfirmed(){return this._multiselectedValuesMap.every(t=>!0===t.confirmed)}_optionsHaveReceiveSignalSelectedAttr(){const t=document.createElement("template");t.innerHTML=this._optionTemplateHTML;const e=t.content.firstChild;return null!==e&&e.hasAttribute("receiveStateSelected")&&null!==e.getAttribute("receiveStateSelected")}_setMultiselectionTimeoutCallback(){this._optionsHaveReceiveSignalSelectedAttr()&&(null!==this._multiselectionTimeout&&(clearTimeout(this._multiselectionTimeout),this._multiselectionTimeout=null),this.info("New multi-selection timeout set..."),this._multiselectionTimeout=window.setTimeout(()=>{this._multiselectionTimeoutCallback(),clearTimeout(this._multiselectionTimeout),this._multiselectionTimeout=null},this._signalValueSyncTimeout))}_multiselectionTimeoutCallback(){const t=this._multiselectedValuesMap.length>0?this._multiselectedValuesMap.filter(t=>{const e=this._isCleanValue(t.idx);if(!e&&t.selected&&t.confirmed||e&&!t.selected&&!t.confirmed)return 0===t.idx?"0":t.idx}).map(t=>t.idx):[],e=this._multiselectedValuesMap.length>0?this._multiselectedValuesMap.filter(t=>{const e=this._isCleanValue(t.idx);if((e||0===e)&&!t.selected&&t.confirmed)return 0===t.idx?"0":t.idx}).map(t=>t.idx):[],i=this._cleanValues.filter(i=>-1===t.indexOf(i)&&-1===e.indexOf(i)),s=[...t,...i].sort((t,e)=>t-e);this.info("Update multiselect selected values using confirmed values and previous unchanged selected values",s),this.setValue(s)}_isCleanValue(t){return this._cleanValues.filter(e=>e===t)[0]}_updateMultiselectedValuesMap(t,e,i){if("number"!=typeof e)return;const s=this._isCleanValue(e),n=this._multiselectedValuesMap.filter(t=>t.idx===e)[0];!this._hasFeedbackModeSubmit()||!n||s||t?n?(n.selected=t,n.confirmed=i):this._multiselectedValuesMap.push({idx:e,selected:t,confirmed:i}):this._multiselectedValuesMap=this._multiselectedValuesMap.filter(t=>t.idx!==e)}_hasFeedbackModeSubmit(){return this.feedbackMode===d.FEEDBACK_MODE_VALUES[1]}_fireChangeEvent(t,e){this.dispatchEvent(new CustomEvent("change",{detail:{newValue:t,oldValue:e},bubbles:!0,cancelable:!1}))}_fireDirtyOrCleanEvent(){this._hasFeedbackModeSubmit()&&(this.dirty?(this.dispatchEvent(new CustomEvent("dirty",{bubbles:!0,cancelable:!1})),this.ondirtyCallback instanceof o.default?this.ondirtyCallback.run({}):this.ondirtyCallback instanceof Function&&this.ondirtyCallback()):(this.dispatchEvent(new CustomEvent("clean",{bubbles:!0,cancelable:!1})),this.oncleanCallback instanceof o.default?this.oncleanCallback.run({}):this.oncleanCallback instanceof Function&&this.oncleanCallback()))}sendOnChangeSignal(t){if("string"!=typeof this.sendEventOnChange||""===this.sendEventOnChange)return;const e=a.Ch5SignalFactory.getInstance().getNumberSignal(this.sendEventOnChange);null!==e&&e.publish(t)}_markOptionAsSelected(t,e){if(this.multiselect||!this._isValidElement(this.selectPanel))return;const i=this.querySelector("ch5-select-option."+d.ITEM_SELECTED_STYLE_CLASS);if(this._unsetOptionSelected(i),t>=0){void 0===e&&(e=null);const i=null!==e?e:this._getOptionElByIdx(t);this._setOptionSelected(i)}}_setOptionSelected(t){t instanceof HTMLElement&&"function"==typeof t.applySelectedStyleClass&&t.applySelectedStyleClass()}_unsetOptionSelected(t){t instanceof HTMLElement&&"function"==typeof t.removeSelectedStyleClass&&t.removeSelectedStyleClass()}_getOptionElByIdx(t){return this.querySelector(`ch5-select-option[data-ch5-opt-idx="${t}"]`)}_handleReceiveSignalValue(){if(""!==this.receiveStateValue&&""!==this.receiveStateValueSubscription&&(this._unsubscribeOldSignal(this.receiveStateValue,this.receiveStateValueSubscription,"number"),this.receiveStateValueSubscription=""),this.multiselect||""===this.receiveStateValue||null===this.receiveStateValue)return;const t=a.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),e=a.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==e&&(this.receiveStateValueSubscription=e.subscribe(t=>{const i=Number(t);if(!isNaN(i)&&e.hasChangedSinceInit())if(this.info("Received signal value: "+t),this.lastReceivedSignalValue=i,null===this._selectionTimeout){const t=this.selectedValue;this.setAttribute("selectedValue",String(this.lastReceivedSignalValue)),this.dirty=!1,this._fireChangeEvent(this.lastReceivedSignalValue,t)}else Number(this.selectedValue)===this.lastReceivedSignalValue&&(this.dirty=!1);else this.info("Ch5Select receiveStateValue signal value for "+this.getAttribute("data-ch5-id")+" is invalid")}))}_addToSelectedOptions(t){"number"==typeof t&&-1===this.selectedValues.indexOf(t)&&(this.selectedValues.push(t),this.selectedValues.sort((t,e)=>t-e),this._updateMultiSelectionInMainPanel())}_removeFromSelectedOptions(t){"number"==typeof t&&(this.selectedValues=this.selectedValues.filter(e=>e!==t))}_closeSelectPanelIfPlain(){this._isPlain()&&setTimeout(()=>{this.closeSelectPanel()},100)}submit(){if(this._hasFeedbackModeSubmit()&&this.getDirty())if(this.multiselect)this.info("submit():",this._multiselectedValuesMap),this._setMultiselectionTimeoutCallback(),this._multiselectedValuesMap.length>0&&this._multiselectedValuesMap.forEach(t=>this._triggerOptSendSignalOnClick(t.idx));else{this._setSelectionTimeoutCallback(this.selectedValue),this.sendOnChangeSignal(this.selectedValue);let t=this.selectedValue;0===t&&Number(this._lastSelectedOptIdx)>0&&(t=this._lastSelectedOptIdx),this.info("submit():",t),this._triggerOptSendSignalOnClick(t)}}_triggerOptSendSignalOnClick(t){const e=this._getOptionElByIdx(t);e instanceof HTMLElement&&e.sendClickSignal()}get dirty(){return this._dirty}set dirty(t){this._dirty!==t&&(this._dirty=t,this._fireDirtyOrCleanEvent())}getDirty(){return this.dirty}reset(){(this._hasFeedbackModeSubmit()||this.getDirty())&&(this.multiselect?(this.info("reset() to:",this._cleanValues),this.setValue(this._cleanValues)):(this.info("reset() to:",this._cleanValue),this.setAttribute("selectedValue",String(this._cleanValue)),this.dirty=!1,this._fireChangeEvent(this.lastReceivedSignalValue,this.selectedValue)))}setValue(t){if(this.info("setValue() to:",t),this.multiselect){const e=this.selectedValues.filter(e=>-1===t.indexOf(e));e.length>0&&e.forEach(t=>{const e=this._getOptionElByIdx(t);this._removeFromSelectedOptions(t),this._unsetOptionSelected(e),null!==e&&e.defaultTmplIsUsed()&&e.setToggleValue(!1)});const i=t.filter(t=>-1===this.selectedValues.indexOf(t));i.length>0&&i.forEach(t=>{const e=this._getOptionElByIdx(t);this._addToSelectedOptions(t),this._setOptionSelected(e),null!==e&&e.defaultTmplIsUsed()&&e.setToggleValue(!0)}),this.dirty=!1,this._multiselectedValuesMap=[],this._cleanValues=this.selectedValues.slice(0)}else{const e=this.selectedValue;this.lastReceivedSignalValue=t,this.dirty=!1,this.setAttribute("selectedValue",String(t)),this._fireChangeEvent(t,e)}}getValue(){return this.multiselect?(this.info("getValue():",this.selectedValues),this.selectedValues):(this.info("getValue():",this.selectedValue),this.selectedValue)}get lastReceivedSignalValue(){return this._lastReceivedSignalValue}set lastReceivedSignalValue(t){this._lastReceivedSignalValue!==t&&(this._lastReceivedSignalValue=t,this._cleanValue=t)}_updateSingleSelectionInMainPanel(){const t=this._getOptionElByIdx(this.selectedValue);t instanceof HTMLElement?(this.selectedOptionsPanel.innerHTML=t.innerHTML,this._setSelectedClass(!0)):(this.selectedOptionsPanel.innerHTML=this.noneSelectedPrompt,this._setSelectedClass(!1))}get noneSelectedPrompt(){return this._getTranslatedValue("noneSelectedPrompt",this._noneSelectedPrompt)||this._noneSelectedPrompt}set noneSelectedPrompt(t){t=this._checkAndSetStringValue(t,d.PLACEHOLDER_DEFAULT);const e=this._getTranslatedValue("noneSelectedPrompt",t);e!==this._noneSelectedPrompt&&(this.setAttribute("noneSelectedPrompt",e),this._noneSelectedPrompt=t,(!this.multiselect&&-1===this.selectedValue||this.multiselect&&0===this.selectedValues.length)&&(this.selectedOptionsPanel.innerHTML=e))}_updateMultiSelectionInMainPanel(){if(this.selectedValues.length>0){let t=[];this.selectedValues.forEach(e=>{const i=this._getOptionElByIdx(e);i instanceof HTMLElement&&t.push(i.innerHTML)});const e=t.join(", "),i=this.selectedOptionsPanel.getBoundingClientRect(),s=document.createElement("span");s.style.position="absolute",s.style.visibility="hidden",s.style.fontSize=window.getComputedStyle(this.mainPanel).fontSize,s.textContent=e,this.appendChild(s);s.getBoundingClientRect().width<=i.width?this.selectedOptionsPanel.innerHTML=e:this.selectedOptionsPanel.innerHTML=this.selectedValues.length+" items selected",this.removeChild(s),this._setSelectedClass(!0)}else this.selectedOptionsPanel.innerHTML=this.noneSelectedPrompt,this._setSelectedClass(!1)}_isFocused(){return this.hasAttribute("focused")}_onFocus(t){if(this._isFocused())return void t.stopImmediatePropagation();let e;this.info("Ch5Select._onFocus()"),this.setAttribute("focused",""),this._sendFocusSignal(!0),e=new Event(t.type,t),this.dispatchEvent(e),t.preventDefault(),t.stopPropagation()}_onBlur(t){if(!this._isFocused())return void t.stopImmediatePropagation();let e;this.info("Ch5Select._onBlur()"),this.removeAttribute("focused"),this._sendFocusSignal(!1),e=new Event(t.type,t),this.dispatchEvent(e),t.preventDefault(),t.stopPropagation()}_sendFocusSignal(t){if(!("string"==typeof this.sendEventOnFocus&&""!==this.sendEventOnFocus))return;const e=a.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnFocus);null!==e&&e.publish(t)}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}_setSelectedClass(t){t?this.classList.add("ch5-select—selected"):this.classList.remove("ch5-select—selected")}_updateOptionsDirAttr(){if(!this._isValidElement(this.selectPanel))return;const t=this.selectPanel.querySelectorAll("."+d.PANEL_ITEM_STYLE_CLASS);if(0!==t.length)for(let e=0;e<t.length;e++)t[e].dir=this.dir}static registerSignalAttributeTypes(){c.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(d.ELEMENT_NAME,d.SIGNAL_ATTRIBUTE_TYPES)}}e.Ch5Select=d,d.ELEMENT_NAME="ch5-select",d.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatevalue:{direction:"state",stringJoin:1,contractName:!0},receivestatesize:{direction:"state",numericJoin:1,contractName:!0},receivestatetemplatevars:{direction:"state",stringJoin:1,contractName:!0},sendeventonfocus:{direction:"event",booleanJoin:1,contractName:!0},sendeventonchange:{direction:"event",booleanJoin:1,contractName:!0},contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1}}),d.MAX_SIZE=30,d.MODE_VALUES=["plain","panel"],d.FEEDBACK_MODE_VALUES=["direct","submit"],d.COMPONENT_DATA={MODE_VALUES:{default:d.MODE_VALUES[0],values:d.MODE_VALUES,key:"mode_values",classListPrefix:"--"},FEEDBACK_MODE_VALUES:{default:d.FEEDBACK_MODE_VALUES[0],values:d.FEEDBACK_MODE_VALUES,key:"feedback_mode_values",classListPrefix:"--"}},d.DEFAULT_SIGNAL_VALUE_SYNC_TIMEOUT=1500,d.PLACEHOLDER_DEFAULT="",d.CH5_SELECT_MAIN_STYLE_CLASS="ch5-select",d.OPENED_STYLE_CLASS="ch5-select__panel-open",d.MAIN_PANEL_STYLE_CLASS="ch5-select__main",d.SELECTED_ITEMS_STYLE_CLASS="ch5-select__selected_items",d.MODE_PANEL_STYLE_CLASS="ch5-select__panel",d.MODE_COMBO_STYLE_CLASS="ch5-select__combo",d.PANEL_ITEMS_STYLE_CLASS="ch5-select__panel__items",d.COMBO_TRIGGER_STYLE_CLASS="ch5-select__combo_trigger",d.PANEL_ITEM_STYLE_CLASS="ch5-select__panel__item",d.SELECTION_IN_PROGRESS_STYLE_CLASS="ch5-select__selection-in-progress",d.ITEM_SELECTED_STYLE_CLASS="ch5-select__panel__item--selected","object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(d.ELEMENT_NAME,d),d.registerSignalAttributeTypes(),d.registerSignalAttributeDefaults()},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Spinner=void 0;const n=i(0),r=i(3),a=i(96),o=i(258),l=i(259),h=i(261),u=i(1),c=s(i(20)),d=i(6),p=i(2),g=i(4);class m extends r.Ch5Common{constructor(){super(),this._size=1,this._iconPosition="",this._selectedValue=0,this._itemHeight="",this._visibleItemScroll=0,this._resize=!1,this._endless=!1,this._feedbackMode="",this._signalValueSyncTimeout=0,this._indexId="",this._label="",this._receiveStateValue="",this._receiveStateSize="",this._receiveStateUrl="",this._sendEventOnFocus="",this._sendEventOnChange="",this._sendEventOnOverflow="",this._sendEventOnUnderflow="",this._templateHelper={},this._scrollHelper={},this._eventsHelper={},this._selectedItem={},this._cleanItem=0,this._receiveStateValueSub="",this._receiveStateLabelSub="",this._receiveStateSizeSub="",this._receiveStateLabel="",this._onclean={},this._ondirty={},this._wasInstantiated=!1,this.dirtyFlag=!1,this._mutationObserver={},this._ch5Properties=new g.Ch5Properties(this,m.COMPONENT_PROPERTIES),this._mutationObserver=new o.Ch5SpinnerMutationObserver(this)}static get observedAttributes(){const t=r.Ch5Common.observedAttributes,e=[];for(let t=0;t<m.COMPONENT_PROPERTIES.length;t++)!0===m.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(m.COMPONENT_PROPERTIES[t].name.toLowerCase());return["size","iconposition","selectedvalue","itemheight","visibleitemscroll","resize","endless","indexid","label","feedbackmode","signalvaluesynctimeout","sendeventonchange","sendeventonfocus","sendeventonoverflow","sendEventOnUnderflow","receivestatevalue","receivestatesize","receivestatelabel","receivestateurl","show"].concat(t.concat(e))}set ondirty(t){(0,n.isNil)(t)&&(t={}),t instanceof c.default&&this.ondirty instanceof Function||(this._ondirty=t)}get ondirty(){return this._ondirty}set onclean(t){(0,n.isNil)(t)&&(t={}),t instanceof c.default&&this.onclean instanceof Function||(this._onclean=t)}get onclean(){return this._onclean}set templateHelper(t){this.info("<ch5-spinner />.set templateHelper"),this._templateHelper=t}get templateHelper(){return this.info("<ch5-spinner />.get templateHelper"),this._templateHelper}get scrollHelper(){return this._scrollHelper}set scrollHelper(t){this._scrollHelper=t}get eventsHelper(){return this._eventsHelper}set eventsHelper(t){this._eventsHelper=t}get selectedItem(){return this._selectedItem}set selectedItem(t){this._selectedItem=t}get cleanItem(){return this._cleanItem}set cleanItem(t){this._cleanItem=t}get receiveStateValueSub(){return this._receiveStateValueSub}set receiveStateValueSub(t){this._receiveStateValueSub=t}get receiveStateSizeSub(){return this._receiveStateSizeSub}set receiveStateSizeSub(t){this._receiveStateSizeSub=t}get wasInstantiated(){return this._wasInstantiated}set wasInstantiated(t){this._wasInstantiated=t}set size(t){const e=this.size!==t&&(0,n.isNil)(t)?1:this.adjustMaxSizeValue(t);this.size!==e&&this.setAttribute("size",e+""),this._size=e}get size(){return this._size}set iconPosition(t){this.iconPosition!==t&&(0,n.isNil)(t)&&(t="first");const e=m.ICONPOSITIONS.filter(e=>t.trim()===e);t=e.length>0?e[0]:m.ICONPOSITIONS[0],"rtl"===document.dir&&(t=t===m.ICONPOSITIONS[0]?m.ICONPOSITIONS[1]:m.ICONPOSITIONS[0]),t!==this._iconPosition&&(this.setAttribute("iconposition",t),this.repaint()),this._iconPosition=t}get iconPosition(){return this._iconPosition}set selectedValue(t){this.selectedValue!==t&&(0,n.isNil)(t)&&(t=0),this.size<t?t=this.size-1:t<0&&(t=0),t!==this.selectedValue&&(this.setAttribute("selectedValue",t+""),this.scrollHelper instanceof l.Ch5SpinnerScroll&&this._scrollHelper.selectTheItem(t)),this._selectedValue=t}get selectedValue(){return this._selectedValue}get selectedValueIndex(){return this.selectedValue}set itemHeight(t){this.itemHeight!==t&&(0,n.isNil)(t)&&(t=""),-1===t.indexOf("px")&&-1===t.indexOf("vh")&&(t+="px"),""!==t&&this.itemHeight!==t&&this.setAttribute("itemheight",t),this._itemHeight=t}get itemHeight(){return this._itemHeight}set visibleItemScroll(t){this.visibleItemScroll!==t&&(0,n.isNil)(t)&&(t=m.VISIBLEITEMSCROLL),t>this.size&&(t=this.size),(isNaN(t)||t<=0)&&(t=3),t!==this.visibleItemScroll&&this.setAttribute("visibleItemScroll",t.toString()+""),this._visibleItemScroll=t}get visibleItemScroll(){return this._visibleItemScroll}set resize(t){this.resize!==t&&(0,n.isNil)(t)&&(t=!1),t!==this.resize&&this.setAttribute("resize",t+""),this._resize=t}get resize(){return this._resize}set endless(t){this.endless!==t&&(0,n.isNil)(t)&&(t=!1),t!==this._endless&&(this.setAttribute("endless",t+""),this.repaint()),this._endless=t}get endless(){return this._endless}set indexId(t){this.indexId!==t&&(0,n.isNil)(t)&&(t=""),t!==this.indexId&&(this.setAttribute("indexId",t),this.repaint()),this._indexId=t}get indexId(){return this._indexId}set receiveStateValue(t){this.receiveStateValue!==t&&(0,n.isNil)(t)&&(t=""),t!==this.receiveStateValue&&(this.setAttribute("receiveStateValue",t),this.registerReceiveSignalValue()),this._receiveStateValue=t}get receiveStateValue(){return this._attributeValueAsString("receivestatevalue")}set receiveStateSize(t){this.receiveStateSize!==t&&(0,n.isNil)(t)&&(t=""),t!==this.receiveStateSize&&(this.setAttribute("receiveStateSize",t),this.repaint()),this._receiveStateSize=t}get receiveStateSize(){return this._attributeValueAsString("receivestatesize")}set receiveStateLabel(t){this.receiveStateLabel!==t&&(0,n.isNil)(t)&&(t=""),t!==this.receiveStateLabel&&(this.setAttribute("receiveStateLabel",t),this.repaint()),this._receiveStateLabel=t}get receiveStateLabel(){return this._attributeValueAsString("receivestatelabel")}set receiveStateUrl(t){this.receiveStateValue!==t&&(0,n.isNil)(t)&&(t=""),t!==this.receiveStateUrl&&(this.setAttribute("receiveStateUrl",t),this.repaint()),this._receiveStateUrl=t}get receiveStateUrl(){return this._attributeValueAsString("receivestateurl")}set sendEventOnFocus(t){this.sendEventOnFocus!==t&&(0,n.isNil)(t)&&(t=""),t!==this.sendEventOnFocus&&this.setAttribute("sendEventOnFocus",t),this._sendEventOnFocus=t}get sendEventOnFocus(){return this._sendEventOnFocus}set sendEventOnChange(t){this.sendEventOnChange!==t&&(0,n.isNil)(t)&&(t=""),t!==this.sendEventOnChange&&this.setAttribute("sendEventOnChange",t),this._sendEventOnChange=t}get sendEventOnChange(){return this._sendEventOnChange}set sendEventOnOverflow(t){this.sendEventOnOverflow!==t&&(0,n.isNil)(t)&&(t=""),t!==this.sendEventOnOverflow&&this.setAttribute("sendEventOnOverflow",t),this._sendEventOnOverflow=t}get sendEventOnOverflow(){return this._sendEventOnOverflow}set sendEventOnUnderflow(t){this.sendEventOnUnderflow!==t&&(0,n.isNil)(t)&&(t=""),t!==this.sendEventOnUnderflow&&this.setAttribute("sendEventOnUnderflow",t),this._sendEventOnUnderflow=t}get sendEventOnUnderflow(){return this._sendEventOnUnderflow}set feedbackMode(t){this.feedbackMode!==t&&(0,n.isNil)(t)&&(t="direct"),m.FEEDBACKMODES.indexOf(t)<0&&(t=m.FEEDBACKMODES[0]),t!==this._feedbackMode&&this.setAttribute("feedbackMode",t),this._feedbackMode=t}get feedbackMode(){return this._feedbackMode}set signalValueSyncTimeout(t){this.signalValueSyncTimeout!==t&&(0,n.isNil)(t)&&(t=1500),t!==this.signalValueSyncTimeout&&this.setAttribute("signalValueSyncTimeout",t+""),this._signalValueSyncTimeout=t}get signalValueSyncTimeout(){return this._signalValueSyncTimeout}set label(t){const e=t;""!==(t=this.label!==t&&(0,n.isNil)(t)?"":this._getTranslatedValue("label",t))&&this.label!==t&&e!==t&&this.setAttribute("label",t),this._label=t}get label(){return this._label}set autoSetItemHeight(t){this._ch5Properties.set("autoSetItemHeight",t,()=>{})}get autoSetItemHeight(){return this._ch5Properties.get("autoSetItemHeight")}static registerSignalAttributeTypes(){p.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(m.ELEMENT_NAME,m.SIGNAL_ATTRIBUTE_TYPES)}static registerSignalAttributeDefaults(){p.Ch5SignalAttributeRegistry.instance.addElementDefaultAttributeEntries(m.ELEMENT_NAME,{contractName:{attributes:["contractname"],defaultValue:""},booleanJoin:{attributes:["booleanjoinoffset"],defaultValue:"0"},numericJoin:{attributes:["numericjoinoffset"],defaultValue:"0"},stringJoin:{attributes:["stringjoinoffset"],defaultValue:"0"}})}connectedCallback(){this.info("<ch5-spinner />.connectedCallback()"),this.hasAttribute("role")||this.setAttribute("role",d.Ch5RoleAttributeMapping.ch5Spinner),this.contentCleanUp(),Promise.all([customElements.whenDefined("ch5-spinner")]).then(()=>{this._wasInstantiated||(this.cacheComponentChildrens(),this._wasInstantiated=!0,this.initUtilities(),this.initCommonMutationObserver(this))})}initSignals(){this.info("<ch5-spinner />.initSignals()"),this.hasAttribute("receiveStateValue")&&this.registerReceiveSignalValue(),this.hasAttribute("receiveStateSize")&&this.registerReceiveSignalSize(),this.hasAttribute("receiveStateLabel")&&this.registerReceiveSignalLabel()}dirtyTimeHandler(){this.info("<ch5-spinner />.dirtyTimeHandler()"),window.setTimeout(this.dirtyHandler.bind(this),this.signalValueSyncTimeout)}disconnectedCallback(){this.info("<ch5-spinner />.disconnectedCallback()"),this._wasInstantiated=!1,void 0!==this._scrollHelper.destruct&&this._scrollHelper.destruct(),void 0!==this.templateHelper.destruct&&this.templateHelper.destruct(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver()}unsubscribeFromSignals(){this.info("<ch5-spinner />.unsubscribeFromSignals()"),super.unsubscribeFromSignals(),!1===this._keepListeningOnSignalsAfterRemoval&&(this.clearNumberSignalSubscription(this._receiveStateSize,this._receiveStateSizeSub),this._receiveStateUrl="",this.clearNumberSignalSubscription(this._receiveStateValue,this._receiveStateValueSub),this._receiveStateValue="",this.clearStringSignalSubscription(this._receiveStateLabel,this._receiveStateLabelSub),this._receiveStateLabel="")}attributeChangedCallback(t,e,i){if(e===i)return;this.info('<ch5-spinner />.attributeChangedCallback("'+t+'","'+e+'","'+i+'")'),super.attributeChangedCallback(t,e,i);const s=m.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else if(this._wasInstantiated&&e!==i){switch(t){case"size":!1===this.hasAttribute("receiveStateSize")&&(this.size=parseFloat(i),this.repaint());break;case"iconposition":this.iconPosition=i;break;case"selectedvalue":this.selectedValue=parseFloat(i),this._cleanItem=parseFloat(i),this._scrollHelper.constructor===l.Ch5SpinnerScroll&&this._scrollHelper.selectTheItem(parseFloat(i));break;case"itemheight":this.itemHeight=i,this.repaint();break;case"visibleitemscroll":this.visibleItemScroll=parseFloat(i),this.repaint();break;case"indexid":this.indexId=i;break;case"feedbackmode":this.feedbackMode=i;break;case"signalvaluesynctimeout":this.signalValueSyncTimeout=parseFloat(i);break;case"sendeventonchange":this.sendEventOnChange=i;break;case"sendeventonfocus":this.sendEventOnFocus=i;break;case"sendeventonoverflow":this.sendEventOnOverflow=i;break;case"sendEventOnUnderflow":this.sendEventOnUnderflow=i;break;case"receivestatevalue":this.receiveStateValue=i;break;case"receivestatesize":this.receiveStateSize=i;break;case"receivestatelabel":this.receiveStateLabel=i;break;case"receivestateurl":this.receiveStateUrl=i;break;case"show":!this.itemHeight&&i&&this.templateHelper.handleDefaultItemHeight(this.templateHelper.childrenObject[0])}this.addAriaAttributes()}}addAriaAttributes(){this.templateHelper.constructor===a.Ch5SpinnerTemplate&&this.templateHelper.wrapperElement.constructor===HTMLDivElement&&this.templateHelper.wrapperElement.setAttribute("role","listbox")}registerReceiveSignalValue(){this.info("<ch5-spinner />.registerReceiveSignalValue()"),this.clearStringSignalSubscription(this.receiveStateValue,this._receiveStateValueSub);const t=u.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),e=u.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==e&&(this._receiveStateValueSub=e.subscribe(t=>{(null!==t||void 0!==t)&&t>=0&&(this.selectedValue=t,this._cleanItem=t,this._scrollHelper.selectTheItem(t))}))}registerReceiveSignalLabel(){this.info("<ch5-spinner />.registerReceiveSignalLabel()"),this.clearStringSignalSubscription(this.receiveStateLabel,this._receiveStateLabelSub);const t=u.Ch5Signal.getSubscriptionSignalName(this.receiveStateLabel),e=u.Ch5SignalFactory.getInstance().getStringSignal(t);null!==e&&(this._receiveStateLabelSub=e.subscribe(t=>{null===t&&void 0===t||this.setAttribute("label",t)}))}registerReceiveSignalSize(){this.info("<ch5-spinner />.registerReceiveSignalSize()"),this.clearStringSignalSubscription(this.receiveStateSize,this._receiveStateSizeSub);const t=u.Ch5Signal.getSubscriptionSignalName(this.receiveStateSize),e=u.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==e&&(this._receiveStateSizeSub=e.subscribe(t=>{t=this.adjustMaxSizeValue(t),(0,n.isNil)(t)||0===t||this.size===t||(this.size=t,this.repaint())}))}repaint(){this.info("<ch5-spinner />.repaint()");try{if(this.templateHelper.constructor===a.Ch5SpinnerTemplate&&null!==this.parentNode&&this.hasChildNodes()){for(let t=this.childNodes.length-1;t>=0;t--)"TEMPLATE"!==this.childNodes[t].tagName&&this.removeChild(this.childNodes[t]);if(!this.hasChildNodes()||null!==this.childNodes[0]&&"TEMPLATE"===this.childNodes[0].tagName){const t=document.createElement("div");this.parentNode.insertBefore(t,this.nextSibling),this.remove(),t.parentNode.insertBefore(this,t.nextSibling),t.remove()}}}catch(t){console.error("Something wrong with component regeneration",t)}}submit(){if(this.info("<ch5-spinner />.submit()"),"submit"===this.feedbackMode&&(this.dirtyTimeHandler(),this._scrollHelper.getCleanCurrentElementIndex()!==this._cleanItem)){const t=this.sendEventOnChange;if(""!==t&&null!=t){const t=u.Ch5SignalFactory.getInstance().getNumberSignal(this.sendEventOnChange);null!==t&&t.publish(this._scrollHelper.getCleanCurrentElement())}}}reset(){this.info("<ch5-spinner />.reset()"),this._scrollHelper.selectTheItem(this.selectedValue),this._cleanItem=this._scrollHelper.getCleanCurrentElementIndex(),this.dirtyFlag=!1,this._eventsHelper.dispatchClean()}getValue(){return this.info("<ch5-spinner />.getValue()"),this._scrollHelper.getCleanCurrentElement()}setValue(t){this.info("<ch5-spinner />.setValue()"),this._scrollHelper.selectTheItem(t)}getDirty(){return this.info("<ch5-spinner />.getDirty()"),this._cleanItem!==this._scrollHelper.getCleanCurrentElementIndex()}adjustMaxSizeValue(t){return t>m.MAX_SIZE?m.MAX_SIZE:t}getItemHeightValue(){const t=parseFloat(this.itemHeight);return!0!==isNaN(t)?t:0}getItemHeightMeasurementUnit(){return this.itemHeight.indexOf("px")>-1?"px":this.itemHeight.indexOf("vh")>-1?"vh":"px"}getHighlightOffsetValue(){const t=this.visibleItemScroll,e=this.getItemHeightValue();return(Math.ceil(t/2)-1)*e}getHighlightOffset(){return this.getHighlightOffsetValue()+this.getItemHeightMeasurementUnit()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<m.COMPONENT_PROPERTIES.length;e++)if(!0===m.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(m.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=m.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}if(this.hasAttribute("itemHeight")&&(this.itemHeight=null!==this.getAttribute("itemHeight")?this.getAttribute("itemHeight"):""),!1!==this.hasAttribute("itemHeight")&&null!==this.itemHeight||(this.autoSetItemHeight=!0,(0,n.isNil)(this.templateHelper.element)&&(this.itemHeight=m.ITEM_HEIGHT_WHEN_EMPTY),this.setAttribute("autosetitemheight","")),this.hasAttribute("size")&&(this.size=null!==this.getAttribute("size")?parseFloat(this.getAttribute("size")):this.size),this.hasAttribute("iconPosition")?this.iconPosition=null!==this.getAttribute("iconPosition")?this.getAttribute("iconPosition"):m.ICONPOSITIONS[0]:this.iconPosition=m.ICONPOSITIONS[0],this.hasAttribute("selectedValue")&&(this.selectedValue=null!==this.getAttribute("selectedvalue")?parseFloat(this.getAttribute("selectedvalue")):this.selectedValue),this.hasAttribute("visibleItemScroll")?this.visibleItemScroll=null!==this.getAttribute("visibleItemScroll")?parseFloat(this.getAttribute("visibleItemScroll")):this.visibleItemScroll:this.visibleItemScroll=m.VISIBLEITEMSCROLL,this.hasAttribute("resize")&&(this.resize=!!this.hasAttribute("resize")),this.hasAttribute("endless")){const t="false"!==this.getAttribute("endless");this.endless=t}this.hasAttribute("indexId")&&(this.indexId=null!==this.getAttribute("indexId")?this.getAttribute("indexId"):""),this.hasAttribute("label")&&(this.label=null!==this.getAttribute("label")?this.getAttribute("label"):""),this.hasAttribute("feedbackMode")?this.feedbackMode=null!==this.getAttribute("feedbackMode")?this.getAttribute("feedbackMode"):"direct":this.feedbackMode=m.FEEDBACKMODES[0],this.hasAttribute("signalValueSyncTimeout")?this.signalValueSyncTimeout=null!==this.getAttribute("signalValueSyncTimeout")?parseFloat(this.getAttribute("signalValueSyncTimeout")+""):1500:this.signalValueSyncTimeout=m.SYNCTIMEOUT,this.hasAttribute("sendEventOnChange")&&(this.sendEventOnChange=null!==this.getAttribute("sendEventOnChange")?this.getAttribute("sendEventOnChange"):""),this.hasAttribute("sendEventOnFocus")&&(this.sendEventOnFocus=null!==this.getAttribute("sendEventOnFocus")?this.getAttribute("sendEventOnFocus"):""),this.hasAttribute("sendEventOnOverflow")&&(this.sendEventOnOverflow=null!==this.getAttribute("sendEventOnOverflow")?this.getAttribute("sendEventOnOverflow"):""),this.hasAttribute("sendEventOnUnderflow")&&(this.sendEventOnUnderflow=null!==this.getAttribute("sendEventOnUnderflow")?this.getAttribute("sendEventOnUnderflow"):""),this.hasAttribute("receiveStateValue")&&(this.receiveStateValue=null!==this.getAttribute("receiveStateValue")?this.getAttribute("receiveStateValue"):""),this.hasAttribute("receiveStateSize")&&(this.receiveStateSize=null!==this.getAttribute("receiveStateSize")?this.getAttribute("receiveStateSize"):""),this.hasAttribute("receiveStateLabel")&&(this.receiveStateLabel=null!==this.getAttribute("receiveStateLabel")?this.getAttribute("receiveStateLabel"):""),this.hasAttribute("receiveStateUrl")&&(this.receiveStateUrl=null!==this.getAttribute("receiveStateUrl")?this.getAttribute("receiveStateUrl"):""),this.hasAttribute("onclean")&&(this.onclean=new c.default(this,this.getAttribute("onclean"))),this.hasAttribute("ondirty")&&(this.ondirty=new c.default(this,this.getAttribute("ondirty")))}initUtilities(){this.info("<ch5-spinner />.initUtilities()"),this.classList.add(m.primaryCssClass),this.initAttributes(),this._eventsHelper=new h.Ch5SpinnerEvents(this),this._templateHelper=new a.Ch5SpinnerTemplate(this),this.resolveTemplateChildren(this._templateHelper.templateElement),this._templateHelper.generateTemplate(this.size),this._scrollHelper=new l.Ch5SpinnerScroll(this),this.addAriaAttributes(),this.initSignals()}dirtyHandler(){this.info("<ch5-spinner />.dirtyHandler()"),this.dirtyFlag&&(this._scrollHelper.selectTheItem(this._cleanItem),this._eventsHelper.dispatchClean(),this.dirtyFlag=!1)}translateCallback(t){this.info("<ch5-spinner />.translateCallback()"),"label"===t&&null!==this.templateHelper.childrenObject&&this.templateHelper.childrenObject.length>0&&this.templateHelper.childrenObject.forEach((t,e)=>{const i=t.cloneNode(!0);i.innerHTML=this._getTranslatedValue("label",t.innerHTML);const s=this.templateHelper.resolveId(e,[i]);t.innerHTML=void 0!==s?s.children[0].innerHTML:i.innerHTML})}}e.Ch5Spinner=m,m.ELEMENT_NAME="ch5-spinner",m.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},r.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatevalue:{direction:"state",stringJoin:1,contractName:!0},receivestatesize:{direction:"state",numericJoin:1,contractName:!0},receivestatelabel:{direction:"state",stringJoin:1,contractName:!0},receivestateurl:{direction:"state",stringJoin:1,contractName:!0},sendeventonchange:{direction:"event",booleanJoin:1,contractName:!0},sendeventonfocus:{direction:"event",booleanJoin:1,contractName:!0},sendeventonoverflow:{direction:"event",booleanJoin:1,contractName:!0},sendEventonunderflow:{direction:"event",booleanJoin:1,contractName:!0},contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1}}),m.primaryCssClass="ch5-spinner",m.VISIBLEITEMSCROLL=3,m.SYNCTIMEOUT=1500,m.ITEM_HEIGHT_WHEN_EMPTY="33",m.ICONPOSITIONS=["first","last"],m.FEEDBACKMODES=["direct","submit"],m.COMPONENT_DATA={ICON_POSITIONS:{default:m.ICONPOSITIONS[0],values:m.ICONPOSITIONS,key:"icon_position",classListPrefix:"--"},FEEDBACK_MODES:{default:m.FEEDBACKMODES[0],values:m.FEEDBACKMODES,key:"feedback_modes",classListPrefix:"--"}},m.COMPONENT_PROPERTIES=[{default:!1,name:"autoSetItemHeight",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0}],m.MAX_SIZE=30,"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(m.ELEMENT_NAME,m),m.registerSignalAttributeTypes(),m.registerSignalAttributeDefaults()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5SpinnerTemplate=void 0;const s=i(95),n=i(16);class r{constructor(t){this._templateDefined=!1,this._element={},this._wrapperElement={},this._scrollableArea={},this._highlightElement={},this._overlayElement={},this._templateElement={},this._childrenObject=null,this._initialchildrenObject=null,this._appendedItemIndex=0,this._prependedItemIndex=0,this._clonedItems={},this.element=t,this.checkTemplateDefined(),!0===this._templateDefined&&(this.templateElement=this._element.querySelector("template"))}destruct(){this.childrenObject=null,this.wrapperElement={},this.scrollableArea={},this.templateElement={},this.prependedItemIndex=this.element.size}set element(t){void 0===t&&null===t||(this._element=t)}get element(){return this._element}set wrapperElement(t){void 0===t&&null===t||(this._wrapperElement=t)}get wrapperElement(){return this._wrapperElement}set scrollableArea(t){void 0===t&&null===t||(this._scrollableArea=t)}get scrollableArea(){return this._scrollableArea}set highlightElement(t){void 0===t&&null===t||(this._highlightElement=t)}get highlightElement(){return this._highlightElement}set templateElement(t){void 0===t&&null===t||(this._templateElement=t,this.iconPositioning())}get templateElement(){return this._templateElement}set childrenObject(t){void 0===t&&null===t||(this._childrenObject=t)}get childrenObject(){return this._childrenObject}set initialchildrenObject(t){void 0===t&&null===t||(this._initialchildrenObject=t)}get initialchildrenObject(){return this._initialchildrenObject}set overlayElement(t){void 0===t&&null===t||(this._overlayElement=t)}get overlayElement(){return this._overlayElement}set appendedItemIndex(t){(t>this.element.size||t!==this.appendedItemIndex&&null==t)&&(t=0),t>=this.element.size&&(t=0),this._appendedItemIndex=t}get appendedItemIndex(){return this._appendedItemIndex}set prependedItemIndex(t){(t>this.element.size||t!==this.prependedItemIndex&&null==t)&&(t=0),t<=0&&(t=this.element.size-1),this._prependedItemIndex=t}get prependedItemIndex(){return this._prependedItemIndex}addChild(t){return null!=t&&(t.classList.add(s.Ch5Spinner.primaryCssClass+"__item"),t.style.display="flex",void 0===this.childrenObject||null===this.childrenObject?(this.childrenObject=[t],this.initialchildrenObject=[t]):(this.childrenObject.push(t),this.initialchildrenObject.push(t))),t}generateTemplate(t){const e=this.element.getItemHeightValue(),i=this.element.getItemHeightMeasurementUnit(),n=this.element.visibleItemScroll,r=this.element.endless;this.overlayElement=document.createElement("div"),this.overlayElement.classList.add(s.Ch5Spinner.primaryCssClass+"__overlay"),this.wrapperElement=document.createElement("div"),this.wrapperElement.classList.add(s.Ch5Spinner.primaryCssClass+"__wrapper"),!0===this.element.resize&&(this.wrapperElement.style.width="auto"),this.scrollableArea=document.createElement("div"),this.scrollableArea.classList.add(s.Ch5Spinner.primaryCssClass+"__scrollarea--animate"),this.highlightElement=document.createElement("div"),this.highlightElement.style.height=this._element.itemHeight,this.highlightElement.style.top=this.element.getHighlightOffset(),this.highlightElement.classList.add(s.Ch5Spinner.primaryCssClass+"__highlight"),!1===this._templateDefined?this.addDefaultTemplate():(this.cleanTheTemplate(),this.element.label="");for(let e=0;e<t;e++)this.invokeChildElement(e);if(null!==this.childrenObject){if(!0===r){const t=this.childrenObject;let s,r;for(let e=t.length-1;e>=t.length-Math.ceil(n/2);e--)this.pushElementToClonedItemsList("prepended",e,!0);for(let t=0;t<Math.ceil(n/2);t++)this.pushElementToClonedItemsList("appended",t);s=this._clonedItems.prepended.length,r=-s*e+i,this._clonedItems.prepended[0].style.marginTop=r,this._clonedItems.prepended.forEach((t,e)=>{this.scrollableArea.appendChild(t)})}if(this.childrenObject.forEach(t=>{this.scrollableArea.appendChild(t)}),!0===r&&this._clonedItems.appended.forEach(t=>{this.scrollableArea.appendChild(t)}),void 0!==this.childrenObject&&null!==this.childrenObject)for(let t=this.childrenObject.length-1;t>=0;t--)this.childrenObject[t].style.height=this._element.itemHeight}if(this.wrapperElement.style.height=e*n+i,this.wrapperElement.appendChild(this.highlightElement),this.wrapperElement.appendChild(this.scrollableArea),this._element.querySelectorAll("."+s.Ch5Spinner.primaryCssClass+"__overlay").length||this._element.querySelectorAll("."+s.Ch5Spinner.primaryCssClass+"__wrapper").length){const t=Array.from(this._element.querySelectorAll("."+s.Ch5Spinner.primaryCssClass+"__overlay")),e=Array.from(this._element.querySelectorAll("."+s.Ch5Spinner.primaryCssClass+"__wrapper"));t.forEach(t=>t.parentNode.removeChild(t)),e.forEach(t=>t.parentNode.removeChild(t))}if(this._element.appendChild(this.wrapperElement),this._element.appendChild(this.overlayElement),null!==this.childrenObject&&void 0!==this.childrenObject){for(let t=this.childrenObject.length-1;t>=0;t--){const e=this.childrenObject[t].querySelector("."+s.Ch5Spinner.primaryCssClass+"__label");if(null!==e&&e.hasAttribute("data-ch5-textcontent-placeholder")){const t=e.getAttribute("data-ch5-textcontent-placeholder");e.removeAttribute("data-ch5-textcontent-placeholder"),e.setAttribute("data-ch5-textcontent",t)}}(parseInt(this._element.itemHeight,10)<=0||isNaN(parseInt(this._element.itemHeight,10)))&&this.handleDefaultItemHeight(this.childrenObject[0])}}toggleOverlay(t=!1,e=!1){this.overlayElement.style.zIndex=!0===e?"999999":"",this.overlayElement.style.display=!0!==t?"none":"block"}setActiveItem(t){try{const e=this.getSelectedItem(t);null!==e&&(this.removeActiveItemClass(),e.classList.add(s.Ch5Spinner.primaryCssClass+"--active"),this.element.selectedItem=e)}catch(t){console.error(r.ERROR.structure)}}getSelectedItem(t){try{if(null!==this.childrenObject){const e=this.childrenObject[t];if(null!=e)return e}}catch(t){console.error(r.ERROR.structure)}return null}handleDefaultItemHeight(t){let e=null,i=1,s=null,n=0,r=0;i+=this.element.signalValueSyncTimeout/60,this.element.signalValueSyncTimeout>i?(this.toggleOverlay(!0,!0),t&&(e=t.querySelector("ch5-image"),s=t.querySelector("label"),n%8==0&&(r=e&&(e.offsetHeight||e.getBoundingClientRect().height)||s&&(s.offsetHeight||s.getBoundingClientRect().height)||t.offsetHeight||t.getBoundingClientRect().height),n++,r>0&&(this.element.itemHeight=r+""))):this.toggleOverlay(!1)}resolveId(t,e){if(0===e.length)return;const i=document.createElement("template");return Array.from(e).forEach(t=>i.content.appendChild(t)),""!==this.element.indexId&&(n.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsAttrs(i,t,this.element.indexId),n.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsContent(i,t,this.element.indexId)),i.content}iconPositioning(){try{if(null!==this.templateElement&&void 0!==this.templateElement.content){const t=this.templateElement.content.querySelector("."+s.Ch5Spinner.primaryCssClass+"__icon"),e=this.templateElement.content.querySelector("."+s.Ch5Spinner.primaryCssClass+"__label"),i=this.element.iconPosition;null!==t&&null!==e&&("last"===i?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.insertBefore(t,e.previousSibling))}}catch(t){console.error(r.ERROR.structure,t)}}pushElementToClonedItemsList(t="append",e,i=!1){if(null!==this.childrenObject&&void 0!==this.childrenObject[e]){const s=this.childrenObject[e].cloneNode(!0);if(s.classList.add("cloned"),s.style.height=this.element.itemHeight,void 0===this._clonedItems[t.toString()])return void(this._clonedItems[t.toString()]=[s]);i?this._clonedItems[t].unshift(s):this._clonedItems[t].push(s)}}invokeChildElement(t){const e=this.element.querySelector("template");let i=document.importNode(e.content,!0);if(i.children.length>0){const e=this.resolveId(t,i.childNodes);void 0!==e&&(i=e);const s=i.children[0];s.setAttribute("data-initial-index",String(t)),s.setAttribute("role","option"),n.Ch5AugmentVarSignalsNames.differentiateTmplElemsAttrs(s,this.element.getAttribute("contractname")||"",parseInt(this.element.getAttribute("booleanjoinoffset")||"0",10)||0,parseInt(this.element.getAttribute("numericJoinOffset")||"0",10)||0,parseInt(this.element.getAttribute("stringJoinOffset")||"0",10)||0),this.addChild(i.children[0])}}checkTemplateDefined(){null!==this._element.querySelector("template")&&(this._templateDefined=!0)}addDefaultTemplate(){const t=document.createElement("template"),e=document.createElement("ch5-image"),i=document.createElement("label"),n=document.createElement("div"),r=document.createDocumentFragment();this.element.indexId;e.classList.add(s.Ch5Spinner.primaryCssClass+"__icon"),""!==this.element.receiveStateUrl&&(e.setAttribute("receiveStateUrl",this.element.receiveStateUrl),e.setAttribute("refreshrate","0"),n.appendChild(e)),i.classList.add(s.Ch5Spinner.primaryCssClass+"__label"),""!==this.element.receiveStateLabel?i.setAttribute("data-ch5-textcontent-placeholder",this.element.receiveStateLabel):i.innerHTML=this.element.label,n.appendChild(i),r.appendChild(n),t.content.appendChild(r),this._element.appendChild(t),this.templateElement=t}cleanTheTemplate(){const t=this.element.querySelector("template");if(null!=t){let e=t.content.children;0===e.length&&t.childNodes.length>0&&(e=t.children);for(let t=e.length-1;t>=0;t--){1!==e[t].nodeType&&e[t].remove()}}}removeActiveItemClass(){try{const t=this.childrenObject;for(let e=t.length-1;e>=0;e--){const i=t[e],n=s.Ch5Spinner.primaryCssClass+"--active";i.classList.contains(n)&&i.classList.remove(n)}}catch(t){console.error(r.ERROR.structure)}}}e.Ch5SpinnerTemplate=r,r.ERROR={structure:"Wrong template structure"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.refreshCh5subpageReferenceList=e.ch5subpageReferenceListSubject=void 0;const s=i(14);e.ch5subpageReferenceListSubject=new s.Subject;e.refreshCh5subpageReferenceList=t=>{e.ch5subpageReferenceListSubject.next(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5TabButton=void 0;const s=i(17),n=i(42),r=i(2),a=i(4),o=i(5),l=i(16),h=i(3);class u extends h.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-tab-button",this._elContainer={},this.selectedButton=0,this.signalNameOnContract={contractName:"",receiveStateCustomClass:"",receiveStateCustomStyle:"",receiveStateEnable:"",receiveStateShow:"",receiveStateSelectedButton:""},this.debounceButtonDisplay=this.debounce(()=>{this.tabButtonDisplay()},50),this.ignoreAttributes=["receivestateshowpulse","receivestatehidepulse","sendeventonshow"],this.logger.start("constructor()"),this._wasInstatiated||this.createInternalHtml(),this._wasInstatiated=!0,this._ch5Properties=new a.Ch5Properties(this,u.COMPONENT_PROPERTIES),this.initCssClass()}set buttonType(t){this._ch5Properties.set("buttonType",t,()=>{this.debounceButtonDisplay()})}get buttonType(){return this._ch5Properties.get("buttonType")}set buttonIconUrlFillType(t){this._ch5Properties.set("buttonIconUrlFillType",t,()=>{this.debounceButtonDisplay()})}get buttonIconUrlFillType(){return this._ch5Properties.get("buttonIconUrlFillType")}set buttonHAlignLabel(t){this._ch5Properties.set("buttonHAlignLabel",t,()=>{this.debounceButtonDisplay()})}get buttonHAlignLabel(){return this._ch5Properties.get("buttonHAlignLabel")}set buttonVAlignLabel(t){this._ch5Properties.set("buttonVAlignLabel",t,()=>{this.debounceButtonDisplay()})}get buttonVAlignLabel(){return this._ch5Properties.get("buttonVAlignLabel")}set buttonIconPosition(t){this._ch5Properties.set("buttonIconPosition",t,()=>{this.debounceButtonDisplay()})}get buttonIconPosition(){return this._ch5Properties.get("buttonIconPosition")}set buttonShape(t){this._ch5Properties.set("buttonShape",t,()=>{this.debounceButtonDisplay()})}get buttonShape(){return this._ch5Properties.get("buttonShape")}set buttonSelected(t){this._ch5Properties.set("buttonSelected",t,()=>{this.debounceButtonDisplay()})}get buttonSelected(){return this._ch5Properties.get("buttonSelected")}set buttonPressed(t){this._ch5Properties.set("buttonPressed",t,()=>{this.debounceButtonDisplay()})}get buttonPressed(){return this._ch5Properties.get("buttonPressed")}set buttonIconClass(t){this._ch5Properties.set("buttonIconClass",t,()=>{this.debounceButtonDisplay()})}get buttonIconClass(){return this._ch5Properties.get("buttonIconClass")}set buttonIconUrl(t){this._ch5Properties.set("buttonIconUrl",t,()=>{this.debounceButtonDisplay()})}get buttonIconUrl(){return this._ch5Properties.get("buttonIconUrl")}set buttonLabelInnerHtml(t){this._ch5Properties.set("buttonLabelInnerHtml",t,()=>{this.debounceButtonDisplay()})}get buttonLabelInnerHtml(){return this._ch5Properties.get("buttonLabelInnerHtml")}set buttonReceiveStateSelected(t){this._ch5Properties.set("buttonReceiveStateSelected",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateSelected(){return this._ch5Properties.get("buttonReceiveStateSelected")}set buttonReceiveStateLabel(t){this._ch5Properties.set("buttonReceiveStateLabel",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateLabel(){return this._ch5Properties.get("buttonReceiveStateLabel")}set buttonReceiveStateScriptLabelHtml(t){this._ch5Properties.set("buttonReceiveStateScriptLabelHtml",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateScriptLabelHtml(){return this._ch5Properties.get("buttonReceiveStateScriptLabelHtml")}set buttonReceiveStateIconClass(t){this._ch5Properties.set("buttonReceiveStateIconClass",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateIconClass(){return this._ch5Properties.get("buttonReceiveStateIconClass")}set buttonReceiveStateIconUrl(t){this._ch5Properties.set("buttonReceiveStateIconUrl",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateIconUrl(){return this._ch5Properties.get("buttonReceiveStateIconUrl")}set buttonSendEventOnClick(t){this._ch5Properties.set("buttonSendEventOnClick",t,()=>{this.debounceButtonDisplay()})}get buttonSendEventOnClick(){return this._ch5Properties.get("buttonSendEventOnClick")}set buttonReceiveStateShow(t){this._ch5Properties.set("buttonReceiveStateShow",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateShow(){return this._ch5Properties.get("buttonReceiveStateShow")}set buttonReceiveStateEnable(t){this._ch5Properties.set("buttonReceiveStateEnable",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateEnable(){return this._ch5Properties.get("buttonReceiveStateEnable")}set numberOfItems(t){this._ch5Properties.set("numberOfItems",t,()=>{this.debounceButtonDisplay()})}get numberOfItems(){return this._ch5Properties.get("numberOfItems")}set orientation(t){this._ch5Properties.set("orientation",t,()=>{this.handleOrientation()})}get orientation(){return this._ch5Properties.get("orientation")}set indexId(t){this._ch5Properties.set("indexId",t)}get indexId(){return this._ch5Properties.get("indexId")}set receiveStateSelectedButton(t){this._ch5Properties.set("receiveStateSelectedButton",t,null,t=>{const e=""===this.contractName,i=""!==this.contractName&&!0===this.useContractForEachButtonSelection&&this.receiveStateSelectedButton===this.contractName+".TabSelected";(e||i)&&(this.selectedButton=t,this.handleReceiveStateSelectedButton())})}get receiveStateSelectedButton(){return this._ch5Properties.get("receiveStateSelectedButton")}set contractName(t){this._ch5Properties.set("contractName",t,()=>{this.handleContractName()})}get contractName(){return this._ch5Properties.get("contractName")}set useContractForEnable(t){this._ch5Properties.set("useContractForEnable",t,()=>{this.debounceButtonDisplay()})}get useContractForEnable(){return this._ch5Properties.get("useContractForEnable")}set useContractForShow(t){this._ch5Properties.set("useContractForShow",t,()=>{this.debounceButtonDisplay()})}get useContractForShow(){return this._ch5Properties.get("useContractForShow")}set useContractForCustomStyle(t){this._ch5Properties.set("useContractForCustomStyle",t,()=>{this.debounceButtonDisplay()})}get useContractForCustomStyle(){return this._ch5Properties.get("useContractForCustomStyle")}set useContractForCustomClass(t){this._ch5Properties.set("useContractForCustomClass",t,()=>{this.debounceButtonDisplay()})}get useContractForCustomClass(){return this._ch5Properties.get("useContractForCustomClass")}set useContractForEachButtonSelection(t){this._ch5Properties.set("useContractForEachButtonSelection",t,()=>{this.debounceButtonDisplay()})}get useContractForEachButtonSelection(){return this._ch5Properties.get("useContractForEachButtonSelection")}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(u.ELEMENT_NAME)&&window.customElements.define(u.ELEMENT_NAME,u)}static registerSignalAttributeTypes(){r.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(u.ELEMENT_NAME,u.SIGNAL_ATTRIBUTE_TYPES)}static get observedAttributes(){const t=h.Ch5Common.observedAttributes,e=[];for(let t=0;t<u.COMPONENT_PROPERTIES.length;t++)!0===u.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(u.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.nodeName),e!==i){this.logger.log('attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=u.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()"),this.hasAttribute("role")||this.setAttribute("role",o.Ch5RoleAttributeMapping.ch5TabButton),this.checkInternalHTML(),this.attachEventListeners(),this.initAttributes(),this.initCommonMutationObserver(this),this.debounceButtonDisplay(),customElements.whenDefined(this.nodeName.toLowerCase()).then(()=>{this.componentLoadedEvent(this.nodeName.toLowerCase(),this.id)}),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),this.logger.stop()}createInternalHtml(){this.logger.start("createInternalHtml()"),this.clearComponentContent(),this._elContainer=document.createElement("div"),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<u.COMPONENT_PROPERTIES.length;e++)if(!0===u.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(u.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=u.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}attachEventListeners(){super.attachEventListeners()}removeEventListeners(){super.removeEventListeners()}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}initCssClass(){this.logger.start("UpdateCssClass"),this._elContainer.classList.add(this.nodeName.toLowerCase()+u.COMPONENT_DATA.ORIENTATION.classListPrefix+this.orientation),this.logger.stop()}checkInternalHTML(){this._elContainer.parentElement!==this&&(this._elContainer.classList.add(this.nodeName.toLowerCase()),this.appendChild(this._elContainer))}clearComponentContent(){const t=this.getElementsByTagName("div");Array.from(t).forEach(t=>{t.remove()})}handleOrientation(){Array.from(u.COMPONENT_DATA.ORIENTATION.values).forEach(t=>{this._elContainer.classList.remove(this.nodeName.toLowerCase()+u.COMPONENT_DATA.ORIENTATION.classListPrefix+t)}),this._elContainer.classList.add(this.nodeName.toLowerCase()+u.COMPONENT_DATA.ORIENTATION.classListPrefix+this.orientation)}tabButtonDisplay(){var t,e,i,s,n,r;Array.from(this._elContainer.children).forEach(t=>t.remove()),this.contractDefaultHelper();for(let t=0;t<this.numberOfItems;t++)this.createButton(t);Array.from(this._elContainer.children).forEach(t=>{var e,i;return null===(i=null===(e=t.firstElementChild)||void 0===e?void 0:e.firstElementChild)||void 0===i?void 0:i.classList.add(this.primaryCssClass+"--center-tab-style")}),null===(i=null===(e=null===(t=this._elContainer.firstElementChild)||void 0===t?void 0:t.firstElementChild)||void 0===e?void 0:e.firstElementChild)||void 0===i||i.classList.replace(""+(this.primaryCssClass+"--center-tab-style"),""+(this.primaryCssClass+"--start-tab-style")),null===(r=null===(n=null===(s=this._elContainer.lastElementChild)||void 0===s?void 0:s.firstElementChild)||void 0===n?void 0:n.firstElementChild)||void 0===r||r.classList.replace(""+(this.primaryCssClass+"--center-tab-style"),""+(this.primaryCssClass+"--end-tab-style"))}contractDefaultHelper(){""!==this.contractName.trim()&&null!==this.contractName&&void 0!==this.contractName&&(!0===this.useContractForEnable&&(this.receiveStateEnable=this.contractName+".Enable"),!0===this.useContractForShow&&(this.receiveStateShow=this.contractName+".Visible"),!0===this.useContractForCustomStyle&&(this.receiveStateCustomStyle=this.contractName+".CustomStyle"),!0===this.useContractForCustomClass&&(this.receiveStateCustomClass=this.contractName+".CustomClass"),!0===this.useContractForEachButtonSelection&&(this.receiveStateSelectedButton=this.contractName+".TabSelected"))}createButton(t,e=!0){var i,n,r,a,o;if(t<0||t>=this.numberOfItems)return;const l={index:t+1,clickHoldTime:0,contractName:this.contractName,parentComponent:"ch5-tab-button"},h=new s.Ch5Button(l),c=document.createElement("div");if(c.setAttribute("id",this.getCrId()+"-"+t),!1===(null===(i=this.getAttribute("buttonReceiveStateShow"))||void 0===i?void 0:i.trim().includes(`{{${this.indexId}}}`))){const t=null===(n=this.getAttribute("buttonReceiveStateShow"))||void 0===n?void 0:n.trim();t&&(c.setAttribute("data-ch5-noshow-type","display"),c.setAttribute("data-ch5-show",t.trim()))}else if(this.hasAttribute("buttonReceiveStateShow")&&(null===(r=this.getAttribute("buttonReceiveStateShow"))||void 0===r?void 0:r.trim())){const e=this.replaceAll((null===(a=this.getAttribute("buttonReceiveStateShow"))||void 0===a?void 0:a.trim())+"",`{{${this.indexId}}}`,""),i=/^[0-9]+$/.test(e);c.setAttribute("data-ch5-noshow-type","display"),i?c.setAttribute("data-ch5-show",Number(e)+t+""):c.setAttribute("data-ch5-show",this.replaceAll((null===(o=this.getAttribute("buttonReceiveStateShow"))||void 0===o?void 0:o.trim())+"",`{{${this.indexId}}}`,t+""))}c.classList.add(this.nodeName.toLowerCase()+"--button-container"),c.appendChild(h),e?this._elContainer.appendChild(c):this._elContainer.prepend(c),this.buttonLabelHelper(h,t),this.buttonHelper(h,t),h.addContainerClass(this.nodeName.toLowerCase()+u.COMPONENT_DATA.BUTTON_TYPE.classListPrefix+this.buttonType),h.addContainerClass(this.nodeName.toLowerCase()+u.COMPONENT_DATA.BUTTON_SHAPE.classListPrefix+this.buttonShape),h.addContainerClass(this.nodeName.toLowerCase()+u.COMPONENT_DATA.BUTTON_ICON_POSITION.classListPrefix+this.buttonIconPosition)}buttonLabelHelper(t,e){const i=this.getElementsByTagName(this.nodeName.toLowerCase()+"-label");i&&i.length>0&&Array.from(i).forEach(i=>{if(i.parentElement instanceof u){const s=i.getElementsByTagName("template");if(s&&s.length>0){const i=new n.Ch5ButtonLabel,r=document.createElement("template");r.innerHTML=s[0].innerHTML,l.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsAttrs(r,e,this.indexId),l.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsContent(r,e,this.indexId),i.appendChild(r),t.appendChild(i)}}})}buttonHelper(t,e){const i=this.getElementsByTagName(this.nodeName.toLowerCase()+"-individual-button"),s=i.length;t.setAttribute("stretch","both"),t.setAttribute("shape","rectangle"),u.COMPONENT_PROPERTIES.forEach(n=>{var r,a,o,l,h,u,c,d,p,g,m,b,f,v,_,S,C,E,y,T,A,O,I,w,P,N,L,M,R,x,k,B,H,V;if(e<s){if("buttoniconclass"===n.name.toLowerCase()){if(i[e]&&i[e].hasAttribute("iconclass")){const s=null===(r=i[e].getAttribute("iconclass"))||void 0===r?void 0:r.trim();s&&t.setAttribute("iconclass",s)}else if(n.name.toLowerCase().startsWith("button")&&this.hasAttribute(n.name)){const i=null===(a=this.getAttribute(n.name))||void 0===a?void 0:a.trim().replace(`{{${this.indexId}}}`,e+"");i&&t.setAttribute(n.name.toLowerCase().replace("button",""),i.trim())}}else if("buttoniconurl"===n.name.toLowerCase()){if(i[e]&&i[e].hasAttribute("iconurl")){const s=null===(o=i[e].getAttribute("iconurl"))||void 0===o?void 0:o.trim();s&&t.setAttribute("iconurl",s)}else if(n.name.toLowerCase().startsWith("button")&&this.hasAttribute(n.name)){const i=null===(l=this.getAttribute(n.name))||void 0===l?void 0:l.trim().replace(`{{${this.indexId}}}`,e+"");i&&t.setAttribute(n.name.toLowerCase().replace("button",""),i.trim())}}else if("buttonreceivestateselected"===n.name.toLowerCase()){if(""!==this.contractName.trim()&&null!==this.contractName&&void 0!==this.contractName)!1===this.useContractForEachButtonSelection&&t.setAttribute("receiveStateSelected",this.contractName+`.Tab${e+1}_Selected`),e===this.selectedButton&&!0===this.useContractForEachButtonSelection&&t.setAttribute("selected","true");else if(n.name.toLowerCase().startsWith("button")&&this.hasAttribute(n.name))if(!1===(null===(h=this.getAttribute(n.name))||void 0===h?void 0:h.trim().includes(`{{${this.indexId}}}`))){const e=null===(u=this.getAttribute(n.name))||void 0===u?void 0:u.trim();e&&t.setAttribute(n.name.toLowerCase().replace("button",""),e.trim())}else if(0!==(null===(c=this.getAttribute(n.name))||void 0===c?void 0:c.trim().length)){const i=this.replaceAll((null===(d=this.getAttribute(n.name))||void 0===d?void 0:d.trim())+"",`{{${this.indexId}}}`,"");/^[0-9]+$/.test(i)?t.setAttribute(n.name.toLowerCase().replace("button",""),Number(i)+e+""):t.setAttribute(n.name.toLowerCase().replace("button",""),this.replaceAll((null===(p=this.getAttribute(n.name))||void 0===p?void 0:p.trim())+"",`{{${this.indexId}}}`,e+""))}}else if("buttonsendeventonclick"===n.name.toLowerCase()){if(""!==this.contractName.trim()&&null!==this.contractName&&void 0!==this.contractName);else if(n.name.toLowerCase().startsWith("button")&&this.hasAttribute(n.name))if(!1===(null===(g=this.getAttribute(n.name))||void 0===g?void 0:g.trim().includes(`{{${this.indexId}}}`))){const e=null===(m=this.getAttribute(n.name))||void 0===m?void 0:m.trim();e&&t.setAttribute(n.name.toLowerCase().replace("button",""),e.trim())}else if(0!==(null===(b=this.getAttribute(n.name))||void 0===b?void 0:b.trim().length)){const i=this.replaceAll((null===(f=this.getAttribute(n.name))||void 0===f?void 0:f.trim())+"",`{{${this.indexId}}}`,"");/^[0-9]+$/.test(i)?t.setAttribute(n.name.toLowerCase().replace("button",""),Number(i)+e+""):t.setAttribute(n.name.toLowerCase().replace("button",""),this.replaceAll((null===(v=this.getAttribute(n.name))||void 0===v?void 0:v.trim())+"",`{{${this.indexId}}}`,e+""))}}else if(n.name.toLowerCase().startsWith("button")&&this.hasAttribute(n.name))if(!1===(null===(_=this.getAttribute(n.name))||void 0===_?void 0:_.trim().includes(`{{${this.indexId}}}`))){const e=null===(S=this.getAttribute(n.name))||void 0===S?void 0:S.trim();e&&t.setAttribute(n.name.toLowerCase().replace("button",""),e.trim())}else if(0!==(null===(C=this.getAttribute(n.name))||void 0===C?void 0:C.trim().length)){const i=this.replaceAll((null===(E=this.getAttribute(n.name))||void 0===E?void 0:E.trim())+"",`{{${this.indexId}}}`,"");/^[0-9]+$/.test(i)?t.setAttribute(n.name.toLowerCase().replace("button",""),Number(i)+e+""):t.setAttribute(n.name.toLowerCase().replace("button",""),this.replaceAll((null===(y=this.getAttribute(n.name))||void 0===y?void 0:y.trim())+"",`{{${this.indexId}}}`,e+""))}}else if("buttonreceivestateselected"===n.name.toLowerCase()){if(""!==this.contractName.trim()&&null!==this.contractName&&void 0!==this.contractName)t.setAttribute("receiveStateSelected",this.contractName+`.Tab${e+1}_Selected`);else if(n.name.toLowerCase().startsWith("button")&&this.hasAttribute(n.name))if(!1===(null===(T=this.getAttribute(n.name))||void 0===T?void 0:T.trim().includes(`{{${this.indexId}}}`))){const e=null===(A=this.getAttribute(n.name))||void 0===A?void 0:A.trim();e&&t.setAttribute(n.name.toLowerCase().replace("button",""),e.trim())}else if(0!==(null===(O=this.getAttribute(n.name))||void 0===O?void 0:O.trim().length)){const i=this.replaceAll((null===(I=this.getAttribute(n.name))||void 0===I?void 0:I.trim())+"",`{{${this.indexId}}}`,"");/^[0-9]+$/.test(i)?t.setAttribute(n.name.toLowerCase().replace("button",""),Number(i)+e+""):t.setAttribute(n.name.toLowerCase().replace("button",""),this.replaceAll((null===(w=this.getAttribute(n.name))||void 0===w?void 0:w.trim())+"",`{{${this.indexId}}}`,e+""))}}else if("buttonsendeventonclick"===n.name.toLowerCase()){if(""!==this.contractName.trim()&&null!==this.contractName&&void 0!==this.contractName);else if(n.name.toLowerCase().startsWith("button")&&this.hasAttribute(n.name))if(!1===(null===(P=this.getAttribute(n.name))||void 0===P?void 0:P.trim().includes(`{{${this.indexId}}}`))){const e=null===(N=this.getAttribute(n.name))||void 0===N?void 0:N.trim();e&&t.setAttribute(n.name.toLowerCase().replace("button",""),e.trim())}else if(0!==(null===(L=this.getAttribute(n.name))||void 0===L?void 0:L.trim().length)){const i=this.replaceAll((null===(M=this.getAttribute(n.name))||void 0===M?void 0:M.trim())+"",`{{${this.indexId}}}`,"");/^[0-9]+$/.test(i)?t.setAttribute(n.name.toLowerCase().replace("button",""),Number(i)+e+""):t.setAttribute(n.name.toLowerCase().replace("button",""),this.replaceAll((null===(R=this.getAttribute(n.name))||void 0===R?void 0:R.trim())+"",`{{${this.indexId}}}`,e+""))}}else if(n.name.toLowerCase().startsWith("button")&&this.hasAttribute(n.name))if(!1===(null===(x=this.getAttribute(n.name))||void 0===x?void 0:x.trim().includes(`{{${this.indexId}}}`))){const e=null===(k=this.getAttribute(n.name))||void 0===k?void 0:k.trim();e&&t.setAttribute(n.name.toLowerCase().replace("button",""),e.trim())}else if(0!==(null===(B=this.getAttribute(n.name))||void 0===B?void 0:B.trim().length)){const i=this.replaceAll((null===(H=this.getAttribute(n.name))||void 0===H?void 0:H.trim())+"",`{{${this.indexId}}}`,"");/^[0-9]+$/.test(i)?t.setAttribute(n.name.toLowerCase().replace("button",""),Number(i)+e+""):t.setAttribute(n.name.toLowerCase().replace("button",""),this.replaceAll((null===(V=this.getAttribute(n.name))||void 0===V?void 0:V.trim())+"",`{{${this.indexId}}}`,e+""))}}),(""!==this.receiveStateSelectedButton.trim()&&""===this.contractName||""!==this.contractName&&!0===this.useContractForEachButtonSelection&&this.receiveStateSelectedButton===this.contractName+".TabSelected")&&(t.removeAttribute("receiveStateSelected"),t.removeAttribute("selected"),this.selectedButton===e&&t.setAttribute("selected","true"));["onRelease","labelInnerHTML"].forEach(n=>{var r;if(e<s&&i[e]&&i[e].hasAttribute(n)){const s=null===(r=i[e].getAttribute(n))||void 0===r?void 0:r.trim();s&&t.setAttribute(n,s.trim())}})}replaceAll(t,e,i){return t&&""!==String(t).trim()?String(t).split(e).join(i):t}handleContractName(){0===this.contractName.trim().length?(this.signalNameOnContract.contractName="",this.receiveStateShow=this.signalNameOnContract.receiveStateShow,this.receiveStateEnable=this.signalNameOnContract.receiveStateEnable,this.receiveStateCustomStyle=this.signalNameOnContract.receiveStateCustomStyle,this.receiveStateCustomClass=this.signalNameOnContract.receiveStateCustomClass,this.receiveStateSelectedButton=this.signalNameOnContract.receiveStateSelectedButton):""===this.signalNameOnContract.contractName&&(this.signalNameOnContract.contractName=this.contractName,this.signalNameOnContract.receiveStateShow=this.receiveStateShow,this.signalNameOnContract.receiveStateEnable=this.receiveStateEnable,this.signalNameOnContract.receiveStateCustomStyle=this.receiveStateCustomStyle,this.signalNameOnContract.receiveStateCustomClass=this.receiveStateCustomClass,this.signalNameOnContract.receiveStateSelectedButton=this.receiveStateSelectedButton),this.debounceButtonDisplay()}handleReceiveStateSelectedButton(){Array.from(this._elContainer.children).forEach(t=>{var e;const i=t.children[0];i.removeAttribute("selected"),Number(null===(e=t.getAttribute("id"))||void 0===e?void 0:e.replace(this.getCrId()+"-",""))===this.selectedButton&&i.setAttribute("selected","true")})}getTargetElementForCssClassesAndStyle(){return this._elContainer}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}}e.Ch5TabButton=u,u.ELEMENT_NAME="ch5-tab-button",u.BUTTON_TYPES=["default","danger","text","warning","info","success","primary","secondary"],u.BUTTON_HALIGN_LABEL_POSITIONS=["center","left","right"],u.BUTTON_VALIGN_LABEL_POSITIONS=["middle","top","bottom"],u.BUTTON_SHAPES=["rectangle","rounded-rectangle","tab"],u.BUTTON_ICON_POSITIONS=["first","last","top","bottom"],u.ORIENTATION=["horizontal","vertical"],u.BUTTON_ICON_URL_FILL_TYPE=["stretch","stretch-aspect","center","tile","initial"],u.COMPONENT_DATA={ORIENTATION:{default:u.ORIENTATION[0],values:u.ORIENTATION,key:"orientation",attribute:"orientation",classListPrefix:"--orientation-"},BUTTON_TYPE:{default:u.BUTTON_TYPES[0],values:u.BUTTON_TYPES,key:"buttonType",attribute:"buttonType",classListPrefix:"--button-type-"},BUTTON_HALIGN_LABEL:{default:u.BUTTON_HALIGN_LABEL_POSITIONS[0],values:u.BUTTON_HALIGN_LABEL_POSITIONS,key:"buttonHAlignLabel",attribute:"buttonHAlignLabel",classListPrefix:"--button-halign-label-"},BUTTON_VALIGN_LABEL:{default:u.BUTTON_VALIGN_LABEL_POSITIONS[0],values:u.BUTTON_VALIGN_LABEL_POSITIONS,key:"buttonVAlignLabel",attribute:"buttonVAlignLabel",classListPrefix:"--button-valign-label-"},BUTTON_ICON_POSITION:{default:u.BUTTON_ICON_POSITIONS[0],values:u.BUTTON_ICON_POSITIONS,key:"buttonIconPosition",attribute:"buttonIconPosition",classListPrefix:"--button-icon-position-"},BUTTON_SHAPE:{default:u.BUTTON_SHAPES[0],values:u.BUTTON_SHAPES,key:"buttonShape",attribute:"buttonShape",classListPrefix:"--button-shape-"},BUTTON_ICON_URL_FILL_TYPE:{default:u.BUTTON_ICON_URL_FILL_TYPE[0],values:u.BUTTON_ICON_URL_FILL_TYPE,key:"buttonIconUrlFillType",attribute:"buttonIconUrlFillType",classListPrefix:"--button-icon-url-fill-type-"}},u.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},h.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestateselectedbutton:{direction:"state",numericJoin:1,contractName:!0}}),u.COMPONENT_PROPERTIES=[{default:"",name:"indexId",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:3,name:"numberOfItems",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:3,numberProperties:{min:2,max:15,conditionalMin:2,conditionalMax:15,conditionalMinValue:2,conditionalMaxValue:15},isObservableProperty:!0},{default:u.ORIENTATION[0],enumeratedValues:u.ORIENTATION,name:"orientation",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:u.ORIENTATION[0],isObservableProperty:!0},{default:null,enumeratedValues:u.BUTTON_ICON_URL_FILL_TYPE,name:"buttonIconUrlFillType",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:null,isObservableProperty:!0,isNullable:!0},{default:u.BUTTON_TYPES[0],enumeratedValues:u.BUTTON_TYPES,name:"buttonType",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:u.BUTTON_TYPES[0],isObservableProperty:!0},{default:u.BUTTON_HALIGN_LABEL_POSITIONS[0],enumeratedValues:u.BUTTON_HALIGN_LABEL_POSITIONS,name:"buttonHAlignLabel",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:u.BUTTON_HALIGN_LABEL_POSITIONS[0],isObservableProperty:!0},{default:u.BUTTON_VALIGN_LABEL_POSITIONS[0],enumeratedValues:u.BUTTON_VALIGN_LABEL_POSITIONS,name:"buttonVAlignLabel",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:u.BUTTON_VALIGN_LABEL_POSITIONS[0],isObservableProperty:!0},{default:u.BUTTON_ICON_POSITIONS[0],enumeratedValues:u.BUTTON_ICON_POSITIONS,name:"buttonIconPosition",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:u.BUTTON_ICON_POSITIONS[0],isObservableProperty:!0},{default:u.BUTTON_SHAPES[0],enumeratedValues:u.BUTTON_SHAPES,name:"buttonShape",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:u.BUTTON_SHAPES[0],isObservableProperty:!0},{default:!1,name:"buttonSelected",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"buttonPressed",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:"",name:"buttonIconClass",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonIconUrl",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonLabelInnerHtml",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateSelected",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateLabel",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateScriptLabelHtml",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateIconClass",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateIconUrl",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonSendEventOnClick",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateShow",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateEnable",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateSelectedButton",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"contractName",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:!1,name:"useContractForEnable",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForShow",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForCustomStyle",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForCustomClass",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForEachButtonSelection",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0}],u.registerCustomElement(),u.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.refreshCh5Template=e.ch5TemplateSubject=void 0;const s=i(14);e.ch5TemplateSubject=new s.Subject;e.refreshCh5Template=t=>{e.ch5TemplateSubject.next(t)}},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LogMessagesFilter=void 0;const n=i(22),r=s(i(11)),a=i(27);class o{constructor(t,e,i){this._regularExpression="",this.source=a.Ch5Debug.getConfigKeyValue(a.Ch5Debug.DEBUG_MESSAGE_FILTER_SOURCE_KEY),this.level=(0,r.default)(t)?o.getDefaultLevel():t,this.regularExpression=i||this._regularExpression,this.source=e||this.source}static getDefaultLevel(){const t=a.Ch5Debug.getConfigKeyValue(a.Ch5Debug.DEBUG_MESSAGE_FILTER_LEVEL_KEY);return t||n.LogLevelEnum.warning}get regularExpression(){return this._regularExpression}set regularExpression(t){if((0,r.default)(t))this._regularExpression="";else if("/"!==t.charAt(0)||"/"!==t.charAt(t.length-1))this._regularExpression=t;else{const e=t.lastIndexOf("/");this._regularExpression=t.substr(1).substring(0,e-1)}}undateSourceFromConfig(){this.source=a.Ch5Debug.getConfigKeyValue(a.Ch5Debug.DEBUG_MESSAGE_FILTER_SOURCE_KEY)}clearFilter(){this.level=o.getDefaultLevel(),this.regularExpression="",this.source=""}applyFilter(t){const e=this.isMatchingFilterLevel(t.level),i=this.isMatchingFilterRegex(t.message),s=this.isMatchingFilterSource(t.source);return e&&i&&s}isMatchingFilterLevel(t){return t>=this.level}isMatchingFilterRegex(t){if(!this.regularExpression)return!0;return!!new RegExp(this.regularExpression,"i").test(t)}isMatchingFilterSource(t){return!this.source||!(0,r.default)(t)&&t.indexOf(this.source)>-1}}e.LogMessagesFilter=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var s=i(288);Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return s.Logger}})},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractAppender=void 0;const n=i(14),r=s(i(11));e.AbstractAppender=class{constructor(t){this._sendLogTimeOffset={},this.isInitialized=!1,this.isInitializedSubject=new n.BehaviorSubject(this.isInitialized),this.sendLogTimeOffset=(0,n.timer)(t)}set sendLogTimeOffset(t){(0,r.default)(t)||(this._sendLogTimeOffset=t)}get sendLogTimeOffset(){return this._sendLogTimeOffset}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriSchemaValidation=void 0,e.uriSchemaValidation=function(t){return""!==t}},function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return t.apply(e,i)}}},function(t,e,i){"use strict";var s=i(9);function n(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var r;if(i)r=i(e);else if(s.isURLSearchParams(e))r=e.toString();else{var a=[];s.forEach(e,(function(t,e){null!=t&&(s.isArray(t)?e+="[]":t=[t],s.forEach(t,(function(t){s.isDate(t)?t=t.toISOString():s.isObject(t)&&(t=JSON.stringify(t)),a.push(n(e)+"="+n(t))})))})),r=a.join("&")}if(r){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}},function(t,e,i){"use strict";t.exports=function(t,e,i,s,n){return t.config=e,i&&(t.code=i),t.request=s,t.response=n,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,i){"use strict";var s=i(9),n=i(304),r=i(305),a=i(105),o=i(306),l=i(309),h=i(310),u=i(108);t.exports=function(t){return new Promise((function(e,i){var c=t.data,d=t.headers,p=t.responseType;s.isFormData(c)&&delete d["Content-Type"];var g=new XMLHttpRequest;if(t.auth){var m=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";d.Authorization="Basic "+btoa(m+":"+b)}var f=o(t.baseURL,t.url);function v(){if(g){var s="getAllResponseHeaders"in g?l(g.getAllResponseHeaders()):null,r={data:p&&"text"!==p&&"json"!==p?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:s,config:t,request:g};n(e,i,r),g=null}}if(g.open(t.method.toUpperCase(),a(f,t.params,t.paramsSerializer),!0),g.timeout=t.timeout,"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(v)},g.onabort=function(){g&&(i(u("Request aborted",t,"ECONNABORTED",g)),g=null)},g.onerror=function(){i(u("Network Error",t,null,g)),g=null},g.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),i(u(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},s.isStandardBrowserEnv()){var _=(t.withCredentials||h(f))&&t.xsrfCookieName?r.read(t.xsrfCookieName):void 0;_&&(d[t.xsrfHeaderName]=_)}"setRequestHeader"in g&&s.forEach(d,(function(t,e){void 0===c&&"content-type"===e.toLowerCase()?delete d[e]:g.setRequestHeader(e,t)})),s.isUndefined(t.withCredentials)||(g.withCredentials=!!t.withCredentials),p&&"json"!==p&&(g.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&g.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){g&&(g.abort(),i(t),g=null)})),c||(c=null),g.send(c)}))}},function(t,e,i){"use strict";var s=i(106);t.exports=function(t,e,i,n,r){var a=new Error(t);return s(a,e,i,n,r)}},function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,i){"use strict";var s=i(9);t.exports=function(t,e){e=e||{};var i={},n=["url","method","data"],r=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function l(t,e){return s.isPlainObject(t)&&s.isPlainObject(e)?s.merge(t,e):s.isPlainObject(e)?s.merge({},e):s.isArray(e)?e.slice():e}function h(n){s.isUndefined(e[n])?s.isUndefined(t[n])||(i[n]=l(void 0,t[n])):i[n]=l(t[n],e[n])}s.forEach(n,(function(t){s.isUndefined(e[t])||(i[t]=l(void 0,e[t]))})),s.forEach(r,h),s.forEach(a,(function(n){s.isUndefined(e[n])?s.isUndefined(t[n])||(i[n]=l(void 0,t[n])):i[n]=l(void 0,e[n])})),s.forEach(o,(function(s){s in e?i[s]=l(t[s],e[s]):s in t&&(i[s]=l(void 0,t[s]))}));var u=n.concat(r).concat(a).concat(o),c=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===u.indexOf(t)}));return s.forEach(c,h),i}},function(t,e,i){"use strict";function s(t){this.message=t}s.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},s.prototype.__CANCEL__=!0,t.exports=s},,function(t,e,i){t.exports=i(21)},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(115),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Animation=void 0;const s=i(3),n=i(5),r=i(2),a=i(4);class o extends s.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-animation",this._elContainer={},this._iconContainer={},this.ignoreAttributes=["receivestatecustomclass","receivestatecustomstyle","receivestateenable","receivestateshowpulse","receivestatehidepulse","sendeventonshow"],this.logger.start("constructor()",o.ELEMENT_NAME),this._wasInstatiated||this.createInternalHtml(),this._wasInstatiated=!0,this._ch5Properties=new a.Ch5Properties(this,o.COMPONENT_PROPERTIES),this.updateCssClass()}set startAnimating(t){this._ch5Properties.set("startAnimating",t,()=>{this.handleStartAnimating()})}get startAnimating(){return this._ch5Properties.get("startAnimating")}set size(t){this._ch5Properties.set("size",t,()=>{this.handleSize()})}get size(){return this._ch5Properties.get("size")}set animationStyle(t){this._ch5Properties.set("animationStyle",t,()=>{this.handleAnimationStyle(t)})}get animationStyle(){return this._ch5Properties.get("animationStyle")}set receiveStateAnimate(t){this._ch5Properties.set("receiveStateAnimate",t,null,t=>{this._ch5Properties.setForSignalResponse("startAnimating",t,()=>{this.handleStartAnimating()})})}get receiveStateAnimate(){return this._ch5Properties.get("receiveStateAnimate")}set receiveStateFramesPerSecond(t){this._ch5Properties.set("receiveStateFramesPerSecond",t,null,t=>{this.handleFramesPerSecond(t)})}get receiveStateFramesPerSecond(){return this._ch5Properties.get("receiveStateFramesPerSecond")}set receiveStateAnimationStyle(t){this._ch5Properties.set("receiveStateAnimationStyle",t,null,t=>{this._ch5Properties.setForSignalResponse("animationStyle",t,()=>{this.handleAnimationStyle(t)})})}get receiveStateAnimationStyle(){return this._ch5Properties.get("receiveStateAnimationStyle")}static registerSignalAttributeTypes(){r.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(o.ELEMENT_NAME,o.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(o.ELEMENT_NAME)&&window.customElements.define(o.ELEMENT_NAME,o)}static get observedAttributes(){const t=s.Ch5Common.observedAttributes,e=[];for(let t=0;t<o.COMPONENT_PROPERTIES.length;t++)!0===o.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(o.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-animation attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=o.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()",o.ELEMENT_NAME),this.hasAttribute("role")||this.setAttribute("role",n.Ch5RoleAttributeMapping.ch5Animation),this.attachEventListeners(),this.initAttributes(),this.initCommonMutationObserver(this),customElements.whenDefined("ch5-animation").then(()=>{this.componentLoadedEvent(o.ELEMENT_NAME,this.id)}),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),this.logger.stop()}createInternalHtml(){this.logger.start("createInternalHtml()"),this._elContainer=document.createElement("div"),this._iconContainer=document.createElement("i"),this._iconContainer.classList.add("fas"),this._iconContainer.classList.add(o.ANIMATION_STYLES_CLASS[0]),this._iconContainer.classList.add("fa-spin"),this._elContainer.appendChild(this._iconContainer),this._elContainer.classList.add("ch5-animation"),this.appendChild(this._elContainer),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<o.COMPONENT_PROPERTIES.length;e++)if(!0===o.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(o.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=o.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}attachEventListeners(){super.attachEventListeners()}removeEventListeners(){super.removeEventListeners()}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}handleStartAnimating(){["true","false"].forEach(t=>{this._iconContainer.classList.remove("ch5-animation--start-animating-"+t)}),this._iconContainer.classList.add("ch5-animation--start-animating-"+this.startAnimating.toString())}handleFramesPerSecond(t){t<=o.FRAMES_PER_SECOND_MIN?this._iconContainer.setAttribute("style",`animation-duration:${o.DEFAULT_FRAMES_PER_SECOND}ms;`):t>=o.FRAMES_PER_SECOND_MAX?this._iconContainer.setAttribute("style",`animation-duration:${o.MAX_FRAMES_PER_SECOND}ms;`):t>o.FRAMES_PER_SECOND_MIN&&t<o.FRAMES_PER_SECOND_MAX&&this._iconContainer.setAttribute("style",`animation-duration:${15*(o.FRAMES_PER_SECOND_MAX-t)}ms;`)}handleSize(){Array.from(o.COMPONENT_DATA.SIZE.values).forEach(t=>{this._iconContainer.classList.remove(o.ELEMENT_NAME+o.COMPONENT_DATA.SIZE.classListPrefix+t)}),this._iconContainer.classList.add(o.ELEMENT_NAME+o.COMPONENT_DATA.SIZE.classListPrefix+this.size)}handleAnimationStyle(t){o.ANIMATION_STYLES_CLASS.forEach(t=>{this._iconContainer.classList.remove(t)}),this._iconContainer.classList.add("spinner"===t?o.ANIMATION_STYLES_CLASS[1]:"ring"===t?o.ANIMATION_STYLES_CLASS[0]:"roller"===t?o.ANIMATION_STYLES_CLASS[2]:o.ANIMATION_STYLES_CLASS[0])}updateCssClass(){this.logger.start("UpdateCssClass"),super.updateCssClasses(),this._iconContainer.classList.add(o.ELEMENT_NAME+o.COMPONENT_DATA.SIZE.classListPrefix+this.size),this._iconContainer.classList.add("ch5-animation--start-animating-"+this.startAnimating.toString()),this._iconContainer.setAttribute("style",`animation-duration:${o.DEFAULT_FRAMES_PER_SECOND}ms;`),this.logger.stop()}getTargetElementForCssClassesAndStyle(){return this._elContainer}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}}e.Ch5Animation=o,o.SIZES=["regular","small","large","x-large"],o.ANIMATION_STYLES=["ring","spinner","roller"],o.ANIMATION_STYLES_CLASS=["fa-circle-notch","fa-spinner","fa-sync"],o.COMPONENT_DATA={SIZE:{default:o.SIZES[0],values:o.SIZES,key:"size",attribute:"size",classListPrefix:"--size-"},ANIMATION_STYLE:{default:o.ANIMATION_STYLES[0],values:o.ANIMATION_STYLES,key:"animationstyle",attribute:"animationstyle",classListPrefix:"--style-"}},o.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestateanimate:{direction:"state",booleanJoin:1,contractName:!0},receivestateframespersecond:{direction:"state",numericJoin:1,contractName:!0},receivestateanimationstyle:{direction:"state",stringJoin:1,contractName:!0}}),o.COMPONENT_PROPERTIES=[{default:!0,name:"startAnimating",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:o.SIZES[0],enumeratedValues:o.SIZES,name:"size",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:o.SIZES[0],isObservableProperty:!0},{default:o.ANIMATION_STYLES[0],enumeratedValues:o.ANIMATION_STYLES,name:"animationStyle",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:o.ANIMATION_STYLES[0],isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateAnimate",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateFramesPerSecond",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateAnimationStyle",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}],o.ELEMENT_NAME="ch5-animation",o.DEFAULT_FRAMES_PER_SECOND=1500,o.MAX_FRAMES_PER_SECOND=1,o.FRAMES_PER_SECOND_MIN=3,o.FRAMES_PER_SECOND_MAX=100,o.registerCustomElement(),o.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Uid=void 0;class s{static getUid(){return s._prefix+ ++s._id}}e.Ch5Uid=s,s._id=0,s._prefix="cr-id-"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bridgeReceiveObjectFromNative=e.bridgeReceiveStringFromNative=e.bridgeReceiveBooleanFromNative=e.bridgeReceiveIntegerFromNative=void 0;const s=i(7),n=i(27),r=i(8),a={},o={};function l(t,e){if(n.Ch5Debug.info("bridge.rcbIntervalTimerCallback"," start ","signalName "+t," rcbObject ",e),0===e.rcb.time)return;const i=(e.rcb.value-e.rcb.startv)/e.rcb.time;let r=i*(Date.now()-e.rcb.startt)+e.rcb.startv;const a=s.Ch5SignalFactory.getInstance().getNumberSignal(t);r=i>0?Math.floor(r):i<0?Math.ceil(r):Math.round(r),null!==a&&a.value!==r&&a.fromSignalBridge(r)}function h(t,e){n.Ch5Debug.info("bridge.rcbTimerCallback"," start ","signalName "+t," rcbObject ",e);const i=e.rcb.value,r=s.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==r&&r.fromSignalBridge(i);const a=s.Ch5SignalFactory.getInstance().getObjectSignal(t),o={rcb:{value:i,time:0}};null!==a&&a.fromSignalBridge(o),u(t)}function u(t){n.Ch5Debug.info("bridge.clearTimersForSignal"," start ","signalName "+t),a.hasOwnProperty(t)&&(window.clearInterval(a[t]),delete a[t]),o.hasOwnProperty(t)&&(window.clearTimeout(o[t]),delete o[t])}e.bridgeReceiveIntegerFromNative=function(t,e){const i=r.Ch5Signal.getSubscriptionSignalName(t);n.Ch5Debug.info("bridgeReceiveIntegerFromNative",'"'+i+'":'+e),u(i);const a=s.Ch5SignalFactory.getInstance().getNumberSignal(i);null!==a&&a.fromSignalBridge(e);const o=s.Ch5SignalFactory.getInstance().getObjectSignal(i),l={rcb:{value:e,time:0}};null!==o&&o.fromSignalBridge(l)},e.bridgeReceiveBooleanFromNative=function(t,e){const i=r.Ch5Signal.getSubscriptionSignalName(t);n.Ch5Debug.info("bridgeReceiveBooleanFromNative",'"'+i+'":'+e);const a=s.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==a&&a.fromSignalBridge(e)},e.bridgeReceiveStringFromNative=function(t,e){const i=r.Ch5Signal.getSubscriptionSignalName(t);n.Ch5Debug.info("bridgeReceiveStringFromNative",'"'+i+'":"'+e+'"');const a=s.Ch5SignalFactory.getInstance().getStringSignal(i);null!==a&&a.fromSignalBridge(e)},e.bridgeReceiveObjectFromNative=function(t,e){const i=r.Ch5Signal.getSubscriptionSignalName(t),c="bridgeReceiveObjectFromNative";n.Ch5Debug.shouldDisplay(c)&&n.Ch5Debug.info(c,'"'+i+"\":'"+JSON.stringify(e)+"'");const d=s.Ch5SignalFactory.getInstance().getObjectSignal(i);if(null!==d)if((p=e).hasOwnProperty("rcb")&&p.rcb.hasOwnProperty("value")&&p.rcb.hasOwnProperty("time")){let t=0;const r=s.Ch5SignalFactory.getInstance().getNumberSignal(i);null!==r&&(t=r.value),d.fromSignalBridge(function(t,e,i){n.Ch5Debug.info("bridge.processReceivedRcb"," process rcb ","signalName "+t," rcbObject ",e," current scalar value",i),u(t);const s={rcb:{value:e.rcb.value,time:e.rcb.time,startv:i,startt:Date.now()}},r=window.setTimeout(h,e.rcb.time,t,s);if(o[t]=r,100<e.rcb.time){const e=window.setInterval(l,100,t,s);a[t]=e}return s}(i,e,t))}else d.fromSignalBridge(e);var p}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSubscriptionsCount=void 0;const s=i(7);e.getSubscriptionsCount=function(){return s.Ch5SignalFactory.getInstance().getStates()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countNumberOfCh5Components=void 0,e.countNumberOfCh5Components=function(t){const e={parent:t.tagName,total:0},i=t.getElementsByTagName("*");for(const t of i){const i=t.tagName;if(i.startsWith("CH5-")){e.total++;const t=e[i];e[i]=void 0===t?1:t+1}else if(t.hasAttributes()){const i=t.attributes;for(let t=i.length-1;t>=0;t--){const s=i[t].name;if(s.startsWith("data-ch5")&&"data-ch5-id"!==s&&!s.endsWith("subs-key")&&!s.endsWith("sub-key")){e.total++;const t=e[s];e[s]=void 0===t?1:t+1}}}}return e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.textformat=void 0,e.textformat=function(t,...e){let i=t;for(let t=0,s=e.length;t<s;t++)i=i.replace(new RegExp("\\{"+(+t+1)+"\\}","g"),e[t]);return i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.subscribeStateScript=e.unsubscribeStateScript=e.generateSubSigScriptKey=e.subscribeStateScriptSigSubs=void 0;const s=i(39),n=i(59),r=i(60),a=i(8);e.subscribeStateScriptSigSubs={};let o=0;function l(){return"ch5SubSigScript-"+ ++o}function h(t,e,i){let s=e;const r=t.values();let a=r.next(),o="",l="";for(;void 0!==a.value;){l=a.value.split(".")[0];o=a.value.split(".").slice(1).join(".");const t=(0,n.getState)(l,o);if(null===t){s=i;break}s=s.replace(new RegExp("\\{\\{"+a.value+"\\}\\}","g"),t),a=r.next()}return i!==s&&(s=new Function("return "+s)()),s}e.generateSubSigScriptKey=l,e.unsubscribeStateScript=function(t){e.subscribeStateScriptSigSubs.hasOwnProperty(t)&&e.subscribeStateScriptSigSubs[t].forEach(t=>{(0,r.unsubscribeState)(t.sigType,t.sigName,t.sigSub)})},e.subscribeStateScript=function(t,i,n){const r=new Set;null==n&&(n="undefined"),t.replace(/{{([bns]\.([A-Za-z]|[0-9])([A-Za-z0-9_.])*)}}/g,(t,...e)=>(void 0===e[0]||r.add(e[0]),""));let o="",u="";const c=r.values();let d=c.next();const p=[];for(;void 0!==d.value;){u=d.value.split(".")[0];let e;o=d.value.split(".").slice(1).join("."),o=a.Ch5Signal.getSubscriptionSignalName(o);const l=()=>{const e=h(r,t,n);"function"==typeof i&&i.bind(null,e)()};e=(0,s.subscribeState)(u,o,l);const g={sigName:o,sigType:u,sigSub:e};p.push(g),d=c.next()}const g=l();e.subscribeStateScriptSigSubs[g]=p;const m=h(r,t,n);return"function"==typeof i&&i.bind(null,m)(),g}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerTranslationInterface=void 0;const s=i(28),n=i(53),r=i(23);e.registerTranslationInterface=function(t,e,i){void 0!==e&&void 0!==i&&""!==e.trim()&&""!==i.trim()&&(e=e.trim(),i=i.trim(),n.Ch5TranslationConfiguration.translationTokenStartDelimiter=r.Ch5TranslationUtility.getInstance().translatorBeginKey=e,n.Ch5TranslationConfiguration.translationTokenEndDelimiter=r.Ch5TranslationUtility.getInstance().translatorEndKey=i),s.translationFactory.translator=t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCrestronTouchscreen=void 0,e.isCrestronTouchscreen=function(){return!!window.navigator.userAgent.toLowerCase().includes("crestron")||("undefined"!=typeof JSInterface&&void 0!==JSInterface.bridgeSendBooleanToNative||("undefined"!=typeof webkit&&void 0!==webkit.messageHandlers&&void 0!==webkit.messageHandlers.bridgeSendBooleanToNative||"undefined"!=typeof CommunicationInterface&&void 0!==CommunicationInterface.bridgeSendBooleanToNative))}},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.signalNameForLibraryBuildDate=e.signalNameForLibraryVersion=e.buildDate=e.version=void 0;const n=i(7),r=s(i(63));e.version="2.5.0",e.buildDate="2023-09-04",e.signalNameForLibraryVersion="Csig.library.ver",e.signalNameForLibraryBuildDate="Csig.library.date";class a{static init(){a.displayVersionMessage(),a.initVersionSignals()}static displayVersionMessage(){const t=`Crestron Component Library version ${e.version} build date ${e.buildDate}`;console.log(t)}static initVersionSignals(){const t=n.Ch5SignalFactory.getInstance(),i=t.getStringSignal(e.signalNameForLibraryVersion),s=t.getStringSignal(e.signalNameForLibraryBuildDate);null===i||(0,r.default)(e.version)?console.log("Error: unable to create signal containing library version"):i.publish(e.version),null===s||(0,r.default)(e.buildDate)?console.log("Error: unable to create signal containing library build date"):s.publish(e.buildDate)}}a.init()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Heartbeats=void 0;const s=i(0),n=i(39),r=i(38);var a;!function(t){t.CsigHeatbeatRequest="Csig.HeartbeatRequest",t.CsigHeatbeatResponse="Csig.HeartbeatResponse"}(a||(a={}));class o{constructor(){this._heartbeatRequestSub=(0,n.subscribeState)("object",a.CsigHeatbeatRequest,t=>{(0,r.publishEvent)("object",a.CsigHeatbeatResponse,t)})}static getInstance(){return(0,s.isNil)(this._instance)&&(this._instance=new o),this._instance}}e.Ch5Heartbeats=o,o.getInstance()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Platform=void 0;const s=i(0),n=i(7);class r{constructor(t){this._ch5PlatformInfoSignal=t.getObjectSignal(r.CSIG_PLATFORM_INFO,!0),this._ch5PlatformInfo={capabilities:{supportsTouchActivity:!0,supportCredentialIntercept:{http:"",https:""}},version:"",name:""},this._updateCallbacks=new Array}static getInstance(t){return(0,s.isNil)(this._instance)&&((0,s.isNil)(t)&&(t=n.Ch5SignalFactory.getInstance()),this._instance=new r(t)),this._instance}init(){(0,s.isNil)(this._ch5PlatformInfoSignal)||this._ch5PlatformInfoSignal.subscribe(t=>{if(!(0,s.isNil)(t)&&0!==Object.keys(t).length){if(!Object.isFrozen(this._ch5PlatformInfo)){const e=t;this._ch5PlatformInfo=Object.freeze(e)}this._updateCallbacks.forEach(t=>{t(this._ch5PlatformInfo)})}})}registerUpdateCallback(t){t(this._ch5PlatformInfo),this._updateCallbacks.push(t)}getPlatformInfo(){return this._ch5PlatformInfo}}e.Ch5Platform=r,r.CSIG_PLATFORM_INFO="Csig.Platform_Info",r.getInstance().init()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isIosDevice=void 0,e.isIosDevice=function(){if(("iPad"===window.navigator.platform||"iPhone"===window.navigator.platform)&&navigator.maxTouchPoints>=1){if(/iPad|iPhone/.test(window.navigator.userAgent))return!0}else if("MacIntel"===window.navigator.platform&&/Macintosh/.test(window.navigator.userAgent))return!0;return!1}},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5MutationObserver=void 0;const n=s(i(0));class r{constructor(t){this.isConnected=!1,this._element={},this._element=t,this._mutationsObserver=new MutationObserver(t=>{t.forEach(t=>{"attributes"!==t.type||"style"!==t.attributeName&&"inert"!==t.attributeName||this._updateComponentVisibility(t.target)})}),this._mutationsObserverConfig={attributes:!0,attributeOldValue:!0,childList:!1,subtree:!1,attributeFilter:["style","inert"]}}static checkElementValidity(t){return!n.default.isNil(t)&&"BODY"!==t.nodeName&&(void 0===t.classList||t.classList.length<=0||r.ELEMENTS_MO_EXCEPTION.indexOf(t.classList[0])<0)}observe(t){this._mutationsObserver.observe(t,this._mutationsObserverConfig)}disconnectObserver(){this._mutationsObserver instanceof MutationObserver&&(this.isConnected=!1,this._mutationsObserver.disconnect())}_updateComponentVisibility(t){const e=t;n.default.isNil(e.offsetParent)||!1===this._shouldUpdateComponentVisibility(t)?this._element.updateElementVisibility(!1):this._element.updateElementVisibility(!0)}_shouldUpdateComponentVisibility(t){let e={};return!(document&&document.defaultView&&(e=document.defaultView.getComputedStyle(t),"0"===e.opacity||"hidden"===e.visibility||t.hasAttribute("inert")))}}e.Ch5MutationObserver=r,r.ELEMENTS_MO_EXCEPTION=["swiper-wrapper"]},function(t,e,i){var s=i(133),n=i(136),r=i(148),a=i(150),o=i(151),l=i(152),h=i(65),u=i(154),c=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(o(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||u(t)||r(t)))return!t.length;var e=n(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(h(t))return!s(t).length;for(var i in t)if(c.call(t,i))return!1;return!0}},function(t,e,i){var s=i(65),n=i(134),r=Object.prototype.hasOwnProperty;t.exports=function(t){if(!s(t))return n(t);var e=[];for(var i in Object(t))r.call(t,i)&&"constructor"!=i&&e.push(i);return e}},function(t,e,i){var s=i(135)(Object.keys,Object);t.exports=s},function(t,e){t.exports=function(t,e){return function(i){return t(e(i))}}},function(t,e,i){var s=i(137),n=i(144),r=i(145),a=i(146),o=i(147),l=i(30),h=i(70),u=h(s),c=h(n),d=h(r),p=h(a),g=h(o),m=l;(s&&"[object DataView]"!=m(new s(new ArrayBuffer(1)))||n&&"[object Map]"!=m(new n)||r&&"[object Promise]"!=m(r.resolve())||a&&"[object Set]"!=m(new a)||o&&"[object WeakMap]"!=m(new o))&&(m=function(t){var e=l(t),i="[object Object]"==e?t.constructor:void 0,s=i?h(i):"";if(s)switch(s){case u:return"[object DataView]";case c:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case g:return"[object WeakMap]"}return e}),t.exports=m},function(t,e,i){var s=i(24)(i(15),"DataView");t.exports=s},function(t,e,i){var s=i(66),n=i(141),r=i(69),a=i(70),o=/^\[object .+?Constructor\]$/,l=Function.prototype,h=Object.prototype,u=l.toString,c=h.hasOwnProperty,d=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!r(t)||n(t))&&(s(t)?d:o).test(a(t))}},function(t,e,i){var s=i(67),n=Object.prototype,r=n.hasOwnProperty,a=n.toString,o=s?s.toStringTag:void 0;t.exports=function(t){var e=r.call(t,o),i=t[o];try{t[o]=void 0;var s=!0}catch(t){}var n=a.call(t);return s&&(e?t[o]=i:delete t[o]),n}},function(t,e){var i=Object.prototype.toString;t.exports=function(t){return i.call(t)}},function(t,e,i){var s,n=i(142),r=(s=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"";t.exports=function(t){return!!r&&r in t}},function(t,e,i){var s=i(15)["__core-js_shared__"];t.exports=s},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,i){var s=i(24)(i(15),"Map");t.exports=s},function(t,e,i){var s=i(24)(i(15),"Promise");t.exports=s},function(t,e,i){var s=i(24)(i(15),"Set");t.exports=s},function(t,e,i){var s=i(24)(i(15),"WeakMap");t.exports=s},function(t,e,i){var s=i(149),n=i(41),r=Object.prototype,a=r.hasOwnProperty,o=r.propertyIsEnumerable,l=s(function(){return arguments}())?s:function(t){return n(t)&&a.call(t,"callee")&&!o.call(t,"callee")};t.exports=l},function(t,e,i){var s=i(30),n=i(41);t.exports=function(t){return n(t)&&"[object Arguments]"==s(t)}},function(t,e){var i=Array.isArray;t.exports=i},function(t,e,i){var s=i(66),n=i(71);t.exports=function(t){return null!=t&&n(t.length)&&!s(t)}},function(t,e,i){(function(t){var s=i(15),n=i(153),r=e&&!e.nodeType&&e,a=r&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===r?s.Buffer:void 0,l=(o?o.isBuffer:void 0)||n;t.exports=l}).call(this,i(37)(t))},function(t,e){t.exports=function(){return!1}},function(t,e,i){var s=i(155),n=i(156),r=i(157),a=r&&r.isTypedArray,o=a?n(a):s;t.exports=o},function(t,e,i){var s=i(30),n=i(71),r=i(41),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return r(t)&&n(t.length)&&!!a[s(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,i){(function(t){var s=i(68),n=e&&!e.nodeType&&e,r=n&&"object"==typeof t&&t&&!t.nodeType&&t,a=r&&r.exports===n&&s.process,o=function(){try{var t=r&&r.require&&r.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=o}).call(this,i(37)(t))},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Property=void 0;const n=s(i(0)),r=i(8),a=i(7);e.Ch5Property=class{constructor(t,e){this.ch5Component=t,this.property=e,this._attributeName="",this._signalName="",this._signalValue="",this._signalState="",this._propertyName="",this._propertySignalValue=null,this.initializedValue=!1,this._propertySignalType="",this._attributeName=e.name.toLowerCase(),this._propertyName=e.name,this._propertyValue=e.default,e.signalType&&(this._propertySignalType=e.signalType)}get signalType(){return this._propertySignalType}get value(){return this._propertyValue}set value(t){this.processValue(t,!1)}get name(){return this._propertyName}get attributeName(){return this._attributeName}get signalName(){return this._signalName}set signalName(t){this._signalName=t}get signalValue(){return this._signalValue}set signalValue(t){this._signalValue=t}get signalState(){return this._signalState}set signalState(t){this._signalState=t}setValue(t,e,i){this.processValue(t,!1,e,i)}setValueFromSignal(t,e,i){this.processValue(t,!0,e,i)}clearProperty(){this._signalName="",this._signalValue="",this._signalState="",this._propertyValue=this.property.default,this._propertySignalValue=null,this.initializedValue=!1}processValue(t,e,i,s){if(n.default.isNil(t)&&this.property.isNullable&&!0===this.property.isNullable)return this._propertyValue=null,this.ch5Component.removeAttribute(this._attributeName),n.default.isNil(i)||i(),!0;if("boolean"===this.property.type){let s;if(typeof t===this.property.type)s=t;else if(this.ch5Component.hasAttribute(this._attributeName)){let e=t;[!0,!1,"true","false","0","1",0,1,"",null].indexOf(e)<0&&(e=this.property.default),s=this.toBoolean(e,this.property.valueOnAttributeEmpty)}else s=this.property.default;if(this._propertyValue!==s||!0===e||!1===this.initializedValue)return this._propertyValue=s,this.initializedValue=!0,["true","false",""].indexOf(String(this.ch5Component.getAttribute(this._attributeName)))<0&&!0===this.property.removeAttributeOnNull?this.ch5Component.hasAttribute(this._attributeName)||!0===e?this.ch5Component.setAttribute(this._attributeName,String(s)):this.ch5Component.removeAttribute(this._attributeName):this.ch5Component.setAttribute(this._attributeName,String(s)),n.default.isNil(i)||i(),!0}else if("enum"===this.property.type){if(this._propertyValue!==t)return this.property.enumeratedValues&&this.property.enumeratedValues.length>0&&this.property.enumeratedValues.indexOf(t)>=0?(this._propertyValue=String(t),this.ch5Component.setAttribute(this._attributeName,String(t))):n.default.isNil(this.property.default)?(this.ch5Component.removeAttribute(this._attributeName),this._propertyValue=String(this.property.default)):(this._propertyValue=String(this.property.default),this.ch5Component.setAttribute(this._attributeName,String(this.property.default))),n.default.isNil(i)||i(),!0}else if("number"===this.property.type){if(!isNaN(t)&&Number.isInteger(parseInt(t,10))||(t=this.property.default,this.ch5Component.setAttribute(this._attributeName,String(t))),t=Number(t),this._propertyValue!==t)return this.property.numberProperties?((t<this.property.numberProperties.min||t>this.property.numberProperties.max)&&(t>this.property.numberProperties.conditionalMax?t=this.property.numberProperties.conditionalMaxValue:t<this.property.numberProperties.conditionalMin&&(t=this.property.numberProperties.conditionalMinValue)),this._propertyValue=t,this.ch5Component.setAttribute(this._attributeName,String(t))):(this._propertyValue=this.property.default,this.ch5Component.setAttribute(this._attributeName,String(this.property.default))),n.default.isNil(i)||i(),!0}else if("string"===this.property.type&&this._propertyValue!==String(t).trim()&&(n.default.isNil(t)||""===String(t).trim()?(this._propertyValue=String(this.property.default),this.ch5Component.removeAttribute(this._attributeName)):(this._propertyValue=String(t).trim(),this.ch5Component.setAttribute(this._attributeName,String(t).trim())),n.default.isNil(i)||i(),!0===this.property.isSignal))if("number"===this.property.signalType){const e=this.setSignalByNumber(t);n.default.isNil(e)||(this.signalState=e.subscribe(t=>(n.default.isNil(s)||t!==this._propertySignalValue&&(this._propertySignalValue=t,s(t)),!0)))}else if("string"===this.property.signalType){const e=this.setSignalByString(t);n.default.isNil(e)||(this.signalState=e.subscribe(t=>(n.default.isNil(s)||t!==this._propertySignalValue&&(this._propertySignalValue=t,s(t)),!0)))}else if("boolean"===this.property.signalType){const e=this.setSignalByBoolean(t);n.default.isNil(e)||(this.signalState=e.subscribe(t=>(n.default.isNil(s)||t!==this._propertySignalValue&&(this._propertySignalValue=t,s(t)),!0)))}return!1}setSignalByNumber(t){if(this.signalValue===t||null===t)return null;if(this.signalValue){const t=r.Ch5Signal.getSubscriptionSignalName(this.signalValue),e=a.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==e&&e.unsubscribe(this.signalState)}this.signalValue=t;const e=r.Ch5Signal.getSubscriptionSignalName(this.signalValue),i=a.Ch5SignalFactory.getInstance().getNumberSignal(e);return null===i?null:i}setSignalByString(t){if(this.signalValue===t||null===t)return null;if(this.signalValue){const t=r.Ch5Signal.getSubscriptionSignalName(this.signalValue),e=a.Ch5SignalFactory.getInstance().getStringSignal(t);null!==e&&e.unsubscribe(this.signalState)}this.signalValue=t;const e=r.Ch5Signal.getSubscriptionSignalName(this.signalValue),i=a.Ch5SignalFactory.getInstance().getStringSignal(e);return null===i?null:i}setSignalByBoolean(t){if(this.signalValue===t||null===t)return null;if(this.signalValue){const t=r.Ch5Signal.getSubscriptionSignalName(this.signalValue),e=a.Ch5SignalFactory.getInstance().getBooleanSignal(t);null!==e&&e.unsubscribe(this.signalState)}this.signalValue=t;const e=r.Ch5Signal.getSubscriptionSignalName(this.signalValue),i=a.Ch5SignalFactory.getInstance().getBooleanSignal(e);return null===i?null:i}toBoolean(t,e=!1){switch(String(t).toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1;case"":case null:case void 0:case"null":case"undefined":return!0===e;default:return!1}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSafariMobile=void 0,e.isSafariMobile=function(){const t=window.navigator.userAgent.toLowerCase(),e=t.indexOf("ipad")>-1||t.indexOf("macintosh")>-1&&"ontouchend"in document||!!t.match(/iPhone/i),i=!!t.match(/WebKit/i);return!(!e||!i||t.match(/CriOS/i))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonUtils=void 0;e.Ch5ButtonUtils=class{static getAttributeValue(t,e,i,s){return t.hasAttribute(e.toString().toLowerCase())?i:s}static getValidInputValue(t,e){return t.indexOf(e)>=0?e:t[0]}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonSignal=void 0;const s=i(1),n=i(8);e.Ch5ButtonSignal=class{constructor(){this.signals=[];const t=["receiveStateType","receiveStateCustomClass","receiveStateCustomStyle","receiveStateIconClass","receiveStateIconUrl","receiveStateLabel","receiveStateScriptLabelHtml"];for(const e of t)this.signals.push({signalName:e,signalValue:"",signalState:"",currentValue:""})}setSignal(t,e){const i=this.signals.find(e=>e.signalName.toLowerCase()===t.toLowerCase());if(i.signalValue===e||null===e)return null;if(i.signalValue){const t=n.Ch5Signal.getSubscriptionSignalName(i.signalValue),e=s.Ch5SignalFactory.getInstance().getStringSignal(t);null!==e&&e.unsubscribe(i.signalState)}i.signalValue=e;const r=n.Ch5Signal.getSubscriptionSignalName(i.signalValue),a=s.Ch5SignalFactory.getInstance().getStringSignal(r);return null===a?null:a}getSignal(t){return this.signals.find(e=>e.signalName.toLowerCase()===t.toLowerCase())}setVariable(t,e){this.getSignal(t).currentValue=e}getVariable(t){return this.getSignal(t).currentValue}unsubscribeAll(){const t=s.Ch5SignalFactory.getInstance();for(const e of this.signals)if(""!==e.signalState&&""!==e.signalValue){const i=n.Ch5Signal.getSubscriptionSignalName(e.signalValue),s=t.getStringSignal(i);null!==s&&(s.unsubscribe(e.signalState),e.signalValue="",e.signalState="")}}}},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(163),e)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Background=void 0;const n=i(3),r=i(1),a=i(29),o=i(18),l=i(2),h=s(i(0));class u extends n.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-background",this.parentCssClassPrefix="--parent",this.canvasCssClassPrefix="--canvas",this.isCanvasCreated=!1,this._elCanvas={},this._prevCanvasList=[],this._imgUrls=[],this._elImages=[],this._elBackupImages=[],this._bgColors=[],this._bgIdx=0,this._videoRes={},this._isVisible=!1,this._videoDimensions=[],this._isRefilled=!0,this.isInitialized=!1,this.VIDEO_ACTION={STARTED:"started",STOP:"stop",STOPPED:"stopped",RESIZE:"resize",REFILL:"refill",SNAPSHOT:"snapshot",MARK:"mark",NOURL:"nourl",ERROR:"error"},this.MARK_COLORS=new Map,this._url="",this._backgroundColor=u.IMGBGCOLOR,this._repeat=null,this._scale=u.SCALE[0],this._refreshRate=u.REFRESHRATE,this._videoCrop="",this._imgBackgroundColor="",this._transitionEffect="ease",this._transitionDuration="",this._receiveStateRefreshRate="",this._subReceiveRefreshRate="",this._receiveStateUrl="",this._sigNameReceiveUrl="",this._subReceiveUrl="",this._receiveStateBackgroundColor="",this._subReceiveBackgroundColor="",this._videoSubscriptionId="",this._canvasSubscriptionId="",customElements.whenDefined("ch5-background").then(()=>{this.classList.add(this.primaryCssClass),this.parentElement&&!this._isVisible&&this.parentElement.classList.add(this.primaryCssClass+this.parentCssClassPrefix),this.MARK_COLORS.set("mark","#FFBF00"),this.MARK_COLORS.set("error","#CF142B"),this.MARK_COLORS.set("nourl","#828282"),this.MARK_COLORS.set("stop","#828282"),this.parentElement&&(0,o.resizeObserver)(this.parentElement,this.updateCanvasDimensions.bind(this)),this.info("From connectedCallback of ch5-background")})}static registerSignalAttributeTypes(){l.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(u.ELEMENT_NAME,u.SIGNAL_ATTRIBUTE_TYPES)}get url(){return this._url}set url(t){this._url===t||h.default.isNil(t)||""===t||(this._url=t,this.getBackgroundUrl(this._url),this.setAttribute("url",this._url))}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){this.hasAttribute("url")||this.hasAttribute("receivestateurl")||(this._backgroundColor=""!==t.trim()?this.imgBackgroundColor:"value",this._backgroundColor=t,this.getBackgroundColor(this._backgroundColor),this.setAttribute("backgroundcolor",this._backgroundColor))}get repeat(){return this._repeat}set repeat(t){h.default.isNil(t)?(this._repeat=null,this.removeAttribute("repeat")):this._repeat!==t&&(u.REPEAT.indexOf(t)>=0?(this._repeat=t,this.setAttribute("repeat",this._repeat)):(this._repeat=null,this.removeAttribute("repeat"))),this.updateBackground()}get scale(){return this._scale}set scale(t){this._scale!==t&&(u.SCALE.indexOf(t)>=0?this._scale=t:this._scale=u.SCALE[0],this.setAttribute("scale",this._scale))}get refreshRate(){return this._refreshRate}set refreshRate(t){(t=isNaN(t)?u.REFRESHRATE:Number(t))<10?t=10:t>604800&&(t=604800),this._refreshRate!==t&&(this._refreshRate=t,this.setAttribute("refreshrate",this._refreshRate.toString()))}get videoCrop(){return this._videoCrop}set videoCrop(t){this._videoCrop!==t&&(this._videoCrop=t,this.setAttribute("videocrop",this._videoCrop))}get imgBackgroundColor(){return this._imgBackgroundColor}set imgBackgroundColor(t){this._imgBackgroundColor!==t&&(u.IMGBGCOLOR?this._imgBackgroundColor=t:this._imgBackgroundColor=u.IMGBGCOLOR,this.setAttribute("imgbackgroundcolor",this._imgBackgroundColor))}get transitionEffect(){return this._transitionEffect}set transitionEffect(t){this._transitionEffect!==t&&(this._transitionEffect=t,this.setAttribute("transitioneffect",this._transitionEffect))}get transitionDuration(){return this._transitionDuration}set transitionDuration(t){this._transitionDuration!==t&&(this._transitionDuration=t,this.setAttribute("transitionduration",this._transitionDuration));let e=0;Array.from(this._transitionDuration).forEach(t=>{t.toUpperCase()!==t.toLowerCase()&&e++}),e>1&&this.setAttribute("transitionduration","1s");!0===new RegExp(/[`!@#$%^&*()_+\-=\[\]{};':"\\|,<>\/?~]/).test(this._transitionDuration)&&(this._transitionDuration="1s",this.setAttribute("transitionduration",this._transitionDuration)),""===this._transitionDuration&&this.setAttribute("transitionduration","1s")}set receiveStateRefreshRate(t){if(this.info("set receiveStateRefreshRate('"+t+"')"),!t||this._receiveStateRefreshRate===t)return;if(this._receiveStateRefreshRate){const t=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateRefreshRate),e=r.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==e&&e.unsubscribe(this._subReceiveRefreshRate)}this._receiveStateRefreshRate=t,this.setAttribute("receivestaterefreshrate",t);const e=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateRefreshRate),i=r.Ch5SignalFactory.getInstance().getNumberSignal(e);null!==i&&(this._subReceiveRefreshRate=i.subscribe(t=>{Number(t)!==this.refreshRate&&this.setAttribute("refreshrate",String(t))}))}get receiveStateRefreshRate(){return this._attributeValueAsString("receivestaterefreshrate")}set receiveStateUrl(t){if(this.info("set receiveStateUrl('"+t+"')"),""===t||this._sigNameReceiveUrl===t||null==t)return;if(""!==this._sigNameReceiveUrl&&void 0!==this._sigNameReceiveUrl&&null!==this._sigNameReceiveUrl){const t=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveUrl),e=r.Ch5SignalFactory.getInstance().getBooleanSignal(t);null!==e&&e.unsubscribe(this._subReceiveUrl)}this._sigNameReceiveUrl=t,this.setAttribute("receivestateurl",t);const e=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveUrl),i=r.Ch5SignalFactory.getInstance().getStringSignal(e);null!==i&&(this._subReceiveUrl=i.subscribe(t=>{t!==this._url&&this.setAttribute("url",t)}))}get receiveStateUrl(){return this._attributeValueAsString("receivestateurl")}set receiveStateBackgroundColor(t){if(this.info("set receivestatebackgroundcolor('"+t+"')"),!t||this._receiveStateBackgroundColor===t)return;if(this._receiveStateBackgroundColor){const t=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateBackgroundColor),e=r.Ch5SignalFactory.getInstance().getStringSignal(t);null!==e&&e.unsubscribe(this._subReceiveBackgroundColor)}this._receiveStateBackgroundColor=t,this.setAttribute("receivestatebackgroundcolor",t);const e=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateBackgroundColor),i=r.Ch5SignalFactory.getInstance().getStringSignal(e);null!==i&&(this._subReceiveBackgroundColor=i.subscribe(t=>{t!==this.backgroundColor&&this.setAttribute("backgroundcolor",t)}))}get receiveStateBackgroundColor(){return this._attributeValueAsString("receivestatebackgroundcolor")}connectedCallback(){this.initAttributes(),this.setAttribute("data-ch5-id",this.getCrId()),customElements.whenDefined("ch5-background").then(()=>{a.Ch5CoreIntersectionObserver.getInstance().observe(this,()=>{this.elementIsInViewPort?this._isVisible||(this.parentElement&&this.parentElement.classList.add(this.primaryCssClass+this.parentCssClassPrefix),this.updateCanvasDimensions(),this._isVisible=!0):this._isVisible=!1,this.isInitialized=!0})})}isInViewport(t){const e=document.querySelector(`[data-ch5-id="${t}"]`);if(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}return!1}videoBGRequest(t){if(this.info("In videoBGRequest(): Video Tag Id -> "+t.id+" action: "+t.action),this.isInitialized&&this.elementIsInViewPort&&""!==t.id&&t&&Object.keys(t).length){const e=Object.assign({},t);this.setAttribute("videocrop",JSON.stringify(e)),t.action!==this.VIDEO_ACTION.REFILL||this._isRefilled?t.action===this.VIDEO_ACTION.STOP?this.manageVideoInfo(t):t.action===this.VIDEO_ACTION.STARTED?(this.manageVideoInfo(t),this.videoBGAction()):t.action===this.VIDEO_ACTION.RESIZE&&(this.manageVideoInfo(t),this.refillBackground(),this.videoBGAction()):this.isInViewport(t.id)||this.refillBackground()}}disconnectedCallback(){this.info("called disconnectedCallback()"),a.Ch5CoreIntersectionObserver.getInstance()instanceof a.Ch5CoreIntersectionObserver&&a.Ch5CoreIntersectionObserver.getInstance().unobserve(this),(0,r.unsubscribeState)("o","ch5.video.background",this._videoSubscriptionId),(0,r.unsubscribeState)("b","canvas.created",this._canvasSubscriptionId),this.unsubscribeFromSignals()}static get observedAttributes(){return n.Ch5Common.observedAttributes.concat(["url","backgroundcolor","repeat","scale","refreshrate","videocrop","imgbackgroundcolor","transitioneffect","transitionduration","receivestaterefreshrate","receivestateurl","receivestatebackgroundcolor"])}attributeChangedCallback(t,e,i){if(e!==i)switch(t){case"url":this.hasAttribute("url")?this.url=i:this.url="",this.createCanvas(),this.updateBackground();break;case"backgroundcolor":this.hasAttribute("url")||this.hasAttribute("receivestateurl")||(this.hasAttribute("backgroundcolor")?this.backgroundColor=i:this.backgroundColor="",this.createCanvas(),this.updateBackground());break;case"repeat":this.repeat=this.getAttribute("repeat");break;case"scale":this.hasAttribute("scale")?this.scale=i:this.scale=u.SCALE[0],this.updateBackground();break;case"refreshrate":this.hasAttribute("refreshrate")?this.refreshRate=Number(i):this.refreshRate=u.REFRESHRATE,this.updateBackground();break;case"videocrop":this.hasAttribute("videocrop")?this.videoCrop=i:this.videoCrop="";break;case"imgbackgroundcolor":this.hasAttribute("imgbackgroundcolor")?this.imgBackgroundColor=i:this.imgBackgroundColor=u.IMGBGCOLOR,this.updateBackground();break;case"transitioneffect":this.hasAttribute("transitioneffect")?this.transitionEffect=i:this.transitionEffect="ease",this.setBgTransition();break;case"transitionduration":this.hasAttribute("transitionduration")?this.transitionDuration=i:this.transitionDuration="",this.setBgTransition();break;case"receivestaterefreshrate":this.hasAttribute("receivestaterefreshrate")?this.receiveStateRefreshRate=i:this.receiveStateRefreshRate="";break;case"receivestateurl":this.hasAttribute("receivestateurl")?this.receiveStateUrl=i:this.receiveStateUrl="";break;case"receivestatebackgroundcolor":this.hasAttribute("url")||this.hasAttribute("receivestateurl")||(this.hasAttribute("receivestatebackgroundcolor")?this.receiveStateBackgroundColor=i:this.receiveStateBackgroundColor="");break;default:super.attributeChangedCallback(t,e,i)}}unsubscribeFromSignals(){this.info("unsubscribeFromSignals()"),super.unsubscribeFromSignals();const t=r.Ch5SignalFactory.getInstance();if(""!==this._subReceiveRefreshRate&&""!==this._receiveStateRefreshRate){const e=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateRefreshRate),i=t.getStringSignal(e);null!==i&&(i.unsubscribe(this._subReceiveRefreshRate),this._receiveStateRefreshRate="")}if(""!==this._subReceiveUrl&&""!==this._receiveStateUrl){const e=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateUrl),i=t.getStringSignal(e);null!==i&&(i.unsubscribe(this._subReceiveUrl),this._receiveStateUrl="")}if(""!==this._subReceiveBackgroundColor&&""!==this._receiveStateBackgroundColor){const e=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateBackgroundColor),i=t.getStringSignal(e);null!==i&&(i.unsubscribe(this._subReceiveBackgroundColor),this._receiveStateBackgroundColor="")}this.info("unsubscribeFromSignals() end")}initAttributes(){super.initAttributes(),this.hasAttribute("url")&&(this.url=this.getAttribute("url")),!this.hasAttribute("backgroundcolor")||this.hasAttribute("url")||this.hasAttribute("receivestateurl")||(this.backgroundColor=this.getAttribute("backgroundcolor")),this.repeat=this.getAttribute("repeat"),this.hasAttribute("scale")&&(this.scale=this.getAttribute("scale")),this.hasAttribute("refreshrate")&&(this.refreshRate=Number(this.getAttribute("refreshrate"))),this.hasAttribute("videocrop")&&(this.videoCrop=this.getAttribute("videocrop")),this.hasAttribute("imgbackgroundcolor")&&(this.imgBackgroundColor=this.getAttribute("imgbackgroundcolor")),this.hasAttribute("transitioneffect")&&(this.transitionEffect=this.getAttribute("transitioneffect")),this.hasAttribute("transitionduration")&&(this.transitionDuration=this.getAttribute("transitionduration")),this.hasAttribute("receivestaterefreshrate")&&(this.receiveStateRefreshRate=this.getAttribute("receivestaterefreshrate")),this.hasAttribute("receivestateurl")&&(this.receiveStateUrl=this.getAttribute("receivestateurl")),!this.hasAttribute("receivestatebackgroundcolor")||this.hasAttribute("url")||this.hasAttribute("receivestateurl")||(this.receiveStateBackgroundColor=this.getAttribute("receivestatebackgroundcolor"))}updateBackground(){this._imgUrls.length?this.setBgImage():this._bgColors.length?this.setBgColor():this.info("Something went wrong. One attribute is mandatory - either URL or backgroundColor.")}updateBackgroundForEachCanvas(t,e){this._imgUrls.length?this.setBgImageByCanvas(t,e):this._bgColors.length?this.setBgColorByCanvas(t,e):this.info("Something went wrong. One attribute is mandatory - either URL or backgroundColor.")}getBackgroundUrl(t){this._imgUrls=t.split("|"),this._imgUrls=this._imgUrls.map(t=>t.trim())}getBackgroundColor(t){this._bgColors=t.split("|"),this._bgColors=this._bgColors.map(t=>t.trim())}scaleToFill(t,e,i){const s=Math.max(e.width/t.width,e.height/t.height),n=e.width/2-t.width/2*s,a=e.height/2-t.height/2*s;i.drawImage(t,n,a,t.width*s,t.height*s),(0,r.publishEvent)("b","canvas.created",!0)}scaleToFit(t,e,i){const s=Math.min(e.width/t.width,e.height/t.height),n=e.width/2-t.width/2*s,a=e.height/2-t.height/2*s;i.drawImage(t,n,a,t.width*s,t.height*s),(0,r.publishEvent)("b","canvas.created",!0)}scaleToStretch(t,e,i){i.drawImage(t,0,0,e.width,e.height),(0,r.publishEvent)("b","canvas.created",!0)}updateBgImageScale(t,e,i){switch(this._scale){case"fill":this.scaleToFill(t,e,i);break;case"fit":this.scaleToFit(t,e,i);break;case"stretch":this.scaleToStretch(t,e,i);break;default:this.info("Scale value is wrong. it should be fill, fit or stretch(default)")}}updateBgImageRepeat(t,e,i){switch(this._repeat){case"repeat":case"repeat-x":case"repeat-y":case"no-repeat":i.fillStyle=i.createPattern(t,this._repeat),i.fillRect(0,0,e.width,e.height),(0,r.publishEvent)("b","canvas.created",!0)}}canvasTemplate(t){this.innerHTML="";for(let e=0;e<t;++e)this._elCanvas=document.createElement("canvas"),this._elCanvas.classList.add(this.primaryCssClass+this.canvasCssClassPrefix),this.appendChild(this._elCanvas),this.setCanvasDimensions(this._elCanvas),e===t-1&&(this._canvasList=this.querySelectorAll("canvas"));this.isCanvasCreated=!0}manageVideoInfo(t){const e=this._videoDimensions.findIndex(e=>e.id===t.id);t.action===this.VIDEO_ACTION.STARTED||t.action===this.VIDEO_ACTION.RESIZE?e>-1?(this._videoDimensions[e]=t,this.refillBackground()):(this._videoDimensions.push(t),this.refillBackground()):t.action===this.VIDEO_ACTION.STOP&&e>=0&&(this._videoDimensions.splice(e,1),this.refillBackground())}isScrollBar(t,e){let i=!!t[e="vertical"===e?"scrollTop":"scrollLeft"];return i||(t[e]=1,i=!!t[e],t[e]=0),i}setCanvasDimensions(t){t.width=0,t.height=0,this.parentElement&&(t.width=this.isScrollBar(this.parentElement,"horizontal")?this.parentElement.scrollWidth:this.parentElement.clientWidth,t.height=this.isScrollBar(this.parentElement,"vertical")?this.parentElement.scrollHeight:this.parentElement.clientHeight)}updateCanvasDimensions(){this.isCanvasListValid()&&this._canvasList.forEach((t,e)=>{let i=!0;if(this._prevCanvasList&&this._prevCanvasList.length>0){let s=t.width,n=t.height;this.parentElement&&(s=this.isScrollBar(this.parentElement,"horizontal")?this.parentElement.scrollWidth:this.parentElement.clientWidth,n=this.isScrollBar(this.parentElement,"vertical")?this.parentElement.scrollHeight:this.parentElement.clientHeight),(this._prevCanvasList[e]&&this._prevCanvasList[e].width===s&&this._prevCanvasList[e].height===n||0===s&&0===n)&&(i=!1)}if(!0===i){t.width=0,t.height=0,this.parentElement&&(t.width=this.isScrollBar(this.parentElement,"horizontal")?this.parentElement.scrollWidth:this.parentElement.clientWidth,t.height=this.isScrollBar(this.parentElement,"vertical")?this.parentElement.scrollHeight:this.parentElement.clientHeight),this.updateBackgroundForEachCanvas(t,e);this._prevCanvasList.find(t=>t.id===e)?(this._prevCanvasList[e].width=t.width,this._prevCanvasList[e].height=t.height):this._prevCanvasList.push({id:e,width:t.width,height:t.height})}})}createCanvas(){this._imgUrls.length?this.canvasTemplate(this._imgUrls.length):this._bgColors.length?this.canvasTemplate(this._bgColors.length):this.info("Something went wrong. One attribute is mandatory either URL or backgroundColor.")}setBgTransition(){setTimeout(()=>{this.isCanvasListValid()&&this._canvasList.forEach(t=>{this._transitionEffect&&(t.style.transitionTimingFunction=this._transitionEffect),this._transitionDuration&&(t.style.transitionDuration=this._transitionDuration)})})}setBgImage(){this._canvasList&&this._canvasList.length&&this.isCanvasListValid()&&(this._canvasList.forEach((t,e)=>{this.setBgImageByCanvas(t,e)}),this._elBackupImages=[...this._elImages])}setBgImageByCanvas(t,e){const i=t.getContext("2d");this._elImages[e]=new Image,this._elImages[e].src=this._imgUrls[e],this._elImages[e].onload=()=>{this.updateBgImage(this._elImages[e],i),this._imgUrls.length===e+1&&this.changeBackground(this._imgUrls.length),this.videoBGUpdateAction(),this._elImages[e].onload=null},i.fillStyle=this._imgBackgroundColor,i.fillRect(0,0,t.width,t.height)}setBgColor(){this.isCanvasListValid()&&this._canvasList.forEach((t,e)=>{this.setBgColorByCanvas(t,e)})}setBgColorByCanvas(t,e){const i=t.getContext("2d");this.updateBgColor(this._bgColors[e],i),this._bgColors.length===e+1&&this.changeBackground(this._bgColors.length),this.videoBGUpdateAction()}videoBGUpdateAction(){""!==this._videoCrop&&this._videoDimensions.forEach(t=>{this.isCanvasListValid()&&this._canvasList.forEach(e=>{const i=e.getContext("2d");t.action===this.VIDEO_ACTION.STARTED&&(i.clearRect(t.left,t.top,t.width,t.height),this._isRefilled=!1)})})}updateBgColor(t,e){e.fillStyle=t,e.fillRect(0,0,this._elCanvas.width,this._elCanvas.height),(0,r.publishEvent)("b","canvas.created",!0)}changeBackground(t){if(clearInterval(this._interval),t>1){let e=!1;this._canvasList.forEach(t=>{t.classList&&t.classList.contains("ch5bg-fadein")&&(e=!0)}),!1===e&&this._canvasList[0].classList.add("ch5bg-fadein"),this._interval=setInterval(()=>{this.isCanvasListValid()&&(this._canvasList.forEach(t=>t.classList.remove("ch5bg-fadein")),this._canvasList[this._bgIdx].classList.add("ch5bg-fadein"),this._bgIdx++,this._bgIdx===t&&(this._bgIdx=0))},1e3*this._refreshRate)}else this._canvasList[0].classList.add("ch5bg-fadein")}updateBgImage(t,e){h.default.isNil(this._repeat)?this.updateBgImageScale(t,this._elCanvas,e):this.updateBgImageRepeat(t,this._elCanvas,e)}refillBackground(){this.isCanvasListValid()&&this._canvasList.forEach((t,e)=>{const i=t.getContext("2d");switch(this._canvasList.length){case this._imgUrls.length:this._elImages=[...this._elBackupImages],this.updateBgImage(this._elImages[e],i);break;case this._bgColors.length:this.updateBgColor(this._bgColors[e],i)}this._isRefilled=!0})}videoBGAction(){if((!this._elCanvas||0!==Object.keys(this._elCanvas).length||this._elCanvas.constructor!==Object)&&(this._videoCrop&&"string"==typeof this._videoCrop&&(this._videoRes=JSON.parse(this._videoCrop)),this._videoRes&&this._videoRes.action!==this.VIDEO_ACTION.REFILL)){const t=this._elCanvas.getBoundingClientRect().top,e=this._elCanvas.getBoundingClientRect().left;this._videoRes.left=this._videoRes.left-e,this._videoRes.top=this._videoRes.top-t,this._videoRes.left=Math.ceil(this._videoRes.left),this._videoRes.top=Math.ceil(this._videoRes.top),this.manageVideoInfo(this._videoRes),this._videoDimensions.length&&this._videoDimensions.map(t=>{this.info("\nvideoBGAction() -> Video Tag Id "+t.id+" is in Viewport: "+this.isInViewport(t.id)),this.isInViewport(t.id)&&this.isCanvasListValid()&&this._canvasList.forEach((e,i)=>{const s=e.getContext("2d");if(t.action===this.VIDEO_ACTION.STARTED||t.action===this.VIDEO_ACTION.RESIZE)s.clearRect(t.left,t.top,t.width,t.height),this._isRefilled=!1;else if(t.action===this.VIDEO_ACTION.STOP||t.action===this.VIDEO_ACTION.MARK||t.action===this.VIDEO_ACTION.ERROR||t.action===this.VIDEO_ACTION.NOURL){s.fillStyle=u.IMGBGCOLOR,s.fillRect(t.left,t.top,t.width,t.height),s.beginPath();const e=Math.ceil(.04*t.height);s.lineWidth=e,s.moveTo(t.left,t.top+t.height-Math.ceil(e/2)),s.lineTo(t.width+t.left,t.top+t.height-Math.ceil(e/2)),s.strokeStyle=this.MARK_COLORS.get(t.action),s.setLineDash([]),t.action===this.VIDEO_ACTION.STOP&&s.setLineDash([Math.ceil(t.width/2),4,6,4]),s.stroke(),this._isRefilled=!1}})})}}isCanvasListValid(){return!!this._canvasList&&null!=this._canvasList&&this._canvasList.length>0}}e.Ch5Background=u,u.ELEMENT_NAME="ch5-background",u.SCALE=["stretch","fill","fit"],u.REPEAT=["no-repeat","repeat","repeat-x","repeat-y"],u.REFRESHRATE=600,u.IMGBGCOLOR="black",u.COMPONENT_DATA={SCALE:{default:u.SCALE[0],values:u.SCALE,key:"scale",classListPrefix:"--"},REPEAT:{default:null,values:u.REPEAT,key:"repeat",classListPrefix:"--"}},u.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestaterefreshrate:{direction:"state",numericJoin:1,contractName:!0},receivestateurl:{direction:"state",stringJoin:1,contractName:!0},receivestatebackgroundcolor:{direction:"state",stringJoin:1,contractName:!0}}),"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(u.ELEMENT_NAME,u),u.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(44),e),n(i(76),e),n(i(166),e),n(i(78),e),n(i(167),e)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonListBase=void 0;const n=i(17),r=i(3),a=i(33),o=i(42),l=i(5),h=i(4),u=i(45),c=i(75),d=i(43),p=i(18),g=i(16),m=i(8),b=i(7),f=s(i(0));class v extends r.Ch5Common{constructor(){super(),this.primaryCssClass="",this._elContainer={},this._scrollbarContainer={},this._scrollbar={},this.isDown=!1,this.startX=0,this.startY=0,this.scrollListLeft=0,this.scrollListTop=0,this.scrollbarDimension=0,this.buttonWidth=0,this.buttonHeight=0,this.signalNameOnContract={contractName:"",receiveStateCustomClass:"",receiveStateCustomStyle:"",receiveStateEnable:"",receiveStateShow:"",receiveStateScrollToPosition:"",receiveStateNumberOfItems:"",receiveStateSelectedButton:""},this.rowClassValue=1,this.columnClassValue=1,this.selectedButton=0,this.showSignalHolder=[],this.loadButtonForShow=!1,this.allButtonsVisible=!1,this.debounceButtonDisplay=this.debounce((t=!1)=>{"visible-only"===this.loadItems?this.buttonDisplay(t):"load-new"===this.loadItems?this.buttonDisplayForLoadItemsNew(t):this.buttonDisplayForLoadItemsAll(t)},100),this.debounceButtonShow=this.debounce(()=>{this.buttonShow()},150),this.handleMouseDown=t=>{this.isDown=!0,this._elContainer.classList.add("active"),this.startX=t.pageX-this._elContainer.offsetLeft,this.startY=t.pageY-this._elContainer.offsetTop,this.scrollListLeft=this._elContainer.scrollLeft,this.scrollListTop=this._elContainer.scrollTop},this.handleMouseUpAndLeave=()=>{this.isDown=!1,this._elContainer.classList.remove("active")},this.handleMouseMove=t=>{if(!this.isDown)return;t.preventDefault();const e=t.pageX-this._elContainer.offsetLeft,i=t.pageY-this._elContainer.offsetTop,s=3*(e-this.startX),n=3*(i-this.startY);this._elContainer.scrollLeft=this.scrollListLeft-s,this._elContainer.scrollTop=this.scrollListTop-n},this.handleScrollEvent=()=>{if(this.initScrollbar(),this.endless)return"all"===this.loadItems?(this.buttonWidth=this._elContainer.children[0].getBoundingClientRect().width,this.buttonHeight=this._elContainer.children[0].getBoundingClientRect().height,this.endlessHelper()):"load-new"===this.loadItems?this.endlessHelperForNew():this.endlessHelper();"visible-only"===this.loadItems?this.scrollHelper():"load-new"===this.loadItems&&this.scrollHelperForNew()},this.resizeHandler=()=>{this.debounceButtonDisplay()},this.ignoreAttributes=["receivestatehidepulse","receivestateshowpulse","sendeventonshow"],this.logger.start("constructor()"),this._wasInstatiated||this.createInternalHtml(),this._wasInstatiated=!0,this._ch5Properties=new h.Ch5Properties(this,v.COMPONENT_PROPERTIES),this.initCssClass()}set orientation(t){this._ch5Properties.set("orientation",t,()=>{this.handleOrientation()})}get orientation(){return this._ch5Properties.get("orientation")}set loadItems(t){this._ch5Properties.set("loadItems",t,()=>{this.debounceButtonDisplay()})}get loadItems(){return this._ch5Properties.get("loadItems")}set scrollbar(t){this._ch5Properties.set("scrollbar",t,()=>{this.handleScrollbar()})}get scrollbar(){return this._ch5Properties.get("scrollbar")}set centerItems(t){this._ch5Properties.set("centerItems",t,()=>{this.handleCenterItems()})}get centerItems(){return this._ch5Properties.get("centerItems")}set stretch(t){this._ch5Properties.set("stretch",t,()=>{this.handleStretch()})}get stretch(){return this._ch5Properties.get("stretch")}set buttonIconUrlFillType(t){this._ch5Properties.set("buttonIconUrlFillType",t,()=>{this.debounceButtonDisplay()})}get buttonIconUrlFillType(){return this._ch5Properties.get("buttonIconUrlFillType")}set endless(t){this._ch5Properties.set("endless",t,()=>{this.handleEndless()})}get endless(){return this._ch5Properties.get("endless")}set numberOfItems(t){this._ch5Properties.set("numberOfItems",t,()=>{this.handleRowsAndColumn()})}get numberOfItems(){return this._ch5Properties.get("numberOfItems")}set rows(t){this._ch5Properties.set("rows",t,()=>{this.handleRowsAndColumn()})}get rows(){return this._ch5Properties.get("rows")}set columns(t){this._ch5Properties.set("columns",t,()=>{this.handleRowsAndColumn()})}get columns(){return this._ch5Properties.get("columns")}set indexId(t){this._ch5Properties.set("indexId",t)}get indexId(){return this._ch5Properties.get("indexId")}set receiveStateNumberOfItems(t){this._ch5Properties.set("receiveStateNumberOfItems",t,null,t=>{this._ch5Properties.setForSignalResponse("numberOfItems",t,()=>{this.handleRowsAndColumn()})})}get receiveStateNumberOfItems(){return this._ch5Properties.get("receiveStateNumberOfItems")}set scrollToPosition(t){this._ch5Properties.set("scrollToPosition",t,()=>{const t=this.scrollToPosition<this.numberOfItems&&this.scrollToPosition>=0,e="horizontal"===this.orientation&&1===this.rows||"vertical"===this.orientation&&1===this.columns;t&&e&&this.debounceButtonDisplay(!0)})}get scrollToPosition(){return this._ch5Properties.get("scrollToPosition")}set receiveStateScrollToPosition(t){this._ch5Properties.set("receiveStateScrollToPosition",t,null,t=>{this._ch5Properties.setForSignalResponse("scrollToPosition",t,()=>{const t=this.scrollToPosition<this.numberOfItems&&this.scrollToPosition>=0,e="horizontal"===this.orientation&&1===this.rows||"vertical"===this.orientation&&1===this.columns;t&&e&&this.debounceButtonDisplay(!0)})})}get receiveStateScrollToPosition(){return this._ch5Properties.get("receiveStateScrollToPosition")}set receiveStateSelectedButton(t){this._ch5Properties.set("receiveStateSelectedButton",t,null,t=>{const e=""===this.contractName,i=""!==this.contractName&&!0===this.useContractForEachButtonSelection&&this.receiveStateSelectedButton===this.contractName+".ItemSelected";(e||i)&&(this.selectedButton=t,this.handleReceiveStateSelectedButton())})}get receiveStateSelectedButton(){return this._ch5Properties.get("receiveStateSelectedButton")}set contractName(t){this._ch5Properties.set("contractName",t,()=>{this.handleContractName()})}get contractName(){return this._ch5Properties.get("contractName")}set useContractForEnable(t){this._ch5Properties.set("useContractForEnable",t,()=>{this.debounceButtonDisplay()})}get useContractForEnable(){return this._ch5Properties.get("useContractForEnable")}set useContractForShow(t){this._ch5Properties.set("useContractForShow",t,()=>{this.debounceButtonDisplay()})}get useContractForShow(){return this._ch5Properties.get("useContractForShow")}set useContractForItemEnable(t){this._ch5Properties.set("useContractForItemEnable",t,()=>{this.debounceButtonDisplay()})}get useContractForItemEnable(){return this._ch5Properties.get("useContractForItemEnable")}set useContractForItemShow(t){this._ch5Properties.set("useContractForItemShow",t,()=>{this.debounceButtonDisplay()})}get useContractForItemShow(){return this._ch5Properties.get("useContractForItemShow")}set useContractForCustomStyle(t){this._ch5Properties.set("useContractForCustomStyle",t,()=>{this.debounceButtonDisplay()})}get useContractForCustomStyle(){return this._ch5Properties.get("useContractForCustomStyle")}set useContractForCustomClass(t){this._ch5Properties.set("useContractForCustomClass",t,()=>{this.debounceButtonDisplay()})}get useContractForCustomClass(){return this._ch5Properties.get("useContractForCustomClass")}set useContractForEachButtonSelection(t){this._ch5Properties.set("useContractForEachButtonSelection",t,()=>{this.debounceButtonDisplay()})}get useContractForEachButtonSelection(){return this._ch5Properties.get("useContractForEachButtonSelection")}set contractItemLabelType(t){this._ch5Properties.set("contractItemLabelType",t,()=>{this.debounceButtonDisplay()})}get contractItemLabelType(){return this._ch5Properties.get("contractItemLabelType")}set contractItemIconType(t){this._ch5Properties.set("contractItemIconType",t,()=>{this.debounceButtonDisplay()})}get contractItemIconType(){return this._ch5Properties.get("contractItemIconType")}set useContractForNumItems(t){this._ch5Properties.set("useContractForNumItems",t,()=>{this.debounceButtonDisplay()})}get useContractForNumItems(){return this._ch5Properties.get("useContractForNumItems")}set buttonType(t){this._ch5Properties.set("buttonType",t,()=>{this.debounceButtonDisplay()})}get buttonType(){return this._ch5Properties.get("buttonType")}set buttonHAlignLabel(t){this._ch5Properties.set("buttonHAlignLabel",t,()=>{this.debounceButtonDisplay()})}get buttonHAlignLabel(){return this._ch5Properties.get("buttonHAlignLabel")}set buttonVAlignLabel(t){this._ch5Properties.set("buttonVAlignLabel",t,()=>{this.debounceButtonDisplay()})}get buttonVAlignLabel(){return this._ch5Properties.get("buttonVAlignLabel")}set buttonCheckboxPosition(t){this._ch5Properties.set("buttonCheckboxPosition",t,()=>{this.debounceButtonDisplay()})}get buttonCheckboxPosition(){return this._ch5Properties.get("buttonCheckboxPosition")}set buttonIconPosition(t){this._ch5Properties.set("buttonIconPosition",t,()=>{this.debounceButtonDisplay()})}get buttonIconPosition(){return this._ch5Properties.get("buttonIconPosition")}set buttonShape(t){this._ch5Properties.set("buttonShape",t,()=>{this.debounceButtonDisplay()})}get buttonShape(){return this._ch5Properties.get("buttonShape")}set buttonCheckboxShow(t){this._ch5Properties.set("buttonCheckboxShow",t,()=>{this.debounceButtonDisplay()})}get buttonCheckboxShow(){return this._ch5Properties.get("buttonCheckboxShow")}set buttonSelected(t){this._ch5Properties.set("buttonSelected",t,()=>{this.debounceButtonDisplay()})}get buttonSelected(){return this._ch5Properties.get("buttonSelected")}set buttonPressed(t){this._ch5Properties.set("buttonPressed",t,()=>{this.debounceButtonDisplay()})}get buttonPressed(){return this._ch5Properties.get("buttonPressed")}set buttonMode(t){this._ch5Properties.set("buttonMode",t,()=>{this.debounceButtonDisplay()})}get buttonMode(){return+this._ch5Properties.get("buttonMode")}set buttonIconClass(t){this._ch5Properties.set("buttonIconClass",t,()=>{this.debounceButtonDisplay()})}get buttonIconClass(){return this._ch5Properties.get("buttonIconClass")}set buttonIconUrl(t){this._ch5Properties.set("buttonIconUrl",t,()=>{this.debounceButtonDisplay()})}get buttonIconUrl(){return this._ch5Properties.get("buttonIconUrl")}set buttonLabelInnerHtml(t){this._ch5Properties.set("buttonLabelInnerHtml",t,()=>{this.debounceButtonDisplay()})}get buttonLabelInnerHtml(){return this._ch5Properties.get("buttonLabelInnerHtml")}set buttonReceiveStateMode(t){this._ch5Properties.set("buttonReceiveStateMode",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateMode(){return this._ch5Properties.get("buttonReceiveStateMode")}set buttonReceiveStateSelected(t){this._ch5Properties.set("buttonReceiveStateSelected",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateSelected(){return this._ch5Properties.get("buttonReceiveStateSelected")}set buttonReceiveStateLabel(t){this._ch5Properties.set("buttonReceiveStateLabel",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateLabel(){return this._ch5Properties.get("buttonReceiveStateLabel")}set buttonReceiveStateScriptLabelHtml(t){this._ch5Properties.set("buttonReceiveStateScriptLabelHtml",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateScriptLabelHtml(){return this._ch5Properties.get("buttonReceiveStateScriptLabelHtml")}set buttonReceiveStateIconClass(t){this._ch5Properties.set("buttonReceiveStateIconClass",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateIconClass(){return this._ch5Properties.get("buttonReceiveStateIconClass")}set buttonReceiveStateIconUrl(t){this._ch5Properties.set("buttonReceiveStateIconUrl",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateIconUrl(){return this._ch5Properties.get("buttonReceiveStateIconUrl")}set buttonReceiveStateSGIconString(t){this._ch5Properties.set("buttonReceiveStateSGIconString",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateSGIconString(){return this._ch5Properties.get("buttonReceiveStateSGIconString")}set buttonReceiveStateSGIconNumeric(t){this._ch5Properties.set("buttonReceiveStateSGIconNumeric",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateSGIconNumeric(){return this._ch5Properties.get("buttonReceiveStateSGIconNumeric")}set buttonSgIconTheme(t){this._ch5Properties.set("buttonSgIconTheme",t,()=>{this.debounceButtonDisplay()})}get buttonSgIconTheme(){return this._ch5Properties.get("buttonSgIconTheme")}set buttonSendEventOnClick(t){this._ch5Properties.set("buttonSendEventOnClick",t,()=>{this.debounceButtonDisplay()})}get buttonSendEventOnClick(){return this._ch5Properties.get("buttonSendEventOnClick")}set buttonReceiveStateShow(t){this._ch5Properties.set("buttonReceiveStateShow",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateShow(){return this._ch5Properties.get("buttonReceiveStateShow")}set buttonReceiveStateEnable(t){this._ch5Properties.set("buttonReceiveStateEnable",t,()=>{this.debounceButtonDisplay()})}get buttonReceiveStateEnable(){return this._ch5Properties.get("buttonReceiveStateEnable")}set clickHoldTime(t){this._ch5Properties.set("clickHoldTime",t,()=>{this.debounceButtonDisplay()})}get clickHoldTime(){return this._ch5Properties.get("clickHoldTime")}static get observedAttributes(){const t=r.Ch5Common.observedAttributes,e=[];for(let t=0;t<v.COMPONENT_PROPERTIES.length;t++)!0===v.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(v.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.nodeName),e!==i){this.logger.log('attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=v.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()"),this.hasAttribute("role")||this.setAttribute("role",l.Ch5RoleAttributeMapping.ch5ButtonList),this.checkInternalHTML(),this.attachEventListeners(),this.initAttributes(),this.initCommonMutationObserver(this),this.debounceButtonDisplay(),(0,p.resizeObserver)(this._elContainer,this.resizeHandler),customElements.whenDefined(this.nodeName.toLowerCase()).then(()=>{this.componentLoadedEvent(this.nodeName.toLowerCase(),this.id)}),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),this.showSignalHolder.forEach(t=>this.clearOldSubscription(t.signalValue,t.signalState)),this.showSignalHolder=[],this.logger.stop()}createInternalHtml(){this.logger.start("createInternalHtml()"),this.clearComponentContent(),this._elContainer=document.createElement("div"),this._scrollbarContainer=document.createElement("div"),this._scrollbar=document.createElement("div"),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<v.COMPONENT_PROPERTIES.length;e++)if(!0===v.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(v.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=v.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}attachEventListeners(){super.attachEventListeners(),this._elContainer.addEventListener("mousedown",this.handleMouseDown),this._elContainer.addEventListener("mouseleave",this.handleMouseUpAndLeave),this._elContainer.addEventListener("mouseup",this.handleMouseUpAndLeave),this._elContainer.addEventListener("mousemove",this.handleMouseMove),this._elContainer.addEventListener("scroll",this.handleScrollEvent)}removeEventListeners(){super.removeEventListeners(),this._elContainer.removeEventListener("mouseleave",this.handleMouseUpAndLeave),this._elContainer.removeEventListener("mouseup",this.handleMouseUpAndLeave),this._elContainer.removeEventListener("mousedown",this.handleMouseDown),this._elContainer.removeEventListener("mousemove",this.handleMouseMove),this._elContainer.removeEventListener("scroll",this.handleScrollEvent)}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}scrollHelperForNew(){var t,e,i;if("rtl"===this.dir&&"horizontal"===this.orientation){const{offsetWidth:e,scrollLeft:i,scrollWidth:s}=this._elContainer;if(s-e<this.buttonWidth)return;let n=this.getLastChild();if(Math.abs(i)+e>s-this.buttonWidth&&n!==this.numberOfItems-1){for(let e=0;e<this.rows;e++)if(this.createButton(++n),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let e=n;for(;e<this.numberOfItems&&!1===(null===(t=this.showSignalHolder[e])||void 0===t?void 0:t.value);)this.createButton(++e)}this.initScrollbar()}}else if("horizontal"===this.orientation){const{offsetWidth:t,scrollLeft:i,scrollWidth:s}=this._elContainer;if(s-t<this.buttonWidth)return;let n=this.getLastChild();if(i+t>s-this.buttonWidth&&n!==this.numberOfItems-1){for(let t=0;t<this.rows;t++)if(n+1<this.numberOfItems&&(this.createButton(++n),!0===this.loadButtonForShow&&!1===this.allButtonsVisible)){let t=n;for(;t<this.numberOfItems&&!1===(null===(e=this.showSignalHolder[t])||void 0===e?void 0:e.value);)this.createButton(++t)}this.initScrollbar()}}else{const{offsetHeight:t,scrollTop:e,scrollHeight:s}=this._elContainer;if(s-t<this.buttonHeight)return;let n=this.getLastChild();if(e+t>s-this.buttonHeight&&n!==this.numberOfItems-1){for(let t=0;t<this.columns;t++)if(n+1<this.numberOfItems&&(this.createButton(++n),!0===this.loadButtonForShow&&!1===this.allButtonsVisible)){let t=n;for(;t<this.numberOfItems&&!1===(null===(i=this.showSignalHolder[t])||void 0===i?void 0:i.value);)this.createButton(++t)}this.initScrollbar()}}}scrollHelper(){var t,e,i,s,n,r,a,o,l,h,u,c,d,p,g;if("rtl"===this.dir&&"horizontal"===this.orientation){const{offsetWidth:r,scrollLeft:a,scrollWidth:o}=this._elContainer;if(o-r<this.buttonWidth)return;let l=this.getFirstChild(),h=this.getLastChild();if(Math.abs(a)+r>o-this.buttonWidth&&h!==this.numberOfItems-1){for(let i=0;i<this.rows;i++){if(this.createButton(++h),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let e=h;for(;e<this.numberOfItems&&!1===(null===(t=this.showSignalHolder[e])||void 0===t?void 0:t.value);)this.createButton(++e)}null===(e=this._elContainer.firstElementChild)||void 0===e||e.remove()}this._elContainer.scrollLeft+=this.buttonWidth}else if(Math.abs(a)<this.buttonWidth&&0!==l){let t=(h+1)%this.rows;for(let e=0;e<this.rows;e++){if(this.createButton(--l,!1),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let t=l;for(;t>0&&!1===(null===(i=this.showSignalHolder[t])||void 0===i?void 0:i.value);)this.createButton(--t,!1)}(h+1)%this.rows!=0?t-- >0&&(null===(s=this._elContainer.lastElementChild)||void 0===s||s.remove()):null===(n=this._elContainer.lastElementChild)||void 0===n||n.remove()}this._elContainer.scrollLeft-=this.buttonWidth}}else if("horizontal"===this.orientation){const{offsetWidth:t,scrollLeft:e,scrollWidth:i}=this._elContainer;if(i-t<this.buttonWidth)return;let s=this.getFirstChild(),n=this.getLastChild();if(e<this.buttonWidth&&0!==s){let t=(n+1)%this.rows;for(let e=0;e<this.rows;e++){if(this.createButton(--s,!1),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let t=s;for(;t>0&&!1===(null===(r=this.showSignalHolder[t])||void 0===r?void 0:r.value);)this.createButton(--t,!1)}(n+1)%this.rows!=0?t-- >0&&(null===(a=this._elContainer.lastElementChild)||void 0===a||a.remove()):null===(o=this._elContainer.lastElementChild)||void 0===o||o.remove()}this._elContainer.scrollLeft+=this.buttonWidth}else if(e+t>i-this.buttonWidth&&n!==this.numberOfItems-1){for(let t=0;t<this.rows;t++){if(n+1<this.numberOfItems&&(this.createButton(++n),!0===this.loadButtonForShow&&!1===this.allButtonsVisible)){let t=n;for(;t<this.numberOfItems&&!1===(null===(l=this.showSignalHolder[t])||void 0===l?void 0:l.value);)this.createButton(++t)}null===(h=this._elContainer.firstElementChild)||void 0===h||h.remove()}this._elContainer.scrollLeft-=this.buttonWidth}}else{const{offsetHeight:t,scrollTop:e,scrollHeight:i}=this._elContainer;if(i-t<this.buttonHeight)return;let s=this.getFirstChild(),n=this.getLastChild();if(e<this.buttonHeight&&0!==s){let t=(n+1)%this.columns;for(let e=0;e<this.columns;e++){if(this.createButton(--s,!1),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let t=s;for(;t>0&&!1===(null===(u=this.showSignalHolder[t])||void 0===u?void 0:u.value);)this.createButton(--t,!1)}(n+1)%this.columns!=0?t-- >0&&(null===(c=this._elContainer.lastElementChild)||void 0===c||c.remove()):null===(d=this._elContainer.lastElementChild)||void 0===d||d.remove()}this._elContainer.scrollTop+=this.buttonHeight}else if(e+t>i-this.buttonHeight&&n!==this.numberOfItems-1){for(let t=0;t<this.columns;t++){if(n+1<this.numberOfItems&&(this.createButton(++n),!0===this.loadButtonForShow&&!1===this.allButtonsVisible)){let t=n;for(;t<this.numberOfItems&&!1===(null===(p=this.showSignalHolder[t])||void 0===p?void 0:p.value);)this.createButton(++t)}null===(g=this._elContainer.firstElementChild)||void 0===g||g.remove()}this._elContainer.scrollTop-=this.buttonHeight}}}endlessHelper(){var t,e,i,s,n,r,a,o,l,h,u,c;const{offsetHeight:d,offsetWidth:p,scrollLeft:g,scrollTop:m,scrollWidth:b,scrollHeight:f}=this._elContainer;if(!1!==("horizontal"===this.orientation?p+this.buttonWidth<b:d+this.buttonHeight<f))if("horizontal"===this.orientation&&"rtl"===this.dir){if(Math.abs(g)+p>b-this.buttonWidth/4){const i=this.getLastChild(),s=(this.numberOfItems+i+1)%this.numberOfItems;if(this.createButton(s),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let e=s;for(;e<this.numberOfItems&&!1===(null===(t=this.showSignalHolder[e])||void 0===t?void 0:t.value);)this.createButton(++e)}null===(e=this._elContainer.firstElementChild)||void 0===e||e.remove(),this._elContainer.scrollLeft+=this.buttonWidth/2}else if(Math.abs(g)<this.buttonWidth/4){const t=this.getFirstChild(),e=(this.numberOfItems+t-1)%this.numberOfItems;if(this.createButton(e,!1),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let t=e;for(;t>0&&!1===(null===(i=this.showSignalHolder[t])||void 0===i?void 0:i.value);)this.createButton(--t,!1)}null===(s=this._elContainer.lastElementChild)||void 0===s||s.remove(),this._elContainer.scrollLeft-=this.buttonWidth/2}}else if("horizontal"===this.orientation){if(g<this.buttonWidth/4){const t=this.getFirstChild(),e=(this.numberOfItems+t-1)%this.numberOfItems;if(this.createButton(e,!1),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let t=e;for(;t>0&&!1===(null===(n=this.showSignalHolder[t])||void 0===n?void 0:n.value);)this.createButton(--t,!1)}null===(r=this._elContainer.lastElementChild)||void 0===r||r.remove(),this._elContainer.scrollLeft+=this.buttonWidth/2}else if(g+p>b-this.buttonWidth/4){const t=this.getLastChild(),e=(this.numberOfItems+t+1)%this.numberOfItems;if(this.createButton(e),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let t=e;for(;t<this.numberOfItems&&!1===(null===(a=this.showSignalHolder[t])||void 0===a?void 0:a.value);)this.createButton(++t)}null===(o=this._elContainer.firstElementChild)||void 0===o||o.remove(),this._elContainer.scrollLeft-=this.buttonWidth/2}}else if(m<this.buttonHeight/4){const t=this.getFirstChild(),e=(this.numberOfItems+t-1)%this.numberOfItems;if(this.createButton(e,!1),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let t=e;for(;t>0&&!1===(null===(l=this.showSignalHolder[t])||void 0===l?void 0:l.value);)this.createButton(--t,!1)}null===(h=this._elContainer.lastElementChild)||void 0===h||h.remove(),this._elContainer.scrollTop+=this.buttonHeight/2}else if(m+d>f-this.buttonHeight/4){const t=this.getLastChild(),e=(this.numberOfItems+t+1)%this.numberOfItems;if(this.createButton(e),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let t=e;for(;t<this.numberOfItems&&!1===(null===(u=this.showSignalHolder[t])||void 0===u?void 0:u.value);)this.createButton(++t)}null===(c=this._elContainer.firstElementChild)||void 0===c||c.remove(),this._elContainer.scrollTop-=this.buttonHeight/2,this.scrollToPosition===this.numberOfItems-1&&0===e&&(this._elContainer.scrollTop+=this.buttonHeight)}}endlessHelperForNew(){var t,e,i,s,n,r,a,o,l,h,u,c;const{offsetHeight:d,offsetWidth:p,scrollLeft:g,scrollTop:m,scrollWidth:b,scrollHeight:f}=this._elContainer;if(!1!==("horizontal"===this.orientation?p+this.buttonWidth<b:d+this.buttonHeight<f))if("horizontal"===this.orientation&&"rtl"===this.dir){if(Math.abs(g)+p>b-this.buttonWidth/4){const i=this.getLastChild(),s=(this.numberOfItems+i+1)%this.numberOfItems;if(this.createButton(s),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let e=s;for(;e<this.numberOfItems&&!1===(null===(t=this.showSignalHolder[e])||void 0===t?void 0:t.value);)this.createButton(++e)}for(;this._elContainer.children.length>this.numberOfItems;)null===(e=this._elContainer.firstElementChild)||void 0===e||e.remove();this._elContainer.scrollLeft+=this.buttonWidth/2}else if(Math.abs(g)<this.buttonWidth/4){const t=this.getFirstChild(),e=(this.numberOfItems+t-1)%this.numberOfItems;if(this.createButton(e,!1),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let t=e;for(;t>0&&!1===(null===(i=this.showSignalHolder[t])||void 0===i?void 0:i.value);)this.createButton(--t,!1)}for(;this._elContainer.children.length>this.numberOfItems;)null===(s=this._elContainer.lastElementChild)||void 0===s||s.remove();this._elContainer.scrollLeft-=this.buttonWidth/2}}else if("horizontal"===this.orientation){if(g<this.buttonWidth/4){const t=this.getFirstChild(),e=(this.numberOfItems+t-1)%this.numberOfItems;if(this.createButton(e,!1),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let t=e;for(;t>0&&!1===(null===(n=this.showSignalHolder[t])||void 0===n?void 0:n.value);)this.createButton(--t,!1)}for(;this._elContainer.children.length>this.numberOfItems;)null===(r=this._elContainer.lastElementChild)||void 0===r||r.remove();this._elContainer.scrollLeft+=this.buttonWidth/2}else if(g+p>b-this.buttonWidth/4){const t=this.getLastChild(),e=(this.numberOfItems+t+1)%this.numberOfItems;if(this.createButton(e),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let t=e;for(;t<this.numberOfItems&&!1===(null===(a=this.showSignalHolder[t])||void 0===a?void 0:a.value);)this.createButton(++t)}for(;this._elContainer.children.length>this.numberOfItems;)null===(o=this._elContainer.firstElementChild)||void 0===o||o.remove();this._elContainer.scrollLeft-=this.buttonWidth/2}}else if(m<this.buttonHeight/4){const t=this.getFirstChild(),e=(this.numberOfItems+t-1)%this.numberOfItems;if(this.createButton(e,!1),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let t=e;for(;t>0&&!1===(null===(l=this.showSignalHolder[t])||void 0===l?void 0:l.value);)this.createButton(--t,!1)}for(;this._elContainer.children.length>this.numberOfItems;)null===(h=this._elContainer.lastElementChild)||void 0===h||h.remove();this._elContainer.scrollTop+=this.buttonHeight/2}else if(m+d>f-this.buttonHeight/4){const t=this.getLastChild(),e=(this.numberOfItems+t+1)%this.numberOfItems;if(this.createButton(e),!0===this.loadButtonForShow&&!1===this.allButtonsVisible){let t=e;for(;t<this.numberOfItems&&!1===(null===(u=this.showSignalHolder[t])||void 0===u?void 0:u.value);)this.createButton(++t)}for(;this._elContainer.children.length>this.numberOfItems;)null===(c=this._elContainer.firstElementChild)||void 0===c||c.remove();this._elContainer.scrollTop-=this.buttonHeight/2,this.scrollToPosition===this.numberOfItems-1&&0===e&&(this._elContainer.scrollTop+=this.buttonHeight)}}clearComponentContent(){const t=this.getElementsByTagName("div");Array.from(t).forEach(t=>{t.remove()})}handleOrientation(){Array.from(v.COMPONENT_DATA.ORIENTATION.values).forEach(t=>{this._elContainer.classList.remove(this.nodeName.toLowerCase()+v.COMPONENT_DATA.ORIENTATION.classListPrefix+t)}),this._elContainer.classList.add(this.nodeName.toLowerCase()+v.COMPONENT_DATA.ORIENTATION.classListPrefix+this.orientation),this.handleRowsAndColumn()}handleScrollbar(){!0===this.endless&&!0===this.scrollbar&&(this.scrollbar=!1),[!0,!1].forEach(t=>{this._elContainer.classList.remove(this.nodeName.toLowerCase()+v.SCROLLBAR_CLASSLIST_PREFIX+t.toString())}),this._elContainer.classList.add(this.nodeName.toLowerCase()+v.SCROLLBAR_CLASSLIST_PREFIX+this.scrollbar),this.initScrollbar()}handleRowsAndColumn(){this.endless&&(this.endless="horizontal"===this.orientation?1===this.rows:1===this.columns),"both"===this.stretch&&(this.stretch="horizontal"===this.orientation?1===this.rows?"both":null:1===this.columns?"both":null),"horizontal"===this.orientation?(this._elContainer.classList.remove(this.nodeName.toLowerCase()+v.ROWS_CLASSLIST_PREFIX+this.rowClassValue),this._elContainer.classList.remove(this.nodeName.toLowerCase()+v.COLUMNS_CLASSLIST_PREFIX+this.columnClassValue),this.rowClassValue=this.rows<this.numberOfItems?this.rows:this.numberOfItems,this._elContainer.classList.add(this.nodeName.toLowerCase()+v.ROWS_CLASSLIST_PREFIX+this.rowClassValue)):(this._elContainer.classList.remove(this.nodeName.toLowerCase()+v.COLUMNS_CLASSLIST_PREFIX+this.columnClassValue),this._elContainer.classList.remove(this.nodeName.toLowerCase()+v.ROWS_CLASSLIST_PREFIX+this.rowClassValue),this.columnClassValue=this.columns<this.numberOfItems?this.columns:this.numberOfItems,this._elContainer.classList.add(this.nodeName.toLowerCase()+v.COLUMNS_CLASSLIST_PREFIX+this.columnClassValue)),this.debounceButtonDisplay()}handleStretch(){"both"===this.stretch&&(this.stretch="horizontal"===this.orientation?1===this.rows?"both":null:1===this.columns?"both":null),null===this.stretch?this._elContainer.classList.remove(this.primaryCssClass+"--stretch-both"):this.debounceButtonDisplay()}handleCenterItems(){[!0,!1].forEach(t=>{this._elContainer.classList.remove(this.nodeName.toLowerCase()+v.CENTER_ITEMS_CLASSLIST_PREFIX+t.toString())}),this._elContainer.classList.add(this.nodeName.toLowerCase()+v.CENTER_ITEMS_CLASSLIST_PREFIX+this.centerItems),!0===this.centerItems&&this.debounceButtonDisplay()}handleEndless(){this.endless&&(this.endless="horizontal"===this.orientation?1===this.rows:1===this.columns),this.endless&&!0===this.scrollbar&&(this.scrollbar=!1)}handleScrollToPosition(t){var e,i;if(!(t>=this.numberOfItems||t<0||"horizontal"===this.orientation&&1!==this.rows||"vertical"===this.orientation&&1!==this.columns)){if(0!==this.buttonWidth&&0!==this.buttonHeight||(this.createButton(0,!1),this.buttonWidth=(null===(e=this._elContainer.firstElementChild)||void 0===e?void 0:e.getBoundingClientRect().width)||this.buttonWidth,this.buttonHeight=(null===(i=this._elContainer.firstElementChild)||void 0===i?void 0:i.getBoundingClientRect().height)||this.buttonHeight),Array.from(this._elContainer.children).forEach(t=>t.remove()),0!==this.contractName.length&&!0===this.useContractForItemShow||0!==this.buttonReceiveStateShow.length&&!0===this.buttonReceiveStateShow.trim().includes(`{{${this.indexId}}}`)){this.loadButtonForShow=!0,0===this.showSignalHolder.length&&this.signalHolder();const t=this.showSignalHolder.filter(t=>!0===(null==t?void 0:t.value)).length;this.allButtonsVisible=t===this.numberOfItems}else this.loadButtonForShow=!1;if("rtl"===this.dir&&"horizontal"===this.orientation){const e=this._elContainer.getBoundingClientRect().width,i=Math.ceil(e/this.buttonWidth)+v.BUTTON_CONTAINER_BUFFER;if(t>=this.numberOfItems-(i-v.BUTTON_CONTAINER_BUFFER)){for(let t=this.numberOfItems-i;t<this.numberOfItems;t++)this.createButton(t);this._elContainer.scrollLeft=t===this.numberOfItems-1?5*this.buttonWidth*-1:this.buttonWidth*v.BUTTON_CONTAINER_BUFFER*-1,!1===this.allButtonsVisible&&!0===this.loadButtonForShow&&this.scrollToRightEdgeRange()}else if(t>=v.BUTTON_CONTAINER_BUFFER){for(let e=t-v.BUTTON_CONTAINER_BUFFER;e<t+i&&e<this.numberOfItems;e++)this.createButton(e);this._elContainer.scrollLeft=this.buttonWidth*v.BUTTON_CONTAINER_BUFFER*-1,!1===this.allButtonsVisible&&!0===this.loadButtonForShow&&this.scrollToMiddleRange()}else{for(let t=0;t<i&&t<this.numberOfItems;t++)this.createButton(t);this._elContainer.scrollLeft=this.buttonWidth*t*-1,!1===this.allButtonsVisible&&!0===this.loadButtonForShow&&this.scrollToLeftEdgeRange()}}else if("horizontal"===this.orientation){const e=this._elContainer.getBoundingClientRect().width,i=Math.ceil(e/this.buttonWidth)+v.BUTTON_CONTAINER_BUFFER;if(t>=this.numberOfItems-(i-v.BUTTON_CONTAINER_BUFFER)){for(let t=this.numberOfItems-i;t<this.numberOfItems;t++)this.createButton(t);this._elContainer.scrollLeft=t===this.numberOfItems-1?5*this.buttonWidth:this.buttonWidth*v.BUTTON_CONTAINER_BUFFER,!1===this.allButtonsVisible&&!0===this.loadButtonForShow&&this.scrollToRightEdgeRange()}else if(t>=v.BUTTON_CONTAINER_BUFFER){for(let e=t-v.BUTTON_CONTAINER_BUFFER;e<t+i&&e<this.numberOfItems;e++)this.createButton(e);this._elContainer.scrollLeft=this.buttonWidth*v.BUTTON_CONTAINER_BUFFER,!1===this.allButtonsVisible&&!0===this.loadButtonForShow&&this.scrollToMiddleRange()}else{for(let t=0;t<i&&t<this.numberOfItems;t++)this.createButton(t);this._elContainer.scrollLeft=this.buttonWidth*t,!1===this.allButtonsVisible&&!0===this.loadButtonForShow&&this.scrollToLeftEdgeRange()}}else{const e=this._elContainer.getBoundingClientRect().height,i=Math.ceil(e/this.buttonHeight)+v.BUTTON_CONTAINER_BUFFER;if(e<=10||e<=this.buttonHeight+10)for(let t=0;t<this.numberOfItems;t++)this.createButton(t);else if(t>=this.numberOfItems-(i-v.BUTTON_CONTAINER_BUFFER)){for(let t=this.numberOfItems-i;t<this.numberOfItems;t++)this.createButton(t);this._elContainer.scrollTop=t===this.numberOfItems-1?5*this.buttonHeight:this.buttonHeight*v.BUTTON_CONTAINER_BUFFER,!1===this.allButtonsVisible&&!0===this.loadButtonForShow&&this.scrollToRightEdgeRange()}else if(t>=v.BUTTON_CONTAINER_BUFFER){for(let e=t-v.BUTTON_CONTAINER_BUFFER;e<t+i&&e<this.numberOfItems;e++)this.createButton(e);this._elContainer.scrollTop=this.buttonHeight*v.BUTTON_CONTAINER_BUFFER,!1===this.allButtonsVisible&&!0===this.loadButtonForShow&&this.scrollToMiddleRange()}else{for(let t=0;t<i&&t<this.numberOfItems;t++)this.createButton(t);this._elContainer.scrollTop=this.buttonHeight*t,!1===this.allButtonsVisible&&!0===this.loadButtonForShow&&this.scrollToLeftEdgeRange()}}this.initScrollbar()}}handleScrollToPositionForNew(t){var e,i,s,n,r;if(!(t>=this.numberOfItems||t<0||"horizontal"===this.orientation&&1!==this.rows||"vertical"===this.orientation&&1!==this.columns)){if(0!==this.buttonWidth&&0!==this.buttonHeight||(0===this._elContainer.children.length?(this.createButton(0),this.buttonWidth=(null===(e=this._elContainer.firstElementChild)||void 0===e?void 0:e.getBoundingClientRect().width)||this.buttonWidth,this.buttonHeight=(null===(i=this._elContainer.firstElementChild)||void 0===i?void 0:i.getBoundingClientRect().height)||this.buttonHeight,null===(s=this._elContainer.firstElementChild)||void 0===s||s.remove()):(this.buttonWidth=(null===(n=this._elContainer.firstElementChild)||void 0===n?void 0:n.getBoundingClientRect().width)||this.buttonWidth,this.buttonHeight=(null===(r=this._elContainer.firstElementChild)||void 0===r?void 0:r.getBoundingClientRect().height)||this.buttonHeight)),0!==this.contractName.length&&!0===this.useContractForItemShow||0!==this.buttonReceiveStateShow.length&&!0===this.buttonReceiveStateShow.trim().includes(`{{${this.indexId}}}`)){this.loadButtonForShow=!0,0===this.showSignalHolder.length&&this.signalHolder();const t=this.showSignalHolder.filter(t=>!0===(null==t?void 0:t.value)).length;this.allButtonsVisible=t===this.numberOfItems}else this.loadButtonForShow=!1;if("rtl"===this.dir&&"horizontal"===this.orientation){const e=this._elContainer.getBoundingClientRect().width,i=Math.ceil(e/this.buttonWidth)+v.BUTTON_CONTAINER_BUFFER;if(0===this._elContainer.children.length)for(let e=0;e<this.numberOfItems&&e<t+i-1;e++)this.createButton(e);else if(this.getLastChild()<t+i)for(let e=this.getLastChild()+1;e<this.numberOfItems&&e<t+i;e++)this.createButton(e);this._elContainer.scrollLeft=0!==t?t*this.buttonWidth*-1:0}else if("horizontal"===this.orientation){const e=this._elContainer.getBoundingClientRect().width,i=Math.ceil(e/this.buttonWidth)+v.BUTTON_CONTAINER_BUFFER;if(0===this._elContainer.children.length)for(let e=0;e<this.numberOfItems&&e<t+i-1;e++)this.createButton(e);else if(this.getLastChild()<t+i)for(let e=this.getLastChild()+1;e<this.numberOfItems&&e<t+i;e++)this.createButton(e);this._elContainer.scrollLeft=0!==t?t*this.buttonWidth:0}else{const e=this._elContainer.getBoundingClientRect().height,i=Math.ceil(e/this.buttonHeight)+v.BUTTON_CONTAINER_BUFFER;if(e<=10||e<=this.buttonHeight+10)for(let t=0;t<this.numberOfItems;t++)this.createButton(t);else if(0===this._elContainer.children.length)for(let e=0;e<this.numberOfItems&&e<t+i-1;e++)this.createButton(e);else if(this.getLastChild()<t+i)for(let e=this.getLastChild()+1;e<this.numberOfItems&&e<t+i;e++)this.createButton(e);this._elContainer.scrollTop=0!==t?t*this.buttonHeight:0}if(!1===this.allButtonsVisible&&!0===this.loadButtonForShow){let t=0;for(let e=this.getFirstChild();e<=this.getLastChild();e++)!1===this.showSignalHolder[e].value&&(t+=1);let e=0;for(;0!==t&&e<t&&this.getLastChild()!==this.numberOfItems-1;)!0===this.showSignalHolder[this.getLastChild()+1].value&&(e+=1),this.createButton(this.getLastChild()+1)}this.initScrollbar()}}handleScrollToPositionForAll(t){var e,i;t>=this.numberOfItems||t<0||"horizontal"===this.orientation&&1!==this.rows||"vertical"===this.orientation&&1!==this.columns||(this.buttonWidth=(null===(e=this._elContainer.firstElementChild)||void 0===e?void 0:e.getBoundingClientRect().width)||this.buttonWidth,this.buttonHeight=(null===(i=this._elContainer.firstElementChild)||void 0===i?void 0:i.getBoundingClientRect().height)||this.buttonHeight,"rtl"===this.dir&&"horizontal"===this.orientation?this._elContainer.scrollLeft=t*this.buttonWidth*-1:"horizontal"===this.orientation?this._elContainer.scrollLeft=t*this.buttonWidth:this._elContainer.scrollTop=t*this.buttonHeight,this.initScrollbar())}buttonDisplay(t=!1){if(this.contractDefaultHelper(),!0===t)return this.handleScrollToPosition(this.scrollToPosition);this._elContainer.classList.remove(this.primaryCssClass+"--stretch-both"),Array.from(this._elContainer.children).forEach(t=>t.remove()),this.createButton(0),this.buttonWidth=this._elContainer.children[0].getBoundingClientRect().width,this.buttonHeight=this._elContainer.children[0].getBoundingClientRect().height;let e=0;if("horizontal"===this.orientation){const t=this._elContainer.getBoundingClientRect().width;e=Math.floor(t/this.buttonWidth)*this.rows+this.rows*v.BUTTON_CONTAINER_BUFFER}else{const t=this._elContainer.getBoundingClientRect().height;e=t>this.buttonHeight+10?Math.floor(t/this.buttonHeight)*this.columns+this.columns*v.BUTTON_CONTAINER_BUFFER:this.numberOfItems}e=e>this.numberOfItems?this.numberOfItems:e;for(let t=1;t<e;t++)this.createButton(t);this.endless&&("horizontal"===this.orientation?this._elContainer.scrollLeft=5:this._elContainer.scrollTop=5),this.initScrollbar(),"both"===this.stretch&&this._elContainer.classList.add(this.primaryCssClass+"--stretch-both"),!0===this.centerItems&&this.scrollbarDimension<100&&(this.centerItems=!1),this.signalHolder(),0!==this.scrollToPosition&&this.handleScrollToPosition(this.scrollToPosition)}buttonDisplayForLoadItemsNew(t=!1){if(this.contractDefaultHelper(),!0===t)return this.handleScrollToPositionForNew(this.scrollToPosition);this._elContainer.classList.remove(this.primaryCssClass+"--stretch-both"),Array.from(this._elContainer.children).forEach(t=>t.remove()),this.createButton(0),this.buttonWidth=this._elContainer.children[0].getBoundingClientRect().width,this.buttonHeight=this._elContainer.children[0].getBoundingClientRect().height;let e=0;if("horizontal"===this.orientation){const t=this._elContainer.getBoundingClientRect().width;e=Math.floor(t/this.buttonWidth)*this.rows+this.rows*v.BUTTON_CONTAINER_BUFFER}else{const t=this._elContainer.getBoundingClientRect().height;e=t>this.buttonHeight+10?Math.floor(t/this.buttonHeight)*this.columns+this.columns*v.BUTTON_CONTAINER_BUFFER:this.numberOfItems}e=e>this.numberOfItems?this.numberOfItems:e;for(let t=1;t<e;t++)this.createButton(t);this.endless&&("horizontal"===this.orientation?this._elContainer.scrollLeft=5:this._elContainer.scrollTop=5),this.initScrollbar(),"both"===this.stretch&&this._elContainer.classList.add(this.primaryCssClass+"--stretch-both"),!0===this.centerItems&&this.scrollbarDimension<100&&(this.centerItems=!1),this.signalHolder(),0!==this.scrollToPosition&&this.handleScrollToPositionForNew(this.scrollToPosition)}buttonDisplayForLoadItemsAll(t=!1){this.contractDefaultHelper(),Array.from(this._elContainer.children).forEach(t=>t.remove());for(let t=0;t<this.numberOfItems;t++)this.createButton(t);this.endless&&("horizontal"===this.orientation?this._elContainer.scrollLeft=5:this._elContainer.scrollTop=5),this.initScrollbar(),"both"===this.stretch&&this._elContainer.classList.add(this.primaryCssClass+"--stretch-both"),!0===this.centerItems&&this.scrollbarDimension<100&&(this.centerItems=!1),!0===t&&0===this.scrollToPosition&&("horizontal"===this.orientation?this._elContainer.scrollLeft=0:this._elContainer.scrollTop=0),0!==this.scrollToPosition&&this.handleScrollToPositionForAll(this.scrollToPosition)}createButton(t,e=!0){var i,s,r,a,o;if(t<0||t>=this.numberOfItems)return;const l={index:t+1,clickHoldTime:this.clickHoldTime,contractName:this.contractName,parentComponent:"ch5-button-list"},h=new n.Ch5Button(l),u=document.createElement("div");if(u.setAttribute("id",this.getCrId()+"-"+t),""!==this.contractName.trim()&&null!==this.contractName&&void 0!==this.contractName&&!0===this.useContractForItemShow)u.setAttribute("data-ch5-noshow-type","display"),u.setAttribute("data-ch5-show",this.contractName+`.Button${t+1}Visible`);else if(!1===(null===(i=this.getAttribute("buttonReceiveStateShow"))||void 0===i?void 0:i.trim().includes(`{{${this.indexId}}}`))){const t=null===(s=this.getAttribute("buttonReceiveStateShow"))||void 0===s?void 0:s.trim();t&&(u.setAttribute("data-ch5-noshow-type","display"),u.setAttribute("data-ch5-show",t.trim()))}else if(this.hasAttribute("buttonReceiveStateShow")&&(null===(r=this.getAttribute("buttonReceiveStateShow"))||void 0===r?void 0:r.trim())){const e=this.replaceAll((null===(a=this.getAttribute("buttonReceiveStateShow"))||void 0===a?void 0:a.trim())+"",`{{${this.indexId}}}`,""),i=/^[0-9]+$/.test(e);u.setAttribute("data-ch5-noshow-type","display"),i?u.setAttribute("data-ch5-show",Number(e)+t+""):u.setAttribute("data-ch5-show",this.replaceAll((null===(o=this.getAttribute("buttonReceiveStateShow"))||void 0===o?void 0:o.trim())+"",`{{${this.indexId}}}`,t+""))}u.classList.add(this.nodeName.toLowerCase()+"--button-container"),u.appendChild(h),e?this._elContainer.appendChild(u):this._elContainer.prepend(u),this.buttonModeHelper(h,t),this.buttonLabelHelper(h,t),this.buttonHelper(h,t),h.addContainerClass(this.nodeName.toLowerCase()+v.COMPONENT_DATA.BUTTON_TYPE.classListPrefix+this.buttonType),h.addContainerClass(this.nodeName.toLowerCase()+v.COMPONENT_DATA.BUTTON_SHAPE.classListPrefix+this.buttonShape),h.addContainerClass(this.nodeName.toLowerCase()+v.COMPONENT_DATA.BUTTON_ICON_POSITION.classListPrefix+this.buttonIconPosition),h.addContainerClass(this.nodeName.toLowerCase()+v.COMPONENT_DATA.BUTTON_CHECKBOX_POSITION.classListPrefix+this.buttonCheckboxPosition)}buttonModeHelper(t,e){const i=this.getElementsByTagName(this.nodeName.toLowerCase()+"-mode");i&&i.length>0&&Array.from(i).forEach((i,s)=>{if(s<v.MODES_MAX_COUNT&&i.parentElement instanceof v){const s=new a.Ch5ButtonMode(t);a.Ch5ButtonMode.observedAttributes.forEach(t=>{i.hasAttribute(t)&&s.setAttribute(t,i.getAttribute(t)+"")});const n=i.getElementsByTagName(this.nodeName.toLowerCase()+"-mode-state");n&&n.length>0&&Array.from(n).forEach(i=>{if(i.parentElement instanceof u.Ch5ButtonListModeBase){const n=new d.Ch5ButtonModeState(t);d.Ch5ButtonModeState.observedAttributes.forEach(t=>{i.hasAttribute(t)&&n.setAttribute(t,i.getAttribute(t)+"")});const r=i.getElementsByTagName(this.nodeName.toLowerCase()+"-label");r&&r.length>0&&Array.from(r).forEach(t=>{if(t.parentElement instanceof c.Ch5ButtonListModeStateBase){const i=t.getElementsByTagName("template");if(i&&i.length>0){const t=new o.Ch5ButtonLabel,s=document.createElement("template");s.innerHTML=i[0].innerHTML,g.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsAttrs(s,e,this.indexId),g.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsContent(s,e,this.indexId),t.appendChild(s),n.appendChild(t)}}}),s.appendChild(n)}});const r=i.getElementsByTagName(this.nodeName.toLowerCase()+"-label");r&&r.length>0&&Array.from(r).forEach(t=>{if(t.parentElement instanceof u.Ch5ButtonListModeBase){const i=t.getElementsByTagName("template");if(i&&i.length>0){const t=new o.Ch5ButtonLabel,n=document.createElement("template");n.innerHTML=i[0].innerHTML,g.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsAttrs(n,e,this.indexId),g.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsContent(n,e,this.indexId),t.appendChild(n),s.appendChild(t)}}}),t.appendChild(s)}})}buttonLabelHelper(t,e){const i=this.getElementsByTagName(this.nodeName.toLowerCase()+"-label");i&&i.length>0&&Array.from(i).forEach(i=>{if(i.parentElement instanceof v){const s=i.getElementsByTagName("template");if(s&&s.length>0){const i=new o.Ch5ButtonLabel,n=document.createElement("template");n.innerHTML=s[0].innerHTML,g.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsAttrs(n,e,this.indexId),g.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsContent(n,e,this.indexId),i.appendChild(n),t.appendChild(i)}}})}buttonHelper(t,e){if(t.setAttribute("stretch","both"),t.setAttribute("shape","rectangle"),""!==this.contractName.trim()&&null!==this.contractName&&void 0!==this.contractName)return this.contractButtonHelper(t,e);const i=this.getElementsByTagName(this.nodeName.toLowerCase()+"-individual-button"),s=i.length;v.COMPONENT_PROPERTIES.forEach(n=>{var r,a,o,l,h,u,c,d,p,g,m,b,f,v;if(e<s){if("buttoniconclass"===n.name.toLowerCase()){if(i[e]&&i[e].hasAttribute("iconclass")){const s=null===(r=i[e].getAttribute("iconclass"))||void 0===r?void 0:r.trim();s&&t.setAttribute("iconclass",s)}else if(n.name.toLowerCase().startsWith("button")&&this.hasAttribute(n.name)){const i=null===(a=this.getAttribute(n.name))||void 0===a?void 0:a.trim().replace(`{{${this.indexId}}}`,e+"");i&&t.setAttribute(n.name.toLowerCase().replace("button",""),i.trim())}}else if("buttoniconurl"===n.name.toLowerCase()){if(i[e]&&i[e].hasAttribute("iconurl")){const s=null===(o=i[e].getAttribute("iconurl"))||void 0===o?void 0:o.trim();s&&t.setAttribute("iconurl",s)}else if(n.name.toLowerCase().startsWith("button")&&this.hasAttribute(n.name)){const i=null===(l=this.getAttribute(n.name))||void 0===l?void 0:l.trim().replace(`{{${this.indexId}}}`,e+"");i&&t.setAttribute(n.name.toLowerCase().replace("button",""),i.trim())}}else if(n.name.toLowerCase().startsWith("button")&&this.hasAttribute(n.name))if(!1===(null===(h=this.getAttribute(n.name))||void 0===h?void 0:h.trim().includes(`{{${this.indexId}}}`))){const e=null===(u=this.getAttribute(n.name))||void 0===u?void 0:u.trim();e&&t.setAttribute(n.name.toLowerCase().replace("button",""),e.trim())}else if(0!==(null===(c=this.getAttribute(n.name))||void 0===c?void 0:c.trim().length)){const i=this.replaceAll((null===(d=this.getAttribute(n.name))||void 0===d?void 0:d.trim())+"",`{{${this.indexId}}}`,"");/^[0-9]+$/.test(i)?t.setAttribute(n.name.toLowerCase().replace("button",""),Number(i)+e+""):t.setAttribute(n.name.toLowerCase().replace("button",""),this.replaceAll((null===(p=this.getAttribute(n.name))||void 0===p?void 0:p.trim())+"",`{{${this.indexId}}}`,e+""))}}else if(n.name.toLowerCase().startsWith("button")&&this.hasAttribute(n.name))if(!1===(null===(g=this.getAttribute(n.name))||void 0===g?void 0:g.trim().includes(`{{${this.indexId}}}`))){const e=null===(m=this.getAttribute(n.name))||void 0===m?void 0:m.trim();e&&t.setAttribute(n.name.toLowerCase().replace("button",""),e.trim())}else if(0!==(null===(b=this.getAttribute(n.name))||void 0===b?void 0:b.trim().length)){const i=this.replaceAll((null===(f=this.getAttribute(n.name))||void 0===f?void 0:f.trim())+"",`{{${this.indexId}}}`,"");/^[0-9]+$/.test(i)?t.setAttribute(n.name.toLowerCase().replace("button",""),Number(i)+e+""):t.setAttribute(n.name.toLowerCase().replace("button",""),this.replaceAll((null===(v=this.getAttribute(n.name))||void 0===v?void 0:v.trim())+"",`{{${this.indexId}}}`,e+""))}}),""!==this.receiveStateSelectedButton.trim()&&(t.removeAttribute("receiveStateSelected"),t.removeAttribute("selected"),this.selectedButton===e&&t.setAttribute("selected","true"));["onRelease","labelInnerHTML"].forEach(n=>{var r;if(e<s&&i[e]&&i[e].hasAttribute(n)){const s=null===(r=i[e].getAttribute(n))||void 0===r?void 0:r.trim();s&&t.setAttribute(n,s.trim())}})}replaceAll(t,e,i){return t&&""!==String(t).trim()?String(t).split(e).join(i):t}contractDefaultHelper(){""!==this.contractName.trim()&&null!==this.contractName&&void 0!==this.contractName&&(!0===this.useContractForCustomStyle&&(this.receiveStateCustomStyle=this.contractName+".CustomStyle"),!0===this.useContractForCustomClass&&(this.receiveStateCustomClass=this.contractName+".CustomClass"),!0===this.useContractForEnable&&(this.receiveStateEnable=this.contractName+".ListEnabled"),!0===this.useContractForShow&&(this.receiveStateShow=this.contractName+".ListVisible"),!0===this.useContractForNumItems&&(this.receiveStateNumberOfItems=this.contractName+".ListNumberOfItems"),!0===this.useContractForEachButtonSelection&&(this.receiveStateSelectedButton=this.contractName+".ItemSelected"),this.receiveStateScrollToPosition=this.contractName+".ListScrollToItem")}contractButtonHelper(t,e){var i,s,n,r,a,o;!0===this.useContractForItemEnable?t.setAttribute("receiveStateEnable",this.contractName+`.Button${e+1}Enabled`):this.hasAttribute("buttonReceiveStateEnable")&&(null===(i=this.getAttribute("buttonReceiveStateEnable"))||void 0===i?void 0:i.trim())&&this.indexIdReplaceHelper(t,"buttonReceiveStateEnable",e),!0===this.useContractForItemShow?t.setAttribute("receiveStateShow",this.contractName+`.Button${e+1}Visible`):this.hasAttribute("buttonReceiveStateShow")&&(null===(s=this.getAttribute("buttonReceiveStateShow"))||void 0===s?void 0:s.trim())&&this.indexIdReplaceHelper(t,"buttonReceiveStateShow",e),"iconClass"===this.contractItemIconType?t.setAttribute("receiveStateIconClass",this.contractName+`.Button${e+1}IconClass`):"url"===this.contractItemIconType?t.setAttribute("receiveStateIconUrl",this.contractName+`.Button${e+1}IconURL`):"sgStateNumber"===this.contractItemIconType?t.setAttribute("receiveStateSGIconNumeric",this.contractName+`.Button${e+1}IconAnalog`):"sgStateName"===this.contractItemIconType?t.setAttribute("receiveStateSGIconString",this.contractName+`.Button${e+1}IconSerial`):"none"===this.contractItemIconType&&(this.hasAttribute("buttonReceiveStateIconClass")&&(null===(n=this.getAttribute("buttonReceiveStateIconClass"))||void 0===n?void 0:n.trim())&&this.indexIdReplaceHelper(t,"buttonReceiveStateIconClass",e),this.hasAttribute("buttonReceiveStateIconUrl")&&(null===(r=this.getAttribute("buttonReceiveStateIconUrl"))||void 0===r?void 0:r.trim())&&this.indexIdReplaceHelper(t,"buttonReceiveStateIconUrl",e)),"textContent"===this.contractItemLabelType?t.setAttribute("receiveStateLabel",this.contractName+`.Button${e+1}Text`):"innerHTML"===this.contractItemLabelType?t.setAttribute("receiveStateScriptLabelHtml",this.contractName+`.Button${e+1}Text`):(this.hasAttribute("buttonReceiveStateLabel")&&(null===(a=this.getAttribute("buttonReceiveStateLabel"))||void 0===a?void 0:a.trim())&&this.indexIdReplaceHelper(t,"buttonReceiveStateLabel",e),this.hasAttribute("buttonReceiveStateScriptLabelHtml")&&(null===(o=this.getAttribute("buttonReceiveStateScriptLabelHtml"))||void 0===o?void 0:o.trim())&&this.indexIdReplaceHelper(t,"buttonReceiveStateScriptLabelHtml",e)),t.setAttribute("receiveStateMode",this.contractName+`.Button${e+1}Mode`),!1===this.useContractForEachButtonSelection&&t.setAttribute("receiveStateSelected",this.contractName+`.Button${e+1}ItemSelected`),e===this.selectedButton&&!0===this.useContractForEachButtonSelection&&t.setAttribute("selected","true"),t.setAttribute("sgIconTheme",this.buttonSgIconTheme);const l=this.getElementsByTagName(this.nodeName.toLowerCase()+"-individual-button"),h=l.length;["buttonCheckboxPosition","buttonCheckboxShow","buttonVAlignLabel","buttonHAlignLabel","buttonIconClass","buttonIconPosition","buttonIconUrl","buttonShape","buttonType","buttonPressed","buttonLabelInnerHtml","buttonIconUrlFillType"].forEach(i=>{var s,n,r,a,o,u,c,d,p,g,m,b,f,v;if(e<h){if("buttoniconclass"===i.toLowerCase()){if(l[e]&&l[e].hasAttribute("iconclass")){const i=null===(s=l[e].getAttribute("iconclass"))||void 0===s?void 0:s.trim();i&&t.setAttribute("iconclass",i)}else if(i.toLowerCase().startsWith("button")&&this.hasAttribute(i)){const s=null===(n=this.getAttribute(i))||void 0===n?void 0:n.trim().replace(`{{${this.indexId}}}`,e+"");s&&t.setAttribute(i.toLowerCase().replace("button",""),s.trim())}}else if("buttoniconurl"===i.toLowerCase()){if(l[e]&&l[e].hasAttribute("iconurl")){const i=null===(r=l[e].getAttribute("iconurl"))||void 0===r?void 0:r.trim();i&&t.setAttribute("iconurl",i)}else if(i.toLowerCase().startsWith("button")&&this.hasAttribute(i)){const s=null===(a=this.getAttribute(i))||void 0===a?void 0:a.trim().replace(`{{${this.indexId}}}`,e+"");s&&t.setAttribute(i.toLowerCase().replace("button",""),s.trim())}}else if("buttonreceivestateshow"===i.toLowerCase()&&this.hasAttribute("receivestateshow"))t.setAttribute("receivestateshow",this.getAttribute("receivestateshow")+"");else if("buttonreceivestateenable"===i.toLowerCase()&&this.hasAttribute("receivestateenable"))t.setAttribute("receivestateenable",this.getAttribute("receivestateenable")+"");else if(i.toLowerCase().startsWith("button")&&this.hasAttribute(i))if(!1===(null===(o=this.getAttribute(i))||void 0===o?void 0:o.trim().includes(`{{${this.indexId}}}`))){const e=null===(u=this.getAttribute(i))||void 0===u?void 0:u.trim();e&&t.setAttribute(i.toLowerCase().replace("button",""),e.trim())}else if(0!==(null===(c=this.getAttribute(i))||void 0===c?void 0:c.trim().length)){const s=this.replaceAll((null===(d=this.getAttribute(i))||void 0===d?void 0:d.trim())+"",`{{${this.indexId}}}`,"");/^[0-9]+$/.test(s)?t.setAttribute(i.toLowerCase().replace("button",""),Number(s)+e+""):t.setAttribute(i.toLowerCase().replace("button",""),this.replaceAll((null===(p=this.getAttribute(i))||void 0===p?void 0:p.trim())+"",`{{${this.indexId}}}`,e+""))}}else if("buttonreceivestateshow"===i.toLowerCase()&&this.hasAttribute("receivestateshow"))t.setAttribute("receivestateshow",this.getAttribute("receivestateshow")+"");else if("buttonreceivestateenable"===i.toLowerCase()&&this.hasAttribute("receivestateenable"))t.setAttribute("receivestateenable",this.getAttribute("receivestateenable")+"");else if(i.toLowerCase().startsWith("button")&&this.hasAttribute(i))if(!1===(null===(g=this.getAttribute(i))||void 0===g?void 0:g.trim().includes(`{{${this.indexId}}}`))){const e=null===(m=this.getAttribute(i))||void 0===m?void 0:m.trim();e&&t.setAttribute(i.toLowerCase().replace("button",""),e.trim())}else if(0!==(null===(b=this.getAttribute(i))||void 0===b?void 0:b.trim().length)){const s=this.replaceAll((null===(f=this.getAttribute(i))||void 0===f?void 0:f.trim())+"",`{{${this.indexId}}}`,"");/^[0-9]+$/.test(s)?t.setAttribute(i.toLowerCase().replace("button",""),Number(s)+e+""):t.setAttribute(i.toLowerCase().replace("button",""),this.replaceAll((null===(v=this.getAttribute(i))||void 0===v?void 0:v.trim())+"",`{{${this.indexId}}}`,e+""))}});["onRelease","labelInnerHTML"].forEach(i=>{var s;if(e<h&&l[e]&&l[e].hasAttribute(i)){const n=null===(s=l[e].getAttribute(i))||void 0===s?void 0:s.trim();n&&t.setAttribute(i,n.trim())}})}indexIdReplaceHelper(t,e,i){var s,n,r,a,o;if(!1===(null===(s=this.getAttribute(e))||void 0===s?void 0:s.trim().includes(`{{${this.indexId}}}`))){const i=null===(n=this.getAttribute(e))||void 0===n?void 0:n.trim();i&&t.setAttribute(e.toLowerCase().replace("button",""),i.trim())}else if(0!==(null===(r=this.getAttribute(e))||void 0===r?void 0:r.trim().length)){const s=this.replaceAll((null===(a=this.getAttribute(e))||void 0===a?void 0:a.trim())+"",`{{${this.indexId}}}`,"");/^[0-9]+$/.test(s)?t.setAttribute(e.toLowerCase().replace("button",""),Number(s)+i+""):t.setAttribute(e.toLowerCase().replace("button",""),this.replaceAll((null===(o=this.getAttribute(e))||void 0===o?void 0:o.trim())+"",`{{${this.indexId}}}`,i+""))}}initCssClass(){this.logger.start("initializeCssClass"),this._elContainer.classList.add(this.nodeName.toLowerCase()+v.COMPONENT_DATA.ORIENTATION.classListPrefix+this.orientation),this._elContainer.classList.add(this.nodeName.toLowerCase()+v.ROWS_CLASSLIST_PREFIX+this.rows),this._elContainer.classList.add(this.nodeName.toLowerCase()+v.SCROLLBAR_CLASSLIST_PREFIX+this.scrollbar),this._elContainer.classList.add(this.nodeName.toLowerCase()+v.CENTER_ITEMS_CLASSLIST_PREFIX+this.centerItems),this.logger.stop()}initScrollbar(){if("horizontal"===this.orientation&&"rtl"===this.dir){const{scrollWidth:t,offsetWidth:e,scrollLeft:i}=this._elContainer;this.scrollbarDimension=Math.floor(e/t*100);const s=Math.ceil(Math.abs(i)/t*100);this._scrollbar.style.removeProperty("height"),this._scrollbar.style.removeProperty("top"),this._scrollbar.style.width=this.scrollbarDimension+"%",this._scrollbar.style.left=100-this.scrollbarDimension-s+"%"}else if("horizontal"===this.orientation){const{scrollWidth:t,offsetWidth:e,scrollLeft:i}=this._elContainer;this.scrollbarDimension=Math.floor(e/t*100);const s=Math.ceil(i/t*100);this._scrollbar.style.removeProperty("height"),this._scrollbar.style.removeProperty("top"),this._scrollbar.style.width=this.scrollbarDimension+"%",this._scrollbar.style.left=s+"%"}else{const{scrollHeight:t,offsetHeight:e,scrollTop:i}=this._elContainer;this.scrollbarDimension=Math.floor(e/t*100);const s=Math.ceil(i/t*100);this._scrollbar.style.removeProperty("width"),this._scrollbar.style.removeProperty("left"),this._scrollbar.style.height=this.scrollbarDimension+"%",this._scrollbar.style.top=s+"%"}this.scrollbar&&(100===this.scrollbarDimension?(this._elContainer.classList.remove(this.nodeName.toLowerCase()+v.SCROLLBAR_CLASSLIST_PREFIX+"true"),this._elContainer.classList.add(this.nodeName.toLowerCase()+v.SCROLLBAR_CLASSLIST_PREFIX+"false")):(this._elContainer.classList.remove(this.nodeName.toLowerCase()+v.SCROLLBAR_CLASSLIST_PREFIX+"false"),this._elContainer.classList.add(this.nodeName.toLowerCase()+v.SCROLLBAR_CLASSLIST_PREFIX+"true")))}checkInternalHTML(){this._elContainer.parentElement!==this&&(this._elContainer.classList.add(this.nodeName.toLowerCase()),this.appendChild(this._elContainer)),this._scrollbar.parentElement!==this._scrollbarContainer&&(this._scrollbar.classList.add("scrollbar"),this._scrollbarContainer.appendChild(this._scrollbar)),this._scrollbarContainer.parentElement!==this&&(this._scrollbarContainer.classList.add("scrollbar-container"),this.appendChild(this._scrollbarContainer))}handleContractName(){0===this.contractName.trim().length?(this.signalNameOnContract.contractName="",this.receiveStateShow=this.signalNameOnContract.receiveStateShow,this.receiveStateEnable=this.signalNameOnContract.receiveStateEnable,this.receiveStateCustomStyle=this.signalNameOnContract.receiveStateCustomStyle,this.receiveStateCustomClass=this.signalNameOnContract.receiveStateCustomClass,this.receiveStateNumberOfItems=this.signalNameOnContract.receiveStateNumberOfItems,this.receiveStateSelectedButton=this.signalNameOnContract.receiveStateSelectedButton,this.receiveStateScrollToPosition=this.signalNameOnContract.receiveStateScrollToPosition):""===this.signalNameOnContract.contractName&&(this.signalNameOnContract.contractName=this.contractName,this.signalNameOnContract.receiveStateShow=this.receiveStateShow,this.signalNameOnContract.receiveStateEnable=this.receiveStateEnable,this.signalNameOnContract.receiveStateCustomStyle=this.receiveStateCustomStyle,this.signalNameOnContract.receiveStateCustomClass=this.receiveStateCustomClass,this.signalNameOnContract.receiveStateNumberOfItems=this.receiveStateNumberOfItems,this.signalNameOnContract.receiveStateSelectedButton=this.receiveStateSelectedButton,this.signalNameOnContract.receiveStateScrollToPosition=this.receiveStateScrollToPosition),this.debounceButtonDisplay()}signalHolder(){var t,e;if(0!==this.contractName.length&&!0===this.useContractForItemShow){this.showSignalHolder.forEach(t=>this.clearOldSubscription(t.signalValue,t.signalState)),this.showSignalHolder=[],this.loadButtonForShow=!0;for(let t=1;t<=this.numberOfItems;t++){const e=`${this.contractName}.Button${t}Visible`,i=this.setSignalByBoolean(e);this.showSignalHolder.push({signalState:"",signalValue:e,value:!1}),f.default.isNil(i)||(this.showSignalHolder[t-1].signalState=i.subscribe(e=>(this.showSignalHolder[t-1].value=e,this.debounceButtonShow(),!0)))}}else if(0!==this.buttonReceiveStateShow.length&&!0===this.buttonReceiveStateShow.trim().includes(`{{${this.indexId}}}`)){this.showSignalHolder.forEach(t=>this.clearOldSubscription(t.signalValue,t.signalState)),this.showSignalHolder=[],this.loadButtonForShow=!0;const i=this.replaceAll((null===(t=this.getAttribute("buttonReceiveStateShow"))||void 0===t?void 0:t.trim())+"",`{{${this.indexId}}}`,""),s=/^[0-9]+$/.test(i);for(let t=0;t<this.numberOfItems;t++){const n=s?Number(i)+t+"":this.replaceAll((null===(e=this.getAttribute("buttonReceiveStateShow"))||void 0===e?void 0:e.trim())+"",`{{${this.indexId}}}`,t+"");this.showSignalHolder.push({signalState:"",signalValue:n,value:!1});const r=this.setSignalByBoolean(n);f.default.isNil(r)||(this.showSignalHolder[t].signalState=r.subscribe(e=>(this.showSignalHolder[t].value=e,this.debounceButtonShow(),!0)))}}}clearOldSubscription(t,e){const i=m.Ch5Signal.getSubscriptionSignalName(t),s=b.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==s&&s.unsubscribe(e)}setSignalByBoolean(t){const e=m.Ch5Signal.getSubscriptionSignalName(t),i=b.Ch5SignalFactory.getInstance().getBooleanSignal(e);return null===i?null:i}buttonShow(){const t=this.showSignalHolder.filter(t=>!0===(null==t?void 0:t.value)).length;this.allButtonsVisible=t===this.numberOfItems,!0!==this.allButtonsVisible&&this.scrollToMiddleRange()}getFirstChild(){var t,e;return Number(null===(e=null===(t=this._elContainer.firstElementChild)||void 0===t?void 0:t.getAttribute("id"))||void 0===e?void 0:e.replace(this.getCrId()+"-",""))}getLastChild(){var t,e;return Number(null===(e=null===(t=this._elContainer.lastElementChild)||void 0===t?void 0:t.getAttribute("id"))||void 0===e?void 0:e.replace(this.getCrId()+"-",""))}scrollToRightEdgeRange(){let t=0;for(let e=this.getFirstChild();e<=this.getLastChild();e++)!1===this.showSignalHolder[e].value&&(t+=1);let e=0;for(;0!==t&&e<t&&0!==this.getFirstChild();)!0===this.showSignalHolder[this.getFirstChild()-1].value&&(e+=1),this.createButton(this.getFirstChild()-1,!1)}scrollToMiddleRange(){let t=0;for(let e=this.getFirstChild();e<=this.getLastChild();e++)!1===this.showSignalHolder[e].value&&(t+=1);let e=0;for(;0!==t&&e<t&&0!==this.getFirstChild();)!0===this.showSignalHolder[this.getFirstChild()-1].value&&(e+=1),this.createButton(this.getFirstChild()-1,!1);for(;0!==t&&e<t&&this.getLastChild()!==this.numberOfItems-1;)!0===this.showSignalHolder[this.getLastChild()+1].value&&(e+=1),this.createButton(this.getLastChild()+1)}scrollToLeftEdgeRange(){let t=0;for(let e=this.getFirstChild();e<=this.getLastChild();e++)!1===this.showSignalHolder[e].value&&(t+=1);let e=0;for(;0!==t&&e<t&&this.getLastChild()!==this.numberOfItems-1;)!0===this.showSignalHolder[this.getLastChild()+1].value&&(e+=1),this.createButton(this.getLastChild()+1)}handleReceiveStateSelectedButton(){Array.from(this._elContainer.children).forEach(t=>{var e;const i=t.children[0];i.removeAttribute("selected"),Number(null===(e=t.getAttribute("id"))||void 0===e?void 0:e.replace(this.getCrId()+"-",""))===this.selectedButton&&i.setAttribute("selected","true")})}getTargetElementForCssClassesAndStyle(){return this._elContainer}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}}e.Ch5ButtonListBase=v,v.ROWS_CLASSLIST_PREFIX="--rows-",v.COLUMNS_CLASSLIST_PREFIX="--columns-",v.SCROLLBAR_CLASSLIST_PREFIX="--scrollbar-",v.CENTER_ITEMS_CLASSLIST_PREFIX="--center-items-",v.BUTTON_CONTAINER_BUFFER=4,v.MODES_MAX_COUNT=5,v.ORIENTATION=["horizontal","vertical"],v.LOAD_ITEMS=["visible-only","load-new","all"],v.STRETCH=["both"],v.CONTRACT_ITEM_LABEL_TYPE=["none","textContent","innerHTML"],v.CONTRACT_ITEM_ICON_TYPE=["none","iconClass","url","sgStateName","sgStateNumber"],v.BUTTON_TYPES=["default","danger","text","warning","info","success","primary","secondary"],v.BUTTON_HALIGN_LABEL_POSITIONS=["center","left","right"],v.BUTTON_VALIGN_LABEL_POSITIONS=["middle","top","bottom"],v.BUTTON_CHECKBOX_POSITIONS=["left","right"],v.BUTTON_ICON_POSITIONS=["first","last","top","bottom"],v.BUTTON_SHAPES=["rectangle","rounded-rectangle"],v.BUTTON_ICON_URL_FILL_TYPE=["stretch","stretch-aspect","center","tile","initial"],v.SG_ICON_THEME=["icons-lg","icons-sm","media-transports-accents","media-transports-light","media-transports-dark"],v.COMPONENT_DATA={ORIENTATION:{default:v.ORIENTATION[0],values:v.ORIENTATION,key:"orientation",attribute:"orientation",classListPrefix:"--orientation-"},LOAD_ITEMS:{default:v.LOAD_ITEMS[0],values:v.LOAD_ITEMS,key:"loadItems",attribute:"loadItems",classListPrefix:"--load-items-"},STRETCH:{default:v.STRETCH[0],values:v.STRETCH,key:"stretch",attribute:"stretch",classListPrefix:"--stretch-"},BUTTON_TYPE:{default:v.BUTTON_TYPES[0],values:v.BUTTON_TYPES,key:"buttonType",attribute:"buttonType",classListPrefix:"--button-type-"},BUTTON_HALIGN_LABEL:{default:v.BUTTON_HALIGN_LABEL_POSITIONS[0],values:v.BUTTON_HALIGN_LABEL_POSITIONS,key:"buttonHAlignLabel",attribute:"buttonHAlignLabel",classListPrefix:"--button-halign-label-"},BUTTON_VALIGN_LABEL:{default:v.BUTTON_VALIGN_LABEL_POSITIONS[0],values:v.BUTTON_VALIGN_LABEL_POSITIONS,key:"buttonVAlignLabel",attribute:"buttonVAlignLabel",classListPrefix:"--button-valign-label-"},BUTTON_CHECKBOX_POSITION:{default:v.BUTTON_CHECKBOX_POSITIONS[0],values:v.BUTTON_CHECKBOX_POSITIONS,key:"buttonCheckboxPosition",attribute:"buttonCheckboxPosition",classListPrefix:"--button-checkbox-position-"},BUTTON_ICON_POSITION:{default:v.BUTTON_ICON_POSITIONS[0],values:v.BUTTON_ICON_POSITIONS,key:"buttonIconPosition",attribute:"buttonIconPosition",classListPrefix:"--button-icon-position-"},BUTTON_SHAPE:{default:v.BUTTON_SHAPES[0],values:v.BUTTON_SHAPES,key:"buttonShape",attribute:"buttonShape",classListPrefix:"--button-shape-"},BUTTON_ICON_URL_FILL_TYPE:{default:v.BUTTON_ICON_URL_FILL_TYPE[0],values:v.BUTTON_ICON_URL_FILL_TYPE,key:"buttonIconUrlFillType",attribute:"buttonIconUrlFillType",classListPrefix:"--button-icon-url-fill-type-"},CONTRACT_ITEM_LABEL_TYPE:{default:v.CONTRACT_ITEM_LABEL_TYPE[0],values:v.CONTRACT_ITEM_LABEL_TYPE,key:"contractItemLabelType",attribute:"contractItemLabelType",classListPrefix:"ch5-general--contract-item-label-type-"},CONTRACT_ITEM_ICON_TYPE:{default:v.CONTRACT_ITEM_ICON_TYPE[0],values:v.CONTRACT_ITEM_ICON_TYPE,key:"contractItemIconType",attribute:"contractItemIconType",classListPrefix:"ch5-general--contract-item-icon-type-"}},v.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},r.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receiveStateNumberOfItems:{direction:"state",numericJoin:1,contractName:!0},receiveStateScrollToPosition:{direction:"state",numericJoin:1,contractName:!0},receivestateselectedbutton:{direction:"state",numericJoin:1,contractName:!0}}),v.COMPONENT_PROPERTIES=[{default:v.ORIENTATION[0],enumeratedValues:v.ORIENTATION,name:"orientation",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:v.ORIENTATION[0],isObservableProperty:!0},{default:v.LOAD_ITEMS[0],enumeratedValues:v.LOAD_ITEMS,name:"loadItems",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:v.LOAD_ITEMS[0],isObservableProperty:!0},{default:!1,name:"scrollbar",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"centerItems",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:null,enumeratedValues:v.STRETCH,name:"stretch",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:null,isObservableProperty:!0,isNullable:!0},{default:!1,name:"endless",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:1,name:"rows",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:1,numberProperties:{min:1,max:500,conditionalMin:1,conditionalMax:500,conditionalMinValue:1,conditionalMaxValue:500},isObservableProperty:!0},{default:1,name:"columns",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:1,numberProperties:{min:1,max:500,conditionalMin:1,conditionalMax:500,conditionalMinValue:1,conditionalMaxValue:500},isObservableProperty:!0},{default:"",name:"indexId",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:10,name:"numberOfItems",removeAttributeOnNull:!0,nameForSignal:"receiveStateNumberOfItems",type:"number",valueOnAttributeEmpty:10,numberProperties:{min:1,max:500,conditionalMin:1,conditionalMax:500,conditionalMinValue:1,conditionalMaxValue:500},isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateNumberOfItems",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:0,name:"scrollToPosition",removeAttributeOnNull:!0,nameForSignal:"receiveStateScrollToPosition",type:"number",valueOnAttributeEmpty:null,numberProperties:{min:0,max:499,conditionalMin:0,conditionalMax:499,conditionalMinValue:0,conditionalMaxValue:499},isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateScrollToPosition",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateSelectedButton",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"contractName",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:!1,name:"useContractForEnable",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForShow",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForItemEnable",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForItemShow",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForCustomStyle",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForCustomClass",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForEachButtonSelection",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:v.CONTRACT_ITEM_LABEL_TYPE[0],enumeratedValues:v.CONTRACT_ITEM_LABEL_TYPE,name:"contractItemLabelType",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:v.CONTRACT_ITEM_LABEL_TYPE[0],isObservableProperty:!0},{default:v.CONTRACT_ITEM_ICON_TYPE[0],enumeratedValues:v.CONTRACT_ITEM_ICON_TYPE,name:"contractItemIconType",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:v.CONTRACT_ITEM_ICON_TYPE[0],isObservableProperty:!0},{default:!1,name:"useContractForNumItems",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:v.BUTTON_TYPES[0],enumeratedValues:v.BUTTON_TYPES,name:"buttonType",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:v.BUTTON_TYPES[0],isObservableProperty:!0},{default:v.BUTTON_HALIGN_LABEL_POSITIONS[0],enumeratedValues:v.BUTTON_HALIGN_LABEL_POSITIONS,name:"buttonHAlignLabel",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:v.BUTTON_HALIGN_LABEL_POSITIONS[0],isObservableProperty:!0},{default:v.BUTTON_VALIGN_LABEL_POSITIONS[0],enumeratedValues:v.BUTTON_VALIGN_LABEL_POSITIONS,name:"buttonVAlignLabel",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:v.BUTTON_VALIGN_LABEL_POSITIONS[0],isObservableProperty:!0},{default:v.BUTTON_CHECKBOX_POSITIONS[0],enumeratedValues:v.BUTTON_CHECKBOX_POSITIONS,name:"buttonCheckboxPosition",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:v.BUTTON_CHECKBOX_POSITIONS[0],isObservableProperty:!0},{default:v.BUTTON_ICON_POSITIONS[0],enumeratedValues:v.BUTTON_ICON_POSITIONS,name:"buttonIconPosition",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:v.BUTTON_ICON_POSITIONS[0],isObservableProperty:!0},{default:v.BUTTON_SHAPES[0],enumeratedValues:v.BUTTON_SHAPES,name:"buttonShape",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:v.BUTTON_SHAPES[0],isObservableProperty:!0},{default:null,enumeratedValues:v.BUTTON_ICON_URL_FILL_TYPE,name:"buttonIconUrlFillType",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:null,isObservableProperty:!0,isNullable:!0},{default:v.SG_ICON_THEME[0],enumeratedValues:v.SG_ICON_THEME,name:"buttonSgIconTheme",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:v.SG_ICON_THEME[0],isObservableProperty:!0},{default:!1,name:"buttonCheckboxShow",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"buttonSelected",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"buttonPressed",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:0,name:"buttonMode",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:null,numberProperties:{min:0,max:4,conditionalMin:0,conditionalMax:4,conditionalMinValue:0,conditionalMaxValue:0},isObservableProperty:!0},{default:"",name:"buttonIconClass",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonIconUrl",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonLabelInnerHtml",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateMode",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateSelected",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateLabel",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateScriptLabelHtml",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateIconClass",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateIconUrl",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateSGIconNumeric",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateSGIconString",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonSendEventOnClick",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateShow",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"buttonReceiveStateEnable",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:1500,name:"clickHoldTime",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:null,numberProperties:{min:0,max:12e4,conditionalMin:0,conditionalMax:12e4,conditionalMinValue:0,conditionalMaxValue:12e4},isObservableProperty:!0}]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonListLabel=void 0;const s=i(77),n=i(44),r=i(76),a=i(78);class o extends s.Ch5ButtonListLabelBase{static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(o.ELEMENT_NAME)&&window.customElements.define(o.ELEMENT_NAME,o)}connectedCallback(){if(!(this.parentElement instanceof n.Ch5ButtonList||this.parentElement instanceof r.Ch5ButtonListMode||this.parentElement instanceof a.Ch5ButtonListModeState))throw new Error(`Invalid parent element for ${o.ELEMENT_NAME}.`);super.connectedCallback()}}e.Ch5ButtonListLabel=o,o.ELEMENT_NAME="ch5-button-list-label",o.registerCustomElement()},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonListIndividualButton=void 0;const n=s(i(0)),r=i(168);class a extends r.Ch5ButtonListIndividualButtonBase{static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(a.ELEMENT_NAME)&&window.customElements.define(a.ELEMENT_NAME,a)}connectedCallback(){var t;const e=this.getParentButton();if(n.default.isNil(e)||"CH5-BUTTON-LIST"!==(null===(t=this.parentElement)||void 0===t?void 0:t.nodeName.toString().toUpperCase()))throw new Error("Invalid parent element for ch5-button-list-individual-button.");super.connectedCallback(),this.parentComponent=e}getParentButton(){const t=e=>n.default.isNil(e)||"CH5-BUTTON-LIST"===e.nodeName.toString().toUpperCase()?e:t(e.parentNode);return t(this.parentElement)}}e.Ch5ButtonListIndividualButton=a,a.ELEMENT_NAME="ch5-button-list-individual-button",a.registerCustomElement()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonListIndividualButtonBase=void 0;const s=i(12),n=i(4),r=i(5);class a extends s.Ch5Log{constructor(){super(),this._parentCh5ButtonList=null,this.logger.start("constructor()"),this._ch5Properties=new n.Ch5Properties(this,a.COMPONENT_PROPERTIES)}set parentComponent(t){this._parentCh5ButtonList=t}get parentComponent(){return this._parentCh5ButtonList}set labelInnerHTML(t){this._ch5Properties.set("labelInnerHTML",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get labelInnerHTML(){return this._ch5Properties.get("labelInnerHTML")}set iconUrl(t){this._ch5Properties.set("iconUrl",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get iconUrl(){return this._ch5Properties.get("iconUrl")}set iconClass(t){this._ch5Properties.set("iconClass",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get iconClass(){return this._ch5Properties.get("iconClass")}set onRelease(t){this._ch5Properties.set("onRelease",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get onRelease(){return this._ch5Properties.get("onRelease")}static get observedAttributes(){const t=s.Ch5Log.observedAttributes,e=[];for(let t=0;t<a.COMPONENT_PROPERTIES.length;t++)!0===a.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(a.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback"),e!==i){this.logger.log(this.nodeName+' attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=a.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()"),this.setAttribute("role",r.Ch5RoleAttributeMapping.ch5ButtonListIndividualButton),this.setAttribute("data-ch5-id",this.getCrId()),this.initAttributes(),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<a.COMPONENT_PROPERTIES.length;e++)if(!0===a.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(a.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=a.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}}e.Ch5ButtonListIndividualButtonBase=a,a.COMPONENT_PROPERTIES=[{default:"",name:"labelInnerHTML",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"iconUrl",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"iconClass",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"onRelease",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}]},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(170),e)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ColorChip=void 0;const n=i(5),r=i(3),a=i(21),o=i(2),l=i(4),h=s(i(46));class u extends r.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-color-chip",this._elContainer={},this.redValue=0,this.greenValue=0,this.blueValue=0,this._onClick=null,this.ignoreAttributes=["receivestatecustomclass","receivestatecustomstyle","receivestatehidepulse","receivestateshowpulse","sendeventonshow","customstyle"],this.logger.start("constructor()",u.ELEMENT_NAME),this._wasInstatiated||this.createInternalHtml(),this._wasInstatiated=!0,this._ch5Properties=new l.Ch5Properties(this,u.COMPONENT_PROPERTIES),this._onClick=this.handleSendEventOnClick.bind(this)}set previewColor(t){this._ch5Properties.set("previewColor",t,()=>{this.handlePreviewColor()})}get previewColor(){return this._ch5Properties.get("previewColor")}set maxValue(t){this._ch5Properties.set("maxValue",t)}get maxValue(){return this._ch5Properties.get("maxValue")}set sendEventOnClick(t){this._ch5Properties.set("sendEventOnClick",t)}get sendEventOnClick(){return this._ch5Properties.get("sendEventOnClick")}set receiveStateRedValue(t){this._ch5Properties.set("receiveStateRedValue",t,null,t=>{const e=h.default.getDigitalValue(t,this.maxValue);t<=this.maxValue&&this.redValue!==e&&(this.redValue=e,this.handleSendSignals("red"))})}get receiveStateRedValue(){return this._ch5Properties.get("receiveStateRedValue")}set receiveStateGreenValue(t){this._ch5Properties.set("receiveStateGreenValue",t,null,t=>{const e=h.default.getDigitalValue(t,this.maxValue);t<=this.maxValue&&this.greenValue!==e&&(this.greenValue=e,this.handleSendSignals("green"))})}get receiveStateGreenValue(){return this._ch5Properties.get("receiveStateGreenValue")}set receiveStateBlueValue(t){this._ch5Properties.set("receiveStateBlueValue",t,null,t=>{const e=h.default.getDigitalValue(t,this.maxValue);t<=this.maxValue&&this.blueValue!==e&&(this.blueValue=e,this.handleSendSignals("blue"))})}get receiveStateBlueValue(){return this._ch5Properties.get("receiveStateBlueValue")}set sendEventColorRedOnChange(t){this._ch5Properties.set("sendEventColorRedOnChange",t)}get sendEventColorRedOnChange(){return this._ch5Properties.get("sendEventColorRedOnChange")}set sendEventColorGreenOnChange(t){this._ch5Properties.set("sendEventColorGreenOnChange",t)}get sendEventColorGreenOnChange(){return this._ch5Properties.get("sendEventColorGreenOnChange")}set sendEventColorBlueOnChange(t){this._ch5Properties.set("sendEventColorBlueOnChange",t)}get sendEventColorBlueOnChange(){return this._ch5Properties.get("sendEventColorBlueOnChange")}static registerSignalAttributeTypes(){o.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(u.ELEMENT_NAME,u.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(u.ELEMENT_NAME)&&window.customElements.define(u.ELEMENT_NAME,u)}static get observedAttributes(){const t=r.Ch5Common.observedAttributes,e=[];for(let t=0;t<u.COMPONENT_PROPERTIES.length;t++)!0===u.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(u.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-color-chip attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=u.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()",u.ELEMENT_NAME),this.hasAttribute("role")||this.setAttribute("role",n.Ch5RoleAttributeMapping.ch5ColorChip),this.attachEventListeners(),this.initAttributes(),this.initCommonMutationObserver(this),customElements.whenDefined("ch5-color-chip").then(()=>{this.componentLoadedEvent(u.ELEMENT_NAME,this.id)}),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()",u.ELEMENT_NAME),this.removeEventListeners(),this.unsubscribeFromSignals(),this.logger.stop()}createInternalHtml(){this.logger.start("createInternalHtml()"),this._elContainer=document.createElement("div"),this._elContainer.classList.add("ch5-color-chip"),this.appendChild(this._elContainer),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<u.COMPONENT_PROPERTIES.length;e++)if(!0===u.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(u.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=u.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}attachEventListeners(){super.attachEventListeners(),this._elContainer.addEventListener("click",this._onClick)}removeEventListeners(){super.removeEventListeners(),this._elContainer.removeEventListener("click",this._onClick)}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}handlePreviewColor(){const t=h.default.col2rgb(this.previewColor);!t||this.hasAttribute("receiveStateBlueValue")||this.hasAttribute("receiveStateGreenValue")||this.hasAttribute("receiveStateRedValue")||(this.redValue=Number(t[0]),this.greenValue=Number(t[1]),this.blueValue=Number(t[2]),this._elContainer.style.backgroundColor=`rgb(${t[0]}, ${t[1]}, ${t[2]})`),this.previewColor=`rgb(${this.redValue}, ${this.greenValue}, ${this.blueValue})`}getTargetElementForCssClassesAndStyle(){return this._elContainer}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}handleSendSignals(t){var e,i,s;"red"===t&&""!==this.sendEventColorRedOnChange?null===(e=a.Ch5SignalFactory.getInstance().getNumberSignal(this.sendEventColorRedOnChange))||void 0===e||e.publish(h.default.getAnalogValue(this.redValue,this.maxValue)):"green"===t&&""!==this.sendEventColorGreenOnChange?null===(i=a.Ch5SignalFactory.getInstance().getNumberSignal(this.sendEventColorGreenOnChange))||void 0===i||i.publish(h.default.getAnalogValue(this.greenValue,this.maxValue)):"blue"===t&&""!==this.sendEventColorBlueOnChange&&(null===(s=a.Ch5SignalFactory.getInstance().getNumberSignal(this.sendEventColorBlueOnChange))||void 0===s||s.publish(h.default.getAnalogValue(this.blueValue,this.maxValue))),this._elContainer.style.backgroundColor=`rgb(${this.redValue}, ${this.greenValue}, ${this.blueValue})`}handleSendEventOnClick(){var t,e;this.sendEventOnClick&&(null===(t=a.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnClick))||void 0===t||t.publish(!0),null===(e=a.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnClick))||void 0===e||e.publish(!1))}}e.Ch5ColorChip=u,u.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},r.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0},receivestateredvalue:{direction:"state",numericJoin:1,contractName:!0},receivestategreenvalue:{direction:"state",numericJoin:1,contractName:!0},receivestatebluevalue:{direction:"state",numericJoin:1,contractName:!0},sendeventcolorredonchange:{direction:"event",numericJoin:1,contractName:!0},sendeventcolorgreenonchange:{direction:"event",numericJoin:1,contractName:!0},sendeventcolorblueonchange:{direction:"event",numericJoin:1,contractName:!0}}),u.COMPONENT_PROPERTIES=[{default:"rgb(0,0,0)",name:"previewColor",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"rgb(0,0,0)",isObservableProperty:!0},{default:255,name:"maxValue",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:255,numberProperties:{min:50,max:65535,conditionalMin:50,conditionalMax:65535,conditionalMinValue:50,conditionalMaxValue:65535},isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnClick",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateRedValue",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateGreenValue",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateBlueValue",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventColorRedOnChange",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventColorGreenOnChange",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventColorBlueOnChange",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}],u.ELEMENT_NAME="ch5-color-chip",u.registerCustomElement(),u.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(172),e)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ColorPicker=void 0;const n=i(3),r=i(1),a=i(5),o=i(2),l=i(4),h=s(i(46)),u=i(173);class c extends n.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-color-picker",this._elContainer={},this._elColorPicker={},this.redValue=0,this.greenValue=0,this.blueValue=0,this.redValuePrevious=0,this.greenValuePrevious=0,this.blueValuePrevious=0,this.pickerId="",this.colorPicker=null,this._colorChangedSubscription=null,this.COLOR_BLACK="#000000",this._dirty=!1,this.isSendReceiveSignalEqual=!1,this.sendingValue=!1,this.receiveingValue=!1,this._cleanValue=this.COLOR_BLACK,this.debounceSendSignals=this.debounce(()=>{this.handleSendSignals(),this.debounceSetColor()},100),this.debounceSetColor=this.debounce(()=>{this.colorPicker&&!(this.sendingValue&&this.receiveingValue&&this.isSendReceiveSignalEqual||this.sendingValue)&&this.colorPicker.picker.get().css()!==h.default.hexToRgb(this._cleanValue)&&this.colorPicker.setColor(this._cleanValue),this.receiveingValue=!1},1500),this.logger.start("constructor()",c.ELEMENT_NAME),this.ignoreAttributes=["receivestatecustomclass","receivestatecustomstyle","receivestatehidepulse","receivestateshowpulse","sendeventonshow"],this._wasInstatiated||this.createInternalHtml(),this._wasInstatiated=!0,this._ch5Properties=new l.Ch5Properties(this,c.COMPONENT_PROPERTIES)}set maxValue(t){this._ch5Properties.set("maxValue",t)}get maxValue(){return this._ch5Properties.get("maxValue")}set receiveStateRedValue(t){this._ch5Properties.set("receiveStateRedValue",t,null,t=>{t<=this.maxValue&&(this.redValuePrevious=this.redValue,this.redValue=h.default.getDigitalValue(t,this.maxValue),this.setColor())})}get receiveStateRedValue(){return this._ch5Properties.get("receiveStateRedValue")}set receiveStateGreenValue(t){this._ch5Properties.set("receiveStateGreenValue",t,null,t=>{t<=this.maxValue&&(this.greenValuePrevious=this.greenValue,this.greenValue=h.default.getDigitalValue(t,this.maxValue),this.setColor())})}get receiveStateGreenValue(){return this._ch5Properties.get("receiveStateGreenValue")}set receiveStateBlueValue(t){this._ch5Properties.set("receiveStateBlueValue",t,null,t=>{t<=this.maxValue&&(this.blueValuePrevious=this.blueValue,this.blueValue=h.default.getDigitalValue(t,this.maxValue),this.setColor())})}get receiveStateBlueValue(){return this._ch5Properties.get("receiveStateBlueValue")}set sendEventColorRedOnChange(t){this._ch5Properties.set("sendEventColorRedOnChange",t)}get sendEventColorRedOnChange(){return this._ch5Properties.get("sendEventColorRedOnChange")}set sendEventColorGreenOnChange(t){this._ch5Properties.set("sendEventColorGreenOnChange",t)}get sendEventColorGreenOnChange(){return this._ch5Properties.get("sendEventColorGreenOnChange")}set sendEventColorBlueOnChange(t){this._ch5Properties.set("sendEventColorBlueOnChange",t)}get sendEventColorBlueOnChange(){return this._ch5Properties.get("sendEventColorBlueOnChange")}static registerSignalAttributeTypes(){o.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(c.ELEMENT_NAME,c.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(c.ELEMENT_NAME)&&window.customElements.define(c.ELEMENT_NAME,c)}static get observedAttributes(){const t=n.Ch5Common.observedAttributes,e=[];for(let t=0;t<c.COMPONENT_PROPERTIES.length;t++)!0===c.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(c.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-color-picker attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=c.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()",c.ELEMENT_NAME),this.hasAttribute("role")||this.setAttribute("role",a.Ch5RoleAttributeMapping.ch5ColorPicker),this._elContainer.classList.add("ch5-color-picker"),this._elContainer.parentElement!==this&&(this._elColorPicker=document.createElement("div"),this.pickerId=this.getCrId(),this._elColorPicker.setAttribute("id",this.pickerId),this._elContainer.appendChild(this._elColorPicker),this.appendChild(this._elContainer)),this.colorPicker=new u.ColorPicker(this.pickerId,this._cleanValue),this._colorChangedSubscription=this.colorPicker.colorChanged.subscribe(t=>{t.length>0&&this.colorPicker&&(this.redValuePrevious===t[0]&&this.greenValuePrevious===t[1]&&this.blueValuePrevious===t[2]||(this.redValue=t[0],this.greenValue=t[1],this.blueValue=t[2],this.debounceSendSignals(),this._dirty=!0,this.isSendReceiveSignalEqual&&(this._cleanValue=h.default.rgbToHex(this.redValue,this.greenValue,this.blueValue))))}),this.attachEventListeners(),this.initAttributes(),this.initCommonMutationObserver(this),customElements.whenDefined("ch5-color-picker").then(()=>{this.componentLoadedEvent(c.ELEMENT_NAME,this.id)}),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()",c.ELEMENT_NAME),this._elColorPicker.replaceChildren(),this.removeEventListeners(),this.unsubscribeFromSignals(),null!==this._colorChangedSubscription&&(this._colorChangedSubscription.unsubscribe(),this._colorChangedSubscription=null),this.logger.stop()}setColor(){this.receiveingValue=!0,this.redValuePrevious===this.redValue&&this.greenValuePrevious===this.greenValue&&this.blueValuePrevious===this.blueValue&&!0===this._dirty&&(this.isSendReceiveSignalEqual=!0);const t=h.default.rgbToHex(this.redValue,this.greenValue,this.blueValue);this._cleanValue=t,this.colorPicker&&this.colorPicker.picker.get().css()!==h.default.hexToRgb(t)&&this.debounceSetColor()}createInternalHtml(){this.logger.start("createInternalHtml"),this.clearComponentContent(),this._elContainer=document.createElement("div"),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<c.COMPONENT_PROPERTIES.length;e++)if(!0===c.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(c.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=c.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}attachEventListeners(){super.attachEventListeners()}removeEventListeners(){super.removeEventListeners()}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}clearComponentContent(){const t=this.getElementsByTagName("div");Array.from(t).forEach(t=>{t.remove()})}getTargetElementForCssClassesAndStyle(){return this._elContainer}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}handleSendSignals(){var t,e,i;if(this.sendingValue=!0,this.colorPicker){const t=h.default.rgbFormat(this.colorPicker.picker.get().css());this.redValue=Number(t[0]),this.greenValue=Number(t[1]),this.blueValue=Number(t[2])}""!==this.sendEventColorRedOnChange&&this.redValue!==this.redValuePrevious&&(null===(t=r.Ch5SignalFactory.getInstance().getNumberSignal(this.sendEventColorRedOnChange))||void 0===t||t.publish(h.default.getAnalogValue(this.redValue,this.maxValue))),""!==this.sendEventColorGreenOnChange&&this.greenValue!==this.greenValuePrevious&&(null===(e=r.Ch5SignalFactory.getInstance().getNumberSignal(this.sendEventColorGreenOnChange))||void 0===e||e.publish(h.default.getAnalogValue(this.greenValue,this.maxValue))),""!==this.sendEventColorBlueOnChange&&this.blueValue!==this.blueValuePrevious&&(null===(i=r.Ch5SignalFactory.getInstance().getNumberSignal(this.sendEventColorBlueOnChange))||void 0===i||i.publish(h.default.getAnalogValue(this.blueValue,this.maxValue))),this.receiveingValue||(this.sendingValue=!1)}}e.Ch5ColorPicker=c,c.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestateredvalue:{direction:"state",numericJoin:1,contractName:!0},receivestategreenvalue:{direction:"state",numericJoin:1,contractName:!0},receivestatebluevalue:{direction:"state",numericJoin:1,contractName:!0},sendeventcolorredonchange:{direction:"event",numericJoin:1,contractName:!0},sendeventcolorgreenonchange:{direction:"event",numericJoin:1,contractName:!0},sendeventcolorblueonchange:{direction:"event",numericJoin:1,contractName:!0}}),c.COMPONENT_PROPERTIES=[{default:255,name:"maxValue",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:255,numberProperties:{min:50,max:65535,conditionalMin:50,conditionalMax:65535,conditionalMinValue:50,conditionalMaxValue:65535},isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateRedValue",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateGreenValue",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateBlueValue",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventColorRedOnChange",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventColorGreenOnChange",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventColorBlueOnChange",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}],c.ELEMENT_NAME="ch5-color-picker",c.registerCustomElement(),c.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPicker=void 0;const o=r(i(174)),l=i(14),h=a(i(46));e.ColorPicker=class{constructor(t,e){this.pickerId=t,this.joe=null,this.colorChanged=new l.Subject;try{this.joe=o.hsl(this.pickerId,e,[]).on("change",t=>{var e;const i=document.getElementById(this.pickerId);if(i){const t=i.querySelectorAll(".oned")[0].querySelectorAll(".shape")[0];t.style.backgroundColor="#d8d8d8",t.style.borderColor="#696969";i.querySelectorAll(".extras")[0].style.display="none"}const s=h.default.rgbToObj(t.css());null===(e=this.colorChanged)||void 0===e||e.next([s.red,s.green,s.blue])}).update()}catch(t){}}invertHex(t){var e;return"#"+(null===(e=t.match(/[a-f0-9]{2}/gi))||void 0===e?void 0:e.map(t=>(255-parseInt(t,16)||0).toString(16).replace(/^([a-f0-9])$/,"0$1")).join(""))}setColor(t){try{this.joe.set(t)}catch(t){}}get picker(){return this.joe}}},function(t,e,i){(function(e){
/*! @rags/mycolorpicker - v1.0.0 - Raghavendra Kumar Dabbir - MIT
 - 2022-11-18 */var i;i=function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var i=t((function(t,e){t.exports=function(){function t(t,e){t?(s(t,e,"touchstart","touchmove","touchend"),s(t,e,"mousedown","mousemove","mouseup")):console.warn("drag is missing elem!")}return t.xyslider=function(s){var n=i(s.class||"",s.parent),r=i("pointer",n);return i("shape shape1",r),i("shape shape2",r),i("bg bg1",n),i("bg bg2",n),t(n,e(s.cbs,r)),{background:n,pointer:r}},t.slider=function(s){var n=i(s.class,s.parent),r=i("pointer",n);return i("shape",r),i("bg",n),t(n,e(s.cbs,r)),{background:n,pointer:r}},t;function e(t,e){var i={};for(var s in t)i[s]=n(t[s]);function n(t){return function(i){i.pointer=e,t(i)}}return i}function i(t,e){return function(t,e,i){var s=document.createElement(t);return e&&(s.className=e),i.appendChild(s),s}("div",t,e)}function s(t,e,i,s,h){var u=(e=function(t){var e,i;return t?{begin:t.begin||o,change:t.change||o,end:t.end||o}:{begin:function(t){e={x:t.elem.offsetLeft,y:t.elem.offsetTop},i=t.cursor},change:function(t){a(t.elem,"left",e.x+t.cursor.x-i.x+"px"),a(t.elem,"top",e.y+t.cursor.y-i.y+"px")},end:o}}(e)).begin,c=e.change,d=e.end;n(t,i,(function(e){var i=function(t){var e=Array.prototype.slice,i=e.apply(arguments,[1]);return function(){return t.apply(null,i.concat(e.apply(arguments)))}}(l,c,t);n(document,s,i),n(document,h,(function n(){r(document,s,i),r(document,h,n),l(d,t,e)})),l(u,t,e)}))}function n(t,e,i){var s=!1;try{var n=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassive",null,n),window.removeEventListener("testPassive",null,n)}catch(t){}t.addEventListener(e,i,!!s&&{passive:!1})}function r(t,e,i){t.removeEventListener(e,i,!1)}function a(t,e,i){t.style[e]=i}function o(){}function l(t,e,i){i.preventDefault();var s,n=function(t){var e=t.getBoundingClientRect();return{x:e.left,y:e.top}}(e),r=e.clientWidth,a=e.clientHeight,o={x:(s=i,(s.touches?s.touches[s.touches.length-1]:s).clientX),y:h(0,i)},l=(o.x-n.x)/r,u=(o.y-n.y)/a;t({x:isNaN(l)?0:l,y:isNaN(u)?0:u,cursor:o,elem:e,e:i})}function h(t,e){return(e.touches?e.touches[e.touches.length-1]:e).clientY}}()})),s=t((function(t,e){t.exports=function(){function t(e){if(Array.isArray(e)){if("string"==typeof e[0]&&"function"==typeof t[e[0]])return new t[e[0]](e.slice(1,e.length));if(4===e.length)return new t.RGB(e[0]/255,e[1]/255,e[2]/255,e[3]/255)}else if("string"==typeof e){var s=e.toLowerCase();t.namedColors[s]&&(e="#"+t.namedColors[s]),"transparent"===s&&(e="rgba(0,0,0,0)");var a=e.match(r);if(a){var o=a[1].toUpperCase(),l=i(a[8])?a[8]:parseFloat(a[8]),h="H"===o[0],u=a[3]?100:h?360:255,c=a[5]||h?100:255,d=a[7]||h?100:255;if(i(t[o]))throw new Error("color."+o+" is not installed.");return new t[o](parseFloat(a[2])/u,parseFloat(a[4])/c,parseFloat(a[6])/d,l)}e.length<6&&(e=e.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3"));var p=e.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);if(p)return new t.RGB(parseInt(p[1],16)/255,parseInt(p[2],16)/255,parseInt(p[3],16)/255);if(t.CMYK){var g=e.match(new RegExp("^cmyk\\("+n.source+","+n.source+","+n.source+","+n.source+"\\)$","i"));if(g)return new t.CMYK(parseFloat(g[1])/100,parseFloat(g[2])/100,parseFloat(g[3])/100,parseFloat(g[4])/100)}}else if("object"==typeof e&&e.isColor)return e;return!1}var e=[],i=function(t){return void 0===t},s=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,n=/\s*(\.\d+|100|\d?\d(?:\.\d+)?)%\s*/,r=new RegExp("^(rgb|hsl|hsv)a?\\("+s.source+","+s.source+","+s.source+"(?:,"+/\s*(\.\d+|\d+(?:\.\d+)?)\s*/.source+")?\\)$","i");t.namedColors={},t.installColorSpace=function(s,n,r){function a(e,i){var s={};for(var n in s[i.toLowerCase()]=function(){return this.rgb()[i.toLowerCase()]()},t[i].propertyNames.forEach((function(t){var e="black"===t?"k":t.charAt(0);s[t]=s[e]=function(e,s){return this[i.toLowerCase()]()[t](e,s)}})),s)s.hasOwnProperty(n)&&void 0===t[e].prototype[n]&&(t[e].prototype[n]=s[n])}t[s]=function(t){var e=Array.isArray(t)?t:arguments;n.forEach((function(t,i){var r=e[i];if("alpha"===t)this._alpha=isNaN(r)||r>1?1:r<0?0:r;else{if(isNaN(r))throw new Error("["+s+"]: Invalid color: ("+n.join(",")+")");"hue"===t?this._hue=r<0?r-Math.floor(r):r%1:this["_"+t]=r<0?0:r>1?1:r}}),this)},t[s].propertyNames=n;var o=t[s].prototype;for(var l in["valueOf","hex","hexa","css","cssa"].forEach((function(t){o[t]=o[t]||("RGB"===s?o.hex:function(){return this.rgb()[t]()})})),o.isColor=!0,o.equals=function(t,e){i(e)&&(e=1e-10),t=t[s.toLowerCase()]();for(var r=0;r<n.length;r+=1)if(Math.abs(this["_"+n[r]]-t["_"+n[r]])>e)return!1;return!0},o.toJSON=function(){return[s].concat(n.map((function(t){return this["_"+t]}),this))},r)if(r.hasOwnProperty(l)){var h=l.match(/^from(.*)$/);h?t[h[1].toUpperCase()].prototype[s.toLowerCase()]=r[l]:o[l]=r[l]}return o[s.toLowerCase()]=function(){return this},o.toString=function(){return"["+s+" "+n.map((function(t){return this["_"+t]}),this).join(", ")+"]"},n.forEach((function(t){var e="black"===t?"k":t.charAt(0);o[t]=o[e]=function(e,i){return void 0===e?this["_"+t]:i?new this.constructor(n.map((function(i){return this["_"+i]+(t===i?e:0)}),this)):new this.constructor(n.map((function(i){return t===i?e:this["_"+i]}),this))}})),e.forEach((function(t){a(s,t),a(t,s)})),e.push(s),t},t.pluginList=[],t.use=function(e){return-1===t.pluginList.indexOf(e)&&(this.pluginList.push(e),e(t)),t},t.installMethod=function(i,s){return e.forEach((function(e){t[e].prototype[i]=s})),this},t.installColorSpace("RGB",["red","green","blue","alpha"],{hex:function(){var t=(65536*Math.round(255*this._red)+256*Math.round(255*this._green)+Math.round(255*this._blue)).toString(16);return"#"+"00000".substr(0,6-t.length)+t},hexa:function(){var t=Math.round(255*this._alpha).toString(16);return"#"+"00".substr(0,2-t.length)+t+this.hex().substr(1,6)},css:function(){return"rgb("+Math.round(255*this._red)+","+Math.round(255*this._green)+","+Math.round(255*this._blue)+")"},cssa:function(){return"rgba("+Math.round(255*this._red)+","+Math.round(255*this._green)+","+Math.round(255*this._blue)+","+this._alpha+")"}});var a=function(t){t.installColorSpace("XYZ",["x","y","z","alpha"],{fromRgb:function(){var e=function(t){return t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92},i=e(this._red),s=e(this._green),n=e(this._blue);return new t.XYZ(.4124564*i+.3575761*s+.1804375*n,.2126729*i+.7151522*s+.072175*n,.0193339*i+.119192*s+.9503041*n,this._alpha)},rgb:function(){var e=this._x,i=this._y,s=this._z,n=function(t){return t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t};return new t.RGB(n(3.2404542*e+-1.5371385*i+-.4985314*s),n(-.969266*e+1.8760108*i+.041556*s),n(.0556434*e+-.2040259*i+1.0572252*s),this._alpha)},lab:function(){var e=function(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29},i=e(this._x/95.047),s=e(this._y/100),n=e(this._z/108.883);return new t.LAB(116*s-16,500*(i-s),200*(s-n),this._alpha)}})},o=function(t){t.installColorSpace("HSV",["hue","saturation","value","alpha"],{rgb:function(){var e,i,s,n=this._hue,r=this._saturation,a=this._value,o=Math.min(5,Math.floor(6*n)),l=6*n-o,h=a*(1-r),u=a*(1-l*r),c=a*(1-(1-l)*r);switch(o){case 0:e=a,i=c,s=h;break;case 1:e=u,i=a,s=h;break;case 2:e=h,i=a,s=c;break;case 3:e=h,i=u,s=a;break;case 4:e=c,i=h,s=a;break;case 5:e=a,i=h,s=u}return new t.RGB(e,i,s,this._alpha)},hsl:function(){var e,i=(2-this._saturation)*this._value,s=this._saturation*this._value,n=i<=1?i:2-i;return e=n<1e-9?0:s/n,new t.HSL(this._hue,e,i/2,this._alpha)},fromRgb:function(){var e,i=this._red,s=this._green,n=this._blue,r=Math.max(i,s,n),a=r-Math.min(i,s,n),o=0===r?0:a/r,l=r;if(0===a)e=0;else switch(r){case i:e=(s-n)/a/6+(s<n?1:0);break;case s:e=(n-i)/a/6+1/3;break;case n:e=(i-s)/a/6+2/3}return new t.HSV(e,o,l,this._alpha)}})},l=function(t){t.use(o),t.installColorSpace("HSL",["hue","saturation","lightness","alpha"],{hsv:function(){var e,i=2*this._lightness,s=this._saturation*(i<=1?i:2-i);return e=i+s<1e-9?0:2*s/(i+s),new t.HSV(this._hue,e,(i+s)/2,this._alpha)},rgb:function(){return this.hsv().rgb()},fromRgb:function(){return this.hsv().hsl()}})};return t.use(a).use((function(t){t.use(a),t.installColorSpace("LAB",["l","a","b","alpha"],{fromRgb:function(){return this.xyz().lab()},rgb:function(){return this.xyz().rgb()},xyz:function(){var e=function(t){var e=Math.pow(t,3);return e>.008856?e:(t-16/116)/7.87},i=(this._l+16)/116,s=this._a/500+i,n=i-this._b/200;return new t.XYZ(95.047*e(s),100*e(i),108.883*e(n),this._alpha)}})})).use(o).use(l).use((function(t){t.installColorSpace("CMYK",["cyan","magenta","yellow","black","alpha"],{rgb:function(){return new t.RGB(1-this._cyan*(1-this._black)-this._black,1-this._magenta*(1-this._black)-this._black,1-this._yellow*(1-this._black)-this._black,this._alpha)},fromRgb:function(){var e=this._red,i=this._green,s=this._blue,n=1-e,r=1-i,a=1-s,o=1;return e||i||s?(n=(n-(o=Math.min(n,Math.min(r,a))))/(1-o),r=(r-o)/(1-o),a=(a-o)/(1-o)):o=1,new t.CMYK(n,r,a,o,this._alpha)}})})).use((function(t){t.namedColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"}})).use((function(t){t.installMethod("clearer",(function(t){return this.alpha(isNaN(t)?-.1:-t,!0)}))})).use((function(t){t.use(l),t.installMethod("darken",(function(t){return this.lightness(isNaN(t)?-.1:-t,!0)}))})).use((function(t){t.use(l),t.installMethod("desaturate",(function(t){return this.saturation(isNaN(t)?-.1:-t,!0)}))})).use((function(t){function e(){var e=this.rgb(),i=.3*e._red+.59*e._green+.11*e._blue;return new t.RGB(i,i,i,e._alpha)}t.installMethod("greyscale",e).installMethod("grayscale",e)})).use((function(t){t.use(l),t.installMethod("lighten",(function(t){return this.lightness(isNaN(t)?.1:t,!0)}))})).use((function(t){t.installMethod("mix",(function(e,i){e=t(e).rgb();var s=2*(i=1-(isNaN(i)?.5:i))-1,n=this._alpha-e._alpha,r=((s*n==-1?s:(s+n)/(1+s*n))+1)/2,a=1-r,o=this.rgb();return new t.RGB(o._red*r+e._red*a,o._green*r+e._green*a,o._blue*r+e._blue*a,o._alpha*i+e._alpha*(1-i))}))})).use((function(t){t.installMethod("negate",(function(){var e=this.rgb();return new t.RGB(1-e._red,1-e._green,1-e._blue,this._alpha)}))})).use((function(t){t.installMethod("opaquer",(function(t){return this.alpha(isNaN(t)?.1:t,!0)}))})).use((function(t){t.use(l),t.installMethod("rotate",(function(t){return this.hue((t||0)/360,!0)}))})).use((function(t){t.use(l),t.installMethod("saturate",(function(t){return this.saturation(isNaN(t)?.1:t,!0)}))})).use((function(t){t.installMethod("toAlpha",(function(t){var e=this.rgb(),i=t(t).rgb(),s=new t.RGB(0,0,0,e._alpha),n=["_red","_green","_blue"];return n.forEach((function(t){e[t]<1e-10?s[t]=e[t]:e[t]>i[t]?s[t]=(e[t]-i[t])/(1-i[t]):e[t]>i[t]?s[t]=(i[t]-e[t])/i[t]:s[t]=0})),s._red>s._green?s._red>s._blue?e._alpha=s._red:e._alpha=s._blue:s._green>s._blue?e._alpha=s._green:e._alpha=s._blue,e._alpha<1e-10||(n.forEach((function(t){e[t]=(e[t]-i[t])/e._alpha+i[t]})),e._alpha*=s._alpha),e}))}))}()})),n=a(r,"div");function r(t,e,i){var s=document.createElement(t);return s.className=e,i.appendChild(s),s}function a(t){var e=Array.prototype.slice,i=e.apply(arguments,[1]);return function(){return t.apply(null,i.concat(e.apply(arguments)))}}function o(t,e,i){return Math.min(Math.max(t,e),i)}var l={clamp:o,e:r,div:n,partial:a,labelInput:function(t,e,i,s){var a="colorPickerInput"+Math.floor(1001*Math.random()),o=n(t,i);return{label:function(t,e,i){var s=r("label","",e);return s.innerHTML=t,i&&s.setAttribute("for",i),s}(e,o,a),input:function(t,e,i,s){var n=r("input","",e);return n.type=t,i&&(n.maxLength=i),s&&n.setAttribute("id",s),i&&(n.maxLength=i),n}("text",o,s,a)}},X:function(t,e){t.style.left=o(100*e,0,100)+"%"},Y:function(t,e){t.style.top=o(100*e,0,100)+"%"},BG:function(t,e){t.style.background=e}},h={currentColor:function(t){var e=l.div("currentColorContainer",t),i=l.div("currentColor",e);return{change:function(t){l.BG(i,t.cssa())}}},fields:function(t,e,i){var s=i.space,n=i.limit||255,r=i.fix>=0?i.fix:0,a=(""+n).length+r;a=r?a+1:a;var o=s.split(""),h="A"==s[s.length-1];if(s=h?s.slice(0,-1):s,["RGB","HSL","HSV","CMYK"].indexOf(s)<0)return console.warn("Invalid field names",s);var u=l.div("colorFields",t),c=o.map((function(t){t=t.toLowerCase();var e=l.labelInput("color "+t,t,u,a);return e.input.onblur=d,e.input.onkeydown=p,e.input.onkeyup=g,{name:t,e:e}}));function d(){e.done()}function p(t){t.ctrlKey||t.altKey||!/^[a-zA-Z]$/.test(t.key)||t.preventDefault()}function g(){var t=[s];c.forEach((function(e){t.push(e.e.input.value/n)})),h||t.push(e.getAlpha()),e.set(t)}return{change:function(t){c.forEach((function(e){e.e.input.value=(t[e.name]()*n).toFixed(r)}))}}},hex:function(t,e,i){var s=l.labelInput("hex",i.label||"",t,7);return s.input.value="#",s.input.onkeyup=function(t){var i=t.keyCode||t.which,s=t.target.value;s=function(t,e,i){for(var s=t,n=t.length;n<e;n++)s+=i;return s}(s="#"==s[0]?s:"#"+s,7,"0"),13==i&&e.set(s)},s.input.onblur=function(t){e.set(t.target.value),e.done()},{change:function(t){s.input.value="#"==s.input.value[0]?"#":"",s.input.value+=t.hex().slice(1)}}},alpha:function(t,e){var s=i.slider({parent:t,class:"oned alpha",cbs:{begin:n,change:n,end:function(){e.done()}}});function n(t){var i=l.clamp(t.y,0,1);l.Y(t.pointer,i),e.setAlpha(1-i)}return{change:function(t){l.Y(s.pointer,1-t.alpha())}}},close:function(t,e,i){var s=l.e("a",i.class||"close",t);s.href="#",s.innerHTML=i.label||"Close",s.onclick=function(t){t.preventDefault(),e.hide()}}},u=function(t){return e=m,(s=[t.init,t.xy,t.z]).map(e).filter(b).length!=s.length?console.warn("mycolorpicker: missing cb"):function(e,s,n){return function(t){if(!t.e)return console.warn("mycolorpicker: missing element");var e=function(t){return"string"==typeof t}(t.e)?document.getElementById(t.e):t.e;e.className="colorPicker";var s=t.cbs,n=i.xyslider({parent:e,class:"twod",cbs:{begin:r,change:r,end:b}});function r(t){c=s.xy(c,{x:l.clamp(t.x,0,1),y:l.clamp(t.y,0,1)},n,a),c=s.xy(c,{x:l.clamp(t.x,0,1),y:l.clamp(t.y,0,1)},n,a),m()}var a=i.slider({parent:e,class:"oned",cbs:{begin:o,change:o,end:b}});function o(t){c=s.z(c,l.clamp(t.y,0,1),n,a),m()}var h=d(t.color),c=s.init(h,n,a),g={change:[],done:[]};function m(t){t=p(t)?t:[];for(var e,i=g.change,s=0,n=i.length;s<n;s++)e=i[s],-1==t.indexOf(e.name)&&e.fn(c)}function b(){if(!h.equals(c)){for(var t=0,e=g.done.length;t<e;t++)g.done[t].fn(c);h=c}}var f={e:e,done:function(){return b(),this},update:function(t){return m(t),this},hide:function(){return e.style.display="none",this},show:function(){return e.style.display="",this},get:function(){return c},set:function(t){var e=this.get();return c=s.init(d(t),n,a),e.equals(c)||this.update(),this},getAlpha:function(){return c.alpha()},setAlpha:function(t){return c=c.alpha(t),this.update(),this},on:function(t,e,i){return"change"==t||"done"==t?g[t].push({name:i,fn:e}):console.warn('Passed invalid evt name "'+t+'" to mycolorpicker.on'),this},removeAllListeners:function(t){if(t)g[t]=[];else for(var e in g)g[e]=[];return this}};return function(t,e,i){if(i){var s,n,r,a=l.div("extras",t);i.forEach((function(t,i){p(t)?(n=t[0],r=t.length>1?t[1]:{}):(n=t,r={});var o=n in u.extras?u.extras[n]:null;if(o)for(var l in s=o(a,function(t,e){var i=function(t){var e={};for(var i in t)e[i]=t[i];return e}(t);return i.update=function(){t.update([e])},i}(e,n+i),r))e.on(l,s[l],n)}))}}(e,f,t.extras),m(),f}({e:e,color:s,cbs:t,extras:n})};var e,s};for(var c in u.rgb=u({init:function(t,e,i){var n=s(t).hsv();return this.xy(n,{x:n.saturation(),y:1-n.value()},e,i),this.z(n,n.hue(),e,i),n},xy:function(t,e,i){return l.X(i.pointer,e.x),l.Y(i.pointer,e.y),t.saturation(e.x).value(1-e.y)},z:function(t,e,i,n){return l.Y(n.pointer,e),function(t,e){l.BG(t,new s.HSV(e,1,1).cssa())}(i.background,e),t.hue(e)}}),u.hsl=u({init:function(t,e,i){var n=s(t).hsl();return this.xy(n,{x:n.hue(),y:1-n.saturation()},e,i),this.z(n,1-n.lightness(),e,i),n},xy:function(t,e,i,s){return l.X(i.pointer,e.x),l.Y(i.pointer,e.y),l.BG(s.background,t.css()),t.hue(e.x).saturation(1-e.y)},z:function(t,e,i,s){return l.Y(s.pointer,e),t.lightness(1-e)}}),u.extras={},u.registerExtra=function(t,e){t in u.extras&&console.warn('Extra "'+t+'"has been registered already!'),u.extras[t]=e},h)u.registerExtra(c,h[c]);function d(t){if(!g(t))return s("#000");if(t.isColor)return t;var e=s(t);return e||(g(t)&&console.warn("Passed invalid color to mycolorpicker, using black instead"),s("#000"))}function p(t){return"[object Array]"===Object.prototype.toString.call(t)}function g(t){return void 0!==t}function m(t){return"function"==typeof t}function b(t){return t}return u},t.exports=i()}).call(this,i(36))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5CustomAttributes=void 0;const s=i(1),n=i(176),r=i(80),a=i(81),o=i(82),l=i(83),h=i(84),u=i(85),c=i(86),d=i(87),p=i(88);class g extends n.Ch5AttrsMutationObserver{constructor(){super(),this._mutationsObserverConfig={attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0,attributeFilter:[p.Ch5AttrsEnable.DATA_CH5_ATTR_NAME,r.Ch5AttrsShow.DATA_CH5_ATTR_NAME,a.Ch5AttrsShowPulse.DATA_CH5_ATTR_NAME,o.Ch5AttrsHidePulse.DATA_CH5_ATTR_NAME,l.Ch5AttrsTextContent.DATA_CH5_ATTR_NAME,h.Ch5AttrsInnerhtml.DATA_CH5_ATTR_NAME,u.Ch5AttrsAppendstyle.DATA_CH5_ATTR_NAME,c.Ch5AttrsAppendclass.DATA_CH5_ATTR_NAME,d.Ch5AttrsI18n.DATA_CH5_ATTR_NAME]},g.ch5AttrsI18nInstance=new d.Ch5AttrsI18n;const t=s.Ch5SignalFactory.getInstance().getStringSignal(s.languageChangedSignalName);t&&t.subscribe(t=>{""!==t&&g.ch5AttrsI18nInstance.updateOnChange()})}static getInstance(){return g._instance||(g._instance=new g),g._instance}initCh5Attributes(){"loading"!==document.readyState?this.initCh5AttributesOnLoad():document.addEventListener("DOMContentLoaded",this.initCh5AttributesOnLoad.bind(g._instance))}initCh5AttrsMutationsObserver(){this._mutationsObserver=new MutationObserver(this._mutationsCallback.bind(g._instance)),this.startBodyMutationsObserver()}_mutationsCallback(t){for(const e of t)switch(e.type){case"attributes":this.handleAttributeChanges(e);break;default:if(this._childNodesWereRemoved(e)){const t=this._getNodesViableForCh5Attributes(e.removedNodes);t.length&&this.handleNodesRemovalFromDOM(t)}if(this._childNodesWereAdded(e)){const t=this._getNodesViableForCh5Attributes(e.addedNodes);t.length&&this.handleNodesStampedIntoDOM(t)}}}initCh5AttributesOnLoad(){const t=this.getAllRegularElementsHavingCh5Attr();if(t.length>0)for(const e of t)e.hasAttribute(p.Ch5AttrsEnable.DATA_CH5_ATTR_NAME)&&p.Ch5AttrsEnable.checkAndSubscribeToSignal(e),e.hasAttribute(r.Ch5AttrsShow.DATA_CH5_ATTR_NAME)&&r.Ch5AttrsShow.checkAndSubscribeToSignal(e),e.hasAttribute(a.Ch5AttrsShowPulse.DATA_CH5_ATTR_NAME)&&a.Ch5AttrsShowPulse.checkAndSubscribeToSignal(e),e.hasAttribute(o.Ch5AttrsHidePulse.DATA_CH5_ATTR_NAME)&&o.Ch5AttrsHidePulse.checkAndSubscribeToSignal(e),e.hasAttribute(l.Ch5AttrsTextContent.DATA_CH5_ATTR_NAME)&&l.Ch5AttrsTextContent.handleBeingAddedToDom(e),e.hasAttribute(h.Ch5AttrsInnerhtml.DATA_CH5_ATTR_NAME)&&h.Ch5AttrsInnerhtml.handleBeingAddedToDom(e),e.hasAttribute(u.Ch5AttrsAppendstyle.DATA_CH5_ATTR_NAME)&&u.Ch5AttrsAppendstyle.handleBeingAddedToDom(e),e.hasAttribute(c.Ch5AttrsAppendclass.DATA_CH5_ATTR_NAME)&&c.Ch5AttrsAppendclass.handleBeingAddedToDom(e),e.hasAttribute(d.Ch5AttrsI18n.DATA_CH5_ATTR_NAME)&&g.ch5AttrsI18nInstance.handleBeingAddedToDom(e);this.initCh5AttrsMutationsObserver()}handleNodesStampedIntoDOM(t){t.forEach(t=>{t.hasAttribute(p.Ch5AttrsEnable.DATA_CH5_ATTR_NAME)&&p.Ch5AttrsEnable.handleElAddedToDOM(t),t.hasAttribute(r.Ch5AttrsShow.DATA_CH5_ATTR_NAME)&&r.Ch5AttrsShow.handleElAddedToDOM(t),t.hasAttribute(a.Ch5AttrsShowPulse.DATA_CH5_ATTR_NAME)&&a.Ch5AttrsShowPulse.handleElAddedToDOM(t),t.hasAttribute(o.Ch5AttrsHidePulse.DATA_CH5_ATTR_NAME)&&o.Ch5AttrsHidePulse.handleElAddedToDOM(t),t.hasAttribute(l.Ch5AttrsTextContent.DATA_CH5_ATTR_NAME)&&l.Ch5AttrsTextContent.handleBeingAddedToDom(t),t.hasAttribute(h.Ch5AttrsInnerhtml.DATA_CH5_ATTR_NAME)&&h.Ch5AttrsInnerhtml.handleBeingAddedToDom(t),t.hasAttribute(u.Ch5AttrsAppendstyle.DATA_CH5_ATTR_NAME)&&u.Ch5AttrsAppendstyle.handleBeingAddedToDom(t),t.hasAttribute(c.Ch5AttrsAppendclass.DATA_CH5_ATTR_NAME)&&c.Ch5AttrsAppendclass.handleBeingAddedToDom(t),t.hasAttribute(d.Ch5AttrsI18n.DATA_CH5_ATTR_NAME)&&g.ch5AttrsI18nInstance.handleBeingAddedToDom(t)})}handleNodesRemovalFromDOM(t){!0!==g.preventUnsubscribe?t.forEach(t=>{p.Ch5AttrsEnable.elHasRemovableSigSubscription(t)&&p.Ch5AttrsEnable.removeSigSubscription(t),r.Ch5AttrsShow.elHasRemovableSigSubscription(t)&&r.Ch5AttrsShow.removeSigSubscription(t),a.Ch5AttrsShowPulse.elHasRemovableSigSubscription(t)&&a.Ch5AttrsShowPulse.removeSigSubscription(t),o.Ch5AttrsHidePulse.elHasRemovableSigSubscription(t)&&o.Ch5AttrsHidePulse.removeSigSubscription(t),t.hasAttribute(l.Ch5AttrsTextContent.DATA_CH5_ATTR_NAME)&&l.Ch5AttrsTextContent.handleBeingRemovedFromDom(t),t.hasAttribute(h.Ch5AttrsInnerhtml.DATA_CH5_ATTR_NAME)&&h.Ch5AttrsInnerhtml.handleBeingRemovedFromDom(t),t.hasAttribute(u.Ch5AttrsAppendstyle.DATA_CH5_ATTR_NAME)&&u.Ch5AttrsAppendstyle.handleBeingRemovedFromDom(t),t.hasAttribute(c.Ch5AttrsAppendclass.DATA_CH5_ATTR_NAME)&&c.Ch5AttrsAppendclass.handleBeingRemovedFromDom(t)}):g.preventUnsubscribe=!0}handleAttributeChanges(t){const e=this.getNewAttributeValue(t);t.attributeName===p.Ch5AttrsEnable.DATA_CH5_ATTR_NAME&&p.Ch5AttrsEnable.handleCh5EnableAttributeChange(e,t.oldValue,t.target),t.attributeName===r.Ch5AttrsShow.DATA_CH5_ATTR_NAME&&r.Ch5AttrsShow.handleCh5ShowAttributeChange(e,t.oldValue,t.target),t.attributeName===a.Ch5AttrsShowPulse.DATA_CH5_ATTR_NAME&&a.Ch5AttrsShowPulse.handleCh5ShowPulseAttributeChange(e,t.oldValue,t.target),t.attributeName===o.Ch5AttrsHidePulse.DATA_CH5_ATTR_NAME&&o.Ch5AttrsHidePulse.handleCh5HidePulseAttributeChange(e,t.oldValue,t.target),t.attributeName===l.Ch5AttrsTextContent.DATA_CH5_ATTR_NAME&&l.Ch5AttrsTextContent.handleCh5TextContentAttrChange(e,t.oldValue,t.target),t.attributeName===h.Ch5AttrsInnerhtml.DATA_CH5_ATTR_NAME&&h.Ch5AttrsInnerhtml.handleCh5InnerhtmlAttrChange(e,t.oldValue,t.target),t.attributeName===u.Ch5AttrsAppendstyle.DATA_CH5_ATTR_NAME&&u.Ch5AttrsAppendstyle.handleCh5AppendstyleAttrChange(e,t.oldValue,t.target),t.attributeName===c.Ch5AttrsAppendclass.DATA_CH5_ATTR_NAME&&c.Ch5AttrsAppendclass.handleCh5AppendclassAttrChange(e,t.oldValue,t.target)}}e.Ch5CustomAttributes=g,g.preventUnsubscribe=!1,g.getInstance().initCh5Attributes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5AttrsMutationObserver=void 0;const s=i(10);e.Ch5AttrsMutationObserver=class{constructor(){this._mutationsObserver=null,this._mutationsObserverConfig={},this._skipedNodesNamesPrefix="ch5-",this._skipedNodesNames=["script","link","style"],this._nodeTypesToUse=[0,Node.ELEMENT_NODE]}_isValidObserver(t){return t instanceof MutationObserver}startBodyMutationsObserver(){this._mutationsObserver&&this._isValidObserver(this._mutationsObserver)&&this._mutationsObserver.observe(document,this._mutationsObserverConfig)}stopBodyMutationsObserver(){this._mutationsObserver&&this._isValidObserver(this._mutationsObserver)&&this._mutationsObserver.disconnect()}_hasCh5Attributes(t){const e="function"==typeof t.getAttributeNames?t.getAttributeNames():[];return e.length>0&&e.some(t=>this._mutationsObserverConfig.attributeFilter.indexOf(t)>-1)}_viableForCh5Attributes(t){const e=t.nodeName.toLowerCase();return this._nodeTypesToUse.indexOf(t.nodeType)>-1&&-1===this._skipedNodesNames.indexOf(e)&&-1===e.search(this._skipedNodesNamesPrefix)}_getNodesViableForCh5Attributes(t){let e=[];for(const i of t){this._viableForCh5Attributes(i)&&this._hasCh5Attributes(i)&&e.push(i);const t=this.getChildElementsHavingCh5Attr(i);e=e.concat(t)}return e}_childNodesWereAdded(t){return"childList"===t.type&&t.addedNodes.length>0}_childNodesWereRemoved(t){return"childList"===t.type&&t.removedNodes.length>0}getAllRegularElementsHavingCh5Attr(){return this.getChildElementsHavingCh5Attr(document)}getChildElementsHavingCh5Attr(t){if(!t||void 0===t.querySelectorAll)return[];const e=this._mutationsObserverConfig.attributeFilter.map(t=>`[${t}]`).join(",");return Array.from(t.querySelectorAll(e)).filter(t=>this._viableForCh5Attributes(t))}getNewAttributeValue(t){const e=t.target.getAttribute(t.attributeName),i=t.target.getAttribute("debug");return s.Ch5AttrsLog.info(i,`The ${t.attributeName} attribute was modified to: \n                        ${e} (previous value: ${t.oldValue}`,t),e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomAttribute=void 0;e.CustomAttribute=class{constructor(){this._type=null}get type(){if(!this._type)throw new Error("Type is null ");return this._type}set type(t){this._type=t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CH5_I18N_ATTRIBUTE_CONSTANT=void 0,e.CH5_I18N_ATTRIBUTE_CONSTANT={dataCh5AttrName:"data-ch5-i18n",elementIdPrefix:"ch5_translate_",randomNumberLength:10,subAttributePosition:2,subAttributeType:"inner",defaultIndex:-1}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomFixedInteger=void 0,e.randomFixedInteger=function(t){let e=0;return e=Math.floor(Math.pow(10,t-1)+Math.random()*(Math.pow(10,t)-Math.pow(10,t-1)-1)),e}},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(89),e)},function(t,e,i){"use strict";var s=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5DpadChildBase=void 0;const r=n(i(0)),a=i(195),o=i(3),l=i(31),h=i(1),u=i(25),c=i(6),d=i(89),p=i(34),g=i(90),m=i(4),b=i(91);class f extends o.Ch5Common{constructor(){super(),this.pressedCssClassPostfix="--pressed",this.LABEL_CLASS="dpad-btn-label",this.primaryCssClass="",this.TOUCH_TIMEOUT=250,this.DEBOUNCE_PRESS_TIME=200,this.PRESS_MOVE_THRESHOLD=10,this.STATE_CHANGE_TIMEOUTS=500,this.MAX_MODE_LENGTH=99,this.DEBOUNCE_BUTTON_DISPLAY=25,this.COMPONENT_NAME="",this.componentPrefix="ch5-dpad-button-",this.CSS_CLASS_LIST={commonBtnClass:"ch5-dpad-child",primaryIconClass:"fas",imageClassName:"image-url",primaryTagClass:"",defaultIconClass:"",defaultArrowClass:""},this._icon={},this.buttonType=null,this.isTouch=!1,this.allowPress=!0,this.allowPressTimeout=0,this._intervalIdForRepeatDigital=null,this._lastTapTime=0,this._pressable=null,this._hammerManager={},this._pressTimeout=0,this._pressed=!1,this._buttonPressedInPressable=!1,this._isPressedSubscription=null,this._repeatDigitalInterval=null,this._pressHorizontalStartingPoint=null,this._pressVerticalStartingPoint=null,this._pressInfo={},this.logger.start("constructor()",this.COMPONENT_NAME),this.ignoreAttributes=["show","disabled","receivestateenable","receivestateshow","receivestateshowpulse","receivestatehidepulse","receivestatecustomclass","receivestatecustomstyle","sendeventonshow"],this._ch5Properties=new m.Ch5Properties(this,f.COMPONENT_PROPERTIES),p.ComponentHelper.clearComponentContent(this),this._pressInfo=new a.Ch5ButtonPressInfo,this.bindEventListenersToThis(),this.logger.stop()}set label(t){this._ch5Properties.set("label",t,()=>{this.handleLabel()})}get label(){return this._ch5Properties.get("label")}set key(t){this._ch5Properties.set("key",t,()=>{this.handleKey()})}get key(){return this._ch5Properties.get("key")}set iconClass(t){const e=this.iconClass;this._ch5Properties.set("iconClass",t,()=>{this.handleIconClass(e)})}get iconClass(){return this._ch5Properties.get("iconClass")}set iconUrl(t){this._ch5Properties.set("iconUrl",t,()=>{this.handleIconUrl(t)})}get iconUrl(){return this._ch5Properties.get("iconUrl")}set sendEventOnClick(t){this._ch5Properties.set("sendEventOnClick",t)}get sendEventOnClick(){return this._ch5Properties.get("sendEventOnClick")}set pressed(t){this._ch5Properties.set("pressed",t,()=>{this.handlePressed()})}get pressed(){return this._ch5Properties.get("pressed")}initializeParams(t){this.buttonType=t.btnType,this.COMPONENT_NAME=this.componentPrefix+t.btnType,this.CSS_CLASS_LIST.primaryTagClass=t.btnType,this.CSS_CLASS_LIST.defaultIconClass=t.defaultIconClass,t.defaultArrowClass&&""!==t.defaultArrowClass&&(this.CSS_CLASS_LIST.defaultArrowClass=t.defaultArrowClass),this.primaryCssClass=this.componentPrefix+t.btnType,this.updatePressedClass(this.primaryCssClass+this.pressedCssClassPostfix)}connectedCallback(){if(this.logger.start("connectedCallback() - start",this.COMPONENT_NAME),this.parentElement&&(!this.parentElement||"ch5-dpad"!==this.parentElement.nodeName.toLowerCase())){if(this.parentElement&&this.parentElement.parentElement&&!(this.parentElement.parentElement instanceof d.Ch5Dpad))throw new Error(`Invalid parent element for ch5-dpad-button-${this.buttonType}. \n            Please ensure the parent tag is ch5-dpad, and other mandatory sibling \n            elements are available too.`);this.setAttribute("data-ch5-id",this.getCrId()),r.default.isNil(this._pressable)||(this._pressable.init(),this._subscribeToPressableIsPressed()),this._hammerManager=new Hammer(this),this.createElementsAndInitialize(),customElements.whenDefined("ch5-dpad-button").then(()=>{this.initCommonMutationObserver(this)}),this.logger.stop()}}createElementsAndInitialize(){this._wasInstatiated||g.CH5DpadUtils.createIconTag(this),this.initAttributes(),this._wasInstatiated||(this.createHtmlElements(),this._wasInstatiated=!0),this.attachEventListeners(),this.updateCssClasses()}createHtmlElements(){this.logger.start("createHtmlElements",this.COMPONENT_NAME),this.primaryCssClass&&""!==this.primaryCssClass&&this.classList.add(this.primaryCssClass),this.classList.add(this.CSS_CLASS_LIST.commonBtnClass),this.CSS_CLASS_LIST.primaryTagClass&&""!==this.CSS_CLASS_LIST.primaryTagClass&&this.classList.add(this.CSS_CLASS_LIST.primaryTagClass),this.CSS_CLASS_LIST.defaultArrowClass&&""!==this.CSS_CLASS_LIST.defaultArrowClass&&this.classList.add(this.CSS_CLASS_LIST.defaultArrowClass),this.iconUrl.length>0?(this._icon=this.getImageContainer(this.iconUrl),this._icon.style.backgroundImage=`url(${this.iconUrl})`):this.iconClass?(this._icon=this.getIconContainer(),this._icon.classList.add(...this.iconClass.split(" ").filter(t=>t))):this.label.length>0&&"center"===this.key?(this._icon=this.getLabelContainer(this.LABEL_CLASS),this._icon.innerHTML=this.label):(this._icon=this.getIconContainer(),this._icon.classList.add(this.CSS_CLASS_LIST.primaryIconClass),this.CSS_CLASS_LIST.defaultIconClass&&""!==this.CSS_CLASS_LIST.defaultIconClass&&this._icon.classList.add(this.CSS_CLASS_LIST.defaultIconClass)),this._icon.parentElement!==this&&this.appendChild(this._icon),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback() - start",this.COMPONENT_NAME),this.removeEventListeners(),null!==this._pressable&&this._pressable.destroy(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver(),this.logger.stop()}removeEventListeners(){this._hammerManager&&this._hammerManager.off&&this._hammerManager.off("tap",this._onTapAction),this.removeEventListener("mousedown",this._onPressClick),this.removeEventListener("mouseup",this._onMouseUp),this.removeEventListener("touchstart",this._onPress),this.removeEventListener("mouseleave",this._onLeave),this.removeEventListener("touchend",this._onPressUp),this.removeEventListener("touchmove",this._onTouchMove),this.removeEventListener("touchend",this._onTouchEnd),r.default.isNil(this._pressable)||this._unsubscribeFromPressableIsPressed()}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}static get observedAttributes(){const t=o.Ch5Common.observedAttributes,e=[];for(let t=0;t<f.COMPONENT_PROPERTIES.length;t++)!0===f.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(f.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.COMPONENT_NAME),t=t.toLowerCase(),e!==i){if(this.info("ch5-dpad-button"+this.buttonType+' attributeChangedCallback("'+t+'","'+e+'","'+i+'")'),e!==i){this.logger.log('ch5-dpad-child-base attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=f.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}}initAttributes(){this.logger.start("initAttributes",this.COMPONENT_NAME),super.initAttributes(),p.ComponentHelper.setAttributeToElement(this,"role",c.Ch5RoleAttributeMapping.ch5DpadChild);const t=this;for(let e=0;e<f.COMPONENT_PROPERTIES.length;e++)if(!0===f.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(f.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=f.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}const e=this.buttonType;if(this.parentElement&&this.parentElement.parentElement){const t=this.parentElement.parentElement,i=p.ComponentHelper.getAttributeAsString(t,"contractname",""),s=p.ComponentHelper.getAttributeAsString(t,"sendeventonclickstart","");i.length>0?this.sendEventOnClick=i+"."+g.CH5DpadUtils.contractSuffix[e]:i.length<=0&&s.length>0?this.sendEventOnClick=(parseInt(s,10)+g.CH5DpadUtils.sendEventOnClickSigCountToAdd[e]).toString():this.sendEventOnClick=""}this.hasAttribute("pressed")&&this._pressable&&this._pressable.setPressed(this.toBoolean(this.hasAttribute("pressed")&&"false"!==this.getAttribute("pressed"),!1)),this.logger.stop()}attachEventListeners(){var t;super.attachEventListeners(),null!==this._pressable&&!1===this._pressable.ch5Component.gestureable&&this._hammerManager.on("tap",this._onTapAction),this.addEventListener("mousedown",this._onPressClick),this.addEventListener("mouseup",this._onMouseUp),this.addEventListener("touchstart",this._onPress,{passive:!0}),this.addEventListener("mouseleave",this._onLeave),this.addEventListener("touchend",this._onPressUp),this.addEventListener("touchmove",this._onTouchMove),this.addEventListener("touchend",this._onTouchEnd),r.default.isNil(this._pressable)||(null===(t=this._pressable)||void 0===t||t.init(),this._subscribeToPressableIsPressed())}updateCssClasses(){super.updateCssClasses()}updatePressedClass(t){this._pressable=new l.Ch5Pressable(this,{cssTargetElement:this.getTargetElementForCssClassesAndStyle(),cssPressedClass:t})}bindEventListenersToThis(){this._onTapAction=this._onTapAction.bind(this)}sendValueForRepeatDigital(t){if(!this.sendEventOnClick)return;const e=h.Ch5SignalFactory.getInstance().getObjectAsBooleanSignal(this.sendEventOnClick);e&&e.name&&e.publish({[h.Ch5SignalBridge.REPEAT_DIGITAL_KEY]:t})}_sendOnClickSignal(t=!1,e=!1){let i=null;this.sendEventOnClick&&(i=h.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnClick),null!==i&&(t||this.sendValueForRepeatDigital(!0),e||this.sendValueForRepeatDigital(!1)))}stopRepeatDigital(){if(this.logger.log("stopRepeatDigital",this._intervalIdForRepeatDigital),this._intervalIdForRepeatDigital)return window.clearInterval(this._intervalIdForRepeatDigital),this.sendValueForRepeatDigital(!1),void(this._intervalIdForRepeatDigital=null);this.sendValueForRepeatDigital(!0),this._intervalIdForRepeatDigital=window.setInterval(()=>{this.sendValueForRepeatDigital(!0)},this.TOUCH_TIMEOUT)}handleLabel(){void 0!==this._icon.innerHTML&&(this._icon.classList.remove("dpad-btn-icon","fas",b.Ch5DpadButton.DEFAULT_ICONS.center),this._icon.classList.add("dpad-btn-label"),this._icon.innerHTML=this.label)}handleKey(){g.CH5DpadUtils.createIconTag(this),this.initializeParams({primaryTagClass:this.key,defaultIconClass:b.Ch5DpadButton.DEFAULT_ICONS[this.key],defaultArrowClass:"center"===this.key?"":"direction-btn",btnType:this.key})}handleIconClass(t){g.CH5DpadUtils.createIconTag(this),this.iconUrl.length<1&&(this.iconClass.length>0?(this._icon.classList.remove(this.CSS_CLASS_LIST.primaryIconClass),this.CSS_CLASS_LIST.defaultIconClass&&this._icon.classList.remove(this.CSS_CLASS_LIST.defaultIconClass),this._icon.classList.remove(...t.split(" ").filter(t=>t)),this._icon.classList.add(...this.iconClass.split(" ").filter(t=>t))):(this._icon.classList.remove(...t.split(" ").filter(t=>t)),this._icon.classList.add(this.CSS_CLASS_LIST.primaryIconClass),this.CSS_CLASS_LIST.defaultIconClass&&""!==this.CSS_CLASS_LIST.defaultIconClass&&this._icon.classList.add(this.CSS_CLASS_LIST.defaultIconClass)))}handleIconUrl(t){g.CH5DpadUtils.createIconTag(this),this.iconUrl.length>0?(this._icon.classList.add(this.CSS_CLASS_LIST.imageClassName),this._icon.style.backgroundImage=`url(${t})`):this._icon.classList.remove(this.CSS_CLASS_LIST.imageClassName)}handlePressed(){this._pressable&&this._pressable._pressed!==this.pressed&&this._pressable.setPressed(this.pressed)}pressHandler(){const t=()=>{this.logger.log("CH5DpadButton._onPress()"),this._pressed=!0};return new Promise((e,i)=>{this._pressTimeout=window.setTimeout(()=>{t(),e(this._pressed)},this.TOUCH_TIMEOUT)})}cancelPress(){window.clearTimeout(this._pressTimeout),this._pressed=!1}reactivatePress(){clearTimeout(this.allowPressTimeout),this.allowPressTimeout=setTimeout(()=>{this.allowPress=!0},this.DEBOUNCE_PRESS_TIME)}isExceedingPressMoveThreshold(t,e,i,s){const n=i-t,r=s-e;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))>this.PRESS_MOVE_THRESHOLD}_subscribeToPressableIsPressed(){null===this._isPressedSubscription&&null!==this._pressable&&(this._isPressedSubscription=this._pressable.observablePressed.subscribe(t=>{if(this.info(`Ch5DpadButton.pressableSubscriptionCb(${t})`),t!==this._buttonPressedInPressable)if(this._buttonPressedInPressable=t,!1===t)null!==this._repeatDigitalInterval&&window.clearInterval(this._repeatDigitalInterval);else{null!==this._repeatDigitalInterval&&window.clearInterval(this._repeatDigitalInterval);let t=0;this._repeatDigitalInterval=window.setInterval(()=>{++t>=150&&window.clearInterval(this._repeatDigitalInterval)},200)}}))}_unsubscribeFromPressableIsPressed(){null!==this._repeatDigitalInterval&&window.clearInterval(this._repeatDigitalInterval),null!==this._isPressedSubscription&&(this._isPressedSubscription.unsubscribe(),this._isPressedSubscription=null)}_onTapAction(){this.logger.start(this.COMPONENT_NAME,"- _onTapAction"),null!==this._intervalIdForRepeatDigital?(window.clearInterval(this._intervalIdForRepeatDigital),this.sendValueForRepeatDigital(!1),this._intervalIdForRepeatDigital=null):this._sendOnClickSignal(!1,!1),this.logger.stop()}_onPressClick(t){return s(this,void 0,void 0,(function*(){this.logger.start(this.COMPONENT_NAME,"- _onPressClick"),this.isTouch||(clearTimeout(this.allowPressTimeout),yield this.pressHandler(),this._pressHorizontalStartingPoint=t.clientX,this._pressVerticalStartingPoint=t.clientY,this._lastTapTime=(new Date).valueOf(),this.allowPress&&(this.allowPress=!1,this.stopRepeatDigital(),this.logger.stop()))}))}_onMouseUp(){if(this.isTouch)return t=this,void setTimeout(()=>{null!=t._intervalIdForRepeatDigital&&(clearTimeout(t._intervalIdForRepeatDigital),t._intervalIdForRepeatDigital=null),t.sendValueForRepeatDigital(!1)},200);var t;this.cancelPress(),this.reactivatePress(),this._intervalIdForRepeatDigital?this.stopRepeatDigital():this._pressed;const e=(new Date).valueOf()-this._lastTapTime;this._lastTapTime&&e<this.DEBOUNCE_PRESS_TIME&&this.logger.log("Ch5Button debouncing duplicate press/hold and click "+e)}_onPress(t){return s(this,void 0,void 0,(function*(){const e=(0,u.normalizeEvent)(t);this.isTouch=!0,clearTimeout(this.allowPressTimeout),this._pressInfo.saveStart(e.x,e.y),yield this.pressHandler(),this.allowPress&&(this.allowPress=!1,this.stopRepeatDigital())}))}_onLeave(){this._intervalIdForRepeatDigital&&this.stopRepeatDigital()}_onPressUp(){window.clearTimeout(this._pressTimeout),this.reactivatePress(),this._pressed&&(this.logger.log("Ch5Button._onPressUp()"),this._pressed=!1,this._intervalIdForRepeatDigital&&(window.clearInterval(this._intervalIdForRepeatDigital),this.sendValueForRepeatDigital(!1),this._intervalIdForRepeatDigital=null))}_onTouchMove(t){t.cancelable&&t.preventDefault();const e=(0,u.normalizeEvent)(t);this._pressInfo.saveEnd(e.x,e.y);if(!this._pressInfo.valid())return window.clearTimeout(this._pressTimeout),void(null!==this._intervalIdForRepeatDigital&&this.stopRepeatDigital())}_onTouchEnd(){this._intervalIdForRepeatDigital&&this.stopRepeatDigital()}getIconContainer(){const t=document.createElement("span");return t.classList.add("dpad-btn-icon"),t.classList.add("fas"),t}getLabelContainer(t){const e=document.createElement("span");return e.classList.add(t),e}getImageContainer(t){const e=document.createElement("span");return e.classList.add("dpad-btn-icon"),e.classList.add("image-url"),e.setAttribute("data-img-url",t),e}}e.Ch5DpadChildBase=f,f.COMPONENT_PROPERTIES=[{default:"",name:"key",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"iconClass",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"iconUrl",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"label",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:!1,name:"pressed",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!1,isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnClick",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}],f.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},o.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0}})},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ButtonPressInfo=void 0;const n=s(i(11));e.Ch5ButtonPressInfo=class{constructor(){this._threshold=15,this._startX=0,this._startY=0,this._endX=0,this._endY=0}valid(){return this.calculatePointDiff()<this._threshold}saveStart(t,e){this.startX=t,this.startY=e}saveEnd(t,e){this.endX=t,this.endY=e}set startX(t){(0,n.default)(t)||(this._startX=t)}get startX(){return this._startX}set startY(t){(0,n.default)(t)||(this._startY=t)}get startY(){return this._startY}set endX(t){(0,n.default)(t)||(this._endX=t)}get endX(){return this._endX}set endY(t){(0,n.default)(t)||(this._endY=t)}get endY(){return this._endY}calculatePointDiff(){return Math.sqrt(Math.pow(this.endX-this.startX,2)+Math.pow(this.endY-this.startY,2))}}},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(197),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5DateTime=void 0;const s=i(3),n=i(5),r=i(2),a=i(4),o=i(198);class l extends s.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-datetime",this._elContainer={},this.dateTimeId=null,this.componentFormat="",this.debounceRender=this.debounce(()=>{this.render()},50),this.logger.start("constructor()",l.ELEMENT_NAME),this.ignoreAttributes=["disabled","appendClassWhenInViewPort","sendEventOnShow","receiveStateEnable","receiveStateHidePulse","receiveStateShowPulse"],this._wasInstatiated||this.createInternalHtml(),this._wasInstatiated=!0,this._ch5Properties=new a.Ch5Properties(this,l.COMPONENT_PROPERTIES)}set display24HourFormat(t){this._ch5Properties.set("display24HourFormat",t,()=>{this.debounceRender()})}get display24HourFormat(){return this._ch5Properties.get("display24HourFormat")}set displayAmPm(t){this._ch5Properties.set("displayAmPm",t,()=>{this.debounceRender()})}get displayAmPm(){return this._ch5Properties.get("displayAmPm")}set displayTwoDigitsHour(t){this._ch5Properties.set("displayTwoDigitsHour",t,()=>{this.debounceRender()})}get displayTwoDigitsHour(){return this._ch5Properties.get("displayTwoDigitsHour")}set displaySeconds(t){this._ch5Properties.set("displaySeconds",t,()=>{this.debounceRender()})}get displaySeconds(){return this._ch5Properties.get("displaySeconds")}set styleForDate(t){this._ch5Properties.set("styleForDate",t,()=>{this.debounceRender()})}get styleForDate(){return this._ch5Properties.get("styleForDate")}set horizontalAlignment(t){this._ch5Properties.set("horizontalAlignment",t,()=>{this.updateCssClass()})}get horizontalAlignment(){return this._ch5Properties.get("horizontalAlignment")}set displayType(t){this._ch5Properties.set("displayType",t,()=>{this.debounceRender()})}get displayType(){return this._ch5Properties.get("displayType")}set timeOffsetHours(t){this._ch5Properties.set("timeOffsetHours",t,()=>{this.changeTime()})}get timeOffsetHours(){return this._ch5Properties.get("timeOffsetHours")}set receiveStateOffsetTime(t){this._ch5Properties.set("receiveStateOffsetTime",t,null,t=>{const e=this.convertAnalogValueBasedOnSignalResponse(t)/100;this._ch5Properties.setForSignalResponse("timeOffsetHours",e,()=>{this.changeTime()})})}get receiveStateOffsetTime(){return this._ch5Properties.get("receiveStateOffsetTime")}static registerSignalAttributeTypes(){r.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(l.ELEMENT_NAME,l.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(l.ELEMENT_NAME)&&window.customElements.define(l.ELEMENT_NAME,l)}static get observedAttributes(){const t=s.Ch5Common.observedAttributes,e=[];for(let t=0;t<l.COMPONENT_PROPERTIES.length;t++)!0===l.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(l.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-datetime attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=l.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()",l.ELEMENT_NAME),this.hasAttribute("role")||this.setAttribute("role",n.Ch5RoleAttributeMapping.ch5DateTime),this._elContainer.parentElement!==this&&(this._elContainer.classList.add("ch5-datetime"),this.appendChild(this._elContainer)),this.initAttributes(),this.debounceRender(),this.updateCssClass(),this.initCommonMutationObserver(this),customElements.whenDefined("ch5-datetime").then(()=>{this.componentLoadedEvent(l.ELEMENT_NAME,this.id),this.changeTime()}),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.unsubscribeFromSignals(),null!==this.dateTimeId&&window.clearTimeout(this.dateTimeId),this.componentFormat="",this.logger.stop()}changeTime(){if(null!==this.dateTimeId&&window.clearTimeout(this.dateTimeId),""!==this.componentFormat){const t=new Date,e=this.calculateTimeOffset(t);this._elContainer.textContent=(0,o.toFormat)(e,this.componentFormat),this.dateTimeId=window.setTimeout(()=>{this.changeTime()},1e3)}}createInternalHtml(){this.logger.start("createInternalHtml()"),this.clearComponentContent(),this._elContainer=document.createElement("div"),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<l.COMPONENT_PROPERTIES.length;e++)if(!0===l.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(l.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=l.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}clearComponentContent(){const t=this.getElementsByTagName("div");Array.from(t).forEach(t=>{t.remove()})}updateCssClass(){this.logger.start("UpdateCssClass"),super.updateCssClasses(),Array.from(l.HORIZONTAL_ALIGNMENT).forEach(t=>{this._elContainer.classList.remove(l.ELEMENT_NAME+l.COMPONENT_DATA.HORIZONTAL_ALIGNMENT.classListPrefix+t)}),this._elContainer.classList.add(l.ELEMENT_NAME+l.COMPONENT_DATA.HORIZONTAL_ALIGNMENT.classListPrefix+this.horizontalAlignment),this.logger.stop()}getTargetElementForCssClassesAndStyle(){return this._elContainer}render(){const t=this.styleForDate.replaceAll("d","D").replaceAll("y","Y").replaceAll("_","/");let e="";[l.DISPLAY_TYPE[0],l.DISPLAY_TYPE[2]].includes(this.displayType)&&(e="H:MI",this.display24HourFormat&&(e=e.replace("H","H24")),this.displaySeconds&&(e+=":SS"),this.displayAmPm&&!this.display24HourFormat&&(e+=" PP"),this.displayTwoDigitsHour&&(e=e.replace("H","HH")));let i="";"datetime"===this.displayType?i=t+" "+e:"date"===this.displayType?i=t:"time"===this.displayType&&(i=e),this.componentFormat=i.trim(),this.changeTime()}calculateTimeOffset(t){const e=this.timeOffsetHours;if(e&&0!==e&&e>=-32768&&e<=32767){const i=t;return i.setMinutes(i.getMinutes()+Math.round(60*e)),i}return t}}e.Ch5DateTime=l,l.STYLE_FOR_DATE=["MM-dd-yyyy","M-dd-yyyy","M-d-yyyy","MM-dd-yy","M-dd-yy","M-d-yy","dd_MM_yyyy","d_MM_yyyy","d_M_yyyy","dd_MM_yy","d_MM_yy","d_M_yy","d MMM yyyy","MMM d yyyy","d MMMM yyyy","MMMM d yyyy","yyyy-MM-dd","yyyy_MM_dd","MMM d, yyyy","yyyy MM, dd","yyyy MMMM, dd","MMMM d, yyyy"],l.HORIZONTAL_ALIGNMENT=["center","left","right"],l.DISPLAY_TYPE=["datetime","date","time"],l.COMPONENT_DATA={STYLE_FOR_DATE:{default:l.STYLE_FOR_DATE[0],values:l.STYLE_FOR_DATE,key:"styleForDate",attribute:"styleForDate"},HORIZONTAL_ALIGNMENT:{default:l.HORIZONTAL_ALIGNMENT[0],values:l.HORIZONTAL_ALIGNMENT,key:"horizontalAlignment",attribute:"horizontalAlignment",classListPrefix:"--horizontal-alignment-"},DISPLAY_TYPE:{default:l.DISPLAY_TYPE[0],values:l.DISPLAY_TYPE,key:"displayType",attribute:"displayType"}},l.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestateoffsettime:{direction:"state",numericJoin:1,contractName:!0}}),l.COMPONENT_PROPERTIES=[{default:!1,name:"display24HourFormat",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!0,name:"displayAmPm",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"displayTwoDigitsHour",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"displaySeconds",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:l.STYLE_FOR_DATE[0],enumeratedValues:l.STYLE_FOR_DATE,name:"styleForDate",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.STYLE_FOR_DATE[0],isObservableProperty:!0},{default:l.HORIZONTAL_ALIGNMENT[0],enumeratedValues:l.HORIZONTAL_ALIGNMENT,name:"horizontalAlignment",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.HORIZONTAL_ALIGNMENT[0],isObservableProperty:!0},{default:l.DISPLAY_TYPE[0],enumeratedValues:l.DISPLAY_TYPE,name:"displayType",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.DISPLAY_TYPE[0],isObservableProperty:!0},{default:0,name:"timeOffsetHours",removeAttributeOnNull:!0,nameForSignal:"receiveStateOffsetTime",type:"number",valueOnAttributeEmpty:null,numberProperties:{min:-32768,max:32767,conditionalMin:-32768,conditionalMax:32767,conditionalMinValue:-32768,conditionalMaxValue:32767},isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateOffsetTime",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}],l.ELEMENT_NAME="ch5-datetime",l.registerCustomElement(),l.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toFormat=void 0;const s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=t=>t<10?"0"+t:String(t),l=(t,e,i)=>-1!==t.indexOf(e)?t.replace(e,String(i)):t;e.toFormat=(t,e)=>{const i=t.getHours()%12?t.getHours()%12:12;return e=l(e,"YYYY",t.getFullYear()),e=l(e,"YY",String(t.getFullYear()).slice(-2)),e=l(e,"MMMM",n[t.getMonth()]),e=l(e,"MMM",s[t.getMonth()]),e=l(e,"MM",o(t.getMonth()+1)),e=l(e,"MI",o(t.getMinutes())),e=l(e,"M",t.getMonth()+1),e=l(e,"DDDD",a[t.getDay()]),e=l(e,"DDD",r[t.getDay()]),e=l(e,"DD",o(t.getDate())),e=l(e,"D",t.getDate()),e=l(e,"HH24",o(t.getHours())),e=l(e,"H24",t.getHours()),e=l(e,"HH",o(i)),e=l(e,"H",i),e=l(e,"SS",o(t.getSeconds())),e=l(e,"PP",t.getHours()>=12?"PM":"AM")}},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(200),e)},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Emulator=void 0;const a=r(i(1)),o=i(1),l=i(0);class h{constructor(){}static getInstance(){return(0,l.isUndefined)(h._instance)&&(h._instance=new h),h._instance}static clear(){h._instance=void 0,h._scenario={}}loadScenario(t){if(!h._instance)throw new Error("The Ch5Emulator instance is not created");if(h._scenario=t,(0,l.isUndefined)(t.cues))throw new Error("The loaded scenario has no cues");t.cues.forEach(h._instance.processCue)}getScenario(){return h._scenario}processCue(t,e){let i,s,n;if((0,l.isUndefined)(t.event))throw new Error('Property "signal" is not set in cue.');if((0,l.isUndefined)(t.actions)||"function"!=typeof t.actions.forEach)throw new Error('Property "actions" is not set in cue.');switch(n=t.event,t.type){case"b":case"boolean":if(i=o.Ch5SignalFactory.getInstance().getBooleanSignal(n),(0,l.isNull)(i))throw new Error("Error processing boolean type signal named "+n);s=e=>{const s=h.getInstance();!(0,l.isNull)(s)&&s.isTriggered(t.trigger,e,i)&&t.actions.forEach((t,i,n)=>{s.processAction(t,i,n,e)})},i.subscribe(s);break;case"s":case"string":if(i=o.Ch5SignalFactory.getInstance().getStringSignal(n),(0,l.isNull)(i))throw new Error("Error processing boolean type signal named "+n);s=e=>{const s=h.getInstance();!(0,l.isNull)(s)&&s.isTriggered(t.trigger,e,i)&&t.actions.forEach((t,i,n)=>{s.processAction(t,i,n,e)})},i.subscribe(s);break;case"n":case"numeric":case"number":if(i=o.Ch5SignalFactory.getInstance().getNumberSignal(n),(0,l.isNull)(i))throw new Error("Error processing boolean type signal named "+n);s=e=>{const s=h.getInstance();!(0,l.isNull)(s)&&s.isTriggered(t.trigger,e,i)&&t.actions.forEach((t,i,n)=>{s.processAction(t,i,n,e)})},i.subscribe(s);break;case"o":case"object":if(i=o.Ch5SignalFactory.getInstance().getObjectSignal(n),(0,l.isNull)(i))throw new Error("Error processing object type signal named "+n);s=e=>{const s=h.getInstance();!(0,l.isNull)(s)&&s.isTriggered(t.trigger,e,i)&&t.actions.forEach((t,i,n)=>{s.processAction(t,i,n,e)})},i.subscribe(s);break;default:throw new Error("Invalid cue type: "+t.type)}}isTriggered(t,e,i){let s=e;const n=s[o.Ch5SignalBridge.REPEAT_DIGITAL_KEY];(0,l.isObject)(s)&&!(0,l.isUndefined)(n)&&(s=n);let r=!1;switch(typeof t){case"boolean":r=t===s;break;case"string":r="&change"===t?(0,l.isObject)(s)?!(0,l.isNull)(i)&&JSON.stringify(i.prevValue)!==JSON.stringify(s):!(0,l.isNull)(i)&&i.prevValue!==s:t===s;break;case"number":r=t===s;break;case"object":r=JSON.stringify(t)===JSON.stringify(s)}return r}processAction(t,e,i,s){setTimeout(()=>this.processActionAsync(t,e,i,s),30)}processActionAsync(t,e,i,s){if((0,l.isUndefined)(t.state))throw new Error('Property "state" is not set in action.');switch(t.type){case"b":case"boolean":this.processBooleanAction(t,s);break;case"s":case"string":this.processStringAction(t,s);break;case"n":case"numeric":case"number":this.processNumberAction(t,s);break;case"o":case"object":this.processObjectAction(t,s);break;default:throw new Error("Invalid cue type: "+t.type)}}castToBoolean(t){let e=!1;if("string"==typeof t)switch(t.toLowerCase().trim()){case"true":case"yes":case"1":e=!0;break;case"false":case"no":case"0":e=!1;break;default:e=Boolean(t)}else e=Boolean(t);return e}processBooleanAction(t,e){const i=o.Ch5Signal.getSubscriptionSignalName(t.state),s=o.Ch5SignalFactory.getInstance().getBooleanSignal(i);if((0,l.isNull)(s))throw new Error("Error processing boolean type signal named "+i);switch(t.logic){case"set":(0,l.isUndefined)(t.value)||a.bridgeReceiveBooleanFromNative(i,t.value);break;case"link":a.bridgeReceiveBooleanFromNative(i,this.castToBoolean(e));break;case"toggle":a.bridgeReceiveBooleanFromNative(i,!s.value);break;case"pulse":a.bridgeReceiveBooleanFromNative(i,!0),a.bridgeReceiveBooleanFromNative(i,!1)}}processNumberAction(t,e){const i=o.Ch5Signal.getSubscriptionSignalName(t.state),s=o.Ch5SignalFactory.getInstance().getNumberSignal(i);if((0,l.isNull)(s))throw new Error("Error processing numeric type signal named "+i);switch(t.logic){case"set":(0,l.isNumber)(t.value)&&a.bridgeReceiveIntegerFromNative(i,t.value);break;case"link":let n=parseInt(""+e,10);isNaN(n)&&(n=0),a.bridgeReceiveIntegerFromNative(i,n);break;case"increment":let r=1;(0,l.isUndefined)(t.offset)||(r=t.offset),a.bridgeReceiveIntegerFromNative(i,+s.value+r);break;case"decrement":let o=1;(0,l.isUndefined)(t.offset)||(o=t.offset),a.bridgeReceiveIntegerFromNative(i,+s.value-o);break;case"rcb":(0,l.isUndefined)(t.value)||(0,l.isUndefined)(t.time)||setTimeout((t,e)=>{(0,l.isNull)(t)||a.bridgeReceiveIntegerFromNative(i,e)},t.time,s,t.value)}}processStringAction(t,e){const i=o.Ch5Signal.getSubscriptionSignalName(t.state),s=o.Ch5SignalFactory.getInstance().getStringSignal(i);if((0,l.isNull)(s))throw new Error("Error processing string type signal named "+i);switch(t.logic){case"set":a.bridgeReceiveStringFromNative(i,String(t.value));break;case"link":a.bridgeReceiveStringFromNative(i,String(e))}}processObjectAction(t,e){const i=o.Ch5Signal.getSubscriptionSignalName(t.state),s=o.Ch5SignalFactory.getInstance().getObjectSignal(i);if((0,l.isNull)(s))throw new Error("Error processing object type signal named "+i);switch(t.logic){case"set":(0,l.isUndefined)(t.value)||a.bridgeReceiveObjectFromNative(i,t.value);break;case"link":a.bridgeReceiveObjectFromNative(i,e)}}run(){if((0,l.isUndefined)(h._scenario)||(0,l.isUndefined)(h._scenario.cues))throw new Error("You must load a scenario before trying to run one.");(0,l.isUndefined)(h._scenario.onStart)||(0,l.isUndefined)(h._scenario.onStart.forEach)||h._scenario.onStart.forEach((t,e)=>{const i=o.Ch5Signal.getSubscriptionSignalName(t.state);let s;switch(t.type){case"b":case"boolean":if(s=o.Ch5SignalFactory.getInstance().getBooleanSignal(i),(0,l.isNull)(s)||!(0,l.isBoolean)(t.value))throw new Error(`Error when setting initial value (${t.value}) for state: ${i}`);a.bridgeReceiveBooleanFromNative(i,t.value);break;case"n":case"numeric":case"number":s=o.Ch5SignalFactory.getInstance().getNumberSignal(i);const e=Number(t.value);if((0,l.isNull)(s)||isNaN(e))throw new Error(`Error when setting initial value (${t.value}) for state: ${i}`);a.bridgeReceiveIntegerFromNative(i,e);break;case"s":case"string":if(s=o.Ch5SignalFactory.getInstance().getStringSignal(i),(0,l.isNull)(s)||!(0,l.isString)(t.value))throw new Error(`Error when setting initial value (${t.value}) for state: ${i}`);a.bridgeReceiveStringFromNative(i,t.value);break;case"o":case"object":if(s=o.Ch5SignalFactory.getInstance().getObjectSignal(i),(0,l.isNull)(s)||!(0,l.isObject)(t.value))throw new Error(`Error when setting initial value (${t.value}) for signal: ${i}`);a.bridgeReceiveObjectFromNative(i,t.value);break;default:throw new Error("Invalid 'onStart' type: "+t.type)}})}}e.Ch5Emulator=h,h._scenario={}},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(202),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Form=void 0;const s=i(3),n=i(17),r=i(0),a=i(5),o=i(2),l=i(4);class h extends s.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-form",this._submitButtonLabel="",this._submitButtonIcon="",this._submitButtonStyle="",this._submitButtonType="default",this._cancelButtonLabel="",this._cancelButtonIcon="",this._cancelButtonStyle="",this._cancelButtonType="default",this._submitId="",this._cancelId="",this._inputElements=[],this._submitButton={},this._cancelButton={},this._submitShouldBeDisable=!0,this._cancelShouldBeDisabled=!0,this._customCancelButtonRef=null,this._customSubmitButtonRef=null,this._onClickSubmitButton=this._onClickSubmitButton.bind(this),this._onClickCancelButton=this._onClickCancelButton.bind(this),this._checkIfCancelOrSubmitShouldBeDisabled=this._checkIfCancelOrSubmitShouldBeDisabled.bind(this),this._ch5Properties=new l.Ch5Properties(this,h.COMPONENT_PROPERTIES),this._initFormButtons(),this.ready=Promise.all([customElements.whenDefined("ch5-button"),customElements.whenDefined("ch5-toggle"),customElements.whenDefined("ch5-slider"),customElements.whenDefined("ch5-select"),customElements.whenDefined("ch5-list"),customElements.whenDefined("ch5-textinput"),customElements.whenDefined("ch5-spinner")]).then(t=>{this._linkInputElements(),this._linkFormButtons(),this._wasInstatiated=!0})}set hideCancelButton(t){this._ch5Properties.set("hideCancelButton",t,()=>{this.hideCancelButton?this.cancelButton.setAttribute("hidden",""):this.cancelButton.removeAttribute("hidden")})}get hideCancelButton(){return this._ch5Properties.get("hideCancelButton")}set hideSubmitButton(t){this._ch5Properties.set("hideSubmitButton",t,()=>{this.hideSubmitButton?this.submitButton.setAttribute("hidden",""):this.submitButton.removeAttribute("hidden")})}get hideSubmitButton(){return this._ch5Properties.get("hideSubmitButton")}get inputElements(){return this._inputElements}get submitButton(){return this._submitButton}set submitButton(t){this._submitButton=t}get cancelButton(){return this._cancelButton}set cancelButton(t){this._cancelButton=t}get submitButtonLabel(){return this._submitButtonLabel}set submitButtonLabel(t){this.info('Ch5Form set submitButtonLabel("'+t+'")'),s.Ch5Common.isNil(t)&&(t=h.SUBMIT_LABEL);const e=this._getTranslatedValue("submitbuttonlabel",t);e!==this.submitButtonLabel&&(this._submitButtonLabel=t,this.submitButton.setAttribute("label",e),this.setAttribute("submitbuttonlabel",e))}get submitButtonIcon(){return this._submitButtonIcon}set submitButtonIcon(t){if(this.info('Ch5Form set submitButtonIcon("'+t+'")'),this._submitButtonIcon!==t){s.Ch5Common.isNil(t)&&(t="");const e=`${t} ${this.primaryCssClass}__submit__icon`;this._submitButtonIcon=t,this.setAttribute("submitbuttonicon",t),this.submitButton.setAttribute("iconClass",e)}}get submitButtonStyle(){return this._submitButtonStyle}set submitButtonStyle(t){this.info('Ch5Form set submitButtonStyle("'+t+'")'),this._submitButtonStyle!==t&&(s.Ch5Common.isNil(t)&&(t=""),this._submitButtonStyle=t,this.setAttribute("submitbuttonstyle",t),this.submitButton.setAttribute("customStyle",t))}get submitButtonType(){return this._submitButtonType}set submitButtonType(t){this.info('Ch5Form set submitButtonType("'+t+'")'),this._submitButtonType!==t&&(s.Ch5Common.isNil(t)&&(t="default"),this._submitButtonType=t,this.setAttribute("submitbuttontype",t),this.submitButton.setAttribute("type",t))}get cancelButtonLabel(){return this._cancelButtonLabel}set cancelButtonLabel(t){this.info('Ch5Form set cancelButtonLabel("'+t+'")'),s.Ch5Common.isNil(t)&&(t=h.CANCEL_LABEL);const e=this._getTranslatedValue("cancelButtonLabel",t);e!==this.cancelButtonLabel&&(this._cancelButtonLabel=e,this.cancelButton.setAttribute("label",e),this.setAttribute("cancelbuttonlabel",e))}get cancelButtonIcon(){return this._cancelButtonIcon}set cancelButtonIcon(t){if(this.info('Ch5Form set cancelButtonIcon("'+t+'")'),this._cancelButtonIcon!==t){s.Ch5Common.isNil(t)&&(t="");const e=`${t} ${this.primaryCssClass}__cancel__icon`;this._cancelButtonIcon=t,this.setAttribute("cancelbuttonicon",t),this.cancelButton.setAttribute("iconclass",e)}}get cancelButtonStyle(){return this._cancelButtonStyle}set cancelButtonStyle(t){this.info('Ch5Form set cancelButtonStyle("'+t+'")'),this._cancelButtonStyle!==t&&(null!=t&&""!==t||(t=""),this._cancelButtonStyle=t,this.setAttribute("cancelbuttonstyle",t),this.cancelButton.setAttribute("customstyle",t))}get cancelButtonType(){return this._cancelButtonType}set cancelButtonType(t){this.info('Ch5Form set cancelButtonType("'+t+'")'),this._cancelButtonType!==t&&((0,r.isNil)(t)&&(t="default"),this._cancelButtonType=t,this.setAttribute("cancelbuttontype",t),this.cancelButton.setAttribute("type",t))}get submitId(){return this._submitId}set submitId(t){this.info('Ch5Form set submitId("'+t+'")'),this._submitId===t||(0,r.isNil)(t)||(this._submitId=t)}get cancelId(){return this._cancelId}set cancelId(t){this.info('Ch5Form set cancelId("'+t+'")'),this._cancelId===t||(0,r.isNil)(t)||(this._cancelId=t)}static get observedAttributes(){const t=s.Ch5Common.observedAttributes,e=[];for(let t=0;t<h.COMPONENT_PROPERTIES.length;t++)!0===h.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(h.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(["submitbuttonlabel","submitbuttonicon","submitbuttonstyle","submitbuttontype","cancelbuttonlabel","cancelbuttonicon","cancelbuttonstyle","cancelbuttontype","submitid","cancelid"].concat(e))}static registerSignalAttributeTypes(){o.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(h.ELEMENT_NAME,h.SIGNAL_ATTRIBUTE_TYPES)}setCustomCancelBtn(){(0,r.isNil)(this.cancelId)||(0,r.isEmpty)(this.cancelId)||(this.info(`Ch5Form setCustomCancelBtn with id :${this.cancelId} ready`),this._customCancelButtonRef=document.getElementById(this.cancelId),(0,r.isNil)(this._customCancelButtonRef)?this.info("Ch5Form Cannot find cancel button with id :"+this.cancelId):(this._customCancelButtonRef.removeEventListener("click",this._onClickCancelButton),this._customCancelButtonRef.addEventListener("click",this._onClickCancelButton),this.info(`Ch5Form canel button with ${this.cancelId} found, events added`)))}setCustomSubmitBtn(){(0,r.isNil)(this.submitId)||(0,r.isEmpty)(this.submitId)||(this.info(`Ch5Form setCustomSubmitBtn with id :${this.submitId} ready`),this._customSubmitButtonRef=document.getElementById(this.submitId),(0,r.isNil)(this._customSubmitButtonRef)?this.info("Ch5Form cannot find submit button with id :"+this.submitId):(this._customSubmitButtonRef.addEventListener("click",this._onClickSubmitButton),this.info(`Ch5Form submit button with ${this.submitId} found, events added`)))}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role",a.Ch5RoleAttributeMapping.ch5Form),this.ready.then(()=>{this.cacheComponentChildrens(),this.initAttributes(),this.appendChild(this.submitButton),this.appendChild(this.cancelButton),this.attachEventListeners(),this.initCommonMutationObserver(this),this.setCustomCancelBtn(),this.setCustomSubmitBtn(),this.checkIfCustomSubmitShouldBeDisabled(!0),this.checkIfCustomCancelShouldBeDisabled(!0)})}disconnectedCallback(){this.removeEvents(),this.disconnectCommonMutationObserver()}attributeChangedCallback(t,e,i){if(e===i)return;this.info('Ch5Form attributeChangedCallback("'+t+'","'+e+'","'+i+')"');const s=h.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else switch(t){case"submitbuttonlabel":this.hasAttribute("submitbuttonlabel")?this.submitButtonLabel=i:this.submitButtonLabel="";break;case"submitbuttonicon":this.hasAttribute("submitbuttonicon")?this.submitButtonIcon=i:this.submitButtonIcon="";break;case"submitbuttonstyle":this.hasAttribute("submitbuttonstyle")?this.submitButtonStyle=i:this.submitButtonStyle="";break;case"submitbuttontype":this.hasAttribute("submitbuttontype")?this.submitButtonType=i:this.submitButtonType="default";break;case"cancelbuttonlabel":this.hasAttribute("cancelbuttonlabel")?this.cancelButtonLabel=i:this.cancelButtonLabel="";break;case"cancelbuttonicon":this.hasAttribute("cancelbuttonicon")?this.cancelButtonIcon=i:this.cancelButtonIcon="";break;case"cancelbuttonstyle":this.hasAttribute("cancelbuttonstyle")?this.cancelButtonStyle=i:this.cancelButtonStyle="";break;case"cancelbuttontype":this.hasAttribute("cancelbuttontype")?this.cancelButtonType=i:this.cancelButtonType="default";break;case"submitid":this.hasAttribute("submitid")?this.submitId=i:this.submitId="";break;case"cancelid":this.hasAttribute("cancelid")?this.cancelId=i:this.cancelId="";break;default:super.attributeChangedCallback(t,e,i)}}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<h.COMPONENT_PROPERTIES.length;e++)if(!0===h.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(h.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=h.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}this._upgradeProperty("submitButtonLabel"),this._upgradeProperty("submitButtonIcon"),this._upgradeProperty("submitButtonStyle"),this._upgradeProperty("submitButtonType"),this._upgradeProperty("cancelButtonLabel"),this._upgradeProperty("cancelButtonIcon"),this._upgradeProperty("cancelButtonStyle"),this._upgradeProperty("cancelButtonType"),this._upgradeProperty("submitId"),this._upgradeProperty("cancelId")}attachEventListeners(){super.attachEventListeners(),this.submitButton.addEventListener("click",this._onClickSubmitButton),this.cancelButton.addEventListener("click",this._onClickCancelButton),this._inputElements.forEach(t=>{t.addEventListener("dirty",this._checkIfCancelOrSubmitShouldBeDisabled),t.addEventListener("validitychange",this._checkIfCancelOrSubmitShouldBeDisabled),t.addEventListener("clean",this._checkIfCancelOrSubmitShouldBeDisabled)})}removeEvents(){super.removeEventListeners(),this.submitButton.removeEventListener("click",this._onClickSubmitButton),this.cancelButton.removeEventListener("click",this._onClickCancelButton),this._inputElements.forEach(t=>{t.removeEventListener("dirty",this._checkIfCancelOrSubmitShouldBeDisabled),t.removeEventListener("validitychange",this._checkIfCancelOrSubmitShouldBeDisabled),t.removeEventListener("clean",this._checkIfCancelOrSubmitShouldBeDisabled)}),(0,r.isNil)(this._customSubmitButtonRef)||this._customSubmitButtonRef.removeEventListener("click",this._onClickSubmitButton),(0,r.isNil)(this._customCancelButtonRef)||this._customCancelButtonRef.removeEventListener("click",this._onClickSubmitButton)}submit(){this._submitShouldBeDisable||this._inputElements.forEach(t=>{t.submit()})}cancel(){this.submitButton.setAttribute("disabled","true"),this._inputElements.forEach(t=>{t.reset()})}_linkInputElements(){this._inputElements=Array.from(this.querySelectorAll("[feedbackmode='submit']"))}_getInputElements(){return this._inputElements}_initFormButtons(){this.submitButton=this._createButton(h.SUBMIT_LABEL,h.SUBMIT_TYPE,"submit",!0),this.cancelButton=this._createButton(h.CANCEL_LABEL,h.CANCEL_TYPE,"cancel",!0)}_linkFormButtons(){const t=this.querySelector("[formtype='submit']"),e=this.querySelector("[formtype='cancel']");null!==t&&(t.setAttribute("disabled","true"),this.submitButton=t),null!==e&&(this.cancelButton=e)}_checkIfCancelOrSubmitShouldBeDisabled(){const t=this._inputElements.every(t=>!1===t.getDirty());if(this._cancelShouldBeDisabled=t,this._cancelShouldBeDisabled?(this.cancelButton.setAttribute("disabled","true"),this.cancelButton.classList.add(this.primaryCssClass+"__submit--disabled")):(this.cancelButton.removeAttribute("disabled"),this.cancelButton.classList.remove(this.primaryCssClass+"__submit--disabled")),this.checkIfCustomCancelShouldBeDisabled(this._cancelShouldBeDisabled),this._inputElements.forEach(t=>{if(!0===t.getDirty())return this._submitShouldBeDisable=!1,void this.checkIfCustomSubmitShouldBeDisabled(this._submitShouldBeDisable)}),this._submitShouldBeDisable=t,this._submitShouldBeDisable&&this.checkIfCustomSubmitShouldBeDisabled(this._submitShouldBeDisable),this._inputElements.forEach(t=>{if(void 0!==t.getValid&&!1===t.getValid())return this._submitShouldBeDisable=!0,void this.checkIfCustomSubmitShouldBeDisabled(this._submitShouldBeDisable)}),this._submitShouldBeDisable)return this.submitButton.setAttribute("disabled","true"),void this.submitButton.classList.add(this.primaryCssClass+"__submit--disabled");this.submitButton.removeAttribute("disabled"),this.submitButton.classList.remove(this.primaryCssClass+"__submit--disabled")}checkIfCustomSubmitShouldBeDisabled(t){(0,r.isNil)(this._customSubmitButtonRef)||(t?this._customSubmitButtonRef.classList.add("ch5-button--disabled"):this._customSubmitButtonRef.classList.remove("ch5-button--disabled"))}checkIfCustomCancelShouldBeDisabled(t){(0,r.isNil)(this._customCancelButtonRef)||(t?this._customCancelButtonRef.classList.add("ch5-button--disabled"):this._customCancelButtonRef.classList.remove("ch5-button--disabled"))}_createButton(t,e,i,s=!1){const r=new n.Ch5Button;return r.setAttribute("label",t),r.setAttribute("type",e),r.setAttribute("formType",i),r.classList.add(this.primaryCssClass+"__"+i),s&&(r.setAttribute("disabled","true"),r.classList.add(this.primaryCssClass+"__"+i+"--disabled")),r}_onClickSubmitButton(){this.submit()}_onClickCancelButton(){this.cancel()}_upgradeProperty(t){if(this.constructor.prototype.hasOwnProperty(t)){const e=this[t];delete this[t],this[t]=e}}}e.Ch5Form=h,h.ELEMENT_NAME="ch5-form",h.SUBMIT_LABEL="Submit",h.CANCEL_LABEL="Cancel",h.SUBMIT_TYPE="default",h.CANCEL_TYPE="warning",h.SIGNAL_ATTRIBUTE_TYPES=Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),h.COMPONENT_PROPERTIES=[{default:!1,name:"hideCancelButton",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"hideSubmitButton",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0}],"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(h.ELEMENT_NAME,h),h.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(204),e),n(i(205),e)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Image=void 0;const n=i(3),r=i(1),a=i(31),o=i(29),l=i(0),h=i(6),u=i(2),c=s(i(0));class d extends n.Ch5Common{constructor(){super(),this.MODES={MIN_LENGTH:0,MAX_LENGTH:99},this.primaryCssClass="ch5-image",this._img={},this._alt="",this._height="",this._width="",this._refreshRate=0,this._url="",this._direction=n.Ch5Common.DIRECTION[0],this._sigNameReceiveUrl="",this._sigNameReceiveUser="",this._sigNameReceivePassword="",this._sigNameReceiveMode="",this._subReceiveUrl="",this._subReceiveUser="",this._subReceivePassword="",this._subReceiveMode="",this._sigNameSendOnClick="",this._sigNameSendOnError="",this._sigNameSendOnTouch="",this._pressable=null,this._timerIdForTouch=null,this._longTouch=!1,this._intervalIdForOnTouch=null,this._intervalTimeoutForOnTouch=500,this._intervalIdForRefresh=null,this._imageWasLoaded=!1,this._user="",this._password="",this._protocol="",this._isPressedSubscription=null,this._buttonPressedInPressable=!1,this._repeatDigitalInterval=0,this.STATE_CHANGE_TIMEOUTS=500,this._mode=0,this.errorEvent=new CustomEvent("error",{bubbles:!0,cancelable:!1,detail:"ch5-image triggered error CustomEvent"}),this._pressable=new a.Ch5Pressable(this),this._onClick=this._onClick.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onTouchCancel=this._onTouchCancel.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onError=this._onError.bind(this),void 0===this._img.classList&&(this._img=document.createElement("img")),this._img.classList.add(this.primaryCssClass),this._img.classList.add(this.primaryCssClass+"__img")}get alt(){return this._alt}set alt(t){null==t&&(t="");const e=this._getTranslatedValue("alt",t);this._alt===e&&this._img.alt===e||(this._alt=e,this._img.alt=e,this.setAttribute("alt",e),this._img.setAttribute("alt",e))}get height(){return this._height}set height(t){this._height!==t&&(this._height=t||"",this.style.height=t||"",this.setAttribute("height",this._height))}get width(){return this._width}set width(t){this._width!==t&&(this._width=t||"",this.style.width=t||"",this.setAttribute("width",this._width))}get refreshRate(){return this._refreshRate}set refreshRate(t){t=Number(t),isNaN(t)&&(t=0),this._refreshRate!==t&&(this._refreshRate=t)}get url(){return this._url}set url(t){var e;(c.default.isNil(this.receiveStateUrl)||""===this.receiveStateUrl)&&(this._url||null===(e=this._img)||void 0===e||e.removeAttribute("src"),this._url!==t&&this.setImageDisplay(t))}get direction(){return this._direction}set direction(t){t!==this._direction&&(null==t&&(t=n.Ch5Common.DIRECTION[0]),n.Ch5Common.DIRECTION.indexOf(t)>=0?this._direction=t:this._direction=n.Ch5Common.DIRECTION[0],this.setAttribute("dir",t))}set mode(t){if(this.logger.log('set mode("'+t+'")'),this._mode!==t){if(Number.isNaN(t))this._mode=0;else if(t>=this.MODES.MIN_LENGTH&&t<=this.MODES.MAX_LENGTH){const e=this.getElementsByTagName("ch5-image-mode");e&&e.length>0&&t<e.length?this._mode=t:this._mode=0}else this._mode=0;this.setAttribute("mode",String(this._mode)),this.setImageDisplay()}}get mode(){return this._mode}set receiveStateUser(t){if(this.info("set receiveStateUser('"+t+"')"),""===t||this._sigNameReceiveUser===t||null==t)return;if(this.user="",""!==this._sigNameReceiveUser&&void 0!==this._sigNameReceiveUser&&null!==this._sigNameReceiveUser){const t=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveUser),e=r.Ch5SignalFactory.getInstance().getStringSignal(t);null!==e&&e.unsubscribe(this._subReceiveUser)}this._sigNameReceiveUser=t,this.setAttribute("receiveStateUser",t);const e=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveUser),i=r.Ch5SignalFactory.getInstance().getStringSignal(e);null!==i&&(this._subReceiveUser=i.subscribe(t=>{""!==t&&t!==this._user&&(this.setAttribute("user",t),this.user=t,this._initRefreshRate())}))}get receiveStateUser(){return this._attributeValueAsString("receiveStateUser")}set receiveStatePassword(t){if(this.info("set receiveStatePassword('"+t+"')"),""===t||this._sigNameReceivePassword===t||null==t)return;if(this.password="",""!==this._sigNameReceivePassword&&void 0!==this._sigNameReceivePassword&&null!==this._sigNameReceivePassword){const t=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceivePassword),e=r.Ch5SignalFactory.getInstance().getStringSignal(t);null!==e&&e.unsubscribe(this._subReceivePassword)}this._sigNameReceivePassword=t,this.setAttribute("receivestatepassword",t);const e=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceivePassword),i=r.Ch5SignalFactory.getInstance().getStringSignal(e);null!==i&&(this._subReceivePassword=i.subscribe(t=>{""!==t&&t!==this._password&&(this.setAttribute("password",t),this.password=t,this._initRefreshRate())}))}get receiveStatePassword(){return this._attributeValueAsString("receiveStatePassword")}get receiveStateUrl(){return this._attributeValueAsString("receivestateurl")}set receiveStateUrl(t){if(this.info("set receiveStateUrl('"+t+"')"),""===t||this._sigNameReceiveUrl===t||null==t)return;if(this.url="",""!==this._sigNameReceiveUrl&&void 0!==this._sigNameReceiveUrl&&null!==this._sigNameReceiveUrl){const t=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveUrl),e=r.Ch5SignalFactory.getInstance().getBooleanSignal(t);null!==e&&e.unsubscribe(this._subReceiveUrl)}this._sigNameReceiveUrl=t,this.setAttribute("receivestateurl",t);const e=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveUrl),i=r.Ch5SignalFactory.getInstance().getStringSignal(e);null!==i&&(this._subReceiveUrl=i.subscribe(t=>{t===this._url&&""!==t||(this.logger.log("value from signal is ",t),""===t&&""!==this.sendEventOnError&&(t=this.receiveStateUrl),this.setUrlByInput(t),this.canProcessUri()&&this.processUri())}))}get receiveStateMode(){return this._attributeValueAsString("receivestatemode")}set receiveStateMode(t){if(this.info("set receivestatemode('"+t+"')"),""===t||this._sigNameReceiveMode===t||null==t)return;if(this.mode=0,""!==this._sigNameReceiveMode&&void 0!==this._sigNameReceiveMode&&null!==this._sigNameReceiveMode){const t=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveMode),e=r.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==e&&e.unsubscribe(this._subReceiveMode)}this._sigNameReceiveMode=t,this.setAttribute("receivestatemode",t);const e=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveMode),i=r.Ch5SignalFactory.getInstance().getNumberSignal(e);null!==i&&(this._subReceiveMode=i.subscribe(t=>{t!==this.mode&&(this.mode=Number(t),this._initRefreshRate())}))}get sendEventOnClick(){return this._sigNameSendOnClick}set sendEventOnClick(t){this.info("set sendEventOnClick('"+t+"')"),""!==t&&this._sigNameSendOnClick!==t&&(this._sigNameSendOnClick=t,this.setAttribute("sendeventonclick",t))}set sendEventOnError(t){this.info("set sendEventOnError('"+t+"')"),""!==t&&this._sigNameSendOnError!==t&&(this._sigNameSendOnError=t,this.setAttribute("sendeventonerror",t))}get sendEventOnError(){return this._sigNameSendOnError}set sendEventOnTouch(t){this.info("set sendEventOnTouch('"+t+"')"),""!==t&&this._sigNameSendOnTouch!==t&&(this._sigNameSendOnTouch=t,this.setAttribute("sendeventontouch",t))}get sendEventOnTouch(){return this._sigNameSendOnTouch}set user(t){(0,l.isNil)(t)||this.user===t||(this._user=t,this.canProcessUri()&&this.processUri())}get user(){return this._user}set password(t){((0,l.isNil)(t)||this.password!==t)&&(this._password=t,this.canProcessUri()&&this.processUri())}get password(){return this._password}set protocol(t){(0,l.isNil)(t)||(this._protocol=t)}get protocol(){return this._protocol}static get observedAttributes(){return n.Ch5Common.observedAttributes.concat(["alt","width","height","user","password","url","refreshrate","dir","mode","receivestateurl","sendeventonclick","sendeventonerror","sendeventontouch"])}static registerSignalAttributeTypes(){u.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(d.ELEMENT_NAME,d.SIGNAL_ATTRIBUTE_TYPES)}getModeNodes(){return this.info("getModeNodes got called"),this.querySelectorAll("ch5-image-mode")}getModeNode(t){this.info("getting mode with index "+t);const e=this.getModeNodes();if(!e[t])throw new Error("Mode is not defined");return e[t]}connectedCallback(){this.info(" connectedCallback() - start"),this.hasAttribute("role")||this.setAttribute("role",h.Ch5RoleAttributeMapping.ch5Image),this.setAttribute("data-ch5-id",this.getCrId()),null!==this._pressable&&(this._pressable.init(),this._subscribeToPressableIsPressed()),customElements.whenDefined("ch5-image").then(()=>{this.cacheComponentChildrens();const t=this.querySelector("img");t&&t.remove(),this._img.parentElement!==this&&this.appendChild(this._img),this.style.overflow="hidden",this.initAttributes(),this.attachEventListeners(),this.updateCssClasses(),this._initRefreshRate(),this.initCommonMutationObserver(this),this.info(" connectedCallback() - end")})}disconnectedCallback(){this.removeEvents(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver(),null!==this._intervalIdForRefresh&&(window.clearInterval(this._intervalIdForRefresh),o.Ch5CoreIntersectionObserver.getInstance()instanceof o.Ch5CoreIntersectionObserver&&o.Ch5CoreIntersectionObserver.getInstance().unobserve(this)),null!==this._timerIdForTouch&&(window.clearTimeout(this._timerIdForTouch),this._timerIdForTouch=null),null!==this._intervalIdForOnTouch&&(window.clearInterval(this._intervalIdForOnTouch),this._intervalIdForOnTouch=null)}attributeChangedCallback(t,e,i){if(e!==i)switch(this.info('ch5-image attributeChangedCallback("'+t+'","'+e+'","'+i+'")'),t){case"url":this.hasAttribute("url")?this.url=i:this.url="";break;case"alt":this.hasAttribute("alt")?(this.alt=i,this.setAttribute("aria-label",this.alt)):(this.alt="",this.removeAttribute("aria-label"));break;case"width":this.hasAttribute("width")?this.width=i:this.width="";break;case"height":this.hasAttribute("height")?this.height=i:this.height="";break;case"mode":this.mode=parseFloat(i);break;case"refreshrate":this.hasAttribute("refreshrate")?(this.refreshRate=Number(i),null!==this._refreshRate&&0!==this._refreshRate&&o.Ch5CoreIntersectionObserver.getInstance().observe(this,this.updateElementInViewportChange)):this.refreshRate=0,this._initRefreshRate();break;case"receivestateuser":this.hasAttribute("receivestateuser")&&(this.receiveStateUser=i);break;case"receivestatepassword":this.hasAttribute("receivestatepassword")&&(this.receiveStatePassword=i);break;case"receivestateurl":this.hasAttribute("receivestateurl")?this.receiveStateUrl=i:this.receiveStateUrl="";break;case"receivestatemode":this.hasAttribute("receivestatemode")?this.receiveStateMode=i:this.receiveStateMode="";break;case"sendeventonclick":this.hasAttribute("sendeventonclick")?this.sendEventOnClick=i:this.sendEventOnClick="";break;case"sendeventontouch":this.hasAttribute("sendeventontouch")?this.sendEventOnTouch=i:this.sendEventOnTouch="";break;case"sendeventonerror":this.hasAttribute("sendeventonerror")?this.sendEventOnError=i:this.sendEventOnError="";break;case"dir":this.hasAttribute("dir")?this.direction=i.toLowerCase():this.direction=n.Ch5Common.DIRECTION[0],this._img.classList.add(this.primaryCssClass+"--dir--"+this.direction);break;case"user":this.hasAttribute("user")?this.user=i:this.user="";break;case"password":this.hasAttribute("password")?this.password=i:this.password="";break;default:super.attributeChangedCallback(t,e,i)}}unsubscribeFromSignals(){super.unsubscribeFromSignals();const t=r.Ch5SignalFactory.getInstance();if(""!==this._subReceiveUrl&&""!==this._sigNameReceiveUrl){const e=t.getStringSignal(this._sigNameReceiveUrl);null!==e&&(e.unsubscribe(this._subReceiveUrl),this._sigNameReceiveUrl="")}}setImageDisplay(t=""){if(!this.hasAttribute("receivestateurl")){const e=this.getElementsByTagName("ch5-image-mode");if(e&&e.length>0){const i=e[this.mode];if(i){const e=c.default.isNil(i.getAttribute("url"))||""===i.getAttribute("url")?c.default.isNil(t)||""===t?"":t:i.getAttribute("url");this.setUrlByInput(e)}}else{const e=c.default.isNil(t)||""===t?this.getAttribute("url"):t;this.setUrlByInput(e)}this.canProcessUri()&&this.processUri()}}setUrlByInput(t){this.logger.log("setUrlByInput url: ",t),this._url=t,this.setAttribute("url",this._url),this._maybeLoadImage()}processUri(){const t={protocol:this.protocol,user:this.user,password:this.password,url:this._url},e=n.Ch5Common.processUri(t);e&&(this._url=e,this.setAttribute("url",this._url),this._maybeLoadImage())}initAttributes(){super.initAttributes(),this.hasAttribute("receiveStateUrl")&&(this.receiveStateUrl=this.getAttribute("receiveStateUrl")),this.hasAttribute("receivestateuser")&&(this.receiveStateUser=this.getAttribute("receivestateuser")),this.hasAttribute("receivestatepassword")&&(this.receiveStatePassword=this.getAttribute("receivestatepassword")),this.hasAttribute("receivestatemode")&&(this.receiveStateMode=this.getAttribute("receivestatemode"))}attachEventListeners(){super.attachEventListeners(),this.addEventListener("click",this._onClick),this.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.addEventListener("touchend",this._onTouchEnd),this.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.addEventListener("touchcancel",this._onTouchCancel),this._img.addEventListener("error",this._onError)}updateCssClasses(){super.updateCssClasses()}_subscribeToPressableIsPressed(){null===this._isPressedSubscription&&null!==this._pressable&&(this._isPressedSubscription=this._pressable.observablePressed.subscribe(t=>{if(this.info(`Ch5Button.pressableSubscriptionCb(${t})`),t!==this._buttonPressedInPressable)if(this._buttonPressedInPressable=t,!1===t)null!==this._repeatDigitalInterval&&window.clearInterval(this._repeatDigitalInterval),this.sendValueForRepeatDigitalWorking(!1),setTimeout(()=>{},this.STATE_CHANGE_TIMEOUTS);else{this.sendValueForRepeatDigitalWorking(!0),null!==this._repeatDigitalInterval&&window.clearInterval(this._repeatDigitalInterval);let t=0;this._repeatDigitalInterval=window.setInterval(()=>{this.sendValueForRepeatDigitalWorking(!0),++t>=150&&(console.warn("Ch5Button MAXIMUM Repeat digitals sent"),window.clearInterval(this._repeatDigitalInterval),this.sendValueForRepeatDigitalWorking(!1))},200)}}))}sendValueForRepeatDigitalWorking(t){if(this.info(`Ch5Button.sendValueForRepeatDigital(${t})`),!this._sigNameSendOnTouch&&!this._sigNameSendOnClick)return;const e=r.Ch5SignalFactory.getInstance().getObjectAsBooleanSignal(this._sigNameSendOnTouch),i=r.Ch5SignalFactory.getInstance().getObjectAsBooleanSignal(this._sigNameSendOnClick);i&&e&&i.name===e.name?i.publish({[r.Ch5SignalBridge.REPEAT_DIGITAL_KEY]:t}):(e&&e.name&&e.publish({[r.Ch5SignalBridge.REPEAT_DIGITAL_KEY]:t}),i&&i.name&&i.publish({[r.Ch5SignalBridge.REPEAT_DIGITAL_KEY]:t}))}enableImageLoading(){this.info("enableImageLoading()"),this._imageWasLoaded||(this._img.src="",null===this.refreshRate||0===this.refreshRate?this._maybeLoadImage(!1):this._initRefreshRate())}disableImageLoading(){this.info("disableImageLoading()"),null!==this._intervalIdForRefresh&&(window.clearInterval(this._intervalIdForRefresh),this._imageWasLoaded=!1)}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}canProcessUri(){return!((0,l.isNil)(this.password)||(0,l.isEmpty)(this.password)||(0,l.isNil)(this.user)||(0,l.isEmpty)(this.user)||(0,l.isNil)(this._url)||(0,l.isEmpty)(this._url))}isVisible(){return function t(e,i,s,n,r,a,o){const l=e.parentNode;return!!function(t){for(;t=t.parentNode;)if(t===document)return!0;return!1}(e)&&(9===l.nodeType||!(!function(t){let e={};if(document&&document.defaultView&&(e=document.defaultView.getComputedStyle(t),"0"===e.opacity||"hidden"===e.visibility||"none"===e.display))return!1;return!0}(e)||e.hasAttribute("inert"))&&(!l||t(l)))}(this)}afterHandlingShow(){this.info("afterHandlingShow()"),null===this.refreshRate||0===this.refreshRate?this._maybeLoadImage(!1):this._initRefreshRate()}afterHandlingHide(){this.info("afterHandlingHide()"),null!==this._intervalIdForRefresh&&window.clearInterval(this._intervalIdForRefresh),this._img.src=""}removeEvents(){super.removeEventListeners(),this.removeEventListener("click",this._onClick),this.removeEventListener("touchstart",this._onTouchStart),this.removeEventListener("touchend",this._onTouchEnd),this.removeEventListener("touchmove",this._onTouchMove),this.removeEventListener("touchcancel",this._onTouchCancel),this._img.removeEventListener("error",this._onError),null!==this._pressable&&this._pressable.destroy()}_maybeLoadImage(t){if(null!==this._url&&""!==this.url&&!0===this.show){const e=t?this._insertParamToUrl("__cr_avoid_cache",(new Date).getTime().toString()):this._url;this._img.src=e,this._imageWasLoaded=!0,this.info("image source ",this._img.src)}}_initRefreshRate(){this.info("initRefreshRate"),this._intervalIdForRefresh&&window.clearInterval(this._intervalIdForRefresh),null!==this._url&&""!==this._url&&null!==this._refreshRate&&0!==this._refreshRate&&(this._maybeLoadImage(!0),this._intervalIdForRefresh=window.setInterval(()=>{this._maybeLoadImage(!0)},1e3*this._refreshRate))}_onTouchStart(t){this.info("Ch5Image._onTouchStart()"),this._timerIdForTouch&&window.clearTimeout(this._timerIdForTouch),this._onLongTouch()}_onTouchEnd(t){this.info("Ch5Image._onTouchEnd()"),this._stopSendSignalOnTouch()}_onTouchMove(t){this._stopSendSignalOnTouch()}_onTouchCancel(t){this._stopSendSignalOnTouch()}_onClick(t){this.info("Ch5Image._onClick()")}_onError(t){this.logger.log("onError called"),this.dispatchEvent(this.errorEvent);const e="Error loading image with src: "+this._url;this._sendValueForErrorSignal(e)}_onLongTouch(){this._longTouch||(this._longTouch=!0),this._sendValueForTouchSignal(!0),this._intervalIdForOnTouch&&window.clearInterval(this._intervalIdForOnTouch),this._intervalIdForOnTouch=window.setInterval(()=>this._sendValueForTouchSignal(!0),this._intervalTimeoutForOnTouch)}_stopSendSignalOnTouch(){this._longTouch&&(this._sendValueForTouchSignal(!1),this._longTouch=!1),null!==this._timerIdForTouch&&(window.clearTimeout(this._timerIdForTouch),this._timerIdForTouch=null),null!==this._intervalIdForOnTouch&&(window.clearInterval(this._intervalIdForOnTouch),this._intervalIdForOnTouch=null)}_sendValueForTouchSignal(t){if(""!==this._sigNameSendOnTouch&&!(0,l.isNil)(this._sigNameSendOnTouch)){const e=r.Ch5SignalFactory.getInstance().getObjectAsBooleanSignal(this._sigNameSendOnTouch);null!==e&&e.publish({[r.Ch5SignalBridge.REPEAT_DIGITAL_KEY]:t})}}_sendValueForClickSignal(){let t=null;""!==this._sigNameSendOnClick&&void 0!==this._sigNameSendOnClick&&null!==this._sigNameSendOnClick&&(t=r.Ch5SignalFactory.getInstance().getBooleanSignal(this._sigNameSendOnClick),null!==t&&(t.publish(!0),t.publish(!1)))}_sendValueForErrorSignal(t){let e=null;""!==this._sigNameSendOnError&&void 0!==this._sigNameSendOnError&&null!==this._sigNameSendOnError&&(e=r.Ch5SignalFactory.getInstance().getStringSignal(this._sigNameSendOnError),null!==e&&e.publish(t))}_insertParamToUrl(t,e){if(t=encodeURI(t),e=encodeURI(e),0===this._getUrlVars().size)return this._url+"?"+t+"="+e;const i=this.url.split("&");let s,n=i.length;for(;n--;)if(s=i[n].split("="),s[0]===t){s[1]=e,i[n]=s.join("=");break}return n<0&&(i[i.length]=[t,e].join("=")),i.join("&")}_getUrlVars(){const t=new Map;let e;const i=this._url.indexOf("?");if(i>1){const s=this._url.slice(i+1).split("&");for(const i of s)e=i.split("="),t.set(e[0],e[1])}return t}updateElementInViewportChange(t){t?(this._show=!0,this._maybeLoadImage(!0)):this._show=!1}}e.Ch5Image=d,d.ELEMENT_NAME="ch5-image",d.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestateurl:{direction:"state",stringJoin:1,contractName:!0},receivestatemode:{direction:"state",numericJoin:1,contractName:!0},sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0},sendeventontouch:{direction:"event",booleanJoin:1,contractName:!0},sendeventonerror:{direction:"event",stringJoin:1,contractName:!0}}),d.COMPONENT_DATA={DIRECTIONS:{default:n.Ch5Common.DIRECTION[0],values:n.Ch5Common.DIRECTION,key:"direction",classListPrefix:"--dir--"}},"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(d.ELEMENT_NAME,d),d.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ImageMode=void 0;const n=s(i(0)),r=i(12);class a extends r.Ch5Log{constructor(){super(),this._url="",this.logger.start("constructor()"),this._parentCh5Image=this.getParentImage(),this.logger.stop()}set url(t){t&&this._url!==t&&(this._url=t,this.setAttribute("url",t),this._parentCh5Image.setImageDisplay())}get url(){return this._url}static get observedAttributes(){return r.Ch5Log.observedAttributes.concat(["url"])}attributeChangedCallback(t,e,i){if(i!==e)switch(t){case"url":this.url=i}}getParentImage(){const t=e=>n.default.isNil(e)||"CH5-IMAGE"===e.nodeName.toString().toUpperCase()?e:t(e.parentNode);return t(this.parentElement)}}e.Ch5ImageMode=a,a.ELEMENT_NAME="ch5-image-mode","object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(a.ELEMENT_NAME,a)},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(207),e)},function(t,e,i){"use strict";var s=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ImportHtmlSnippet=void 0;const r=n(i(0)),a=n(i(11)),o=i(3),l=i(2),h=i(1);class u extends o.Ch5Common{constructor(){super(),this._elContainer={},this._url="",this._sigNameReceiveState="",this._subReceiveState="",this._sigNameSendOnError="",this.sigNameSendOnLoad="",this._sendEventOnShowSigName="",this._elContainer=document.createElement("div"),this.errorEvent=new CustomEvent("error",{bubbles:!0,cancelable:!1}),this._onError=this._onError.bind(this)}static registerSignalAttributeTypes(){l.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(u.ELEMENT_NAME,u.SIGNAL_ATTRIBUTE_TYPES)}get url(){return this._url}set url(t){this._url=t}get sendEventOnShow(){return this._sendEventOnShowSigName}set sendEventOnShow(t){this.info("set sendEventOnShow('"+t+"')"),""!==t&&this._sendEventOnShowSigName!==t&&(this._sendEventOnShowSigName=t,this.setAttribute("sendeventonshow",t))}static get observedAttributes(){return o.Ch5Common.observedAttributes.concat(["url"])}attributeChangedCallback(t,e,i){switch(t){case"url":this.hasAttribute("url")&&!r.default.isNil(this.getAttribute("url"))&&""!==this.getAttribute("url")&&this.url!==i?(this.url=i,this.loadHTMLContent(this.url)):this.url="";break;case"sendeventonshow":this.hasAttribute("sendeventonshow")?this.sendEventOnShow=i:this.sendEventOnShow="";break;default:super.attributeChangedCallback(t,e,i)}}unsubscribeFromSignals(){super.unsubscribeFromSignals();const t=h.Ch5SignalFactory.getInstance();if(!(0,a.default)(this._subReceiveState)&&!(0,a.default)(this._sigNameReceiveState)){const e=t.getStringSignal(this._sigNameReceiveState);e&&(e.unsubscribe(this._subReceiveState),this._sigNameReceiveState="")}}connectedCallback(){this.info("Ch5ImportHTMLSnippet.connectedCallback()"),this.initAttributes(),customElements.whenDefined("ch5-import-htmlsnippet").then(()=>{this.cacheComponentChildrens(),this.firstChild!==this._elContainer&&this.appendChild(this._elContainer),this._sendSignalValueOnShow(),this.info("ch5-import-htmlsnippet connectedCallback() - end")})}disconnectedCallback(){this.info("Ch5ImportHTMLSnippet.disconnectedCallback()"),this.unsubscribeFromSignals()}sendValueOnLoadSignal(t){let e=null;(0,a.default)(this.sigNameSendOnLoad)||(e=h.Ch5SignalFactory.getInstance().getBooleanSignal(this.sigNameSendOnLoad),e&&e.publish(t))}onLoadAction(t){this.sigNameSendOnLoad=t;let e=null;(0,a.default)(this.sigNameSendOnLoad)||(e=h.Ch5SignalFactory.getInstance().getBooleanSignal(this.sigNameSendOnLoad),e&&(e.publish(!0),e.publish(!1))),this.sendValueOnLoadSignal(!1)}loadHTMLContent(t){return s(this,void 0,void 0,(function*(){try{const e=yield this.asyncLoadContent(t);this._elContainer.innerHTML=e,(0,h.publishEvent)("object","ch5-import-htmlsnippet:"+this.id,{loaded:!0,url:t,id:this.id})}catch(e){this.info(`ch5-import-htmlsnippet failed to load the URL: ${t}, ${e}`)}}))}asyncLoadContent(t){return new Promise((e,i)=>{const s=new XMLHttpRequest;s.open("GET",t),s.onload=()=>{s.status<300&&null!==s.response&&(""===s.responseType||"text"===s.responseType)?e(s.responseText):i(`load failed with status ${s.status}, statusText ${s.statusText}, responseType ${s.responseType}`)},s.onerror=()=>{i("There was a network error.")},s.send()})}_sendSignalValueOnShow(){this.info("Ch5ImportHTMLSnippet._sendSignalValueOnShow()");let t=null;""!==this._sendEventOnShowSigName&&void 0!==this._sendEventOnShowSigName&&null!==this._sendEventOnShowSigName&&(t=h.Ch5SignalFactory.getInstance().getBooleanSignal(this._sendEventOnShowSigName),null!==t&&(t.publish(!0),t.publish(!1)))}_onError(t){this.dispatchEvent(this.errorEvent);const e="Error loading URL: "+this._url;this._sendValueForErrorSignal(e)}_sendValueForErrorSignal(t){let e=null;(0,a.default)(this._sigNameSendOnError)||(e=h.Ch5SignalFactory.getInstance().getStringSignal(this._sigNameSendOnError),e&&e.publish(t))}initAttributes(){super.initAttributes(),this.hasAttribute("url")&&(this._url=this.getAttribute("url"))}}e.Ch5ImportHtmlSnippet=u,u.ELEMENT_NAME="ch5-import-htmlsnippet",u.SIGNAL_ATTRIBUTE_TYPES=Object.assign({},o.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(u.ELEMENT_NAME,u),u.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(209),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5JoinToTextBoolean=void 0;const s=i(3),n=i(0),r=i(21),a=i(2);class o extends s.Ch5Common{constructor(){super(),this._value=!1,this._textWhenTrue="",this._textWhenFalse="",this._receiveStateValue="",this._subReceiveStateValue=""}set value(t){t!==this.value&&((0,n.isNil)(t)&&(t=!1),this._value=t,this.setAttribute("value",t+""),this.toggleText())}get value(){return this._value}set textWhenTrue(t){t!==this._textWhenTrue&&((0,n.isNil)(t)&&(t=""),this._textWhenTrue=t,this.setAttribute("textWhenTrue",t),this.toggleText())}get textWhenTrue(){return this._textWhenTrue}set textWhenFalse(t){t!==this._textWhenFalse&&((0,n.isNil)(t)&&(t=""),this._textWhenFalse=t,this.setAttribute("textWhenFalse",t),this.toggleText())}get textWhenFalse(){return this._textWhenFalse}set receiveStateValue(t){if((0,n.isNil)(t))return;if(""!==this.receiveStateValue&&void 0!==this.receiveStateValue&&null!==this.receiveStateValue){const t=r.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),e=r.Ch5SignalFactory.getInstance().getBooleanSignal(t);null!==e&&e.unsubscribe(this._subReceiveStateValue)}this._receiveStateValue=t,this.setAttribute("receivestatevalue",t);const e=r.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),i=r.Ch5SignalFactory.getInstance().getBooleanSignal(e);null!==i&&(this._subReceiveStateValue=i.subscribe(t=>{t!==this.value&&this.setAttribute("value",t+"")}))}get receiveStateValue(){return this._receiveStateValue}static registerSignalAttributeTypes(){a.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(o.ELEMENT_NAME,o.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(o.ELEMENT_NAME)&&window.customElements.define(o.ELEMENT_NAME,o)}static get observedAttributes(){return s.Ch5Common.observedAttributes.concat(["value","textwhentrue","textwhenfalse","receivestatevalue"])}connectedCallback(){this.initAttributes(),customElements.whenDefined(o.ELEMENT_NAME).then(()=>{this.toggleText()})}initAttributes(){super.initAttributes(),this.hasAttribute("textwhentrue")&&(this.textWhenTrue=this.getAttribute("textwhentrue")),this.hasAttribute("textwhenfalse")&&(this.textWhenFalse=this.getAttribute("textwhenfalse")),this.hasAttribute("receivestatevalue")&&(this.receiveStateValue=this.getAttribute("receivestatevalue")),this.hasAttribute("value")?this.value=this.convertValueToBoolean(this.getAttribute("value")):this.value=!1}disconnectedCallback(){const t=r.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),e=r.Ch5SignalFactory.getInstance().getBooleanSignal(t);null!==e&&(e.unsubscribe(this._subReceiveStateValue),this._receiveStateValue="")}attributeChangedCallback(t,e,i){if(e!==i)switch(t){case"value":this.value=this.convertValueToBoolean(i);break;case"textwhentrue":this.textWhenTrue=i;break;case"textwhenfalse":this.textWhenFalse=i;break;case"receivestatevalue":this.receiveStateValue=i;break;default:super.attributeChangedCallback(t,e,i)}}toggleText(){!0!==this.value?!1!==this.value?this.textContent="":this.textContent=this._getTranslatedValue("textwhenfalse",this.textWhenFalse):this.textContent=this._getTranslatedValue("textwhentrue",this.textWhenTrue)}convertValueToBoolean(t){return"true"===t}}e.Ch5JoinToTextBoolean=o,o.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatevalue:{direction:"state",booleanJoin:1,contractName:!0}}),o.ELEMENT_NAME="ch5-jointotext-boolean",o.registerCustomElement(),o.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(211),e)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5JoinToTextNumeric=void 0;const n=i(3),r=i(0),a=i(212),o=i(21),l=i(2),h=s(i(0));class u extends n.Ch5Common{constructor(){super(),this._receiveStateValue="",this._subReceiveStateValue="",this._value="",this._decimalLength=0,this._length=0,this._min=0,this._max=u.PERCENTAGE_MAX,this._formattedValue=null,this._type="signed",this._numericFormatFactory=a.NumericFormatFactory.getInstance(),this.formatValue=this.debounce(()=>{this.formatValueDebounce()},30),this._currentNumericFormat=this._numericFormatFactory.getFormat(this.type)}set receiveStateValue(t){if((0,r.isNil)(t))return;if(""!==this.receiveStateValue&&void 0!==this.receiveStateValue&&null!==this.receiveStateValue){const t=o.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),e=o.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==e&&e.unsubscribe(this._subReceiveStateValue)}this._receiveStateValue=t,this.setAttribute("receivestatevalue",t);const e=o.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),i=o.Ch5SignalFactory.getInstance().getNumberSignal(e);null!==i&&(this._subReceiveStateValue=i.subscribe(t=>{t!==parseFloat(this.value)&&this.setAttribute("value",t+"")}))}get receiveStateValue(){return this._receiveStateValue}set value(t){this._value!==t&&(h.default.isNil(t)&&(t=""),this._value=t,this.setAttribute("value",t),this.formatValue())}get value(){return this._value}set type(t){this._type!==t&&((h.default.isNil(t)||u.NUMERIC_FORMAT_TYPES.indexOf(t)<0)&&(t=u.NUMERIC_FORMAT_TYPES[0]),this._type=t,this.setAttribute("type",t),this._currentNumericFormat=this._numericFormatFactory.getFormat(t),this.formatValue())}get type(){return this._type}set decimalLength(t){if(this._decimalLength!==t){const e=Number(t);isNaN(e)||h.default.isNil(e)?this._decimalLength=0:this._decimalLength=e>5?5:e,this.setAttribute("decimalLength",this._decimalLength+""),this.formatValue()}}get decimalLength(){return this._decimalLength}set length(t){if(this._length!==t){const e=Number(t);isNaN(e)||h.default.isNil(e)?this._length=0:this._length=e>5?5:e,this.setAttribute("length",this._length+""),this.formatValue()}}get length(){return this._length}set min(t){if(this._min!==t){if((0,r.isNil)(t))return this._min=0,void("percentage"===this.type&&(this.setAttribute("min",t+""),this.formatValue()));this._min=t,this.setAttribute("min",t+""),this.formatValue()}}get min(){return this._min}set max(t){if(this._max!==t){if((0,r.isNil)(t))return this._max=u.PERCENTAGE_MAX,void("percentage"===this.type&&(this.setAttribute("max",t),this.formatValue()));this._max=t,this.setAttribute("max",t+""),this.formatValue()}}get max(){return this._max}set formattedValue(t){this._formattedValue!==t&&(this._formattedValue=t,this.textContent=t+"")}get formattedValue(){return this._formattedValue}static registerSignalAttributeTypes(){l.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(u.ELEMENT_NAME,u.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(u.ELEMENT_NAME)&&window.customElements.define(u.ELEMENT_NAME,u)}static get observedAttributes(){return n.Ch5Common.observedAttributes.concat(["receiveStateValue","value","type","length","decimallength","min","max"])}attributeChangedCallback(t,e,i){if(e!==i)switch(t){case"value":this.value=i;break;case"receivestatevalue":this.receiveStateValue=i;break;case"type":this.type=i;break;case"decimallength":this.decimalLength=parseFloat(i);break;case"length":this.length=parseFloat(i);break;case"min":this.min=parseFloat(i);break;case"max":this.max=parseFloat(i);break;default:super.attributeChangedCallback(t,e,i)}}connectedCallback(){this.initAttributes(),customElements.whenDefined(u.ELEMENT_NAME).then(()=>{this.formatValue()})}initAttributes(){super.initAttributes(),this.hasAttribute("value")&&(this.value=this.getAttribute("value")+""),this.hasAttribute("receivestatevalue")&&(this.receiveStateValue=this.getAttribute("receivestatevalue")+""),this.hasAttribute("type")&&(this.type=this.getAttribute("type"))}disconnectedCallback(){const t=o.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),e=o.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==e&&(e.unsubscribe(this._subReceiveStateValue),this._receiveStateValue="")}formatValueDebounce(){this.formattedValue=this._currentNumericFormat.format(Number(this.value),{decimalLength:this.decimalLength,length:this.length,min:this.min,max:this.max})}}e.Ch5JoinToTextNumeric=u,u.PERCENTAGE_MAX=65535,u.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatevalue:{direction:"state",numericJoin:1,contractName:!0}}),u.ELEMENT_NAME="ch5-jointotext-numeric",u.NUMERIC_FORMAT_TYPES=["signed","float","percentage","hex","raw","unsigned","time"],u.registerCustomElement(),u.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NumericFormatFactory=void 0;const s=i(213),n=i(214),r=i(215),a=i(216),o=i(217),l=i(218),h=i(219);class u{constructor(){}static getInstance(){return this.INSTANCE instanceof u||(this.INSTANCE=new u),this.INSTANCE}getFormat(t){switch(t.trim().toLowerCase()){case"float":return new s.FloatFormat;case"percentage":return new r.PercentageFormat;case"hex":return new n.HexFormat;case"raw":return new a.RawFormat;case"unsigned":return new h.UnsignedFormat;case"signed":return new o.SignedFormat;case"time":return new l.TimeFormat;default:return new o.SignedFormat}}}e.NumericFormatFactory=u},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FloatFormat=void 0;const n=i(19),r=s(i(0));class a extends n.NumericFormat{format(t,{decimalLength:e,length:i}){if(isNaN(t))return"0".padStart(i-e,"0")+"."+"0".padEnd(e,"0");let s=r.default.isNil(t)||""===String(t)||isNaN(t)?"":t<0?"-":"";t>a.HALF_MAX_ANALOG?(s="-",t=t>a.MAX_ANALOG?a.MAX_ANALOG:t,t-=a.MAX_ANALOG+1):t<a.HALF_MIN_ANALOG&&(s="",t=t>a.MIN_ANALOG?t:a.MIN_ANALOG,t+=a.MAX_ANALOG+1);return s+((t=Math.abs(t))/Math.pow(10,e)).toFixed(e).padStart(i+1,"0")}}e.FloatFormat=a,a.MAX_ANALOG=65535,a.HALF_MAX_ANALOG=32767,a.MIN_ANALOG=-65535,a.HALF_MIN_ANALOG=-32768},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HexFormat=void 0;const s=i(19);class n extends s.NumericFormat{format(t,e){const{length:i}=e;if(isNaN(t))return"0".padStart(i,"0");t>65535?t=65535:t<-65535&&(t=-65535),t<0&&(t+=65536);return t.toString(16).toUpperCase().padStart(i,"0")}}e.HexFormat=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PercentageFormat=void 0;const s=i(19),n=i(0);class r extends s.NumericFormat{format(t,e){const{min:i,max:s,length:r,decimalLength:a}=e;if((0,n.isNaN)(t)||s<i)return"".padStart(r,"0")+"."+"".padEnd(a,"0");let o=s;let l=0;if(r-a>0?(l=a,o=s):o=s,(0===o||(0,n.isNaN)(o))&&(o=s),t>o&&(t=o),i===t&&s===t)return"100".padStart(r,"0")+"."+"".padEnd(a,"0");const h=((100*(t-i)+Number.EPSILON)/(s-i)).toFixed(a);return 0===a?h.padStart(r,"0"):h.padStart(r+a+1,"0")}}e.PercentageFormat=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RawFormat=void 0;const s=i(19);class n extends s.NumericFormat{format(t,e){return isNaN(t)?"0":(t=(t=Math.abs(t))>65535?65535:t).toString()}}e.RawFormat=n},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SignedFormat=void 0;const n=s(i(0)),r=i(19);class a extends r.NumericFormat{format(t,e){const{length:i}=e;if(isNaN(t))return"".padStart(i,"0");let s=n.default.isNil(t)||""===String(t)||isNaN(t)?"":t<0?"-":"";let r="";return t>32767?(s="-",t=t>65535?65535:t,t-=65536):t<-32768&&(s="",t=t>-65535?t:-65535,t+=65536),r=s+Math.abs(t).toString().padStart(i,"0"),r}}e.SignedFormat=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeFormat=void 0;const s=i(19);class n extends s.NumericFormat{format(t,e){if(isNaN(t)||t<0)return"00:00";let i="";const s=Math.floor(Math.floor(t/60)/60)%24,n=Math.floor(t/60)%60,r=Math.round(t%60);return i+=(0===s?"":(s<10?"0"+s:s)+":")+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r),i}}e.TimeFormat=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnsignedFormat=void 0;const s=i(19);class n extends s.NumericFormat{format(t,e){const{length:i}=e;return isNaN(t)?"".padStart(i,"0"):(t=(t=Math.abs(t))>65535?65535:t).toString().padStart(i,"0")}}e.UnsignedFormat=n},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(221),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5JoinToTextString=void 0;const s=i(3),n=i(0),r=i(21),a=i(2);class o extends s.Ch5Common{constructor(){super(...arguments),this._receiveStateValue="",this._textWhenEmpty="",this._value="",this._subReceiveStateValue=""}set textWhenEmpty(t){this._textWhenEmpty!==t&&((0,n.isNil)(t)&&(t=""),this._textWhenEmpty=t,this.setAttribute("textWhenEmpty",t),this.setTextContent())}get textWhenEmpty(){return this._textWhenEmpty}set receiveStateValue(t){if(this._receiveStateValue!==t){if((0,n.isNil)(t))return;if(""!==this.receiveStateValue&&void 0!==this.receiveStateValue&&null!==this.receiveStateValue){const t=r.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),e=r.Ch5SignalFactory.getInstance().getStringSignal(t);null!==e&&e.unsubscribe(this._subReceiveStateValue)}this._receiveStateValue=t,this.setAttribute("receivestatevalue",t);const e=r.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),i=r.Ch5SignalFactory.getInstance().getStringSignal(e);if(null===i)return;this._subReceiveStateValue=i.subscribe(t=>{t!==this.value&&this.setAttribute("value",t+"")})}}get receiveStateValue(){return this._receiveStateValue}set value(t){this._value!==t&&((0,n.isNil)(t)&&(t=""),this._value=t,this.setAttribute("value",t+""),this.setTextContent())}get value(){return this._value}static registerSignalAttributeTypes(){a.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(o.ELEMENT_NAME,o.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(o.ELEMENT_NAME)&&window.customElements.define(o.ELEMENT_NAME,o)}static get observedAttributes(){return s.Ch5Common.observedAttributes.concat(["value","textwhenempty","receivestatevalue"])}connectedCallback(){this.initAttributes(),customElements.whenDefined(o.ELEMENT_NAME).then(()=>{this.setTextContent()})}initAttributes(){super.initAttributes(),this.hasAttribute("textwhenempty")&&(this.textWhenEmpty=this.getAttribute("textwhenempty")),this.hasAttribute("value")?this.value=this.getAttribute("value"):this.value="",this.hasAttribute("receivestatevalue")&&(this.receiveStateValue=this.getAttribute("receivestatevalue"))}disconnectedCallback(){const t=r.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),e=r.Ch5SignalFactory.getInstance().getStringSignal(t);null!==e&&(e.unsubscribe(this._subReceiveStateValue),this._receiveStateValue="")}attributeChangedCallback(t,e,i){if(e!==i)switch(t){case"value":this.value=i;break;case"textwhenempty":this.textWhenEmpty=i;break;case"receivestatevalue":this.receiveStateValue=i;break;default:super.attributeChangedCallback(t,e,i)}}setTextContent(){this.value?this.textContent=this._getTranslatedValue("value",this.value):this.textContent=this._getTranslatedValue("textwhenempty",this.textWhenEmpty)}}e.Ch5JoinToTextString=o,o.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatevalue:{direction:"state",stringJoin:1,contractName:!0}}),o.ELEMENT_NAME="ch5-jointotext-string",o.registerCustomElement(),o.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(223),e)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Keypad=void 0;const n=i(3),r=i(34),a=i(5),o=i(224),l=i(2),h=i(1),u=i(4),c=s(i(0));class d extends n.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-keypad",this.isResizeInProgress=!1,this.resizeDebounce=500,this.container={},this.containerClass="keypad-container",this.keysRowClass="keypad-row",this.keysRowClassExtra="keypad-row-extra",this.childButtonList={},this.runtimeChildButtonList={},this.signalNameOnContract={contractName:"",receiveStateEnable:"",receiveStateShow:"",receiveStateCustomClass:"",receiveStateCustomStyle:""},this.logger.start("constructor()",d.ELEMENT_NAME),this._ch5Properties=new u.Ch5Properties(this,d.COMPONENT_PROPERTIES),this.logger.stop()}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(d.ELEMENT_NAME,d)}static registerSignalAttributeTypes(){l.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(d.ELEMENT_NAME,d.SIGNAL_ATTRIBUTE_TYPES)}set contractName(t){this._ch5Properties.set("contractName",t,()=>{this.contractDefaultHandler()})}get contractName(){var t;return null===(t=this._ch5Properties.get("contractName"))||void 0===t?void 0:t.trim()}set type(t){this._ch5Properties.set("type",t,()=>{this.typeHandler()})}get type(){return this._ch5Properties.get("type")}set shape(t){this._ch5Properties.set("shape",t,()=>{this.shapeHandler()})}get shape(){return this._ch5Properties.get("shape")}set stretch(t){this._ch5Properties.set("stretch",t,()=>{this.stretchHandler()})}get stretch(){return this._ch5Properties.get("stretch")}set size(t){this._ch5Properties.set("size",t,()=>{this.sizeHandler()})}get size(){return this._ch5Properties.get("size")}set textOrientation(t){this._ch5Properties.set("textOrientation",t,()=>{this.textOrientationHandler()})}get textOrientation(){return this._ch5Properties.get("textOrientation")}set showExtraButton(t){this._ch5Properties.set("showExtraButton",t,()=>{this.useContractForExtraButtonShow||this.showExtraButtonHandler()})}get showExtraButton(){return this._ch5Properties.get("showExtraButton")}set sendEventOnClickStart(t){this._ch5Properties.set("sendEventOnClickStart",t,()=>{this.updateEventClickHandlers(parseInt(t,10))})}get sendEventOnClickStart(){return this._ch5Properties.get("sendEventOnClickStart")}set useContractForEnable(t){this._ch5Properties.set("useContractForEnable",t,()=>{!0!==this.useContractForEnable||c.default.isNil(this.contractName)||""===this.contractName?""===this.signalNameOnContract.receiveStateEnable.trim()&&this.receiveStateEnable===this.contractName+".Enable"?(this.clearBooleanSignalSubscription(this._receiveStateEnable,this._subKeySigReceiveEnable),this.setAttribute("receiveStateEnable",this.signalNameOnContract.receiveStateEnable.trim()),this.disabled=!1):this.receiveStateEnable=this.signalNameOnContract.receiveStateEnable.trim()||this.receiveStateEnable:this.receiveStateEnable=this.contractName+".Enable"})}get useContractForEnable(){return this._ch5Properties.get("useContractForEnable")}set useContractForShow(t){this._ch5Properties.set("useContractForShow",t,()=>{!0!==this.useContractForShow||c.default.isNil(this.contractName)||""===this.contractName?""===this.signalNameOnContract.receiveStateShow.trim()&&this.receiveStateShow===this.contractName+".Show"?(this.clearBooleanSignalSubscription(this._receiveStateShow,this._subKeySigReceiveShow),this.setAttribute("receiveStateShow",this.signalNameOnContract.receiveStateShow.trim()),this.show=!0):this.receiveStateShow=this.signalNameOnContract.receiveStateShow.trim()||this.receiveStateShow:this.receiveStateShow=this.contractName+".Show"})}get useContractForShow(){return this._ch5Properties.get("useContractForShow")}set useContractForCustomStyle(t){this._ch5Properties.set("useContractForCustomStyle",t,()=>{this.contractDefaultHelper()})}get useContractForCustomStyle(){return this._ch5Properties.get("useContractForCustomStyle")}set useContractForCustomClass(t){this._ch5Properties.set("useContractForCustomClass",t,()=>{this.contractDefaultHelper()})}get useContractForCustomClass(){return this._ch5Properties.get("useContractForCustomClass")}set useContractForExtraButtonShow(t){this._ch5Properties.set("useContractForExtraButtonShow",t,()=>{this.contractDefaultHelper()})}get useContractForExtraButtonShow(){return this._ch5Properties.get("useContractForExtraButtonShow")}set receiveStateExtraButtonShow(t){this._ch5Properties.set("receiveStateExtraButtonShow",t,null,t=>{this._ch5Properties.setForSignalResponse("showExtraButton",t,()=>{this.showExtraButtonHandler()})})}get receiveStateExtraButtonShow(){return this._ch5Properties.get("receiveStateExtraButtonShow")}initAttributes(){this.logger.start("initAttributes",d.ELEMENT_NAME),super.initAttributes(),this.setAttribute("data-ch5-id",this.getCrId());const t=this;for(let e=0;e<d.COMPONENT_PROPERTIES.length;e++)if(!0===d.COMPONENT_PROPERTIES[e].isObservableProperty)if(this.hasAttribute(d.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=d.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}else{t[d.COMPONENT_PROPERTIES[e].name]=d.COMPONENT_PROPERTIES[e].default}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback() - start",d.ELEMENT_NAME),this.hasAttribute("role")||this.setAttribute("role",a.Ch5RoleAttributeMapping.ch5Keypad),this.buildRuntimeChildButtonList(),r.ComponentHelper.clearComponentContent(this),this.onAllSubElementsCreated(),(0,h.subscribeInViewPortChange)(this,()=>{this.elementIsInViewPort&&this.stretchHandler()}),this.initCommonMutationObserver(this),this.logger.stop()}onAllSubElementsCreated(){this.logger.start("onAllSubElementsCreated() - start",d.ELEMENT_NAME),customElements.whenDefined("ch5-keypad").then(()=>{this._wasInstatiated||this.createHtmlElements(),this._wasInstatiated=!0,this.updateCssClasses(),this.attachEventListeners(),this.initAttributes(),this.stretchHandler()}),this.logger.stop()}disconnectedCallback(){this.logger.log("disconnectedCallback"),this.removeEvents(),this.unsubscribeFromSignals(),(0,h.unSubscribeInViewPortChange)(this),this.container&&this.container.style&&(this.container.style.removeProperty("height"),this.container.style.removeProperty("width")),this.disconnectCommonMutationObserver()}removeEvents(){super.removeEventListeners(),window.removeEventListener("resize",this.onWindowResizeHandler)}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}static get observedAttributes(){const t=n.Ch5Common.observedAttributes,e=[];for(let t=0;t<d.COMPONENT_PROPERTIES.length;t++)!0===d.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(d.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",d.ELEMENT_NAME),e!==i){this.logger.log('ch5-keypad attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=d.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}updateCssClasses(){super.updateCssClasses(),this.classList.add(d.ELEMENT_NAME+d.btnTypeClassPrefix+this.type),this.classList.add(d.ELEMENT_NAME+d.btnShapeClassPrefix+this.shape),this.classList.add(d.ELEMENT_NAME+d.btnTextOrientationClassPrefix+this.textOrientation),this.classList.add(d.ELEMENT_NAME+d.btnSizeClassPrefix+this.size),this.stretch&&this.stretch.length>0&&this.classList.add(d.ELEMENT_NAME+d.btnStretchClassPrefix+this.stretch),this.classList.add(d.ELEMENT_NAME+d.btnTypeClassPrefix+(this.showExtraButton?"extra-row-show":"extra-row-hide"))}attachEventListeners(){super.attachEventListeners(),window.addEventListener("resize",this.onWindowResizeHandler.bind(this))}createHtmlElements(){this.logger.start("createHtmlElements",d.ELEMENT_NAME),this.classList.add(this.primaryCssClass),this.createAndAppendAllButtonsUnderKeypad(),this.logger.stop()}createAndAppendAllButtonsUnderKeypad(){const t=Array.from(this.children);for(const e of t)e.remove();this.createEmptyContainerDiv();const e=this.getBtnList(this.runtimeChildButtonList,this.contractName,this.sendEventOnClickStart);let i=this.appendKeysRowToContainer();for(let t=0;t<e.length;t++){t%3==0&&(i=this.appendKeysRowToContainer(),this.container.appendChild(i));const s=e[t],n=new o.Ch5KeypadButton(s);this.childButtonList[s.name]=n,i.appendChild(n)}(this.useContractForExtraButtonShow||this.showExtraButton)&&this.showExtraButtonHandler(),this.contractDefaultHandler()}createEmptyContainerDiv(){for((r.ComponentHelper.isNullOrUndefined(this.container)||r.ComponentHelper.isNullOrUndefined(this.container.classList)||0===this.container.classList.length)&&(this.container=document.createElement("div"),this.container.classList.add(this.containerClass)),this.container.parentElement!==this&&this.appendChild(this.container);this.container.firstChild;)this.container.removeChild(this.container.firstChild)}showExtraButtonHandler(){this.logger.start(d.ELEMENT_NAME+" > showExtraButtonHandler"),this.updateCssClasses();const t=this.getElementsByClassName(this.keysRowClassExtra);t.length>0&&Array.from(t).forEach(t=>{t.remove()});const e=this.contractName.trim().length>0&&this.useContractForExtraButtonShow;if((e||!e&&this.showExtraButton)&&this.container.classList&&this.container.classList.contains(this.containerClass)){if("."===this.contractName.trim())return;this.classList.add("ch5-keypad--for-extra-button");const t=this.appendKeysRowToContainer();this.container.appendChild(t),t.classList.add(this.keysRowClassExtra);const e=this.getBtnList_Extra(this.runtimeChildButtonList,this.contractName,this.sendEventOnClickStart);for(const i of e){const e=new o.Ch5KeypadButton(i);this.childButtonList[i.name]=e,t.appendChild(e)}}else this.classList.remove("ch5-keypad--for-extra-button");this.logger.stop()}appendKeysRowToContainer(){const t=document.createElement("section");return t.classList.add(this.keysRowClass),t}buildRuntimeChildButtonList(){const t=Array.from(this.children);if(t.length>0)for(const e of t)if("ch5-keypad-button"===e.tagName.toLowerCase()){const t=this.getChildBtnDTOFromElement(e,this.contractName,this.sendEventOnClickStart);this.runtimeChildButtonList.hasOwnProperty(t.name)||(this.runtimeChildButtonList[t.name]=t)}}shapeHandler(){this.logger.start(d.ELEMENT_NAME+" > shapeHandler");for(const t of d.SHAPES)this.classList.remove(d.ELEMENT_NAME+d.btnShapeClassPrefix+t);this.classList.add(d.ELEMENT_NAME+d.btnShapeClassPrefix+this.shape),this.logger.stop()}setContainerHeightAndWidth(t,e){this.container.style.height=t+"px",this.container.style.width=e+"px"}stretchHandler(){this.logger.start(d.ELEMENT_NAME+" > stretchHandler");for(const t of d.STRETCHES)this.classList.remove(d.ELEMENT_NAME+d.btnStretchClassPrefix+t);if(this.stretch&&this.stretch.length>0&&this.classList.add(d.ELEMENT_NAME+d.btnStretchClassPrefix+this.stretch),this.container.classList&&this.container.classList.contains(this.containerClass))if(this.stretch&&this.stretch.length>0){const t=this.contractName.length>0&&this.useContractForExtraButtonShow,e=t||!t&&this.showExtraButton?5:4,i=3,s=this.offsetHeight/e,n=this.offsetWidth/i,r=6;if(!this.parentElement){const t=Math.min(s,n);return this.setContainerHeightAndWidth(t*e,t*i),this.logger.stop()}const{offsetHeight:a,offsetWidth:o}=this.parentElement;if("width"===this.stretch||"both"===this.stretch&&o<=a){let t=Math.floor((o-(i+1)*r)/i);for(;t*e+(e+1)*r>a;)t--;this.setContainerHeightAndWidth(t*e+(e+1)*r,t*i+(i+1)*r)}else if("height"===this.stretch||"both"===this.stretch&&a<o){let t=Math.floor((a-(e+1)*r)/e);for(;t*i+(i+1)*r>o;)t--;this.setContainerHeightAndWidth(t*e+(e+1)*r,t*i+(i+1)*r)}}else this.container.style.removeProperty("height"),this.container.style.removeProperty("width");this.logger.stop()}typeHandler(){for(const t of d.TYPES)this.classList.remove(d.ELEMENT_NAME+d.btnTypeClassPrefix+t);this.classList.add(d.ELEMENT_NAME+d.btnTypeClassPrefix+this.type)}textOrientationHandler(){for(const t of d.TEXT_ORIENTATIONS)this.classList.remove(d.ELEMENT_NAME+d.btnTextOrientationClassPrefix+t);this.classList.add(d.ELEMENT_NAME+d.btnTextOrientationClassPrefix+this.textOrientation)}updateEventClickHandlers(t){let e=0;if(0===this.contractName.length)for(const i in this.childButtonList)if(this.childButtonList.hasOwnProperty(i)){this.childButtonList[i].setJoinBasedEventHandler(t,e),e++}}sizeHandler(){for(const t of d.SIZES)this.classList.remove(d.ELEMENT_NAME+d.btnSizeClassPrefix+t);this.classList.add(d.ELEMENT_NAME+d.btnSizeClassPrefix+this.size)}contractDefaultHandler(){0===this.contractName.length?(this.signalNameOnContract.contractName="",this.receiveStateShow=this.signalNameOnContract.receiveStateShow,this.receiveStateEnable=this.signalNameOnContract.receiveStateEnable,this.receiveStateCustomStyle=this.signalNameOnContract.receiveStateCustomStyle,this.receiveStateCustomClass=this.signalNameOnContract.receiveStateCustomClass):""===this.signalNameOnContract.contractName&&(this.signalNameOnContract.contractName=this.contractName,this.signalNameOnContract.receiveStateShow=this.receiveStateShow,this.signalNameOnContract.receiveStateEnable=this.receiveStateEnable,this.signalNameOnContract.receiveStateCustomStyle=this.receiveStateCustomStyle,this.signalNameOnContract.receiveStateCustomClass=this.receiveStateCustomClass),this.contractDefaultHelper(),this.updateContractBasedEvent()}contractDefaultHelper(){c.default.isNil(this.contractName)||""===this.contractName||(!0===this.useContractForCustomStyle&&(this.receiveStateCustomStyle=this.contractName+".CustomStyle"),!0===this.useContractForCustomClass&&(this.receiveStateCustomClass=this.contractName+".CustomClass"),!0===this.useContractForEnable&&(this.receiveStateEnable=this.contractName+".Enable"),!0===this.useContractForShow&&(this.receiveStateShow=this.contractName+".Show"),!0===this.useContractForExtraButtonShow&&this.showExtraButtonHandler())}updateContractBasedEvent(){let t=0;if(this.contractName.length>0)for(const e in this.childButtonList)if(this.childButtonList.hasOwnProperty(e)){this.childButtonList[e].setJoinBasedContractEventHandler(this.contractName,t),t++}}onWindowResizeHandler(){this.stretch&&this.stretch.length>0&&!this.isResizeInProgress&&(this.isResizeInProgress=!0,setTimeout(()=>{this.stretchHandler(),this.isResizeInProgress=!1},this.resizeDebounce))}getBtnList(t,e,i){const s=[],n=["1","2","3","4","5","6","7","8","9","*","0","#"],r=["&nbsp;","ABC","DEF","GHI","JKL","MNO","PQRS","TUV","WXYZ","","+",""],a=["1","2","3","4","5","6","7","8","9","Star","0","Hash"],o=[1,2,3,4,5,6,7,8,9,10,0,11],l=["","","","","","","","","",d.MISC_ONE_BUTTON_CSS_CLASS,"",d.MISC_TWO_BUTTON_CSS_CLASS];for(let h=0;h<n.length;h++){const u="button"+a[h];let c={};t.hasOwnProperty(u)&&(c=t[u]);const p=e.length>0?e+".Press"+a[h]:"",g=l[h].length>0?l[h]:d.NUMBER_TYPE_BUTTON_CSS_CLASS,m=0===p.length&&i.length>0?parseInt(i,10)+o[h]:i,b=Object.assign({indexRef:h,name:u,major:n[h],minor:r[h],className:g,iconClass:[],contractName:p,contractKey:a[h],joinCountToAdd:m.toString(),key:"",pressed:!1},c);b.major||b.minor||(b.major=n[h],b.minor=r[h]),s.push(b)}return s}getBtnList_Extra(t,e,i=""){const s=[],n=["Extra"],r=["ExtraButton"],a=[d.EXTRA_BUTTON_CSS_CLASS];for(let o=0;o<n.length;o++){const n="button"+r[o];let l={};t.hasOwnProperty(n)&&(l=t[n]);const h=e.length>0?e+".Press"+r[o]:"",u=i.length>0?parseInt(i,10)+12:i,c=Object.assign({indexRef:12,name:n,major:"",minor:"",className:a[o],iconClass:["fas","fa-phone-alt"],contractName:h,contractKey:r[o],joinCountToAdd:u.toString(),key:"",pressed:!1},l);s.push(c)}return 0===s[0].iconClass.length&&(s[0].iconClass=["fas","fa-phone-alt"]),s}getChildBtnDTOFromElement(t,e,i){let s={};const n=t.getAttribute("key"),r=n&&n.length>0?n.replace("button",""):null;if(null!==r){const a=["0","1","2","3","4","5","6","7","8","9","Star","Hash","ExtraButton"],o=this.getIndexRefForChildBtn(r),l=e.length>0?e+".Press"+a[o]:"",h=t.getAttribute("labelmajor"),u=t.getAttribute("labelminor"),c=this.getClassNameForChildBtn(t.getAttribute("classlist"),o),d=t.getAttribute("iconclass"),p=a[o],g=t.hasAttribute("pressed")&&"false"!==t.getAttribute("pressed"),m=0===l.length&&i.length>0?parseInt(i,10)+o:"";let b={};for(let e=0;e<t.attributes.length;e++){const i=t.attributes[e];b=Object.assign(Object.assign({},b),{[i.nodeName]:i.nodeValue})}s=Object.assign(Object.assign({},b),{indexRef:o,name:"button"+p,major:h||"",minor:u||"",className:c,iconClass:d?d.split(" ").filter(t=>t):[],contractName:l,contractKey:p,joinCountToAdd:m.toString(),key:n||"",pressed:!0===g})}return s}getIndexRefForChildBtn(t){let e=-1;switch(t.toLowerCase()){case"star":e=10;break;case"hash":e=11;break;case"extra":e=12;break;default:e=parseInt(t,10)}return e}getClassNameForChildBtn(t,e){const i=t?[t]:[];return e>-1&&e<9||10===e?i.push(d.NUMBER_TYPE_BUTTON_CSS_CLASS):9===e?i.push(d.MISC_ONE_BUTTON_CSS_CLASS):11===e?i.push(d.MISC_TWO_BUTTON_CSS_CLASS):12===e&&i.push(d.EXTRA_BUTTON_CSS_CLASS),i.join(" ")}}e.Ch5Keypad=d,d.ELEMENT_NAME="ch5-keypad",d.NUMBER_TYPE_BUTTON_CSS_CLASS="number-btn",d.MISC_ONE_BUTTON_CSS_CLASS="misc-btn misc-btn-one",d.MISC_TWO_BUTTON_CSS_CLASS="misc-btn misc-btn-two",d.EXTRA_BUTTON_CSS_CLASS="extra-btn special-center",d.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestateextrabuttonshow:{direction:"state",stringJoin:1,contractName:!0},sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0},sendeventontouch:{direction:"event",booleanJoin:1,contractName:!0},sendeventonclickstart:{direction:"event",booleanJoin:1,contractName:!0}}),d.TYPES=["default","primary","info","text","danger","warning","success","secondary"],d.SHAPES=["rounded-rectangle","square","circle"],d.STRETCHES=["both","width","height"],d.TEXT_ORIENTATIONS=["top","right","bottom","left"],d.SIZES=["regular","x-small","small","large","x-large"],d.btnTypeClassPrefix="--type-",d.btnStretchClassPrefix="--stretch-",d.btnShapeClassPrefix="--shape-",d.btnTextOrientationClassPrefix="--orientation-",d.btnSizeClassPrefix="--size-",d.COMPONENT_DATA={TYPES:{default:d.TYPES[0],values:d.TYPES,key:"type",attribute:"type",classListPrefix:d.btnTypeClassPrefix},STRETCHES:{default:null,values:d.STRETCHES,key:"stretch",attribute:"stretch",classListPrefix:d.btnStretchClassPrefix},SHAPES:{default:d.SHAPES[0],values:d.SHAPES,key:"shape",attribute:"shape",classListPrefix:d.btnShapeClassPrefix},TEXT_ORIENTATIONS:{default:d.TEXT_ORIENTATIONS[0],values:d.TEXT_ORIENTATIONS,key:"textorientation",attribute:"textorientation",classListPrefix:d.btnTextOrientationClassPrefix},SIZES:{default:d.SIZES[0],values:d.SIZES,key:"size",attribute:"size",classListPrefix:"--size-"}},d.COMPONENT_PROPERTIES=[{default:d.TYPES[0],enumeratedValues:d.TYPES,name:"type",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:d.TYPES[0],isObservableProperty:!0},{default:d.SHAPES[0],enumeratedValues:d.SHAPES,name:"shape",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:d.SHAPES[0],isObservableProperty:!0},{default:d.SIZES[0],enumeratedValues:d.SIZES,name:"size",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:d.SIZES[0],isObservableProperty:!0},{default:null,enumeratedValues:d.STRETCHES,name:"stretch",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:d.STRETCHES[0],isObservableProperty:!0,isNullable:!0},{default:!1,name:"showExtraButton",nameForSignal:"receiveStateExtraButtonShow",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateExtraButtonShow",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:d.TEXT_ORIENTATIONS[0],enumeratedValues:d.TEXT_ORIENTATIONS,name:"textOrientation",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:d.TEXT_ORIENTATIONS[0],isObservableProperty:!0},{default:!1,name:"useContractForEnable",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForShow",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForCustomStyle",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForCustomClass",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!0,name:"useContractForExtraButtonShow",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:"",name:"contractName",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnClickStart",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}],d.registerSignalAttributeTypes(),d.registerCustomElement()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__rest||function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(i[s[n]]=t[s[n]])}return i};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5KeypadButton=void 0;const o=r(i(0)),l=i(3),h=i(31),u=i(2),c=i(34),d=i(1),p=i(5),g=i(4);class m extends l.Ch5Common{constructor(t){super(),this.primaryCssClass="keypad-btn",this.pressedCssClassPostfix="-pressed",this.params={},this.componentPrefix="ch5-keypad-button-",this.emptyBtnCssClass="empty-btn",this.labelMajorCssClass="label-major",this.labelMinorCssClass="label-minor",this.parentDivCssClass="keypad-row",this._elButton={},this._elMajorSpan={},this._elMinorSpan={},this._elIcon={},this._intervalIdForRepeatDigital=null,this._pressable=null,this._pressTimeout=0,this._buttonPressed=!1,this._buttonPressedInPressable=!1,this._pressableIsPressedSubscription=null,this.isButtonInitiated=!1,this.TOUCH_TIMEOUT=250,this.DEBOUNCE_PRESS_TIME=200,this.PRESS_MOVE_THRESHOLD=10,this.STATE_CHANGE_TIMEOUTS=500,this.MAX_MODE_LENGTH=99,this.DEBOUNCE_BUTTON_DISPLAY=25,this.logger.start("constructor()",m.ELEMENT_NAME),this.params=t,this._ch5Properties=new g.Ch5Properties(this,m.COMPONENT_PROPERTIES),this.logger.stop()}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(m.ELEMENT_NAME,m)}static registerSignalAttributeTypes(){u.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(m.ELEMENT_NAME,m.SIGNAL_ATTRIBUTE_TYPES)}set labelMajor(t){this._ch5Properties.set("labelMajor",t,()=>{this.labelMajorHandler()})}get labelMajor(){return this._ch5Properties.get("labelMajor")}set labelMinor(t){this._ch5Properties.set("labelMinor",t,()=>{this.labelMinorHandler()})}get labelMinor(){return this._ch5Properties.get("labelMinor")}set iconClass(t){this._ch5Properties.set("iconClass",t,()=>{this.iconHandler()})}get iconClass(){return this._ch5Properties.get("iconClass")}set sendEventOnClick(t){this._ch5Properties.set("sendEventOnClick",t,()=>{this.setAttribute("sendEventOnClick".toLowerCase(),t)})}get sendEventOnClick(){return this._ch5Properties.get("sendEventOnClick")}set key(t){this._ch5Properties.set("key",t,()=>{this.keyHandler()})}get key(){return this._ch5Properties.get("key")}set pressed(t){this._ch5Properties.set("pressed",t,()=>{this.pressedHandler()})}get pressed(){return this._ch5Properties.get("pressed")}initAttributes(){this.logger.start("initAttributes",m.ELEMENT_NAME),super.initAttributes(),this.setAttribute("data-ch5-id",this.getCrId()),c.ComponentHelper.setAttributeToElement(this,"role",p.Ch5RoleAttributeMapping.ch5KeypadChild);const t=this.params,{major:e,minor:i,contractName:s,joinCountToAdd:n,iconClass:r,key:l,pressed:h,name:u,indexRef:d,contractKey:g,className:b}=t,f=a(t,["major","minor","contractName","joinCountToAdd","iconClass","key","pressed","name","indexRef","contractKey","className"]);this.labelMajor=e||["0","1","2","3","4","5","6","7","8","9","*","#",""][d],this.labelMinor=i||["+","&nbsp;","ABC","DEF","GHI","JKL","MNO","PQRS","TUV","WXYZ","","",""][d],this.iconClass=r.join(" "),this.iconClass||"*"!==this.labelMajor||(this.labelMinor="",this._elMinorSpan.innerHTML=""),this.key=l,this.pressed=h;const v=s.length>0?s:n;this.sendEventOnClick=v;const _=Object.keys(f),S=Object.values(f);if(_.length)for(let t=0;t<_.length;t++)o.isNil(S[t])||c.ComponentHelper.setAttributeToElement(this,_[t].toLowerCase(),S[t]);this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback() - start",m.ELEMENT_NAME),!this.parentElement||this.parentElement.classList.contains(this.parentDivCssClass)?(c.ComponentHelper.clearComponentContent(this),this.updatePressedClass(this.primaryCssClass+this.pressedCssClassPostfix),this.setAttribute("data-ch5-id",this.getCrId()),!c.ComponentHelper.isNullOrUndefined(this._pressable)&&this._pressable&&(this._pressable.init(),this._subscribeToPressableIsPressed()),this.createElementsAndInitialize(),this.initCommonMutationObserver(this),this.logger.stop()):this.logger.stop()}createElementsAndInitialize(){this.initAttributes(),this._wasInstatiated||this.createHtmlElements(),this.attachEventListeners(),this._wasInstatiated=!0,this.updateCssClasses()}createHtmlElements(){this.logger.start("createHtmlElements",m.ELEMENT_NAME),c.ComponentHelper.clearComponentContent(this),this.classList.add(this.primaryCssClass),this.classList.add(...this.params.className.split(" ").filter(t=>t)),this.setAttribute("key",this.params.name),this.params.major.length>0||this.params.minor.length>0||this.params.iconClass.length>0||this.params.key.length>0?(this._elButton=document.createElement("button"),this._elMajorSpan=this.createLabelElementAndAppend(this.labelMajorCssClass,this.labelMajor),this._elMinorSpan=this.createLabelElementAndAppend(this.labelMinorCssClass,this.labelMinor),this._elButton.appendChild(this._elMajorSpan),this._elButton.appendChild(this._elMinorSpan),this.appendChild(this._elButton)):this.classList.add(this.emptyBtnCssClass),this.params.pressed&&this.classList.add(this.primaryCssClass+this.pressedCssClassPostfix),this.logger.stop()}attachEventListeners(){var t;o.isNil(this._pressable)||(null===(t=this._pressable)||void 0===t||t.init(),this._subscribeToPressableIsPressed()),this.bindEventListenersToThis()}disconnectedCallback(){this.logger.start("disconnectedCallback() - start",m.ELEMENT_NAME),!this.parentElement||this.parentElement.classList.contains(this.parentDivCssClass)?(this.removeEventListeners(),null!==this._pressable&&this._pressable.destroy(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver(),o.isNil(this._pressable)||this._unsubscribeFromPressableIsPressed(),this.logger.stop()):this.logger.stop()}removeEventListeners(){this.removeEventListener("click",this._onTapAction)}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}static get observedAttributes(){const t=l.Ch5Common.observedAttributes,e=[];for(let t=0;t<m.COMPONENT_PROPERTIES.length;t++)!0===m.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(m.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",m.ELEMENT_NAME),e!==i){this.logger.log('ch5-keypad attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=m.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}createLabelElementAndAppend(t,e=""){const i=document.createElement("span");return i.classList.add(t),this.iconClass.length>0&&t===this.labelMajorCssClass?(this._elIcon=document.createElement("span"),this._elIcon.classList.add(...this.iconClass.split(" ").filter(t=>t)),i.appendChild(this._elIcon),i.classList.add("has-icon")):i.innerHTML=e,i}labelMajorHandler(){0!==this.labelMajor.length?this._elMajorSpan.innerText=this.labelMajor:this.labelMajor=this.params.major}labelMinorHandler(){0!==this.labelMinor.length?this._elMinorSpan.innerHTML=this.labelMinor:this.labelMinor=this.params.minor}keyHandler(){0===this.key.length&&(this.key=this.params.key)}iconHandler(){const t=this.getElementsByClassName("label-major has-icon");if(t&&t[0]){const e=t[0].children[0];e?e.setAttribute("class",this.iconClass):(this._elIcon.setAttribute("class",this.iconClass),this._elMajorSpan.innerHTML="",this._elMajorSpan.appendChild(this._elIcon))}}pressedHandler(){!0===this.pressed&&(this.updatePressedClass(this.primaryCssClass+this.pressedCssClassPostfix),this.classList.add(this.primaryCssClass+this.pressedCssClassPostfix))}updatePressedClass(t){this._pressable=new h.Ch5Pressable(this,{cssTargetElement:this.getTargetElementForCssClassesAndStyle(),cssPressedClass:t})}bindEventListenersToThis(){this.addEventListener("click",this._onTapAction)}sendValueForClickValue(t){if(!this.sendEventOnClick)return;const e=d.Ch5SignalFactory.getInstance().getObjectAsBooleanSignal(this.sendEventOnClick);e&&e.name&&e.publish(t)}_sendOnClickSignal(t=!1,e=!1){let i=null;this.sendEventOnClick&&(i=d.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnClick),null!==i&&(t||this.sendValueForClickValue(!0),e||this.sendValueForClickValue(!1)))}pressHandler(){const t=()=>{this.logger.log("Ch5Button._onPress()"),this.pressed=!0};return new Promise((e,i)=>{this._pressTimeout=window.setTimeout(()=>{t(),e(this.pressed)},this.TOUCH_TIMEOUT)})}_subscribeToPressableIsPressed(){null===this._pressableIsPressedSubscription&&null!==this._pressable&&(this._pressableIsPressedSubscription=this._pressable.observablePressed.subscribe(t=>{t!==this._buttonPressedInPressable&&(this._buttonPressedInPressable=t)}))}_unsubscribeFromPressableIsPressed(){null!==this._pressableIsPressedSubscription&&(this._pressableIsPressedSubscription.unsubscribe(),this._pressableIsPressedSubscription=null)}setJoinBasedEventHandler(t,e){this.sendEventOnClick=(t+[1,2,3,4,5,6,7,8,9,10,0,11,12][e]).toString()}setJoinBasedContractEventHandler(t,e){this.sendEventOnClick=t+".Press"+[1,2,3,4,5,6,7,8,9,"Star",0,"Hash","ExtraButton"][e]}_onTapAction(){null!==this._intervalIdForRepeatDigital?(window.clearInterval(this._intervalIdForRepeatDigital),this.sendValueForClickValue(!1),this._intervalIdForRepeatDigital=null):this._sendOnClickSignal(!1,!1)}}e.Ch5KeypadButton=m,m.ELEMENT_NAME="ch5-keypad-button",m.COMPONENT_PROPERTIES=[{default:"",name:"key",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"labelMajor",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"labelMinor",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"iconClass",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnClick",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:!1,name:"pressed",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0}],m.registerSignalAttributeTypes(),m.registerCustomElement()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Label=void 0;const s=i(3),n=i(2),r=i(4);class a extends s.Ch5Common{constructor(t){super(),this._parent=t,this.primaryCssClass="ch5-label",this._elContainer={},this.templateElement={},this.parentElem="",this.labelRec="",this.logger.start("constructor()",a.ELEMENT_NAME),this._wasInstatiated||this.createInternalHtml(),t&&(this.parentElem=t),this._wasInstatiated=!0,this._ch5Properties=new r.Ch5Properties(this,a.COMPONENT_PROPERTIES),this.updateCssClass()}set label(t){this._ch5Properties.set("label",t,()=>{this.handleLabel()})}get label(){return this._ch5Properties.get("label")}set labelInnerHTML(t){this._ch5Properties.set("labelInnerHTML",t,()=>{this.handleLabel()})}get labelInnerHTML(){return this._ch5Properties.get("labelInnerHTML")}set receiveStateLabel(t){this._ch5Properties.set("receiveStateLabel",t,null,t=>{this._ch5Properties.setForSignalResponse("label",t,()=>{this.labelRec=t,this.handleLabel()})})}get receiveStateLabel(){return this._ch5Properties.get("receiveStateLabel")}static registerSignalAttributeTypes(){n.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(a.ELEMENT_NAME,a.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(a.ELEMENT_NAME)&&window.customElements.define(a.ELEMENT_NAME,a)}static get observedAttributes(){const t=s.Ch5Common.observedAttributes,e=[];for(let t=0;t<a.COMPONENT_PROPERTIES.length;t++)!0===a.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(a.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-label attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=a.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()",a.ELEMENT_NAME),this.hasAttribute("role"),this._elContainer.parentElement!==this&&""===this.parentElem&&(this._elContainer.classList.add("ch5-label"),this.appendChild(this._elContainer)),this.attachEventListeners(),this.initAttributes(),this.updateCssClass(),this.initCommonMutationObserver(this),this.handleLabel(),customElements.whenDefined("ch5-label").then(()=>{this.componentLoadedEvent(a.ELEMENT_NAME,this.id)}),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),this.logger.stop()}createInternalHtml(){this.logger.start("createInternalHtml()"),this.clearComponentContent(),this._elContainer=document.createElement("div"),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<a.COMPONENT_PROPERTIES.length;e++)if(!0===a.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(a.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=a.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}attachEventListeners(){super.attachEventListeners()}removeEventListeners(){super.removeEventListeners()}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}clearComponentContent(){const t=this.getElementsByTagName("div");Array.from(t).forEach(t=>{t.remove()})}handleLabel(){if(this.templateElement instanceof HTMLTemplateElement||(this.templateElement=this.getElementsByTagName("template")[0]),Array.from(this._elContainer.children).forEach(t=>t.remove()),this._elContainer.innerText="",null!==this.receiveStateLabel&&""!==this.receiveStateLabel.trim())this._elContainer.innerText=this.label;else if(s.Ch5Common.isNotNil(this.labelInnerHTML))this._elContainer.innerHTML=this.decodeInnerHTMLForAttribute(this.labelInnerHTML);else if(this.templateElement instanceof HTMLTemplateElement){const t=document.createElement("template");t.innerHTML=this.templateElement.innerHTML,this._elContainer.appendChild(t.content)}else this._elContainer.innerText=this.label}decodeInnerHTMLForAttribute(t){return t.replace("&amp;","&").replace("&lt;","<").replace("&gt;",">").replace("&quot;",'/"').replace("&apos;","/'")}updateCssClass(){this.logger.start("UpdateCssClass"),super.updateCssClasses(),this._elContainer.classList.add("ch5-label"),this.logger.stop()}getTargetElementForCssClassesAndStyle(){return this._elContainer}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}}e.Ch5Label=a,a.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatelabel:{direction:"state",stringJoin:1,contractName:!0}}),a.COMPONENT_PROPERTIES=[{default:"",name:"label",nameForSignal:"receiveStateLabel",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateLabel",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"labelInnerHTML",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}],a.ELEMENT_NAME="ch5-label",a.registerCustomElement(),a.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(35),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.noop=void 0;e.noop=()=>{}},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ListTemplate=void 0;const n=s(i(11)),r=i(35),a=i(26),o=i(16),l=i(3),h=i(62),u=i(229);class c extends a.Ch5ListAbstractHelper{constructor(){super(...arguments),this.scrollbarSize=0,this.endless=!1,this._tmplString="",this._scrollbarElement={},this._lastScrollbarPosition=0,this.resizeDebouncer={}}set scrollbarElement(t){void 0===t&&null===t||(this._scrollbarElement=t)}get scrollbarElement(){return this._scrollbarElement}checkForTemplate(){let t;t=this._list.templateElement instanceof HTMLTemplateElement?this._list.templateElement:this._list.templateElement=this._list.getElementsByTagName("template")[0];let e="";return t&&t.innerHTML&&t.innerHTML.length>0?(this._list.info("ch5-list-template - tpEL.innerHtml ",t.innerHTML),e=t.innerHTML):t&&t.firstElementChild&&t.firstElementChild.outerHTML&&t.firstElementChild.outerHTML.length>0&&(this._list.info("ch5-list-template - tplEl.firstElementChild.outerHTML ",t.firstElementChild.outerHTML),e=t.firstElementChild.outerHTML),this._tmplString=e,e}updateTemplateString(t){this._tmplString=t}processTemplate(t,e,i){this._list.info("ch5-list-template - processTemplate");const s=document.createElement("div");s.id=`${t}_${e}`,s.classList.add(r.Ch5List.ITEMCLASS);const n=document.createElement("template");if(n.innerHTML=this._tmplString,null!==this._list.indexId&&(o.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsAttrs(n,e,this._list.indexId),o.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsContent(n,e,this._list.indexId)),s.appendChild(n.content),o.Ch5AugmentVarSignalsNames.differentiateTmplElemsAttrs(s,this._list.getAttribute("contractname")||"",parseInt(this._list.getAttribute("booleanjoinoffset")||"0",10)||0,parseInt(this._list.getAttribute("numericJoinOffset")||"0",10)||0,parseInt(this._list.getAttribute("stringJoinOffset")||"0",10)||0),null!==i&&""!==i){const t=JSON.parse(i);s.innerHTML=this.processTemplateForVars(s.innerHTML,t[e])}return this._list.isDebug()&&this._list.info("after update "+s.innerHTML),s}listItemCSS(){this._list.info("ch5-list-template - listItemCSS, process list item CSS");return{display:this._list.orientation===r.Ch5List.ORIENTATION[0]?"":"inline-block",width:null==this._list.itemWidth?"":this._list.itemWidth,height:null==this._list.itemHeight?"":this._list.itemHeight}}attachCSS(){this._list.info("ch5-list-template - attachCSS");const t=this._list.getElementsByTagName("style"),e=0===t.length?document.createElement("style"):t[0];0===t.length&&this._list.appendChild(e),e.innerHTML=this.prepareStyleSheet().toString()}updateListMainElStyle(){this._list.info("ch5-list-template - updateListMainElStyle");let t="";this._list.minWidth&&(t+=`min-width: ${this._list.minWidth};`),this._list.maxWidth&&(t+=`max-width: ${this._list.maxWidth};`),this._list.minHeight&&(t+=`min-height: ${this._list.minHeight};`),this._list.maxHeight&&(t+=`max-height: ${this._list.maxHeight};`),t&&(this._list.style.cssText=t)}resizeList(t,e,i=!1){this._list.info("ch5-list-template - resizeList()"),this._list.animationHelper.minOffsetTranslate=0,this._list.isHorizontal&&!isNaN(this._list.currentXPosition)&&this._list.getItemSize()>0?(this._list.currentXPosition=this.computeItemLocation(this._list.currentXPosition),this.setWrapperTranslateX(this._list.currentXPosition),this.updateScrollBarPosition(this._list.currentXPosition)):!this._list.isHorizontal&&!isNaN(this._list.currentYPosition)&&this._list.getItemSize()>0&&(this._list.currentYPosition=this.computeItemLocation(this._list.currentYPosition),this.setWrapperTranslateY(this._list.currentYPosition),this.updateScrollBarPosition(this._list.currentYPosition));const s=this._list.getCrId(),a=this._list.orientation===r.Ch5List.ORIENTATION[0]?"ch5-list-vertical-scrollbar":"ch5-list-horizontal-scrollbar",o=this._list.orientation===r.Ch5List.ORIENTATION[0]?"ch5-list-vertical":"ch5-list-horizontal",l=!0===this._list.scrollbar?a:"";if(t.id=s,t.className=`${l} ${o}`,(0,n.default)(t.parentElement)&&this._list.appendChild(t),0===this._list.size)return;if(this.attachCSS(),this.updateListMainElStyle(),this.checkAndSetSizes(),i)this._list.items=this._list.items.map(t=>(t.element.style.transform="",Object.assign(Object.assign({},t),{translateX:0,translateY:0})));else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(this.processTemplate(s,0,e));const i=this._list.getFirstRenderVisibleItemsNr(!0);this._list._appendPosition=i;const n=document.createDocumentFragment();for(let t=1;t<i;t++)n.appendChild(this.processTemplate(s,t,e));t.appendChild(n),this._list._bufferedItems.bufferActive=this._list._canUseBufferAmount(i),this._list._bufferedItems.bufferActive&&(this._list._bufferedItems.bufferForwardStartIndex=i,null!==this._list.size&&(this._list._bufferedItems.bufferBackwardsStartIndex=Number(this._list.size))),this._list.bufferdItemsHelper.bufferItems()}if(this._list.onResizeList(),!1!==this._list.scrollbar){const t=this._list.isHorizontal?this._list.currentXPosition:this._list.currentYPosition-this.scrollbarSize;this.updateScrollBarPosition(t)}this._list.previousSize=this._list.size;const h=this._list.items.map(t=>t.element);this._list.viewportClientWidth,this._list.viewportClientHeight;this._list.sizeResolver=new u.Ch5ListSizeResolver(h,this._list.orientation),clearTimeout(this.initializationTask),this.initializationTask=window.setTimeout(()=>{this._list.sizeResolver.updateViewport(this._list),this.customScrollbar(t);const{fullListSize:e,viewPortSize:i}=this._list.sizeResolver;this._list.animationHelper.maxOffsetTranslate=void 0,this._list.endless})}resetListLayout(){clearTimeout(this.resetListLayoutTask),this.resetListLayoutTask=window.setTimeout(()=>{if(!(this._list.sizeResolver instanceof u.Ch5ListSizeResolver))return void clearTimeout(this.resetListLayoutTask);this.checkAndSetSizes(),this._list.sizeResolver.updateViewport(this._list),this.resetItemsTransform(),this._list.items.sort((t,e)=>t.layoutIndex-e.layoutIndex),this._list.endless&&this._list.animationHelper.stop(),this._list.animationHelper.minOffsetTranslate=0,this._list.animationHelper.maxOffsetTranslate=-this._list.sizeResolver.hiddenListSize,this._list.isHorizontal?this._list.currentXPosition=this._list.currentXPosition%this._list.sizeResolver.fullListSize:this._list.currentYPosition=this._list.currentYPosition%this._list.sizeResolver.fullListSize,this.isPositionExceedingMaximumBoundary()&&(this._list.isHorizontal?this._list.currentXPosition=this._list.animationHelper.maxOffsetTranslate:this._list.currentYPosition=this._list.animationHelper.maxOffsetTranslate),this._list.sizeResolver.viewPortSize>0&&this._list.templateHelper.customScrollbar(this._list.divList);const t=this._list.isHorizontal?this._list.currentXPosition:this._list.currentYPosition;this._list.templateHelper.updateScrollBarPosition(t),this._list.animationHelper.updateDragPosition(t);const{fullListSize:e,viewPortSize:i}=this._list.sizeResolver;e>0&&i>0&&e<=i&&this.resetItemsTransform();const s=!(0,n.default)(this._list.bufferAmount);if(e<=i)return this._list.setCurrentPosition(0),this._list.templateHelper.setWrapperTranslateX(0),void this._list.templateHelper.setWrapperTranslateY(0);if(!this._list.endless&&(this._list.animationHelper.maxOffsetTranslate=this._list.animationHelper.adjustMaxOffset(s),this._list.animationHelper.maxOffsetTranslate)){let t=this._list.isHorizontal?this._list.currentXPosition:this._list.currentYPosition;t<this._list.animationHelper.maxOffsetTranslate&&(t=this._list.animationHelper.maxOffsetTranslate,this._list.animationHelper.updateDragPosition(t))}})}triggerResizeDueWidthAndHeightUpdates(){(0,h.debounce)(this.resizeDebouncer,()=>{this.updateListMainElStyle(),this.checkAndSetSizes(),this.customScrollbar(this._list.divList)})}removeScrollbar(){null!==this._scrollbarElement&&this._scrollbarElement instanceof HTMLElement&&(null!==this._scrollbarElement.parentElement&&this._scrollbarElement.parentElement.remove(),this._scrollbarElement.remove(),this._scrollbarElement=null)}customScrollbar(t){if(this.createScrollbar(),this._list.scrollbar&&null!==this._list.size&&void 0!==t&&void 0!==t.children&&this._scrollbarElement&&void 0!==this._scrollbarElement.parentElement){const t=this._list.getLayoutInfo(),e=t.fullListSize,i=this._scrollbarElement.parentElement,s=new Event("scroll"),n=this._scrollbarElement,r=t.viewPortSize;if(null!==i&&t.fullListSize<=t.viewPortSize)return i.remove(),void(this._scrollbarElement=null);const a=Math.ceil(r/e*100);void 0!==n&&(i.addEventListener("scroll",()=>{void 0!==n.style&&i&&(i.style.display=100===a?"none":"block",this._list.isHorizontal?n.style.width=a+"%":n.style.height=a+"%")}),this.scrollbarSize=a/100*r,window.addEventListener("resize",i.dispatchEvent.bind(i,s)),i.dispatchEvent(s))}else this.removeScrollbar()}updateScrollBarPosition(t,e){if(null!==this._list.size){const i=this._list.getLayoutInfo(),s=i.viewPortSize,n=i.fullListSize;let a=i.viewPortSize;this._list.endless&&(a-=this.scrollbarSize);const o=s;let h=this.getRelativeScrollbarPosition(t,n,a),u=-h;if(h<0&&Math.abs(h)>o&&(h=u=0),this.scrollbarElement instanceof HTMLElement)if(void 0===e)this._list.isHorizontal?(this._list.direction===l.Ch5Common.DIRECTION[1]&&(this.scrollbarElement.style.transform=`translate3d(${-u}px, 0, 0)`),this.scrollbarElement.style.transform=`translate3d(${u}px, 0, 0)`):this.scrollbarElement.style.transform=`translate3d(0, ${u}px, 0)`;else{const t=this._list.isHorizontal?r.Ch5List.ORIENTATION[1]:r.Ch5List.ORIENTATION[0];e(this.scrollbarElement,u,t,-this._lastScrollbarPosition)}this._lastScrollbarPosition=h}}setWrapperTranslateX(t,e){(0,n.default)(this._list)||(void 0===e?(this._list.divList.style.transform=`translate3d(${t}px, 0, 0)`,this._list.wrapperTranslateX=t):(e(this._list.divList,t,r.Ch5List.ORIENTATION[1],this._list.wrapperTranslateX),this._list.wrapperTranslateX=t))}setWrapperTranslateY(t,e){(0,n.default)(this._list)||(void 0===e?(this._list.wrapperTranslateY=t,this._list.divList.style.transform=`translate3d(0, ${t}px, 0)`):(e(this._list.divList,t,r.Ch5List.ORIENTATION[0],this._list.wrapperTranslateY),this._list.wrapperTranslateY=t))}setItemTranslateX(t,e){(0,n.default)(e)||(e.translateX=t,e.element.style.transform=`translateX(${e.translateX}px)`)}setItemTranslateY(t,e){(0,n.default)(e)||(e.translateY=t,e.element.style.transform=`translateY(${e.translateY}px)`)}computePage(t,e,i){const s=this._list.getItemSize()*this._list.getVisibleItemsPerPage();let r=0,a=this._list.currentPage;return Math.abs(t)<=0||((0,n.default)(e)||(0,n.default)(i)||(r=Math.abs(e)-Math.abs(i)),t<0?!(0,n.default)(e)&&!(0,n.default)(i)&&r<0?this._list.currentPage=a=Math.floor(t/s):this._list.currentPage=a=Math.ceil(t/s):!(0,n.default)(e)&&!(0,n.default)(i)&&r<0?this._list.currentPage=a=Math.ceil(t/s):this._list.currentPage=a=Math.floor(t/s)),a}checkAndSetSizes(){if(this._list.divList.childElementCount>0){const t=this._list.divList.getBoundingClientRect(),e=this._list.divList.children[0];this._list.divListWidth=t.width,this._list.divListHeight=t.height,this.updateViewportSize(),"vertical"===this._list.orientation&&(this._list.style.width="100%"),setTimeout(()=>{this._list.itemOffsetHeight=e.offsetHeight,this._list.itemOffsetWidth=e.offsetWidth,this._list.divListWidth=t.width,this._list.divListHeight=t.height,this._list.sizeResolver.fullListSize>this._list.sizeResolver.viewPortSize&&(this._list.style.width="100%"),this.updateViewportSize()}),e instanceof HTMLElement&&(this._list.itemOffsetHeight=e.offsetHeight,this._list.itemOffsetWidth=e.offsetWidth),this._list.storedOffsetWidth=this._list.offsetWidth,this._list.storedOffsetHeight=this._list.offsetHeight}}updateViewportSize(t=0){if(!t){const e=this._list.getBoundingClientRect();t=this._list.isHorizontal?e.width:e.height}this._list.isHorizontal?this._list.viewportClientWidth=t:this._list.viewportClientHeight=t}resolveEndlessViewportSize(){if(!this.endless)return;const t=this._list.sizeResolver.getItemsPerPage(),e=this._list.size;Math.floor(t)===e?this._list.endless=!1:this._list.endless=!0}resetItemsTransform(){this._list.items=this._list.items.map(t=>(t.element.style.transform="translate3d(0,0,0)",Object.assign(Object.assign({},t),{translateX:0,translateY:0})))}isPositionExceedingMaximumBoundary(){if(!this._list.animationHelper)return!1;const{maxOffsetTranslate:t}=this._list.animationHelper,{currentYPosition:e,currentXPosition:i,isHorizontal:s}=this._list;if(!t)return!1;if(this._list&&this._list.isLtr()){if(s&&i<t||!s&&e<t)return!0}else if(s&&i>t||!s&&e>t)return!0;return!1}getRelativeScrollbarPosition(t,e,i){let s,n=t/e*100%100,r=1;return(this._list.isVertical||this._list.direction===l.Ch5Common.DIRECTION[0])&&t>0&&(n=100-n,r=-1),this._list.isHorizontal&&this._list.direction===l.Ch5Common.DIRECTION[1]&&t<0&&(n=100+n),s=Math.round(n/100*i)*r,s}computeItemLocation(t){const e=this._list.isHorizontal?this._list.currentXPosition:this._list.currentYPosition,i=this._list.previousSize*this._list.getItemSize();let s=e%i;return t>0&&(s=i-e),s=s<=0?s:-s,s}processTemplateForVars(t,e){for(const i in e){const s=`{{${i}}}`,n=e[i];t=this.textReplace(t,s,n,!0)}return t}textReplace(t,e,i,s){let n="";return null!=t&&(n=!0===s?t.replace(new RegExp(e,"g"),i):t.replace(new RegExp(e),i)),n}createScrollbar(){this._scrollbarElement instanceof HTMLElement&&this.removeScrollbar();const t=document.createElement("div"),e=this._list.isHorizontal?this._list.currentXPosition:this._list.currentYPosition;this._scrollbarElement=document.createElement("div"),this._scrollbarElement.classList.add("scrollbar"),t.classList.add("scrollbar-container"),t.appendChild(this._scrollbarElement),this._list.appendChild(t),this.updateScrollBarPosition(e)}prepareStyleSheet(){const t={["#"+this._list.getCrId()]:{"white-space":this._list.orientation===r.Ch5List.ORIENTATION[0]?"none":"nowrap","will-change":"transform",transition:"height .3s ease-out"},[`#${this._list.getCrId()} .${r.Ch5List.ITEMCLASS}`]:Object.assign({},this.listItemCSS())};return{toString:()=>{let e="";for(const i in t)if(t.hasOwnProperty(i)){e+=` ${i}{`;for(const s in t[i])if(t[i].hasOwnProperty(s)){let r=t[i][s];(0,n.default)(r)||""===r||(r=r.trim(),e+=`${s}: ${r};`)}e+="}"}return e}}}initListMaxWidthAndHeight(){this._list.maxWidth||(this._list.maxWidth="100%"),this._list.maxHeight||(this._list.maxHeight="100%")}}e.Ch5ListTemplate=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ListSizeResolver=void 0;e.Ch5ListSizeResolver=class{constructor(t,e){this.elements=[],this.viewPortSize=0,this.fullListSize=0,this.hiddenListSize=0,this.orientation="horizontal",this.elements=Array.from(t),this.orientation=e,this.init()}getItemsPerPage(){let t=0,e=Array.from(this.elements).reduce((e,i)=>t<=this.viewPortSize?(t+=this.getElementSize(i),++e):e,0);return e-=1,e}getTotalSize(){return Array.from(this.elements).reduce((t,e)=>t+this.getElementSize(e),0)}getOverflowSize(){return this.getTotalSize()-this.viewPortSize}getFullSize(){return this.viewPortSize+this.getOverflowSize()}updateViewport(t){const e=t.getBoundingClientRect();"horizontal"===this.orientation?this.viewPortSize=e.width:this.viewPortSize=e.height,this.fullListSize=this.getFullSize(),this.hiddenListSize=this.getOverflowSize()}init(){this.fullListSize=this.getFullSize(),this.hiddenListSize=this.getOverflowSize()}getElementSize(t){return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}}},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ListEventManager=e.stepAllowancePx=void 0;const n=s(i(11)),r=i(35),a=i(231),o=i(25),l=i(26),h=i(232);e.stepAllowancePx=50;class u extends l.Ch5ListAbstractHelper{constructor(t){super(t),this._dragAllowanceAngle=45,this._currentDragAngle=0,this._listHasMoved=!1,this._hammer=null,this._updateManager=0,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerEnd=this.onPointerEnd.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.onOrientationChange=this.onOrientationChange.bind(this)}removeEvents(t){this._list.info("ch5-list-event-manager - removeEvents"),null!==this._hammer&&(this._hammer.destroy(),this._hammer=null),window.removeEventListener("resize",this.onWindowResize),window.removeEventListener("touchcancel",this.onPointerCancel),window.removeEventListener("orientationchange",this.onOrientationChange),t.removeEventListener("touchstart",this.onPointerDown),t.removeEventListener("mousedown",this.onPointerDown),t.removeEventListener("touchmove",this.onPointerMove),t.removeEventListener("mousemove",this.onPointerMove),t.removeEventListener("touchend",this.onPointerEnd),t.removeEventListener("mouseup",this.onPointerEnd)}initializeEvents(t){this._list.info("ch5-list-event-manager - initializeEvents"),window.addEventListener("resize",this.onWindowResize),window.addEventListener("orientationchange",this.onOrientationChange),(0,h.isCrestronDevice)()||this.initializeMouseEvents(t),this.initializeTouchEvents(t),window.addEventListener("touchmove",()=>{})}initializeTouchEvents(t){this._list.info("ch5-list-event-manager - initializeTouchEvents"),window.addEventListener("touchcancel",this.onPointerCancel),t.addEventListener("touchstart",this.onPointerDown,{passive:!0}),t.addEventListener("touchmove",this.onPointerMove,{passive:!0}),t.addEventListener("touchend",this.onPointerEnd,!0)}initializeMouseEvents(t){this._list.info("initializeMouseEvents"),t.addEventListener("mousedown",this.onPointerDown),t.addEventListener("mousemove",this.onPointerMove,(0,a.getEvtListenerOptions)(!1)),t.addEventListener("mouseup",this.onPointerEnd,!0)}checkTouchSupport(){return"ontouchstart"in window&&"ontouchmove"in window&&"ontouchend"in window&&"ontouchcancel"in window||navigator.maxTouchPoints>0}onWindowResize(){this._list.templateHelper.resetListLayout()}onPointerDown(t){this._list.info("ch5-list-event-manager - onPointerDown: "+t);const e=(0,o.normalizeEvent)(t);if(this._list.decelerating&&e.event.stopPropagation(),this._list.endless&&!this._animationHelper.maxOffsetTranslate||!this._list.endless){this._list.sizeResolver.updateViewport(this._list);const t=!(0,n.default)(this._list.bufferAmount)&&this._list.bufferAmount>0,e=this._animationHelper.adjustMaxOffset(t);this._animationHelper.maxOffsetTranslate=e}const i=this._list.getBoundingClientRect(),s=this._list.items[0].element.getBoundingClientRect();let a=i.width,l=s.width*this._list.size;this._templateHelper.resolveEndlessViewportSize(),this._list.isHorizontal||(a=i.height,l=s.height*this._list.size),l>a&&(this._list.decelerating=!1,this._list.isPointerActive=!0,this._list.pointerId=e.id,this._list.pointerFirstX=this._list.pointerLastX=this._list.pointerCurrentX=e.x,this._list.pointerFirstY=this._list.pointerLastY=this._list.pointerCurrentY=e.y,this._list.lastDraggedLayoutIndex=this._list.items[this._list.selected].layoutIndex,this._list.pointerStartTime=this._list.pointerEndTime=Date.now(),this._list.stepOnX=this._list.currentXPosition,this._list.stepOnY=this._list.currentYPosition,this._list.trackingPointsX=[],this._list.trackingPointsY=[],this._addTrackingPoint(this._list.pointerLastX,r.Ch5ListItemAxis.X),this._addTrackingPoint(this._list.pointerLastY,r.Ch5ListItemAxis.Y),this._list.animationHelper.stop(),window.addEventListener("touchcancel",this.onPointerEnd))}onPointerMove(t){const e=(0,o.normalizeEvent)(t),i=Math.abs(this._list.pointerFirstX-e.x),s=Math.abs(this._list.pointerFirstY-e.y);let n=Math.atan2(i,s)*(180/Math.PI);if(this._list.isHorizontal&&(n=Math.atan2(s,i)*(180/Math.PI)),this._currentDragAngle=n,this._currentDragAngle>=0&&this._currentDragAngle<=this._dragAllowanceAngle&&this._list.isPointerActive){this._list.info("ch5-list-event-manager - onPointerMove: "+t),this._list.pointerCurrentX=e.x,this._list.pointerCurrentY=e.y,this._listHasMoved=!0;const i=this._list.currentXPosition+this._list.pointerCurrentX-this._list.pointerFirstX,s=this._list.currentYPosition+this._list.pointerCurrentY-this._list.pointerFirstY,n=this._list.isHorizontal?i:s,a=this._list.isHorizontal?this._list.stepOnX:this._list.stepOnY;Math.abs(a-n)>1&&(this._list.animationHelper.direction=this._list.animationHelper.resolveDirection(n,a)),clearTimeout(this._updateManager),this._updateManager=window.setTimeout(()=>{this._list.stepOnX=i,this._list.stepOnY=s,this._list.pointerStartTime=Date.now()},50);let o=i;this._list.isHorizontal||(o=s),this._templateHelper.computePage(Math.abs(o)),this._addTrackingPoint(this._list.pointerLastX,r.Ch5ListItemAxis.X),this._addTrackingPoint(this._list.pointerLastY,r.Ch5ListItemAxis.Y),null!==this._animationHelper&&this._animationHelper.updateDragPosition(o)}else this._list.isPointerActive=!1}onPointerEnd(t){this._list.info("ch5-list-event-manager - onPointerEnd: "+t),this._list.pointerEndTime=Date.now(),this._listHasMoved&&(this._list.currentXPosition+=this._list.pointerCurrentX-this._list.pointerFirstX,this._list.currentYPosition+=this._list.pointerCurrentY-this._list.pointerFirstY,this.stopPointerTracking()),clearTimeout(this._updateManager),this._listHasMoved=!1}onPointerCancel(){this._list.info("ch5-list-event-manager - onPointerCancel"),this.stopPointerTracking()}updateDragEventListeners(t){this._list.info("ch5-list-event-manager - updateDragEventListeners"),t.addEventListener("touchstart",this.onPointerDown,(0,a.getEvtListenerOptions)(!0)),t.addEventListener("mousedown",this.onPointerDown,(0,a.getEvtListenerOptions)(!0))}onOrientationChange(){this._templateHelper.customScrollbar(this._list)}stopPointerTracking(){this._list.info("ch5-list-event-manager - stopPointerTracking"),this._list.isPointerActive=!1,this._list.pointerId=0,null!==this._animationHelper&&this._animationHelper.startDecelerating()}_addTrackingPoint(t,e){const i=Date.now();switch(e){case r.Ch5ListItemAxis.X:for(;this._list.trackingPointsX.length>0&&!(i-this._list.trackingPointsX[0].time<=100);)this._list.trackingPointsX.shift();this._list.trackingPointsX.push({num:t,time:i});break;case r.Ch5ListItemAxis.Y:for(;this._list.trackingPointsY.length>0&&!(i-this._list.trackingPointsY[0].time<=100);)this._list.trackingPointsY.shift();this._list.trackingPointsY.push({num:t,time:i})}}}e.Ch5ListEventManager=u},function(t,e,i){"use strict";let s;Object.defineProperty(e,"__esModule",{value:!0}),e.getEvtListenerOptions=void 0,e.getEvtListenerOptions=function(t){return!!function(){if(void 0===s){s=!1;try{Object.defineProperty({},"passive",{get:()=>{s=!0}})}catch(t){console.log(t)}}return s}()&&{passive:t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCrestronDevice=void 0,e.isCrestronDevice=function(){return window.navigator.userAgent.toLowerCase().includes("crestron")}},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ListSignalManager=void 0;const n=s(i(0)),r=i(1),a=i(26);class o extends a.Ch5ListAbstractHelper{unsubscribeFromSignals(t){const e=this._list;this.clearSubscription(t,e.receiveStateScrollToSub,"receiveStateScrollTo"),this.clearSubscription(t,e.receiveStateSize,"receiveStateSize"),this.clearSubscription(t,e.receiveStateTemplateVarsSub,"receiveStateTemplateVars")}subscribeToSignal(t,e,i,s){if(void 0===e||void 0===i)return"";if(null!=(e=r.Ch5Signal.getSubscriptionSignalName(e))){const s=this.getStateFromFactory(e,t);null!==s&&s.unsubscribe(i)}const a=this.getStateFromFactory(e,t);return n.default.isNil(a)?"":a.subscribe(s.bind(this._list))}getStateFromFactory(t,e){return r.Ch5SignalFactory.getInstance().getState(t,e)}clearSubscription(t,e,i){const s=Object.assign({},this._list);i in s&&null!==s[i]&&(t(i,e),s[i]="")}}e.Ch5ListSignalManager=o},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ListAnimation=e.EDragDirection=e.defaultTransitionDuration=void 0;const n=s(i(11)),r=s(i(63)),a=i(26),o=i(92);var l;e.defaultTransitionDuration=0,function(t){t[t.next=1]="next",t[t.previous=0]="previous"}(l=e.EDragDirection||(e.EDragDirection={}));class h extends a.Ch5ListAbstractHelper{constructor(t,e){super(t),this.disableAnimation=!1,this.animationAPI={},this.animationFrame=0,this.minOffsetTranslate=0,this.direction=1,e instanceof o.Ch5Animation&&(this.animationAPI=e)}stop(){this._list.pagedSwipe||(this._list.decelerating=!1,cancelAnimationFrame(this.animationFrame))}onFinishAnimation(){this._list.decelerating=!1}addAnimationApi(t){return t instanceof o.Ch5Animation&&(this.animationAPI=t,!0)}startDecelerating(){this._list.info("ch5-list-template - startDecelerating"),this._list.pagedSwipe||this._list.endless||(this.minOffsetTranslate=0),this.listDeceleration()}listDeceleration(){if(this.disableAnimation)return void(this._list.decelerating=!1);this._list.decelerating=!0;let t,e=this._list.isHorizontal?this._list.currentXPosition:this._list.currentYPosition;const i=this._list.pointerEndTime-this._list.pointerStartTime,s=this._list.isHorizontal,n=s?this._list.currentXPosition:this._list.currentYPosition,r=s?this._list.stepOnX:this._list.stepOnY,a=Math.abs(n-r);if(t=25*Math.round(a/i),this._list.endless?this._infiniteLoopManager(e):e=this.fixOffset(e),0!==a){if(t>2e3&&(t=2e3),this._list.pagedSwipe){const t=this._list.viewportClientWidth,i=this._list.viewportClientHeight,s=this._list.isHorizontal?t:i;this._templateHelper.computePage(e,r,n),e=this._list.currentPage*s,this._list.isHorizontal?this._list.currentXPosition=e:this._list.currentYPosition=e,this.updateDragPosition(e,this.animationAPI.animate)}else{cancelAnimationFrame(this.animationFrame);const i=()=>{const s=this._list.isLtr(),n=this.minOffsetTranslate||0,r=this.maxOffsetTranslate||0,a=this._list.isHorizontal?this._list.currentXPosition:this._list.currentYPosition;if(t<1||!this._list.endless&&(t<1||s&&(a<=r||a>=0)||!s&&(a<=n||a>=-r)))return cancelAnimationFrame(this.animationFrame),void(this._list.decelerating=!1);t*=.95555,this._list.isHorizontal?(this._list.pointerFirstX<this._list.pointerLastX?this._list.currentXPosition+=t:this._list.currentXPosition-=t,e=this._list.currentXPosition):(this._list.pointerFirstY<this._list.pointerLastY?this._list.currentYPosition+=t:this._list.currentYPosition-=t,e=this._list.currentYPosition),this.updateDragPosition(e),this.animationFrame=requestAnimationFrame(i)};t>0&&i()}this._list.bufferAmount&&this._list.bufferdItemsHelper.maybeAddBufferItems(e)}else this._list.decelerating=!1}fixOffset(t){this._list.info("ch5-list-animation - fixOffset, coord: "+t);const e=this._list.isLtr();let i,s=0;return(0,r.default)(this.maxOffsetTranslate)&&(this.maxOffsetTranslate=0),this._list.isHorizontal?(0,n.default)(this._list.itemOffsetWidth)||(i=this.maxOffsetTranslate,s=a(t,i,this.minOffsetTranslate)):(0,n.default)(this._list.itemOffsetHeight)||(i=this.maxOffsetTranslate,s=a(t,i,this.minOffsetTranslate)),s;function a(t,i,s){let n=i,r=s;if(!e){const t=n;n=r,r=-t}return t<n?n:t>r?r:t}}signalScrollTo(t){this._list.info("ch5-list-animation - signalScrollTo, position: "+t);const e=this._list.isLtr();let i=t>=0;if(this._list.isHorizontal&&!e&&(i=(t=-t)<=0),this._list.divList.childElementCount>0&&i){const e=this._list.divList.firstChild.getBoundingClientRect();if(null!==e){const i=this._list.isHorizontal?e.width:e.height,s=this.animationAPI.animate.bind(this.animationAPI),n=-i*t;this._list.isHorizontal?this._list.currentXPosition=n:this._list.currentYPosition=n,this._list.templateHelper.updateScrollBarPosition(n,s),this.updateDragPosition(n,s)}}}slideTo(t){this._list.isHorizontal?this._templateHelper.setWrapperTranslateX(t):this._templateHelper.setWrapperTranslateY(t)}resolveDirection(t,e){return t>=e?0:1}updateDragPosition(t,e){let i;this._list.endless?this._infiniteLoopManager(t):t=this._computeNewPosition(t),void 0!==e&&(i=e.bind(this.animationAPI)),this._list.isHorizontal?this._templateHelper.setWrapperTranslateX(t,i):this._templateHelper.setWrapperTranslateY(t,i),!0===this._list.scrollbar&&this._templateHelper.updateScrollBarPosition(t,i),this._list.pointerLastX=this._list.pointerCurrentX,this._list.pointerLastY=this._list.pointerCurrentY,this._list.dragTicking=!1,this._list.bufferdItemsHelper.maybeAddBufferItems(t)}adjustMaxOffset(t=!1){if(!t)return-this._list.sizeResolver.hiddenListSize;this._templateHelper.updateViewportSize(this._list.sizeResolver.viewPortSize);const e=this._list.getItemsPerPage(),i=this._list.getItemSize();return-(((this._list.size||0)-e)*i)}resetOffsets(){this.maxOffsetTranslate=void 0,this.minOffsetTranslate=0}_infiniteLoopManager(t){const e=this._list.items[0],i=this._list.isLtr();if(!e)return;const s=this._list.isHorizontal?e.element.offsetWidth:e.element.offsetHeight;if((0,n.default)(this.maxOffsetTranslate))return;let r,a;this._log(t),(this._list.isVertical||i)&&this._arrangementCondition(t)&&(this.direction===l.next?(r=Math.ceil(Math.abs(t-this.maxOffsetTranslate)/s),a=this.stackInfinite):(r=Math.ceil(Math.abs(t-this.minOffsetTranslate)/s),a=this.queueInfinite),this._loop(r,a)),this._list.isHorizontal&&!i&&this._arrangementCondition(t)&&(this.direction===l.next?(r=Math.ceil(Math.abs(t-this.minOffsetTranslate)/s),a=this.queueInfinite):(r=Math.ceil(Math.abs(t-this.minOffsetTranslate)/s)-1,a=this.stackInfinite),this._loop(r,a))}stackInfinite(){const t=this._list.items.shift(),e=this._list.isLtr();if(!t||(0,n.default)(this.maxOffsetTranslate))return;const i=this._list.sizeResolver.fullListSize;let s=t.element.offsetWidth,r=i;if(this._list.isHorizontal&&!e&&(r=-i),this._list.items.push(t),this._list.isHorizontal){const e=t.translateX+r;this._templateHelper.setItemTranslateX(e,t)}else{const e=t.translateY+r;this._templateHelper.setItemTranslateY(e,t),s=t.element.offsetHeight}let a=-s;this._list.isHorizontal&&!e&&(a=s),this.maxOffsetTranslate=this.maxOffsetTranslate+a,this.minOffsetTranslate=this.minOffsetTranslate+a}queueInfinite(){const t=this._list.items.pop(),e=this._list.isLtr();if(!t||(0,n.default)(this.maxOffsetTranslate))return;const i=this._list.sizeResolver.fullListSize;let s=t.element.offsetWidth,r=-i;if(this._list.isHorizontal&&!e&&(r=i),this._list.items.unshift(t),this._list.isHorizontal){const e=t.translateX+r;this._templateHelper.setItemTranslateX(e,t)}else{const e=t.translateY+r;this._templateHelper.setItemTranslateY(e,t),s=t.element.offsetHeight}let a=s;this._list.isHorizontal&&!e&&(a=-s),this.maxOffsetTranslate=this.maxOffsetTranslate+a,this.minOffsetTranslate=this.minOffsetTranslate+a}_calculateNextPosition(){const t=this._list.getItemSize();return this._list.items.length*t}_loop(t,e){let i=0;for(;i<t;)e.apply(this),i>this._list.items.length?(i=0,t-=this._list.items.length):i++}_arrangementCondition(t){const e=this._list.isLtr();if((0,n.default)(this.maxOffsetTranslate))return!1;if(this.direction===l.next){let i=this.maxOffsetTranslate;return this._list.isHorizontal&&!e&&(i=this.minOffsetTranslate),t<i}return t>this.minOffsetTranslate}_computeNewPosition(t){const e=this.maxOffsetTranslate||0,i=this._list.isHorizontal?this._list.currentXPosition:this._list.currentYPosition,s=this._list.isLtr();if(this._list.isHorizontal&&!s){if(i>-e||t>-e)return this._list.currentXPosition=this._list.currentYPosition=-e;if(i<0||t<0)return this._list.currentXPosition=this._list.currentYPosition=0}else{if(i<e||t<e)return this._list.currentXPosition=this._list.currentYPosition=e;if(i>0||t>0)return this._list.currentXPosition=this._list.currentYPosition=0}return t}_log(t){const e=this._list.isLtr();if((0,n.default)(this.maxOffsetTranslate))return;let i,s;this._list.isHorizontal&&!e?(i=t>this.maxOffsetTranslate,s=t<this.minOffsetTranslate):(i=t<this.maxOffsetTranslate,s=t>this.minOffsetTranslate),this._list.info({dir:this.direction,shouldStack:i,shouldQueue:s,minOffset:this.minOffsetTranslate,maxOffset:this.maxOffsetTranslate,pos:t})}}e.Ch5ListAnimation=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ListBufferedItems=void 0;const s=i(26);class n extends s.Ch5ListAbstractHelper{bufferItems(t,e){if("boolean"!=typeof t&&(t=!1),"boolean"!=typeof e&&(e=!1),!this._list.bufferedItems.bufferActive)return;const i=Number(this._list.size);!t&&this._list.bufferedItems.bufferForwardStartIndex<=i&&0===this._list.bufferedItems.forwardBufferedItems.length&&this._list.bufferedItems.bufferForwardStartIndex<=this._list.bufferedItems.bufferBackwardsStartIndex+this._list.getFirstRenderVisibleItemsNr()&&this._bufferItemsForward(),this._list.endless&&!e&&this._list.bufferedItems.bufferBackwardsStartIndex>0&&0===this._list.bufferedItems.backwardsBufferedItems.length&&this._list.bufferedItems.bufferBackwardsStartIndex>this._list.bufferedItems.bufferForwardStartIndex&&this._bufferItemsBackwards(),this._list.bufferedItems.bufferingComplete=this._list.bufferedItems.bufferForwardStartIndex>i||this._list.bufferedItems.bufferForwardStartIndex-1===this._list.bufferedItems.bufferBackwardsStartIndex||0===this._list.bufferedItems.bufferBackwardsStartIndex}_appendForwardBufferedItemsToList(t,e,i){if(this._list.bufferedItems.forwardBufferedItems.length>0){const t=document.createDocumentFragment();this._list.bufferedItems.forwardBufferedItems=this._list.bufferedItems.forwardBufferedItems.reverse();let e=this._list.bufferedItems.forwardBufferedItems.pop();for(;void 0!==e;)t.appendChild(e),e=this._list.bufferedItems.forwardBufferedItems.pop(),this._list.appendPosition++;this._list.divList.insertBefore(t,this._list.divList.children[this._list.appendPosition]),this.bufferItems(!1,!0),this._list.onResizeList()}}maybeAddBufferItems(t){if(null!==this._list.bufferAmount&&this._list.bufferAmount>0){const e=(this._list.items.length-this._list.getItemsPerPage())*this._list.getItemSize(),i=this._list.isLtr();(i&&t<-e||!i&&t<e)&&this._appendForwardBufferedItemsToList(t,!this._list.isHorizontal,this._list.bufferAmount)}}_bufferItemsForward(){const t=Number(this._list.size),e=this._list.divList.id,i=this._list.divList.children.length;let s=i+Number(this._list.bufferAmount);s>t&&(s=t);for(let t=i;t<s;t++){const i=this._list.templateHelper.processTemplate(e,t,this._list.templateVars);this._list.bufferedItems.forwardBufferedItems.push(i)}this._list.bufferedItems.bufferForwardStartIndex=s+1}_bufferItemsBackwards(){const t=this._list.divList.id;let e=this._list.bufferedItems.bufferBackwardsStartIndex-Number(this._list.bufferAmount);e<this._list.bufferedItems.bufferForwardStartIndex&&(e=this._list.bufferedItems.bufferForwardStartIndex-1),e<0&&(e=0);for(let i=this._list.bufferedItems.bufferBackwardsStartIndex;i>e;i--)this._list.bufferedItems.backwardsBufferedItems.push(this._templateHelper.processTemplate(t,i,this._list.templateVars));this._list.bufferedItems.bufferBackwardsStartIndex=e}_appendBackwardsBufferedItemsToList(t,e,i){if(this._list.bufferedItems.backwardsBufferedItems.length>0){const s=document.createDocumentFragment();let n=this._list.bufferedItems.backwardsBufferedItems.pop();for(;void 0!==n;)s.appendChild(n),n=this._list.bufferedItems.backwardsBufferedItems.pop(),e?this._list.divList.scrollTop=i+t:this._list.divList.scrollLeft=i+t;this._list.divList.insertBefore(s,this._list.divList.children[this._list.appendPosition]),this.bufferItems(!0,!1),this._list.onResizeList()}}}e.Ch5ListBufferedItems=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5AnimationFactory=void 0;const s=i(237);e.Ch5AnimationFactory=class{getAnimation(t,e,i){let n;return n=new s.Ch5StandardAnimation(t,e,i),n}}},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5StandardAnimation=void 0;const n=i(92),r=s(i(0)),a=i(35);class o extends n.Ch5Animation{constructor(t,e,i){super(t,e,i),this.animationTimeWatcher=0}animate(t,e,i){this.handleTransition(t),i===a.Ch5List.ORIENTATION[1]?t.style.transform=`translate3d(${e}px, 0, 0)`:t.style.transform=`translate3d(0, ${e}px, 0)`}handleTransition(t){(r.default.isEmpty(t.style.transition)||r.default.isNil(t.style.transition))&&(t.style.transition=`transform ${this.duration}ms ${this.easeMode}`),("0ms"===t.style.transitionDuration||r.default.isEmpty(t.style.transitionDuration)||parseFloat(t.style.transitionDuration)!==this.duration)&&(t.style.transitionDuration=this.duration+"ms"),clearTimeout(this.animationTimeWatcher),this.animationTimeWatcher=window.setTimeout(()=>{t.style.transitionDuration="0ms"},this.duration)}}e.Ch5StandardAnimation=o},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(239),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5ModalDialog=void 0;const s=i(93),n=i(6),r=i(17),a=i(2),o=i(3),l=i(4);class h extends s.Ch5OverlayPanel{constructor(){super(),this.primaryCssClass="ch5-modal-dialog",this._elMask={},this._elHeader={},this._elPrompt={},this._elPromptIcon={},this._elPromptText={},this._elFooter={},this._elBtnOk={},this._elBtnCancel={},this._crModalWasInstatiated=!1,this.info("Ch5ModalDialog.constructor()"),this._listOfAllPossibleComponentCssClasses=this.generateListOfAllPossibleComponentCssClasses(),this._ch5Properties=new l.Ch5Properties(this,h.COMPONENT_PROPERTIES),this._crModalWasInstatiated||(this._rebindEventCallbacks(),this.createInternalHtml()),this._crModalWasInstatiated=!0,this.updateCssClasses(),this._okEvent=new CustomEvent("ok",{bubbles:!0,cancelable:!1}),this._cancelEvent=new CustomEvent("cancel",{bubbles:!0,cancelable:!1})}set width(t){this._ch5Properties.set("width",this._parseSizeAttr(t),()=>{this.handleWidth()})}get width(){return this._ch5Properties.get("width")}set height(t){this._ch5Properties.set("height",this._parseSizeAttr(t),()=>{this.handleHeight()})}get height(){return this._ch5Properties.get("height")}set stretch(t){const e=this.stretch;this._ch5Properties.set("stretch",t,()=>{null!==e&&this.updateChangeInStretch(e)})}get stretch(){return this._ch5Properties.get("stretch")}set closable(t){this._ch5Properties.set("closable",t,()=>{this.adjustInternalHtmlStructure()})}get closable(){return this._ch5Properties.get("closable")}set title(t){const e=this._getTranslatedValue("title",t);this._ch5Properties.set("title",e,()=>{this.handleTitle(e)})}get title(){return this._ch5Properties.get("title")}set mask(t){this._ch5Properties.set("mask",t,()=>{this.handleMask()})}get mask(){return this._ch5Properties.get("mask")}set maskStyle(t){this._ch5Properties.set("maskStyle",t,()=>{this.handleMaskStyle()})}get maskStyle(){return this._ch5Properties.get("maskStyle")}set hideOkButton(t){this._ch5Properties.set("hideOkButton",t,()=>{this.adjustInternalHtmlStructure()})}get hideOkButton(){return this._ch5Properties.get("hideOkButton")}set okButtonLabel(t){const e=this._getTranslatedValue("okButtonLabel",t);this._ch5Properties.set("okButtonLabel",e,()=>{this.handleOkButtonLabel(e)})}get okButtonLabel(){return this._ch5Properties.get("okButtonLabel")}set okButtonIcon(t){this._ch5Properties.set("okButtonIcon",t,()=>{this.handleOkButtonIcon()})}get okButtonIcon(){return this._ch5Properties.get("okButtonIcon")}set okButtonStyle(t){this._ch5Properties.set("okButtonStyle",t,()=>{this.handleOkButtonStyle()})}get okButtonStyle(){return this._ch5Properties.get("okButtonStyle")}set hideCancelButton(t){this._ch5Properties.set("hideCancelButton",t,()=>{this.adjustInternalHtmlStructure()})}get hideCancelButton(){return this._ch5Properties.get("hideCancelButton")}set cancelButtonLabel(t){const e=this._getTranslatedValue("cancelButtonLabel",t);this._ch5Properties.set("cancelButtonLabel",e,()=>{this.handleCancelButtonLabel(e)})}get cancelButtonLabel(){return this._ch5Properties.get("cancelButtonLabel")}set cancelButtonIcon(t){this._ch5Properties.set("cancelButtonIcon",t,()=>{this.handleCancelButtonIcon()})}get cancelButtonIcon(){return this._ch5Properties.get("cancelButtonIcon")}set cancelButtonStyle(t){this._ch5Properties.set("cancelButtonStyle",t,()=>{this.handleCancelButtonStyle()})}get cancelButtonStyle(){return this._ch5Properties.get("cancelButtonStyle")}set prompt(t){const e=this._getTranslatedValue("prompt",t);this._ch5Properties.set("prompt",e,()=>{this.handlePrompt(e)})}get prompt(){return this._ch5Properties.get("prompt")}set promptIcon(t){this._ch5Properties.set("promptIcon",t,()=>{this.handlePromptIcon(t)})}get promptIcon(){return this._ch5Properties.get("promptIcon")}set sendEventOnOk(t){this._ch5Properties.set("sendEventOnOk",t,()=>{this._elBtnOk.setAttribute("sendEventOnClick",t)})}get sendEventOnOk(){return this._ch5Properties.get("sendEventOnOk")}set sendEventOnCancel(t){this._ch5Properties.set("sendEventOnCancel",t,()=>{this._elBtnCancel.setAttribute("sendEventOnClick",t)})}get sendEventOnCancel(){return this._ch5Properties.get("sendEventOnCancel")}static registerSignalAttributeTypes(){a.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(h.ELEMENT_NAME,h.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(h.ELEMENT_NAME,h)}attachEventListeners(){super.attachEventListeners(),this._elBtnCancel&&this._elBtnOk&&(this.hideOkButton||this._elBtnOk.addEventListener("click",this._onOkClick),this.hideCancelButton||this._elBtnCancel.addEventListener("click",this._onCancelClick),this._elMask.addEventListener("click",this._clickedOnMask))}removeEventListeners(){super.removeEventListeners(),void 0!==this._elBtnOk.childNodes&&this._elBtnOk.removeEventListener("click",this._onOkClick),void 0!==this._elBtnCancel.childNodes&&this._elBtnCancel.removeEventListener("click",this._onCancelClick),this._elMask.removeEventListener("click",this._clickedOnMask)}_rebindEventCallbacks(){super._rebindEventCallbacks(),this._onOkClick=this._onOkClick.bind(this),this._onCancelClick=this._onCancelClick.bind(this),this._clickedOnMask=this._clickedOnMask.bind(this)}_onOkClick(t){this.info("_onOkClick()"),this.dispatchEvent(this._okEvent),this.setShowBasedOnAttributes()}_onCancelClick(t){this.info("_onCancelClick()"),this.dispatchEvent(this._cancelEvent),this.setShowBasedOnAttributes()}_parseSizeAttr(t){let e=t.trim().toLowerCase();return-1===e.indexOf("px")&&(e+="px"),e}_clickedOnMask(t){return this.info("_clickedOnMask()"),!0===this.mask&&!0===this.dismissable&&this.setShowBasedOnAttributes(),t.stopPropagation(),!1}_checkAndAttachMaskIfNeeded(){!0===this.mask&&this._elMask.parentElement!==this&&this._elContainer.parentElement===this&&this.insertBefore(this._elMask,this._elContainer)}getTargetElementForCssClassesAndStyle(){return this._elContainer}connectedCallback(){this.info("ch5-modal connectedCallback()"),this.hasAttribute("role")||this.setAttribute("role",n.Ch5RoleAttributeMapping.ch5ModalDialog),this.hasAttribute("show")||this.setShowBasedOnAttributes(),this.initializeButton(),this._ready.then(()=>{this._initialize(),this.initCommonMutationObserver(this)}),this.attachEventListeners()}disconnectedCallback(){this.info("ch5-modal disconnectedCallback()"),super.disconnectedCallback(),this.disconnectCommonMutationObserver(),this.removeEventListeners()}setShowBasedOnAttributes(){this.setAttributeAndProperty(this.COMMON_PROPERTIES.SHOW,!1,!0)}static get observedAttributes(){const t=o.Ch5Common.observedAttributes,e=[];for(let t=0;t<h.COMPONENT_PROPERTIES.length;t++)!0===h.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(h.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}_initialize(){this.info("ch5-modal _initialize()");if(!this.querySelector("."+this.primaryCssClass)){for(;this.childNodes.length;)this._elContents.appendChild(this.childNodes[0]);this.appendChild(this._elContainer),this.adjustInternalHtmlStructure(),this.cacheComponentChildrens()}this.initAttributes(),this._checkAndAttachMaskIfNeeded(),this.updateCssClasses()}initializeButton(){this.hideOkButton||void 0!==this._elBtnOk.childNodes||(this._elBtnOk=new r.Ch5Button,this._elBtnOk.classList.add(this.primaryCssClass+"-btn-ok"),this._elBtnOk.setAttribute("type","success"),this._elBtnOk.setAttribute("label",this.okButtonLabel),this._elFooter.append(this._elBtnOk)),this.hideCancelButton||void 0!==this._elBtnCancel.childNodes||(this._elBtnCancel=new r.Ch5Button,this._elBtnCancel.classList.add(this.primaryCssClass+"-btn-cancel"),this._elBtnCancel.setAttribute("type","warning"),this._elBtnCancel.setAttribute("label",this.cancelButtonLabel),this._elFooter.append(this._elBtnCancel))}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<h.COMPONENT_PROPERTIES.length;e++)if(!0===h.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(h.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=h.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}generateListOfAllPossibleComponentCssClasses(){return super.generateListOfAllPossibleComponentCssClasses()}updateCssClasses(){super.updateCssClasses(),this.info("called updateCssClasses()");const t=new Set;t.add(this.primaryCssClass),t.add(this.primaryCssClass+"--overflow-"+this.overflow),t.add(this.primaryCssClass+"--stretch-"+this.stretch);const e=this.getTargetElementForCssClassesAndStyle();void 0!==e.classList&&this._listOfAllPossibleComponentCssClasses.forEach(i=>{t.has(i)?(e.classList.add(i),this.info("add CSS class",i)):(e.classList.remove(i),this.info("remove CSS class",i))})}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-modal-dialog-prasaanth attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=h.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}handleMask(){!0===this.mask?this._elMask.classList.add(this.primaryCssClass+"-mask-default-style"):this._elMask.remove(),this._checkAndAttachMaskIfNeeded()}handleMaskStyle(){this._elMask.style.cssText=this.maskStyle}handleWidth(){const t=this.getTargetElementForCssClassesAndStyle();t&&(t.style.width=this._parseSizeAttr(this.width))}handleHeight(){const t=this.getTargetElementForCssClassesAndStyle();t&&(t.style.height=this._parseSizeAttr(this.height))}handleTitle(t){this._elHeader instanceof HTMLElement&&(this._elHeader.textContent=t)}updateChangeInStretch(t){const e=this.getTargetElementForCssClassesAndStyle();e.classList.remove(this.primaryCssClass+"--stretch-"+t),e.classList.add(this.primaryCssClass+"--stretch-"+this.stretch)}handleOkButtonLabel(t){this._elBtnOk.setAttribute("label",t)}handleOkButtonIcon(){this._elBtnOk.setAttribute("iconClass",this.okButtonIcon)}handleOkButtonStyle(){this._elBtnOk.setAttribute("customStyle",this.okButtonStyle)}handleCancelButtonLabel(t){this._elBtnCancel instanceof HTMLElement&&this._elBtnCancel.setAttribute("label",t)}handleCancelButtonIcon(){this._elBtnCancel.setAttribute("iconClass",this.cancelButtonIcon)}handleCancelButtonStyle(){this._elBtnCancel.setAttribute("customStyle",this.cancelButtonStyle)}handlePrompt(t){this._elPromptText instanceof HTMLElement&&(this._elPromptText.textContent=t)}handlePromptIcon(t){this._elPromptIcon instanceof HTMLElement&&this._elPromptIcon.setAttribute("src",t)}createInternalHtml(){const t=this.querySelector("."+this.primaryCssClass);t?(this._elCloseIconBtn=this.querySelector(`.${this.primaryCssClass}-close-icon-btn`),this._elCloseIcon=this.querySelector(`.${this.primaryCssClass}-close-icon`),this._elHeader=this.querySelector(`.${this.primaryCssClass}-header`),this._elPrompt=this.querySelector(`.${this.primaryCssClass}-prompt`),this._elPromptIcon=this.querySelector(`.${this.primaryCssClass}-prompt-icon`),this._elPromptText=this.querySelector(`.${this.primaryCssClass}-prompt-text`),this._elFooter=this.querySelector(`.${this.primaryCssClass}-footer`),this._elBtnOk=this.querySelector(`.${this.primaryCssClass}-btn-ok`),this._elBtnCancel=this.querySelector(`.${this.primaryCssClass}-btn-cancel`),this._elContents=this.querySelector(`.${this.primaryCssClass}-contents`),this._elContainer=t,this._elMask=this.querySelector(`.${this.primaryCssClass}-mask`)):(this.info("ch5-modal-dialog create internal Html"),this._elContainer=document.createElement("div"),this._elCloseIconBtn=document.createElement("button"),this._elCloseIconBtn.setAttribute("type","button"),this._elCloseIconBtn.classList.add(this.primaryCssClass+"-close-icon-btn"),this._elCloseIconBtn.setAttribute("aria-label","Close"),this._elCloseIcon=document.createElement("span"),this._elCloseIcon.setAttribute("aria-hidden","true"),this._elCloseIcon.classList.add(this.primaryCssClass+"-close-icon"),this._elCloseIcon.classList.add(this.primaryCssClass+"-default-close-icon"),this._elCloseIconBtn.appendChild(this._elCloseIcon),this._elHeader=document.createElement("div"),this._elHeader.classList.add(this.primaryCssClass+"-header"),this._elPrompt=document.createElement("div"),this._elPrompt.classList.add(this.primaryCssClass+"-prompt"),this._elPromptIcon=document.createElement("img"),this._elPromptIcon.classList.add(this.primaryCssClass+"-prompt-icon"),this._elPromptText=document.createElement("span"),this._elPromptText.classList.add(this.primaryCssClass+"-prompt-text"),this._elFooter=document.createElement("div"),this._elFooter.classList.add(this.primaryCssClass+"-footer"),this._elContents=document.createElement("div"),this._elContents.classList.add(this.primaryCssClass+"-contents"),this._elContainer.classList.add(this.primaryCssClass),this._elContainer.setAttribute("data-ch5-id",this.getCrId()),this._elMask=document.createElement("div"),this._elMask.classList.add(this.primaryCssClass+"-mask"),this._elMask.classList.add(this.primaryCssClass+"-mask-default-style"),this._elMask.setAttribute("cr-id",this.getCrId()+"-mask"))}adjustInternalHtmlStructure(){const t=document.createDocumentFragment();this.closable?t.appendChild(this._elCloseIconBtn):this._elCloseIconBtn.remove(),""!==this.title?(this._elHeader.textContent=this.title,t.appendChild(this._elHeader)):this._elHeader&&this._elHeader.remove(),""!==this.prompt||""!==this.promptIcon?(""!==this.promptIcon?(this._elPromptIcon.setAttribute("src",this.promptIcon),this._elPrompt.appendChild(this._elPromptIcon)):this._elPromptIcon&&this._elPromptIcon.remove(),""!==this.prompt&&this._elPromptText instanceof Node?(this._elPromptText.textContent=this.prompt,this._elPrompt.appendChild(this._elPromptText),this._elPromptIcon instanceof Node&&this._elPrompt.insertBefore(this._elPromptIcon,this._elPromptText)):this._elPromptText instanceof Node&&this._elPromptText.remove(),t.appendChild(this._elPrompt)):this._elPrompt&&this._elPrompt.remove(),t.appendChild(this._elContents),this.hideOkButton&&this.hideCancelButton?this._elFooter&&this._elFooter.remove():(this.initializeButton(),this.hideOkButton?this.hideOkButton&&void 0!==this._elBtnOk.childNodes&&this._elBtnOk.remove():this._elFooter.appendChild(this._elBtnOk),this.hideCancelButton?this.hideCancelButton&&void 0!==this._elBtnCancel.childNodes&&this._elBtnCancel.remove():this._elFooter.appendChild(this._elBtnCancel),t.appendChild(this._elFooter)),this._elContainer.appendChild(t)}}e.Ch5ModalDialog=h,h.COMPONENT_DATA={STRETCH:{default:s.Ch5OverlayPanel.STRETCHES[0],values:s.Ch5OverlayPanel.STRETCHES,key:"stretch",attribute:"stretch",classListPrefix:"--stretch-"},OVERFLOWS:{default:s.Ch5OverlayPanel.OVERFLOWS[0],values:s.Ch5OverlayPanel.OVERFLOWS,key:"overflow",attribute:"overflow",classListPrefix:"--overflow-"}},h.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},o.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{sendsignalonbeforeshow:{direction:"event",booleanJoin:1,contractName:!0},sendsignalonaftershow:{direction:"event",booleanJoin:1,contractName:!0},sendsignalonbeforehide:{direction:"event",booleanJoin:1,contractName:!0},sendsignalonafterhide:{direction:"event",booleanJoin:1,contractName:!0},sendsignalonok:{direction:"event",booleanJoin:1,contractName:!0},sendsignaloncancel:{direction:"event",booleanJoin:1,contractName:!0}}),h.COMPONENT_PROPERTIES=[{default:!0,name:"dismissable",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"closable",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:"",name:"closeIcon",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:!1,name:"mask",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:"",name:"maskStyle",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:null,enumeratedValues:s.Ch5OverlayPanel.STRETCHES,name:"stretch",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:null,isObservableProperty:!0,isNullable:!0},{default:s.Ch5OverlayPanel.OVERFLOWS[0],enumeratedValues:s.Ch5OverlayPanel.OVERFLOWS,name:"overflow",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:s.Ch5OverlayPanel.OVERFLOWS[0],isObservableProperty:!0},{default:"",name:"width",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"height",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"title",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:!1,name:"hideOkButton",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:"Ok",name:"okButtonLabel",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"Ok",isObservableProperty:!0},{default:"",name:"okButtonIcon",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"okButtonStyle",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:!1,name:"hideCancelButton",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:"Cancel",name:"cancelButtonLabel",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"Cancel",isObservableProperty:!0},{default:"",name:"cancelButtonIcon",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"cancelButtonStyle",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"prompt",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"promptIcon",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnBeforeShow",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnAfterShow",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnBeforeHide",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnAfterHide",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnShow",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnOk",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnCancel",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}],h.ELEMENT_NAME="ch5-modal-dialog",h.registerCustomElement(),h.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5OverlayPanel=void 0;const s=i(3),n=i(1),r=i(6),a=i(2),o=i(4);class l extends s.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-overlay-panel",this._elContainer={},this._elContents={},this._elCloseIcon={},this._elCloseIconBtn={},this._wasInstatiated=!1,this._isShown=!1,this.info("Ch5OverlayPanel.constructor()"),this._wasInstatiated||(this.createInternalHtml(),this._rebindEventCallbacks()),this._wasInstatiated=!0,this._ch5Properties=new o.Ch5Properties(this,l.COMPONENT_PROPERTIES),this._showEvent=new CustomEvent("show",{bubbles:!0,cancelable:!1}),this._hideEvent=new CustomEvent("hide",{bubbles:!0,cancelable:!1}),this._beforeShowEvent=new CustomEvent("beforeShow",{bubbles:!0,cancelable:!1}),this._afterShowEvent=new CustomEvent("afterShow",{bubbles:!0,cancelable:!1}),this._beforeHideEvent=new CustomEvent("beforeHide",{bubbles:!0,cancelable:!1}),this._afterHideEvent=new CustomEvent("afterHide",{bubbles:!0,cancelable:!1}),this._ready=this._getReadyCheckPromise()}static registerSignalAttributeTypes(){a.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(l.ELEMENT_NAME,l.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(l.ELEMENT_NAME,l)}set dismissable(t){this._ch5Properties.set("dismissable",t)}get dismissable(){return this._ch5Properties.get("dismissable")}set closable(t){this._ch5Properties.set("closable",t,()=>{this.updateForChangeInClosable()})}get closable(){return this._ch5Properties.get("closable")}set closeIcon(t){const e=""===this.closeIcon?this.primaryCssClass+"-default-close-icon":this.closeIcon;this._ch5Properties.set("closeIcon",t,()=>{this.handleCloseIcon(e,t)})}get closeIcon(){return this._ch5Properties.get("closeIcon")}set stretch(t){this._ch5Properties.set("stretch",t,()=>{this.updateForChangeInStretch()})}get stretch(){return this._ch5Properties.get("stretch")}set overflow(t){this._ch5Properties.set("overflow",t,()=>{this.updateCssClasses()})}get overflow(){return this._ch5Properties.get("overflow")}set positionTo(t){this._ch5Properties.set("positionTo",t,()=>{this.updatePosition()})}get positionTo(){return this._ch5Properties.get("positionTo")}set positionOffset(t){this._ch5Properties.set("positionOffset",t,()=>{this.updatePosition()})}get positionOffset(){return this._ch5Properties.get("positionOffset")}set receiveStatePositionTo(t){this._ch5Properties.set("receiveStatePositionTo",t,null,t=>{this._ch5Properties.setForSignalResponse("positionTo",t,()=>{this.updatePosition()})})}get receiveStatePositionTo(){return this._ch5Properties.get("receiveStatePositionTo")}set receiveStatePositionOffset(t){this._ch5Properties.set("receiveStatePositionOffset",t,null,t=>{this._ch5Properties.setForSignalResponse("positionOffset",t,()=>{this.updatePosition()})})}get receiveStatePositionOffset(){return this._ch5Properties.get("receiveStatePositionOffset")}set sendEventOnBeforeShow(t){this._ch5Properties.set("sendEventOnBeforeShow",t)}get sendEventOnBeforeShow(){return this._ch5Properties.get("sendEventOnBeforeShow")}set sendEventOnAfterShow(t){this._ch5Properties.set("sendEventOnAfterShow",t)}get sendEventOnAfterShow(){return this._ch5Properties.get("sendEventOnAfterShow")}set sendEventOnBeforeHide(t){this._ch5Properties.set("sendEventOnBeforeHide",t)}get sendEventOnBeforeHide(){return this._ch5Properties.get("sendEventOnBeforeHide")}set sendEventOnAfterHide(t){this._ch5Properties.set("sendEventOnAfterHide",t)}get sendEventOnAfterHide(){return this._ch5Properties.get("sendEventOnAfterHide")}connectedCallback(){this.info("called connectedCallback()"),this.hasAttribute("role")||this.setAttribute("role",r.Ch5RoleAttributeMapping.ch5OverlayPanel),this.hasAttribute("show")||this.setAttributeAndProperty(this.COMMON_PROPERTIES.SHOW,!1,!0),this._ready.then(()=>{this._initialize(),this.initCommonMutationObserver(this)})}disconnectedCallback(){this.info("called disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver()}_initialize(){if(this.info("ch5-overlay-panel _initialize()"),this._elContainer.parentElement!==this){for(;this.childNodes.length;)this._elContents.appendChild(this.childNodes[0]);this.appendChild(this._elContainer)}this.cacheComponentChildrens(),this.initAttributes(),this.updateCssClasses(),this.attachEventListeners()}generateListOfAllPossibleComponentCssClasses(){const t=[];return t.push(this.primaryCssClass),l.POSITION_OFFSETS.forEach(e=>{const i=this.primaryCssClass+"--pos-"+e;t.push(i)}),l.OVERFLOWS.forEach(e=>{t.push(this.primaryCssClass+"--overflow-"+e)}),l.STRETCHES.forEach(e=>{null!==e&&t.push(this.primaryCssClass+"--stretch-"+e)}),t}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}createInternalHtml(){this.info("ch5-overlay-panel create internal Html"),this._elContainer=document.createElement("div"),this._elCloseIconBtn=document.createElement("button"),this._elCloseIconBtn.setAttribute("type","button"),this._elCloseIconBtn.classList.add(this.primaryCssClass+"-close-icon-btn"),this._elCloseIconBtn.setAttribute("aria-label","Close"),this._elCloseIcon=document.createElement("span"),this._elCloseIcon.setAttribute("aria-hidden","true"),this._elCloseIcon.classList.add(this.primaryCssClass+"-close-icon"),this._elCloseIcon.classList.add(this.primaryCssClass+"-default-close-icon"),this._elCloseIconBtn.appendChild(this._elCloseIcon),this._elContents=document.createElement("div"),this._elContents.classList.add(this.primaryCssClass+"-contents"),this._elContainer.classList.add(this.primaryCssClass),this._elContainer.setAttribute("data-ch5-id",this.getCrId()),this._elContainer.appendChild(this._elContents)}updateCssClasses(){super.updateCssClasses(),this.info("called updateCssClasses()");const t=new Set;t.add(this.primaryCssClass),t.add(this.primaryCssClass+"--overflow-"+this.overflow);const e=this.getTargetElementForCssClassesAndStyle();void 0!==e.classList&&this.generateListOfAllPossibleComponentCssClasses().forEach(i=>{t.has(i)?(e.classList.add(i),this.info("add CSS class",i)):(e.classList.remove(i),this.info("remove CSS class",i))})}static get observedAttributes(){const t=s.Ch5Common.observedAttributes,e=[];for(let t=0;t<l.COMPONENT_PROPERTIES.length;t++)!0===l.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(l.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<l.COMPONENT_PROPERTIES.length;e++)if(!0===l.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(l.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=l.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}attachEventListeners(){super.attachEventListeners(),this._elCloseIconBtn&&(this._elCloseIconBtn.addEventListener("click",this._clickedOnClose),window.addEventListener("keydown",this._handleKeyPress)),this.addEventListener("click",this._clickAndTouchEvent),this.addEventListener("touch",this._clickAndTouchEvent),this.addEventListener("show",this._onShow),this.addEventListener("hide",this._onHide),this.addEventListener("beforeShow",this._onBeforeShow),this.addEventListener("afterShow",this._onAfterShow),this.addEventListener("beforeHide",this._onBeforeHide),this.addEventListener("afterHide",this._onAfterHide)}removeEventListeners(){super.removeEventListeners(),this._elCloseIconBtn.removeEventListener("click",this._clickedOnClose),window.removeEventListener("keydown",this._handleKeyPress),this.removeEventListener("show",this._onShow),this.removeEventListener("hide",this._onHide),this.removeEventListener("beforeShow",this._onBeforeShow),this.removeEventListener("afterShow",this._onAfterShow),this.removeEventListener("beforeHide",this._onBeforeHide),this.removeEventListener("afterHide",this._onAfterHide)}_rebindEventCallbacks(){this._onShow=this._onShow.bind(this),this._onHide=this._onHide.bind(this),this._onBeforeShow=this._onBeforeShow.bind(this),this._onAfterShow=this._onAfterShow.bind(this),this._onBeforeHide=this._onBeforeHide.bind(this),this._onAfterHide=this._onAfterHide.bind(this),this._clickedOnClose=this._clickedOnClose.bind(this),this._handleKeyPress=this._handleKeyPress.bind(this),this._dismissElement=this._dismissElement.bind(this),this._clickAndTouchEvent=this._clickAndTouchEvent.bind(this)}getTargetElementForCssClassesAndStyle(){return this._elContainer}_handleKeyPress(t){"false"!==this.getAttribute("show")&&"Escape"===t.key&&(this.info("_handleKeyPress()"),this.setAttributeAndProperty(this.COMMON_PROPERTIES.SHOW,!1,!0))}_clickedOnClose(t){this.info("_clickedOnClose()"),this.setAttributeAndProperty(this.COMMON_PROPERTIES.SHOW,!1,!0)}_getReadyCheckPromise(){return Promise.all([customElements.whenDefined("ch5-button"),customElements.whenDefined("ch5-form"),customElements.whenDefined("ch5-image"),customElements.whenDefined("ch5-list"),customElements.whenDefined("ch5-modal-dialog"),customElements.whenDefined("ch5-overlay-panel"),customElements.whenDefined("ch5-select"),customElements.whenDefined("ch5-slider"),customElements.whenDefined("ch5-spinner"),customElements.whenDefined("ch5-textinput"),customElements.whenDefined("ch5-toggle"),customElements.whenDefined("ch5-triggerview"),customElements.whenDefined("ch5-triggerview-child")])}attributeChangedCallback(t,e,i){if(e!==i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-overlay-panel attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=l.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}}updateForChangeInStretch(){const t=this.parentElement,e=this.getTargetElementForCssClassesAndStyle();if(t)switch(this.stretch){case"width":e.style.width=t.offsetWidth+"px",e.style.height="";break;case"height":e.style.height=t.offsetHeight+"px",e.style.width="";break;case"both":e.style.width=t.offsetWidth+"px",e.style.height=t.offsetHeight+"px"}else this.info("updateForChangeInStretch() - parent element not found")}updatePosition(){let t=this.positionTo||"";if(""===t)return void this.info("updateForChangeInPositionTo() - incorrect reference id ");"#"!==t.charAt(0)&&(t="#"+t);const e=document.querySelector(t);e&&this.parentElement!==e.parentElement&&this._insertAfter(this,e);const i=this.getTargetElementForCssClassesAndStyle();if(e)switch(this.positionOffset){case"top-left":i.style.top=e.offsetTop-i.offsetHeight+"px",i.style.left=e.offsetLeft+"px";break;case"top-center":i.style.top=e.offsetTop-i.offsetHeight+"px",i.style.left=e.offsetLeft+Math.floor(e.offsetWidth/2)-Math.floor(i.offsetWidth/2)+"px";break;case"top-right":i.style.top=e.offsetTop-i.offsetHeight+"px",i.style.left=e.offsetLeft+e.offsetWidth-i.offsetWidth+"px";break;case"bottom-left":i.style.top=e.offsetTop+e.offsetHeight+"px",i.style.left=e.offsetLeft+"px";break;case"bottom-center":i.style.top=e.offsetTop+e.offsetHeight+"px",i.style.left=e.offsetLeft+Math.floor(e.offsetWidth/2)-Math.floor(i.offsetWidth/2)+"px";break;case"bottom-right":i.style.top=e.offsetTop+e.offsetHeight+"px",i.style.left=e.offsetLeft+e.offsetWidth-i.offsetWidth+"px";break;case"left-center":i.style.top=e.offsetTop-Math.floor(i.offsetHeight/2)+Math.floor(e.offsetHeight/2)+"px",i.style.left=e.offsetLeft-i.offsetWidth+"px";break;case"right-center":i.style.top=e.offsetTop-Math.floor(i.offsetHeight/2)+Math.floor(e.offsetHeight/2)+"px",i.style.left=e.offsetLeft+e.offsetWidth+"px"}else this.info("updateForChangeInPositionTo() - reference element not found for id "+t)}handleCloseIcon(t,e){void 0!==this._elCloseIcon.classList&&t!==e&&(""!==t&&t.split(" ").forEach(t=>{""!==(t=t.trim())&&this._elCloseIcon.classList.remove(t)}),""!==e&&e.split(" ").forEach(t=>{""!==(t=t.trim())&&this._elCloseIcon.classList.add(t)}))}_dismissElement(t){this.info("_dismissElement()"),!1!==this.dismissable?!1!==this._isShown?(this.info("_dismissElement() inEvent",t),this.setAttributeAndProperty(this.COMMON_PROPERTIES.SHOW,!1,!0)):this.info("_dismissElement() return ( _isShown is false)"):this.info("_dismissElement() return ( dismissable is false)")}_clickAndTouchEvent(t){t.stopPropagation()}updateForChangeInClosable(){!0===this.closable?this._elContainer.insertBefore(this._elCloseIconBtn,this._elContents):this._elCloseIconBtn.remove()}beforeHandlingShow(){this.info("beforeHandlingShow()"),this.dispatchEvent(this._beforeShowEvent),this.dispatchEvent(this._showEvent),this._sendPulse(this.sendEventOnBeforeShow)}afterHandlingShow(){this.info("afterHandlingShow()"),this.dispatchEvent(this._afterShowEvent),this._sendPulse(this.sendEventOnAfterShow),this.updatePosition(),this._isShown=!0,setTimeout(()=>{document.addEventListener("click",this._dismissElement)},250)}beforeHandlingHide(){this.info("beforeHandlingHide()"),this.dispatchEvent(this._beforeHideEvent),this._sendPulse(this.sendEventOnBeforeHide),document.removeEventListener("click",this._dismissElement)}afterHandlingHide(){this.info("afterHandlingHide()"),this.dispatchEvent(this._hideEvent),this.dispatchEvent(this._afterHideEvent),this._sendPulse(this.sendEventOnAfterHide),this._isShown=!1}_onShow(t){this.info("_onShow()")}_onHide(t){this.info("_onHide()"),this._onAfterHide(t)}_onBeforeShow(t){this.info("_onBeforeShow()")}_onAfterShow(t){this.info("_onAfterShow()")}_onBeforeHide(t){this.info("_onBeforeHide()")}_onAfterHide(t){this.info("_onAfterHide()")}_sendPulse(t){let e=null;""!==t&&null!=t&&(e=n.Ch5SignalFactory.getInstance().getBooleanSignal(t),null!==e&&(e.publish(!0),e.publish(!1)))}_insertAfter(t,e){null!==e&&null!==e.parentNode&&e.parentNode.insertBefore(t,e.nextSibling)}}e.Ch5OverlayPanel=l,l.ELEMENT_NAME="ch5-overlay-panel",l.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatepositionto:{direction:"state",stringJoin:1,contractName:!0},receivestatepositionoffset:{direction:"state",stringJoin:1,contractName:!0},sendsignalonshow:{direction:"event",booleanJoin:1,contractName:!0},sendsignalonhide:{direction:"event",booleanJoin:1,contractName:!0},sendsignalonbeforeshow:{direction:"event",booleanJoin:1,contractName:!0},sendsignalonaftershow:{direction:"event",booleanJoin:1,contractName:!0},sendsignalonbeforehide:{direction:"event",booleanJoin:1,contractName:!0},sendsignalonafterhide:{direction:"event",booleanJoin:1,contractName:!0}}),l.POSITION_OFFSETS=["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right","left-center","right-center"],l.STRETCHES=["both","width","height"],l.OVERFLOWS=["scroll","show"],l.COMPONENT_DATA={POSITION_OFFSETS:{default:l.POSITION_OFFSETS[0],values:l.POSITION_OFFSETS,key:"position_offset",classListPrefix:"--pos-"},STRETCH:{default:l.STRETCHES[0],values:l.STRETCHES,key:"stretch",classListPrefix:"--stretch-"},OVERFLOWS:{default:l.OVERFLOWS[0],values:l.OVERFLOWS,key:"overflow",classListPrefix:"--overflow-"}},l.COMPONENT_PROPERTIES=[{default:!0,name:"dismissable",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"closable",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:"",name:"closeIcon",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:null,enumeratedValues:l.STRETCHES,name:"stretch",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:null,isObservableProperty:!0,isNullable:!0},{default:l.OVERFLOWS[0],enumeratedValues:l.OVERFLOWS,name:"overflow",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.OVERFLOWS[0],isObservableProperty:!0},{default:"",name:"positionTo",nameForSignal:"receiveStatePositionTo",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:l.POSITION_OFFSETS[0],enumeratedValues:l.POSITION_OFFSETS,name:"positionOffset",removeAttributeOnNull:!0,nameForSignal:"receiveStatePositionOffset",type:"enum",valueOnAttributeEmpty:l.POSITION_OFFSETS[0],isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnBeforeShow",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnHide",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnBeforeShow",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnAfterShow",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnBeforeHide",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnAfterHide",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStatePositionTo",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStatePositionOffset",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}],l.registerCustomElement(),l.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(242),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5SegmentedGauge=void 0;const s=i(3),n=i(1),r=i(5),a=i(2),o=i(4);class l extends s.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-segmented-gauge",this._elContainer={},this.defaultMaxValue=65535,this.defaultMinValue=0,this.mouseDown=!1,this.mouseDragEnd=!1,this.mouseLeave=!0,this.eventHandler={mouseover:[],mouseup:[],dragend:[]},this._dirtyValue=0,this._cleanValue=0,this.debounceSignalHandling=this.debounce(()=>{this.handleSendEventOnChange(),this.setDirtyHandler()},50),this.handleDebounceSignal=this.debounce(t=>{this.handleIndexValue(t)},30),this.setDirtyHandler=this.debounce(()=>{this._dirtyValue!==this._cleanValue&&(this.value=this._cleanValue,this.setValueForSegments())},500),this.ignoreAttributes=["receivestatecustomclass","receivestatecustomstyle","receivestateshowpulse","receivestatehidepulse","sendeventonshow"],this.logger.start("constructor()",l.ELEMENT_NAME),this._wasInstatiated||this.createInternalHtml(),this._wasInstatiated=!0,this._ch5Properties=new o.Ch5Properties(this,l.COMPONENT_PROPERTIES),this.initCssClass()}set orientation(t){this._ch5Properties.set("orientation",t,()=>{this.handleOrientation()})}get orientation(){return this._ch5Properties.get("orientation")}set gaugeLedStyle(t){this._ch5Properties.set("gaugeLedStyle",t,()=>{this.handleGaugeLedStyle()})}get gaugeLedStyle(){return this._ch5Properties.get("gaugeLedStyle")}set primaryStateGraphic(t){this._ch5Properties.set("primaryStateGraphic",t,()=>{this.setValueForSegments()})}get primaryStateGraphic(){return this._ch5Properties.get("primaryStateGraphic")}set secondaryStateGraphic(t){this._ch5Properties.set("secondaryStateGraphic",t,()=>{this.setValueForSegments()})}get secondaryStateGraphic(){return this._ch5Properties.get("secondaryStateGraphic")}set tertiaryStateGraphic(t){this._ch5Properties.set("tertiaryStateGraphic",t,()=>{this.setValueForSegments()})}get tertiaryStateGraphic(){return this._ch5Properties.get("tertiaryStateGraphic")}set minValue(t){this._ch5Properties.set("minValue",t,()=>{t>=this.maxValue&&(this.minValue=this.defaultMinValue),this.setValueForSegments()})}get minValue(){return this._ch5Properties.get("minValue")}set maxValue(t){this._ch5Properties.set("maxValue",t,()=>{t<=this.minValue&&(this.maxValue=this.defaultMaxValue),this.setValueForSegments()})}get maxValue(){return this._ch5Properties.get("maxValue")}set numberOfSegments(t){this._ch5Properties.set("numberOfSegments",t,()=>{this.handleNumberOfSegments()})}get numberOfSegments(){return this._ch5Properties.get("numberOfSegments")}set value(t){this._ch5Properties.set("value",t,()=>{t<this.minValue?this.value=this.minValue:t>this.maxValue&&(this.value=this.maxValue),this._cleanValue=this.value,this.setValueForSegments()})}get value(){return this._ch5Properties.get("value")}set touchSettable(t){this._ch5Properties.set("touchSettable",t)}get touchSettable(){return this._ch5Properties.get("touchSettable")}set sendEventOnClick(t){this._ch5Properties.set("sendEventOnClick",t)}get sendEventOnClick(){return this._ch5Properties.get("sendEventOnClick")}set sendEventOnChange(t){this._ch5Properties.set("sendEventOnChange",t)}get sendEventOnChange(){return this._ch5Properties.get("sendEventOnChange")}set receiveStateValue(t){this._ch5Properties.set("receiveStateValue",t,null,t=>{this._ch5Properties.setForSignalResponse("value",t,()=>{this._cleanValue=this.value,this.setValueForSegments()})})}get receiveStateValue(){return this._ch5Properties.get("receiveStateValue")}static registerSignalAttributeTypes(){a.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(l.ELEMENT_NAME,l.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(l.ELEMENT_NAME)&&window.customElements.define(l.ELEMENT_NAME,l)}static get observedAttributes(){const t=s.Ch5Common.observedAttributes,e=[];for(let t=0;t<l.COMPONENT_PROPERTIES.length;t++)!0===l.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(l.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-segmented-gauge attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=l.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()",l.ELEMENT_NAME),this.hasAttribute("role")||this.setAttribute("role",r.Ch5RoleAttributeMapping.ch5SegmentedGauge),this._elContainer!==this&&this.appendChild(this._elContainer),this.handleTouchSettable=this.handleTouchSettable.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchMoveEvent=this.handleTouchMoveEvent.bind(this),this.attachEventListeners(),this.initAttributes(),this.initCommonMutationObserver(this),this.handleNumberOfSegments(),customElements.whenDefined("ch5-segmented-gauge").then(()=>{this.componentLoadedEvent(l.ELEMENT_NAME,this.id)}),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),this.logger.stop()}createInternalHtml(){this.logger.start("createInternalHtml()"),this.clearComponentContent(),this._elContainer=document.createElement("div"),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<l.COMPONENT_PROPERTIES.length;e++)if(!0===l.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(l.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=l.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}attachEventListeners(){super.attachEventListeners(),this._elContainer.addEventListener("click",this.handleTouchSettable),this._elContainer.addEventListener("mousedown",this.handleMouseDown),this._elContainer.addEventListener("mouseleave",this.handleMouseLeave),this._elContainer.addEventListener("touchstart",this.handleTouchStart),this._elContainer.addEventListener("touchmove",this.handleTouchMove)}removeEventListeners(){super.removeEventListeners(),this._elContainer.removeEventListener("click",this.handleTouchSettable),this._elContainer.removeEventListener("mousedown",this.handleMouseDown),this._elContainer.removeEventListener("mouseleave",this.handleMouseLeave),this._elContainer.removeEventListener("touchstart",this.handleTouchStart),this._elContainer.removeEventListener("touchmove",this.handleTouchMove),Array.from(this._elContainer.children).forEach((t,e)=>{t.removeEventListener("mouseover",this.eventHandler.mouseover[e]),t.removeEventListener("mouseup",this.eventHandler.mouseup[e]),t.removeEventListener("touchmove",this.handleTouchMoveEvent),t.removeEventListener("dragend",this.eventHandler.dragend[e])})}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}clearComponentContent(){const t=this.getElementsByTagName("div");Array.from(t).forEach(t=>{t.remove()})}handleOrientation(){Array.from(l.COMPONENT_DATA.ORIENTATION.values).forEach(t=>{this._elContainer.classList.remove(l.ELEMENT_NAME+l.COMPONENT_DATA.ORIENTATION.classListPrefix+t)}),this._elContainer.classList.add(l.ELEMENT_NAME+l.COMPONENT_DATA.ORIENTATION.classListPrefix+this.orientation)}handleGaugeLedStyle(){Array.from(l.COMPONENT_DATA.GAUGE_LED_STYLE.values).forEach(t=>{this._elContainer.classList.remove(l.ELEMENT_NAME+l.COMPONENT_DATA.GAUGE_LED_STYLE.classListPrefix+t)}),this._elContainer.classList.add(l.ELEMENT_NAME+l.COMPONENT_DATA.GAUGE_LED_STYLE.classListPrefix+this.gaugeLedStyle)}handleNumberOfSegments(){Array.from(this._elContainer.querySelectorAll(".ch5-segmented-gauge-segment")).forEach(t=>t.remove());for(let t=0;t<=this.numberOfSegments;t++){const e=document.createElement("div");e.classList.add(this.primaryCssClass+"-segment"),this._elContainer.appendChild(e),0===t&&e.classList.add("ch5-segmented-gauge--segment--state-graphic-hidden"),this.eventHandler.mouseover.push(this.handleMouseOverEvent.bind(this,t)),this.eventHandler.mouseup.push(this.handleMouseUpEvent.bind(this,t)),this.eventHandler.dragend.push(this.handleDragEndEvent.bind(this,t)),e.addEventListener("mouseover",this.eventHandler.mouseover[t]),e.addEventListener("mouseup",this.eventHandler.mouseup[t]),e.addEventListener("touchmove",this.handleTouchMoveEvent),e.addEventListener("dragend",this.eventHandler.dragend[t])}this.setValueForSegments()}handleMouseOverEvent(t){!0===this.mouseDragEnd&&!0===this.mouseLeave?(this.handleDebounceSignal(t),this.mouseDragEnd=!1,this.mouseDown=!1):!0===this.mouseDown&&this.handleDebounceSignal(t)}handleMouseUpEvent(t){!0===this.mouseDown&&(this.mouseDown=!1,this.handleDebounceSignal(t))}handleTouchMoveEvent(t){var e;if(!0===this.mouseDown){const i=document.elementFromPoint(t.touches[0].pageX,t.touches[0].pageY);if(null==i?void 0:i.classList.contains(this.primaryCssClass+"-segment")){const t=Array.prototype.indexOf.call(null===(e=null==i?void 0:i.parentElement)||void 0===e?void 0:e.children,i);this.handleIndexValue(t)}}}handleDragEndEvent(t,e){this.mouseDragEnd=!0,this.handleDebounceSignal(t)}handleIndexValue(t){if(!1===this.touchSettable)return;const e=this._elContainer.querySelectorAll(".ch5-segmented-gauge-segment");for(let i=0;i<e.length-1;i++)t>i?e[i+1].classList.add("active"):e[i+1].classList.remove("active");this._dirtyValue=Math.round(t/this.numberOfSegments*100*(this.maxValue-this.minValue)/100+this.minValue),this.debounceSignalHandling()}handleMouseDown(){this.mouseDown=!0,this.mouseLeave=!0}handleMouseLeave(){this.mouseDown=!1,this.mouseLeave=!1}handleTouchStart(){this.mouseDown=!0,this.mouseLeave=!0}handleTouchMove(t){const e=document.elementFromPoint(t.touches[0].pageX,t.touches[0].pageY);(null==e?void 0:e.classList.contains("ch5-segmented-gauge"))||(null==e?void 0:e.classList.contains("ch5-segmented-gauge-segment"))||(this.mouseDown=!1,this.mouseLeave=!1)}handleTouchSettable(t){!0===this.touchSettable&&this.handleSendEventOnClick()}handleSendEventOnClick(){var t,e;this.sendEventOnClick&&(null===(t=n.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnClick))||void 0===t||t.publish(!0),null===(e=n.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnClick))||void 0===e||e.publish(!1))}handleSendEventOnChange(){var t;this.sendEventOnChange&&(null===(t=n.Ch5SignalFactory.getInstance().getNumberSignal(this.sendEventOnChange))||void 0===t||t.publish(this._dirtyValue))}setValueForSegments(){const t=this._elContainer.querySelectorAll(".ch5-segmented-gauge-segment"),e=Math.round((this.value-this.minValue)*this.numberOfSegments/(this.maxValue-this.minValue)),i=Math.round(60*this.numberOfSegments/100),s=Math.round(25*this.numberOfSegments/100),n=100-i-s;for(let r=0;r<t.length-1;r++)r<this.numberOfSegments&&r<i?t[r+1].classList.add(l.ELEMENT_NAME+l.COMPONENT_DATA.PRIMARY_STATE_GRAPHIC.classListPrefix+this.primaryStateGraphic):r<this.numberOfSegments&&r<i+s?t[r+1].classList.add(l.ELEMENT_NAME+l.COMPONENT_DATA.SECONDARY_STATE_GRAPHIC.classListPrefix+this.secondaryStateGraphic):r<this.numberOfSegments&&r<i+s+n&&t[r+1].classList.add(l.ELEMENT_NAME+l.COMPONENT_DATA.TERTIARY_STATE_GRAPHIC.classListPrefix+this.tertiaryStateGraphic),r<e?t[r+1].classList.add("active"):t[r+1].classList.remove("active")}initCssClass(){this.logger.start("initCssClass"),this._elContainer.classList.add(this.primaryCssClass),this._elContainer.classList.add(l.ELEMENT_NAME+l.COMPONENT_DATA.ORIENTATION.classListPrefix+this.orientation),this._elContainer.classList.add(l.ELEMENT_NAME+l.COMPONENT_DATA.GAUGE_LED_STYLE.classListPrefix+this.gaugeLedStyle),this.logger.stop()}getTargetElementForCssClassesAndStyle(){return this._elContainer}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}}e.Ch5SegmentedGauge=l,l.ORIENTATION=["horizontal","vertical"],l.GAUGE_LED_STYLE=["rectangle","circle"],l.STATE_GRAPHIC=["green","yellow","red","blue","orange","white","inactive"],l.COMPONENT_DATA={ORIENTATION:{default:l.ORIENTATION[0],values:l.ORIENTATION,key:"orientation",attribute:"orientation",classListPrefix:"--orientation-"},GAUGE_LED_STYLE:{default:l.GAUGE_LED_STYLE[0],values:l.GAUGE_LED_STYLE,key:"gaugeLedStyle",attribute:"gaugeLedStyle",classListPrefix:"--gauge-led-style-"},PRIMARY_STATE_GRAPHIC:{default:l.STATE_GRAPHIC[0],values:l.STATE_GRAPHIC,key:"primaryStateGraphic",attribute:"primaryStateGraphic",classListPrefix:"--segment-state-graphic-"},SECONDARY_STATE_GRAPHIC:{default:l.STATE_GRAPHIC[1],values:l.STATE_GRAPHIC,key:"secondaryStateGraphic",attribute:"secondaryStateGraphic",classListPrefix:"--segment-state-graphic-"},TERTIARY_STATE_GRAPHIC:{default:l.STATE_GRAPHIC[2],values:l.STATE_GRAPHIC,key:"tertiaryStateGraphic",attribute:"tertiaryStateGraphic",classListPrefix:"--segment-state-graphic-"}},l.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0},sendeventonchange:{direction:"event",numericJoin:1,contractName:!0},receivestatevalue:{direction:"state",numericJoin:1,contractName:!0}}),l.COMPONENT_PROPERTIES=[{default:l.ORIENTATION[0],enumeratedValues:l.ORIENTATION,name:"orientation",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.ORIENTATION[0],isObservableProperty:!0},{default:l.GAUGE_LED_STYLE[0],enumeratedValues:l.GAUGE_LED_STYLE,name:"gaugeLedStyle",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.GAUGE_LED_STYLE[0],isObservableProperty:!0},{default:l.STATE_GRAPHIC[0],enumeratedValues:l.STATE_GRAPHIC,name:"primaryStateGraphic",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.STATE_GRAPHIC[0],isObservableProperty:!0},{default:l.STATE_GRAPHIC[1],enumeratedValues:l.STATE_GRAPHIC,name:"secondaryStateGraphic",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.STATE_GRAPHIC[1],isObservableProperty:!0},{default:l.STATE_GRAPHIC[2],enumeratedValues:l.STATE_GRAPHIC,name:"tertiaryStateGraphic",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.STATE_GRAPHIC[2],isObservableProperty:!0},{default:0,name:"minValue",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:0,numberProperties:{min:0,max:65534,conditionalMin:0,conditionalMax:65534,conditionalMinValue:0,conditionalMaxValue:65534},isObservableProperty:!0},{default:65535,name:"maxValue",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:65535,numberProperties:{min:1,max:65535,conditionalMin:1,conditionalMax:65535,conditionalMinValue:1,conditionalMaxValue:65535},isObservableProperty:!0},{default:20,name:"numberOfSegments",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:20,numberProperties:{min:1,max:50,conditionalMin:1,conditionalMax:50,conditionalMinValue:1,conditionalMaxValue:50},isObservableProperty:!0},{default:0,name:"value",removeAttributeOnNull:!0,nameForSignal:"receiveStateValue",type:"number",valueOnAttributeEmpty:null,numberProperties:{min:0,max:65535,conditionalMin:0,conditionalMax:65535,conditionalMinValue:0,conditionalMaxValue:65535},isObservableProperty:!0},{default:!0,name:"touchSettable",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnClick",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnChange",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateValue",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}],l.ELEMENT_NAME="ch5-segmented-gauge",l.registerCustomElement(),l.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(94),e)},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(245),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5SelectOption=void 0,i(32);const s=i(3),n=i(1),r=i(94),a=i(6),o=i(2);class l extends s.Ch5Common{constructor(){super(),this._idx=-1,this.receiveStateSelectedSubscription="",this._iconPosition=l.ICON_POSITION_VALUES[0],this._useDefaultTmpl=!1,this._receiveStateSelected=null,this._receiveStateLabel=null,this._receiveStateLabelSubscription="",this._optLabel="",this._receiveStateUrl=null,this._receiveStateScriptLabelHTML=null,this._sendEventOnClick=null,this._parentCh5Select=null,this._optionHammer=null,this._ch5Toggle=null,this._onClick=this._onClick.bind(this),this._onPress=this._onPress.bind(this),this._onPressUp=this._onPressUp.bind(this)}static get observedAttributes(){return s.Ch5Common.observedAttributes.concat(["iconposition","receivestateselected","receivestatelabel","receivestateurl","receivestatescriptlabelhtml","sendeventonclick","data-ch5-opt-idx"])}get iconPosition(){return this._iconPosition}set iconPosition(t){t=this._checkAndSetStringValue(t),this._iconPosition!==t&&(this._iconPosition=t,this.setAttribute("iconposition",t))}get useDefaultTmpl(){return this._useDefaultTmpl}set useDefaultTmpl(t){t=this.checkIfValueIsTruey(t.toString()),this._useDefaultTmpl!==t&&(this._useDefaultTmpl=t)}get receiveStateSelected(){return this._attributeValueAsString("receivestateselected")}set receiveStateSelected(t){t=this._checkAndSetStringValue(t),this._receiveStateSelected!==t&&(this._receiveStateSelected=t,this.setAttribute("receivestateselected",t),this._handleReceiveSignalSelected(),null!==this._ch5Toggle&&this.defaultTmplIsUsed()&&this._ch5Toggle.setAttribute("receiveStateSelected",t))}get receiveStateLabel(){return this._attributeValueAsString("receivestatelabel")}set receiveStateLabel(t){t=this._checkAndSetStringValue(t),this._receiveStateLabel!==t&&(this._receiveStateLabel=t,this.setAttribute("receivestatelabel",t),this._handleReceiveSignalLabel())}get receiveStateUrl(){return this._receiveStateUrl}set receiveStateUrl(t){t=this._checkAndSetStringValue(t),this._receiveStateUrl!==t&&(this._receiveStateUrl=t,this.setAttribute("receivestateurl",t))}get receiveStateScriptLabelHTML(){return this._receiveStateScriptLabelHTML}set receiveStateScriptLabelHTML(t){t=this._checkAndSetStringValue(t),this._receiveStateScriptLabelHTML!==t&&(this._receiveStateScriptLabelHTML=t,this.setAttribute("receivestatescriptlabelhtml",t),null!==this._ch5Toggle&&this.defaultTmplIsUsed()&&this._ch5Toggle.setAttribute("receiveStateScriptLabelHTML",t))}get sendEventOnClick(){return this._sendEventOnClick}set sendEventOnClick(t){t=this._checkAndSetStringValue(t),this._sendEventOnClick!==t&&(this._sendEventOnClick=t,this.setAttribute("sendeventonclick",t),null!==this._ch5Toggle&&this.defaultTmplIsUsed()&&this._ch5Toggle.setAttribute("sendEventOnClick",t))}get idx(){return this._idx}set idx(t){this._idx!==t&&(this._idx=t)}get optLabel(){return this._optLabel}set optLabel(t){if(this._optLabel!==t&&(this._optLabel=t,this.hasAttribute("useDefaultTmpl"))){const e=this.querySelector("#"+this._getDefaultTmplLabelId());e instanceof HTMLElement&&(e.textContent=t)}}static registerSignalAttributeTypes(){o.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(l.ELEMENT_NAME,l.SIGNAL_ATTRIBUTE_TYPES)}connectedCallback(){this._parentCh5Select=this.closest("ch5-select"),this.hasAttribute("role")||this.setAttribute("role",a.Ch5RoleAttributeMapping.ch5SelectOption),this._initDefaultTemplate(),this.intializations(),this.attachEventListeners()}disconnectedCallback(){this.removeEventListeners(),this.unsubscribeFromSignals()}unsubscribeFromSignals(){this.info("unsubscribeFromSignals()"),super.unsubscribeFromSignals(),this.clearBooleanSignalSubscription(this._receiveStateSelected,this.receiveStateSelectedSubscription),this._receiveStateSelected="",this.clearStringSignalSubscription(this._receiveStateLabel,this._receiveStateLabelSubscription),this._receiveStateLabel=""}intializations(){this.setAttribute("data-ch5-id",this.getCrId()),this.hasAttribute("role")||this.setAttribute("role",a.Ch5RoleAttributeMapping.ch5SelectOption),this.classList.contains(l.ITEM_STYLE_CLASS)||this.classList.add(l.ITEM_STYLE_CLASS),this.initializeAttributes()}attributeChangedCallback(t,e,i){if(e!==i)switch(this.info('ch5-select-option attributeChangedCallback("'+t+'","'+e+'","'+i+")"),t){case"iconposition":this.iconPosition=this.getAttribute("iconPosition")||l.ICON_POSITION_VALUES[0];break;case"receivestateselected":this.receiveStateSelected=this.getAttribute("receiveStateSelected");break;case"receivestatelabel":this.receiveStateLabel=this.getAttribute("receiveStateLabel");break;case"receivestateurl":this.receiveStateUrl=this.getAttribute("receiveStateUrl");break;case"receivestatescriptlabelhtml":this.receiveStateScriptLabelHTML=this.getAttribute("receiveStateScriptLabelHTML");break;case"sendeventonclick":this.sendEventOnClick=this.getAttribute("sendEventOnClick");break;case"data-ch5-opt-idx":this.idx=Number(i);break;default:super.attributeChangedCallback(t,e,i)}}initializeAttributes(){super.initAttributes(),this.iconPosition=this.getAttribute("iconPosition")||l.ICON_POSITION_VALUES[0],this.receiveStateSelected=this.getAttribute("receiveStateSelected"),this.receiveStateLabel=this.getAttribute("receiveStateLabel"),this.receiveStateUrl=this.getAttribute("receiveStateUrl"),this.receiveStateScriptLabelHTML=this.getAttribute("receiveStateScriptLabelHTML"),this.sendEventOnClick=this.getAttribute("sendEventOnClick"),this.idx=Number(this.getAttribute("data-ch5-opt-idx"))}attachEventListeners(){super.attachEventListeners(),this._optionHammer=new Hammer.Manager(this),this._optionHammer.add(new Hammer.Tap({event:"tap"})),this._optionHammer.on("tap",this._onClick),this._optionHammer.add(new Hammer.Press({time:500})),this._optionHammer.on("press",this._onPress),this._optionHammer.on("pressup",this._onPressUp)}removeEventListeners(){super.removeEventListeners(),null!==this._optionHammer&&(this._optionHammer.off("tap",this._onClick),this._optionHammer.off("press",this._onPress),this._optionHammer.off("pressup",this._onPressUp))}repaint(){this.info("<ch5-select-option /> doen't need repaint")}_initDefaultTemplate(){this.hasAttribute("useDefaultTmpl")&&(this.innerHTML=this._getDefaultTemplate(),this.classList.add(l.ITEM_STYLE_DEFAULT_TMPL_CLASS),this._ch5Toggle=this.querySelector("ch5-toggle"))}_isParentMultiselect(){return null!==this._parentCh5Select&&this._parentCh5Select.multiselect}_parentHasFeedbackModeSubmit(){return null!==this._parentCh5Select&&this._parentCh5Select.feedbackMode===r.Ch5Select.FEEDBACK_MODE_VALUES[1]}_getParentSyncTimeout(){return this._parentCh5Select.signalValueSyncTimeout}_getDefaultTmplLabelId(){return this.getCrId()+"-opt-label"}_getDefaultTemplate(){let t='<ch5-image refreshRate="0"';null!==this.receiveStateUrl&&""!==this.receiveStateUrl&&(t+=` receiveStateUrl="${this.receiveStateUrl}"`),t+="></ch5-image>";const e=`<span id="${this._getDefaultTmplLabelId()}">${this.optLabel}</span>`;let i="<ch5-toggle";null!==this.receiveStateScriptLabelHTML&&""!==this.receiveStateScriptLabelHTML&&(i+=` receiveStateScriptLabelHTML="${this.receiveStateScriptLabelHTML}"`),null!==this.sendEventOnClick&&""!==this.sendEventOnClick&&(i+=` sendEventOnClick="${this.sendEventOnClick}"`),null!==this.receiveStateSelected&&""!==this.receiveStateSelected&&(i+=` receiveStateValue="${this.receiveStateSelected}"`),this._parentHasFeedbackModeSubmit()&&(i+=' feedbackMode="submit"'),i+=` signalValueSyncTimeout="${this._getParentSyncTimeout()}"></ch5-toggle>`;let s="";return this.iconPosition===l.ICON_POSITION_VALUES[0]?s+=t+(this._isParentMultiselect()?i:"")+e:s+=e+(this._isParentMultiselect()?i:"")+t,s+="",s}defaultTmplIsUsed(){return this.classList.contains(l.ITEM_STYLE_DEFAULT_TMPL_CLASS)}triggerToggleClickSignal(t){null!==this._ch5Toggle&&this._ch5Toggle.value!==t&&this._ch5Toggle.toggleChecked()}_clickReceivedFromCh5Toggle(t){if("ch5-toggle"===t.tagName.toLowerCase())return!0;return!!t.closest("ch5-select-option > ch5-toggle")}setToggleValue(t){null!==this._ch5Toggle&&(this._ch5Toggle.setClean(),this._ch5Toggle.value=t,this._ch5Toggle.checked=t)}_onClick(t){if(this.info("Ch5SelectOption._onClick()"),this.defaultTmplIsUsed()&&this._isParentMultiselect()){const e=!this.classList.contains(r.Ch5Select.ITEM_SELECTED_STYLE_CLASS);return this.dispatchEvent(this._getOptionSelectedEvent()),void(this._clickReceivedFromCh5Toggle(t.target)||this.triggerToggleClickSignal(e))}this.dispatchEvent(this._getOptionSelectedEvent(!0)),this._parentHasFeedbackModeSubmit()||this.sendClickSignal()}sendClickSignal(){if("string"==typeof this.sendEventOnClick&&""!==this.sendEventOnClick){const t=n.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnClick);null!==t&&(t.publish(!0),t.publish(!1))}}_getOptionSelectedEvent(t,e){const i={idx:this.idx,set:"boolean"==typeof t?t:!this.classList.contains(r.Ch5Select.ITEM_SELECTED_STYLE_CLASS)};return e="boolean"==typeof e&&e,this._isParentMultiselect()?i.confirmed=e:i.resetDirty=e,new CustomEvent("option-selected",{detail:i,bubbles:!0,cancelable:!1})}applySelectedStyleClass(){this.classList.add(r.Ch5Select.ITEM_SELECTED_STYLE_CLASS)}removeSelectedStyleClass(){this.classList.remove(r.Ch5Select.ITEM_SELECTED_STYLE_CLASS)}_handleReceiveSignalSelected(){if(""!==this.receiveStateSelected&&""!==this.receiveStateSelectedSubscription){const t=n.Ch5Signal.getSubscriptionSignalName(this.receiveStateSelected),e=n.Ch5SignalFactory.getInstance().getBooleanSignal(t);null!==e&&""!==this.receiveStateSelectedSubscription&&(e.unsubscribe(this.receiveStateSelectedSubscription),this.receiveStateSelectedSubscription="")}if(""===this.receiveStateSelected||null===this.receiveStateSelected)return;const t=n.Ch5Signal.getSubscriptionSignalName(this.receiveStateSelected),e=n.Ch5SignalFactory.getInstance().getBooleanSignal(t);null!==e&&(this.receiveStateSelectedSubscription=e.subscribe(t=>{this.info(`Option ${this.idx} received selected signal value: ${t}`),this.dispatchEvent(this._getOptionSelectedEvent(t,!0))}))}_handleReceiveSignalLabel(){if(""!==this.receiveStateLabel&&""!==this._receiveStateLabelSubscription){const t=n.Ch5Signal.getSubscriptionSignalName(this.receiveStateLabel),e=n.Ch5SignalFactory.getInstance().getStringSignal(t);null!==e&&""!==this._receiveStateLabelSubscription&&(e.unsubscribe(this._receiveStateLabelSubscription),this._receiveStateLabelSubscription="")}if(""===this.receiveStateLabel||null===this.receiveStateLabel)return;const t=n.Ch5Signal.getSubscriptionSignalName(this.receiveStateLabel),e=n.Ch5SignalFactory.getInstance().getStringSignal(t);null!==e&&(this._receiveStateLabelSubscription=e.subscribe(t=>{this.optLabel=t}))}getCssClassDisabled(){return"ch5-select__panel__item--disabled"}_onPress(){null!==this._parentCh5Select&&this._parentCh5Select.classList.add("ch5-select—pressed")}_onPressUp(){null!==this._parentCh5Select&&this._parentCh5Select.classList.remove("ch5-select—pressed")}}e.Ch5SelectOption=l,l.ELEMENT_NAME="ch5-select-option",l.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestateselected:{direction:"state",booleanJoin:1,contractName:!0},receivestatelabel:{direction:"state",stringJoin:1,contractName:!0},receivestateurl:{direction:"state",stringJoin:1,contractName:!0},receivestatescriptlabelhtml:{direction:"state",stringJoin:1,contractName:!0},sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0}}),l.ICON_POSITION_VALUES=["first","last"],l.ITEM_STYLE_CLASS="ch5-select__panel__item",l.ITEM_STYLE_DEFAULT_TMPL_CLASS="ch5-select__panel__item__default_tmpl","object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(l.ELEMENT_NAME,l),l.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(247),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5SignalLevelGauge=void 0;const s=i(3),n=i(5),r=i(2),a=i(4),o=i(1);class l extends s.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-signal-level-gauge",this._elContainer={},this.ignoreAttributes=["receivestatecustomclass","receivestatecustomstyle","receivestatehidepulse","receivestateshowpulse","sendeventonshow"],this.logger.start("constructor()",l.ELEMENT_NAME),this._wasInstatiated||this.createInternalHtml(),this._wasInstatiated=!0,this._ch5Properties=new a.Ch5Properties(this,l.COMPONENT_PROPERTIES)}set orientation(t){this._ch5Properties.set("orientation",t,()=>{this.handleOrientation()})}get orientation(){return this._ch5Properties.get("orientation")}set minValue(t){this._ch5Properties.set("minValue",t,()=>{t>=this.maxValue&&(this.minValue=0),this.handleValue()})}get minValue(){return this._ch5Properties.get("minValue")}set maxValue(t){this._ch5Properties.set("maxValue",t,()=>{t<=this.minValue&&(this.maxValue=65535),this.handleValue()})}get maxValue(){return this._ch5Properties.get("maxValue")}set numberOfBars(t){this._ch5Properties.set("numberOfBars",t,()=>{this.handleNumberOfBars()})}get numberOfBars(){return this._ch5Properties.get("numberOfBars")}set signalBarSpacing(t){this._ch5Properties.set("signalBarSpacing",t,()=>{this._elContainer.style.gap=this.signalBarSpacing+"px"})}get signalBarSpacing(){return this._ch5Properties.get("signalBarSpacing")}set value(t){this._ch5Properties.set("value",t,()=>{t<this.minValue?this.value=this.minValue:t>this.maxValue&&(this.value=this.maxValue),this.handleValue()})}get value(){return this._ch5Properties.get("value")}set receiveStateValue(t){this._ch5Properties.set("receiveStateValue",t,null,t=>{this._ch5Properties.setForSignalResponse("value",t,()=>{this.handleValue()})})}get receiveStateValue(){return this._ch5Properties.get("receiveStateValue")}set size(t){this._ch5Properties.set("size",t,()=>{this.handleSize()})}get size(){return this._ch5Properties.get("size")}static registerSignalAttributeTypes(){r.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(l.ELEMENT_NAME,l.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(l.ELEMENT_NAME)&&window.customElements.define(l.ELEMENT_NAME,l)}static get observedAttributes(){const t=s.Ch5Common.observedAttributes,e=[];for(let t=0;t<l.COMPONENT_PROPERTIES.length;t++)!0===l.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(l.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-signal-level-gauge attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=l.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()",l.ELEMENT_NAME),this.hasAttribute("role")||this.setAttribute("role",n.Ch5RoleAttributeMapping.ch5SignalLevelGauge),this.attachEventListeners(),this.initAttributes(),this.initCommonMutationObserver(this),this.handleNumberOfBars(),this._elContainer.style.gap=this.signalBarSpacing+"px",customElements.whenDefined("ch5-signal-level-gauge").then(()=>{this.componentLoadedEvent(l.ELEMENT_NAME,this.id)}),(0,o.subscribeInViewPortChange)(this,()=>{this.elementIsInViewPort&&this.handleNumberOfBars()}),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),(0,o.unSubscribeInViewPortChange)(this),this.logger.stop()}createInternalHtml(){this.logger.start("createInternalHtml()"),this._elContainer=document.createElement("div"),this._elContainer.classList.add("ch5-signal-level-gauge"),this.appendChild(this._elContainer),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<l.COMPONENT_PROPERTIES.length;e++)if(!0===l.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(l.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=l.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}this.updateCssClass()}attachEventListeners(){super.attachEventListeners()}removeEventListeners(){super.removeEventListeners()}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}handleOrientation(){Array.from(l.COMPONENT_DATA.ORIENTATION.values).forEach(t=>{this._elContainer.classList.remove(l.ELEMENT_NAME+l.COMPONENT_DATA.ORIENTATION.classListPrefix+t)}),this._elContainer.classList.add(l.ELEMENT_NAME+l.COMPONENT_DATA.ORIENTATION.classListPrefix+this.orientation),this.handleNumberOfBars()}handleValue(){this._elContainer.querySelectorAll(".ch5-signal-level-gauge--selected-bar-color").forEach(t=>t.classList.remove("ch5-signal-level-gauge--selected-bar-color"));const t=Math.floor((this.value-this.minValue)*this.numberOfBars/(this.maxValue-this.minValue));Array.from(this._elContainer.children).forEach((e,i)=>{i<t&&i<this.numberOfBars?(e.classList.add(this.primaryCssClass+"--selected-bar-color"),e.classList.remove(this.primaryCssClass+"--bar-color")):(e.classList.remove(this.primaryCssClass+"--selected-bar-color"),e.classList.add(this.primaryCssClass+"--bar-color"))})}handleNumberOfBars(){Array.from(this._elContainer.children).forEach(t=>t.remove());const t=this._elContainer.offsetHeight/this.numberOfBars,e=this._elContainer.offsetWidth/this.numberOfBars;for(let i=1;i<=this.numberOfBars;i++){const s=document.createElement("div");s.classList.add("ch5-signal-level-gauge--bar-color"),s.style.height="horizontal"===this.orientation?t*i+"px":t+"px",s.style.width="horizontal"===this.orientation?e+"px":e*i+"px",this._elContainer.appendChild(s)}this.handleValue()}handleSize(){Array.from(l.COMPONENT_DATA.SIZE.values).forEach(t=>{this._elContainer.classList.remove(l.ELEMENT_NAME+l.COMPONENT_DATA.SIZE.classListPrefix+t)}),this._elContainer.classList.add(l.ELEMENT_NAME+l.COMPONENT_DATA.SIZE.classListPrefix+this.size),this.handleNumberOfBars()}updateCssClass(){this.logger.start("UpdateCssClass"),super.updateCssClasses(),this._elContainer.classList.add(l.ELEMENT_NAME+l.COMPONENT_DATA.ORIENTATION.classListPrefix+this.orientation),this._elContainer.classList.add(l.ELEMENT_NAME+l.COMPONENT_DATA.SIZE.classListPrefix+this.size),this._elContainer.style.gap=this.signalBarSpacing+"px",this.logger.stop()}getTargetElementForCssClassesAndStyle(){return this._elContainer}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}}e.Ch5SignalLevelGauge=l,l.ORIENTATION=["horizontal","vertical"],l.SIZE=["regular","small","large","x-large"],l.COMPONENT_DATA={ORIENTATION:{default:l.ORIENTATION[0],values:l.ORIENTATION,key:"orientation",attribute:"orientation",classListPrefix:"--orientation-"},SIZE:{default:l.SIZE[0],values:l.SIZE,key:"size",attribute:"size",classListPrefix:"--size-"}},l.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatevalue:{direction:"state",numericJoin:1,contractName:!0}}),l.COMPONENT_PROPERTIES=[{default:l.ORIENTATION[0],enumeratedValues:l.ORIENTATION,name:"orientation",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.ORIENTATION[0],isObservableProperty:!0},{default:0,name:"value",removeAttributeOnNull:!0,nameForSignal:"receiveStateValue",type:"number",valueOnAttributeEmpty:null,numberProperties:{min:0,max:65535,conditionalMin:0,conditionalMax:65535,conditionalMinValue:0,conditionalMaxValue:65535},isObservableProperty:!0},{default:0,name:"minValue",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:0,numberProperties:{min:0,max:65534,conditionalMin:0,conditionalMax:65534,conditionalMinValue:0,conditionalMaxValue:65534},isObservableProperty:!0},{default:65535,name:"maxValue",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:65535,numberProperties:{min:1,max:65535,conditionalMin:1,conditionalMax:65535,conditionalMinValue:1,conditionalMaxValue:65535},isObservableProperty:!0},{default:6,name:"numberOfBars",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:6,numberProperties:{min:1,max:15,conditionalMin:1,conditionalMax:15,conditionalMinValue:1,conditionalMaxValue:15},isObservableProperty:!0},{default:1,name:"signalBarSpacing",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:1,numberProperties:{min:0,max:6,conditionalMin:0,conditionalMax:6,conditionalMinValue:0,conditionalMaxValue:6},isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateValue",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:l.SIZE[0],enumeratedValues:l.SIZE,name:"size",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:l.SIZE[0],isObservableProperty:!0}],l.ELEMENT_NAME="ch5-signal-level-gauge",l.registerCustomElement(),l.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(249),e),n(i(255),e)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Slider=void 0;const n=i(3),r=i(250),a=i(1),o=i(251),l=i(252),h=s(i(20)),u=i(6),c=i(253),d=s(i(0)),p=i(2),g=i(4),m=i(254),b=i(18);class f extends r.Ch5CommonInput{constructor(){super(),this._render=this.debounce(()=>{this.createSlider()},25),this.isAdvancedSlider=!1,this._elContainer={},this._elTitleContainer={},this._elSliderContainer={},this._elOnContainer={},this._elOffContainer={},this._innerContainer={},this._tgtEls=[],this._tooltip={},this._sendEventValue=-1,this._titlePresent=-1,this._userLowValue=-1,this._userHighValue=-1,this.isResizeInProgress=!1,this.RESIZE_DEBOUNCE=500,this.primaryCssClass="ch5-slider",this._wasRendered=!1,this.isSliderStarted=!1,this.sliderTouch=null,this._isPressedSubscription=null,this._repeatDigitalInterval=null,this._holdState=!1,this._receiveStateValueSignal="",this._subReceiveValueId="",this._subReceiveAnalogValueId="",this._receiveStateValueSignalHigh="",this._subReceiveValueHighId="",this._subReceiveAnalogValueHighId="",this._pressable=null,this.sliderEvent={},this.sliderStartEvent={},this.sliderEndEvent={},this.focusEvent={},this.blurEvent={},this.changeEvent={},this.dirtyEvent={},this.cleanEvent={},this._cleanValueHigh="",this._dirtyValueHigh="",this._dirtyTimerHandleHigh=null,this._cleanLow=!0,this._dirtyLow=!1,this._cleanHigh=!0,this._dirtyHigh=!1,this._animationTimer=void 0,this._tooltipValueFromSignal=void 0,this._tooltipHighValueFromSignal=void 0,this._rcbSignalValue=void 0,this._rcbSignalValueHigh=void 0,this._animatingHandle={0:!1,1:!1},this.logger.start("Ch5Slider.constructor()"),this._wasInstatiated||this.createInternalHtml(),this._wasInstatiated=!0,this._ch5Properties=new g.Ch5Properties(this,f.COMPONENT_PROPERTIES),this.eventBinding(),this.logger.stop()}set range(t){this._ch5Properties.set("range",t,()=>{this._render()})}get range(){return this._ch5Properties.get("range")}set showTickValues(t){this._ch5Properties.set("showTickValues",t,()=>{this._render()})}get showTickValues(){return this._ch5Properties.get("showTickValues")}set tapSettable(t){this._ch5Properties.set("tapSettable",t,()=>{this._render()})}get tapSettable(){return this._ch5Properties.get("tapSettable")}set handleShape(t){this._ch5Properties.set("handleShape",t,()=>{this.handleHandleShape()})}get handleShape(){return this._ch5Properties.get("handleShape")}set value(t){this._ch5Properties.set("value",t,()=>{this.handleValue(),this.setCleanValue(this.value)})}get value(){return this._ch5Properties.get("value")}get valueHigh(){return this._ch5Properties.get("valueHigh")}set valueHigh(t){this._ch5Properties.set("valueHigh",t,()=>{this.handleValueHigh(),this._cleanValueHigh=this.valueHigh})}set noHandle(t){this._ch5Properties.set("noHandle",t,()=>{this.handleTapSettable()})}get noHandle(){return this._ch5Properties.get("noHandle")}get max(){return this._ch5Properties.get("max")}set max(t){this._ch5Properties.set("max",t,()=>{this.handleMax()})}get min(){return this._ch5Properties.get("min")}set min(t){this._ch5Properties.set("min",t,()=>{this.handleMin()})}set orientation(t){this._ch5Properties.set("orientation",t,()=>{this.handleOrientation()})}get orientation(){return this._ch5Properties.get("orientation")}set size(t){this._ch5Properties.set("size",t,()=>{this.sizeHandler()})}get size(){return this._ch5Properties.get("size")}set handleSize(t){this._ch5Properties.set("handleSize",t,()=>{this.handleHandleSize()})}get handleSize(){return this._ch5Properties.get("handleSize")}set step(t){this._ch5Properties.set("step",t,()=>{this.ticks&&(this.step=1),this.handleMax()})}get step(){return this._ch5Properties.get("step")}set stretch(t){this._ch5Properties.set("stretch",t,()=>{this.handleStretch()})}get stretch(){return this._ch5Properties.get("stretch")}set ticks(t){this._ch5Properties.set("ticks",t,()=>{this.ticks?this._elContainer.classList.add("ch5-slider-ticks"):this._elContainer.classList.remove("ch5-slider-ticks"),this._render()})}get ticks(){return this._ch5Properties.get("ticks")}set toolTipShowType(t){this._ch5Properties.set("toolTipShowType",t,()=>{this.handleToolTipShowType(),this.toolTipShowType===f.TOOL_TIP_SHOW_TYPE[1]?(this.subscribeToAnalogSignal(),this.subscribeToAnalogHighSignal()):this.unsubscribeFromAnalogSignals()})}get toolTipShowType(){return this._ch5Properties.get("toolTipShowType")}set toolTipDisplayType(t){this._ch5Properties.set("toolTipDisplayType",t,()=>{this.handleToolTipDisplayType()})}get toolTipDisplayType(){return this._ch5Properties.get("toolTipDisplayType")}set sendEventOnChange(t){this._ch5Properties.set("sendEventOnChange",t,null,t=>{})}get sendEventOnChange(){return this._ch5Properties.get("sendEventOnChange")}set sendEventOnChangeHigh(t){this._ch5Properties.set("sendEventOnChangeHigh",t,null,t=>{})}get sendEventOnChangeHigh(){return this._ch5Properties.get("sendEventOnChangeHigh")}set sendEventOnHandleClick(t){this._ch5Properties.set("sendEventOnHandleClick",t,null,t=>{})}get sendEventOnHandleClick(){return this._ch5Properties.get("sendEventOnHandleClick")}get receiveStateValue(){return this._attributeValueAsString("receivestatevalue")}set receiveStateValue(t){if(""===t||this._receiveStateValueSignal===t||null==t)return;if(""!==this._receiveStateValueSignal&&void 0!==this._receiveStateValueSignal&&null!==this._receiveStateValueSignal){const t=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignal),e=a.Ch5SignalFactory.getInstance().getObjectSignal(t);null!==e&&e.unsubscribe(this._subReceiveValueId)}this._receiveStateValueSignal=t;const e=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignal),i=a.Ch5SignalFactory.getInstance().getObjectSignal(e);null!==i&&(this._subReceiveValueId=i.subscribe(t=>{if(void 0===t||!t.hasOwnProperty("rcb")||!t.rcb.hasOwnProperty("value")||!i.hasChangedSinceInit())return;const e=t.rcb,s=e.time;let n=e.value;this.min<0&&n>32767&&(n-=65536),this._rcbSignalValue={rcb:{value:n,time:s,startv:void 0!==e.startv?e.startv:this.value,startt:void 0!==e.startt?e.startt:Date.now()}},this.setCleanValue(n),this._wasRendered=!1,this._ch5Properties.setForSignalResponse("value",n,()=>{}),this._wasRendered=!0,null===this._dirtyTimerHandle&&(this._wasRendered&&0===s?(this._render(),this._tooltipValueFromSignal=n,this._adjustTooltipValue(c.TCh5SliderHandle.VALUE)):this._setSliderValue(n,c.TCh5SliderHandle.VALUE,s),this._setCleanLow(),this.setClean())}))}get receiveStateValueHigh(){return this._attributeValueAsString("receivestatevaluehigh")}set receiveStateValueHigh(t){if(n.Ch5Common.isNil(t)||this._receiveStateValueSignalHigh===t)return;if(""!==this._receiveStateValueSignalHigh&&void 0!==this._receiveStateValueSignalHigh&&null!==this._receiveStateValueSignalHigh){const t=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignalHigh),e=a.Ch5SignalFactory.getInstance().getObjectSignal(t);null!==e&&e.unsubscribe(this._subReceiveValueHighId)}this._receiveStateValueSignalHigh=t;const e=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignalHigh),i=a.Ch5SignalFactory.getInstance().getObjectSignal(e);null!==i&&(this._subReceiveValueHighId=i.subscribe(t=>{if(void 0===t||!t.hasOwnProperty("rcb")||!t.rcb.hasOwnProperty("value")||!i.hasChangedSinceInit())return;const e=t.rcb,s=e.time;let n=e.value;this.min<0&&n>32767&&(n-=65536),this._rcbSignalValueHigh={rcb:{value:n,time:s,startv:void 0!==e.startv?e.startv:this.valueHigh,startt:void 0!==e.startt?e.startt:Date.now()}},this._cleanValueHigh=n,this._wasRendered=!1,this._ch5Properties.setForSignalResponse("valueHigh",n,()=>{}),this._wasRendered=!0,null===this._dirtyTimerHandleHigh&&(this._wasRendered&&0===s?(this._render(),this._tooltipHighValueFromSignal=n,this._adjustTooltipValue(c.TCh5SliderHandle.HIGHVALUE)):this._setSliderValue(n,c.TCh5SliderHandle.HIGHVALUE,s),this._setCleanHigh(),this.setClean())}))}set onOffOnly(t){this._ch5Properties.set("onOffOnly",t,()=>{this.handleOnOffOnly()})}get onOffOnly(){return this._ch5Properties.get("onOffOnly")}set receiveStateShowOnOffOnly(t){this._ch5Properties.set("receiveStateShowOnOffOnly",t,null,t=>{this._ch5Properties.setForSignalResponse("onOffOnly",t,()=>{this.handleOnOffOnly()})})}get receiveStateShowOnOffOnly(){return this._ch5Properties.get("receiveStateShowOnOffOnly")}set sendEventOnUpper(t){this._ch5Properties.set("sendEventOnUpper",t,null,t=>{"%"===this.toolTipDisplayType&&(this.toolTipShowType="off")})}get sendEventOnUpper(){return this._ch5Properties.get("sendEventOnUpper")}set sendEventOnLower(t){this._ch5Properties.set("sendEventOnLower",t,null,t=>{"%"===this.toolTipDisplayType&&(this.toolTipShowType="off")})}get sendEventOnLower(){return this._ch5Properties.get("sendEventOnLower")}static get observedAttributes(){const t=n.Ch5Common.observedAttributes,e=[];for(let t=0;t<f.COMPONENT_PROPERTIES.length;t++)!0===f.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(f.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e.concat(["feedbackmode","signalvaluesynctimeout","dir"]))}static registerSignalAttributeTypes(){p.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(f.ELEMENT_NAME,f.SIGNAL_ATTRIBUTE_TYPES)}connectedCallback(){this.logger.start("Ch5Slider.connectedCallback()"),this.hasAttribute("role")||this.setAttribute("role",u.Ch5RoleAttributeMapping.ch5Slider),this.setAttribute("data-ch5-id",this.getCrId()),this._pressable=new l.Ch5PressableSlider(this._innerContainer,{cssTargetElement:this._innerContainer,cssPressedClass:this.primaryCssClass+"--pressed"}),Promise.all([customElements.whenDefined("ch5-slider")]).then(()=>{this.cacheComponentChildrens();const t=this.querySelector(".noUi-target");t instanceof HTMLElement&&t.remove(),this._elContainer.parentElement!==this&&this.appendChild(this._elContainer),this.initAttributes(),this.updateCssClasses(),this._wasRendered&&void 0!==this._innerContainer.noUiSlider&&null!==this._innerContainer.noUiSlider||this._renderPromise().then(()=>{this._wasRendered=!0,window.setTimeout(()=>{this._applySignalReceivedBeforeRender()},0)}),this.attachEventListeners(),this.initCommonMutationObserver(this),this.setCleanValue(this.value),this._cleanValueHigh=this.valueHigh}),this.titleHelper(),this.onOffButtonHelper(),this.handleOnOffOnly(),!1===this._innerContainer.isConnected&&this._elSliderContainer.insertBefore(this._innerContainer,this._elOnContainer),this.logger.stop()}eventBinding(){this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onSliderSlide=this._onSliderSlide.bind(this),this._onSliderStart=this._onSliderStart.bind(this),this._onSliderStop=this._onSliderStop.bind(this),this._onSliderChange=this._onSliderChange.bind(this),this._stopRcbAnimation=this._stopRcbAnimation.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._onTouchMoveEnd=this._onTouchMoveEnd.bind(this),this.sendEventOnHandleClickHandle=this.sendEventOnHandleClickHandle.bind(this),this._onTouchHandler=this._onTouchHandler.bind(this)}setCleanValue(t){this._cleanValue=t}disconnectedCallback(){var t,e;this.logger.start("Ch5Slider.disconnectedCallback()"),this.removeEvents(),this.unsubscribeFromSignals(),void 0!==this._innerContainer.noUiSlider&&(null===(e=null===(t=this._innerContainer)||void 0===t?void 0:t.noUiSlider)||void 0===e||e.destroy()),null!==this._pressable&&this._pressable.destroy(),this.disconnectCommonMutationObserver(),this.logger.stop()}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-slider attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=f.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this.unsubscribeFromObjectSignals(),this.unsubscribeFromAnalogSignals()}clearComponentContent(){const t=this.getElementsByTagName("div");Array.from(t).forEach(t=>{t.remove()})}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}submit(){this.logger.start("Ch5Slider.submit()"),"submit"===this.feedbackMode&&!0===this._dirtyLow&&(this._submitted=!0,this._setDirtyHandler(c.TCh5SliderHandle.VALUE),this._sendValueForChangeSignal(this._userLowValue)),"submit"===this.feedbackMode&&!0===this.range&&!0===this._dirtyHigh&&(this._submitted=!0,this._setDirtyHandler(c.TCh5SliderHandle.HIGHVALUE),this._sendHighValueForChangeSignal(this._userHighValue)),this.logger.stop()}reset(){this.logger.start("Ch5Slider.reset()"),this._dirtyLow&&(this._setSliderValue(Number(this._cleanValue),c.TCh5SliderHandle.VALUE),this.value=Number(this._cleanValue),this._setCleanLow()),this._dirtyHigh&&(this._setSliderValue(Number(this._cleanValueHigh),c.TCh5SliderHandle.HIGHVALUE),this.valueHigh=Number(this._cleanValueHigh),this._setCleanHigh()),this.setClean(),this.logger.stop()}setClean(){this._cleanLow&&this._cleanHigh&&(this._clean=!0,this._dirty=!1,this._submitted=!1,"submit"===this.feedbackMode&&(this.dispatchEvent(this.cleanEvent=new CustomEvent("clean",{bubbles:!0,cancelable:!1})),this.onclean instanceof h.default?this.onclean.run({}):this.onclean instanceof Function&&this.onclean()))}setDirty(){super.setDirty(),"submit"===this.feedbackMode&&(this.dispatchEvent(this.dirtyEvent=new CustomEvent("dirty",{bubbles:!0,cancelable:!1})),this.ondirty instanceof h.default?this.ondirty.run({}):this.ondirty instanceof Function&&this.ondirty())}setDirtyValue(t,e){switch(t){case c.TCh5SliderHandle.VALUE:this._setDirtyLow(),this._dirtyValue=Number(e[t]);break;case c.TCh5SliderHandle.HIGHVALUE:this._setDirtyHigh(),this._dirtyValueHigh=Number(e[t])}}updateForChangeInDisabledStatus(){super.updateForChangeInDisabledStatus(),!0===this.disabled?this._innerContainer.setAttribute("disabled","true"):this._innerContainer.removeAttribute("disabled")}createInternalHtml(){this.logger.start("createInternalHtml()"),this.clearComponentContent(),this._elContainer=document.createElement("div"),this._elOnContainer=document.createElement("div"),this._elOnContainer.classList.add("slider-on-button"),this._elOffContainer=document.createElement("div"),this._elOffContainer.classList.add("slider-off-button"),this._innerContainer=document.createElement("div"),this._elTitleContainer=document.createElement("div"),this._elTitleContainer.classList.add("ch5-title-container"),this._elSliderContainer=document.createElement("div"),this._elSliderContainer.classList.add("ch5-slider-button-container"),this._elContainer.classList.add("ch5-slider"),this._elSliderContainer.appendChild(this._elOffContainer),this._elSliderContainer.appendChild(this._innerContainer),this._elSliderContainer.appendChild(this._elOnContainer),this._elContainer.appendChild(this._elTitleContainer),this._elContainer.appendChild(this._elSliderContainer),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<f.COMPONENT_PROPERTIES.length;e++)if(!0===f.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(f.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=f.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}!1===this._innerContainer.isConnected&&this._elSliderContainer.insertBefore(this._innerContainer,this._elOnContainer)}updateCssClasses(){this.logger.start("UpdateCssClass"),super.updateCssClasses(),this.handleTapSettable(),this._elContainer.classList.add(f.ELEMENT_NAME+f.COMPONENT_DATA.HANDLE_SHAPE.classListPrefix+this.handleShape),this._elContainer.classList.add(f.ELEMENT_NAME+f.COMPONENT_DATA.ORIENTATION.classListPrefix+this.orientation),this._elContainer.classList.add(f.ELEMENT_NAME+f.COMPONENT_DATA.SIZE.classListPrefix+this.size),this._elContainer.classList.add(f.ELEMENT_NAME+f.COMPONENT_DATA.ON_OFF_ONLY.classListPrefix+this.onOffOnly),this._elContainer.classList.add(f.ELEMENT_NAME+f.COMPONENT_DATA.HANDLE_SIZE.classListPrefix+this.handleSize),this._elContainer.classList.add(f.ELEMENT_NAME+f.COMPONENT_DATA.TOOL_TIP_SHOW_TYPE.classListPrefix+this.toolTipShowType),this.logger.stop()}attachEventListeners(){super.attachEventListeners(),null!==this._pressable&&(this._pressable.init(),this._subscribeToPressableIsPressed()),this.stretch&&(0,b.resizeObserver)(this.parentElement,this.onWindowResizeHandler.bind(this))}removeEvents(){if(super.removeEventListeners(),null!==this._innerContainer.querySelector(".noUi-handle")){const t=this._innerContainer.querySelector(".noUi-handle");t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur),t.removeEventListener("click",this.sendEventOnHandleClickHandle),this._innerContainer.removeEventListener("mouseleave",this._onMouseLeave),this._innerContainer.removeEventListener("touchmove",this._onMouseLeave),this._innerContainer.removeEventListener("mousedown",()=>{this._holdState=!0}),this._innerContainer.removeEventListener("touchstart",this._onTouchHandler),t.removeEventListener("pointermove",t=>{t.stopPropagation()})}d.default.isNil(this._pressable)||this._unsubscribeFromPressableIsPressed()}getTargetElementForCssClassesAndStyle(){return this._elContainer}createSlider(){this._renderPromise().then(()=>{window.setTimeout(()=>{this._applySignalReceivedBeforeRender()},0)})}_renderPromise(){return new Promise((t,e)=>{var i,s,n,r,a,l,h,u,c,p;if(null===this._innerContainer||void 0===this._innerContainer)return e(!1);const g=this._parsedSliderOptions();try{d.default.isNil(this._innerContainer.noUiSlider)||null===(s=null===(i=this._innerContainer)||void 0===i?void 0:i.noUiSlider)||void 0===s||s.destroy();const e=(0,o.create)(this._innerContainer,g);null===(r=null===(n=this._innerContainer)||void 0===n?void 0:n.noUiSlider)||void 0===r||r.on("slide",this._onSliderChange),null===(l=null===(a=this._innerContainer)||void 0===a?void 0:a.noUiSlider)||void 0===l||l.on("start",this._onSliderStart),null===(u=null===(h=this._innerContainer)||void 0===h?void 0:h.noUiSlider)||void 0===u||u.on("end",this._onSliderStop),null===(p=null===(c=this._innerContainer)||void 0===c?void 0:c.noUiSlider)||void 0===p||p.on("hover",t=>{this._sendEventValue=Number(t)});const m=this._innerContainer.querySelector(".noUi-handle");m.addEventListener("focus",this._onFocus),m.addEventListener("blur",this._onBlur),m.addEventListener("click",this.sendEventOnHandleClickHandle),m.addEventListener("pointermove",t=>{t.stopPropagation()}),this._tgtEls=[],this._tgtEls.push(this._innerContainer.querySelectorAll(".noUi-connect")),this._tgtEls.push(this._innerContainer.querySelectorAll(".noUi-origin")),this._tooltip=this._innerContainer.querySelectorAll(".noUi-tooltip"),t(e)}catch(t){e(t)}})}onWindowResizeHandler(){this.isResizeInProgress||(this.isResizeInProgress=!0,setTimeout(()=>{this.stretch&&(this.stretchHandler(),this._render()),this.isResizeInProgress=!1},this.RESIZE_DEBOUNCE))}_subscribeToPressableIsPressed(){null===this._isPressedSubscription&&null!==this._pressable&&(this._isPressedSubscription=this._pressable.observablePressed.subscribe(t=>{if(!1===t.pressed)null!==this._repeatDigitalInterval&&window.clearInterval(this._repeatDigitalInterval),this.handleSendEvent(t.range,!1);else{this.handleSendEvent(t.range,!0),null!==this._repeatDigitalInterval&&window.clearInterval(this._repeatDigitalInterval);let e=0;this._repeatDigitalInterval=window.setInterval(()=>{this.handleSendEvent(t.range,!0),++e>=75&&(window.clearInterval(this._repeatDigitalInterval),this.handleSendEvent(t.range,!1))},400)}}))}_unsubscribeFromPressableIsPressed(){null!==this._repeatDigitalInterval&&window.clearInterval(this._repeatDigitalInterval),null!==this._isPressedSubscription&&(this._isPressedSubscription.unsubscribe(),this._isPressedSubscription=null)}_setSliderValue(t,e,i){var s,n,r,a;if(!d.default.isNil(this._innerContainer)&&!d.default.isNil(this._innerContainer.noUiSlider)){const o=void 0!==i?Math.round(i):0;t<this.min?t=this.min:t>this.max&&(t=this.max);let l=[t,null];e===c.TCh5SliderHandle.HIGHVALUE&&(t<this.value?t=this.value+1:t>this.max&&(t=this.max),l=[null,t]),isNaN(o)||o<=0||o>12e4?(this._stopRcbAnimation(e),null===(n=null===(s=this._innerContainer)||void 0===s?void 0:s.noUiSlider)||void 0===n||n.set(l)):(null===(a=null===(r=this._innerContainer)||void 0===r?void 0:r.noUiSlider)||void 0===a||a.set(l),this._adjustTooltipValue(e),this._startRcbAnimation(o,e))}}_onSliderSlide(t,e){this.logger.start("Ch5Slider._onSliderSlide()"),this.dispatchEvent(this.sliderEvent=new CustomEvent("slider",{bubbles:!0,cancelable:!1,detail:{handle:e,value:t}})),this.logger.stop()}_onSliderStart(t,e){this.logger.start("Ch5Slider._onSliderStart()"),this._innerContainer.removeEventListener("touchmove",this._onTouchMoveEnd),this._innerContainer.addEventListener("touchmove",this._onMouseLeave),this.dispatchEvent(this.sliderStartEvent=new CustomEvent("slidestart",{bubbles:!0,cancelable:!1,detail:{handle:e,value:t}})),this.isSliderStarted=!0,this.logger.stop()}_onSliderStop(t,e){this.logger.start("Ch5Slider._onSliderStop()"),this.isSliderStarted=!1,this.sliderTouch=null,this.dispatchEvent(this.sliderEndEvent=new CustomEvent("slideend",{bubbles:!0,cancelable:!1,detail:{handle:e,value:t}})),this.logger.stop()}_onSliderChange(t,e){this.logger.start("Ch5Slider._onSliderChange()"),this._applyHandleValueToComponent(e,t),void 0!==t&&"direct"===this._feedbackMode&&this._sendHandleValueSignal(e,t),this.dispatchEvent(this.sliderEvent=new CustomEvent("slider",{bubbles:!0,cancelable:!1,detail:{handle:e,value:t}})),this._dirty||this.setDirty(),this._dirty&&this.setDirtyValue(e,t),this._maybeSetComponentClean(),this.logger.stop()}_onFocus(t){this.logger.start("Ch5Slider._onFocus()"),t.cancelable&&t.preventDefault(),t.stopPropagation(),this.dispatchEvent(this.focusEvent=new CustomEvent("focus",{bubbles:!0,cancelable:!1})),this.logger.stop()}_onTouchMoveEnd(t){this.isSliderStarted=!1,t.cancelable&&t.preventDefault(),t.stopPropagation()}_onTouchHandler(t){this._holdState=!0,this._sendEventValue=(this.max-this.min)/2;const e=t.target.getBoundingClientRect(),i=t.touches[0].clientX-window.pageXOffset-e.left,s=t.touches[0].clientY-window.pageYOffset-e.top;"horizontal"===this.orientation?i>=3*e.width/4?this._sendEventValue=this.max:i<=e.width/4&&(this._sendEventValue=this.min):s<=e.height/4?this._sendEventValue=this.max:s>=3*e.height/4&&(this._sendEventValue=this.min)}_onMouseLeave(t){if(!0===this.isSliderStarted){const e=this._innerContainer.querySelector(".noUi-handle");let i=null,s=null;if("touchmove"===t.type){if(d.default.isNil(this.sliderTouch)){const e=t.touches[0]||t.changedTouches[0];this.sliderTouch={clientX:e.clientX,clientY:e.clientY}}const e=t.touches[0]||t.changedTouches[0];i=e.clientX,s=e.clientY;let n=0,r=0;if(!i||!s)return;"vertical"===this.orientation?(n=Math.abs(this.sliderTouch.clientX-i),r=this._innerContainer.clientWidth+f.OFFSET_THRESHOLD):(n=Math.abs(this.sliderTouch.clientY-s),r=this._innerContainer.clientHeight+f.OFFSET_THRESHOLD),r<n&&(this.isSliderStarted=!1,this._innerContainer.addEventListener("touchmove",this._onTouchMoveEnd),this.dispatchEvent(this.blurEvent=new CustomEvent("touchend",{bubbles:!1,cancelable:!1})))}else{i=t.clientX,s=t.clientY;let n=0,r=0;if(!i||!s)return;"vertical"===this.orientation?(n=Math.abs(this._innerContainer.clientLeft-i),r=this._innerContainer.clientWidth+f.OFFSET_THRESHOLD):(n=Math.abs(this._innerContainer.clientTop-s),r=this._innerContainer.clientHeight+f.OFFSET_THRESHOLD),r<n&&(this.isSliderStarted=!1,this.dispatchEvent(this.blurEvent=new CustomEvent("mouseup",{bubbles:!0,cancelable:!1})),e.blur())}}}_onBlur(t){this.logger.start("Ch5Slider._onBlur()"),t.cancelable&&t.preventDefault(),t.stopPropagation(),this.dispatchEvent(this.blurEvent=new CustomEvent("blur",{bubbles:!0,cancelable:!1})),this.logger.stop()}_applyHandleValueToComponent(t,e){switch(t){case c.TCh5SliderHandle.VALUE:this._userLowValue=Number(e[t]);break;case c.TCh5SliderHandle.HIGHVALUE:this._userHighValue=Number(e[t])}}_sendHandleValueSignal(t,e){const i=Math.round(Number(e[t]));switch(t){case c.TCh5SliderHandle.VALUE:this._setDirtyHandler(t),this._sendValueForChangeSignal(i);break;case c.TCh5SliderHandle.HIGHVALUE:this._setDirtyHandler(t),this._sendHighValueForChangeSignal(i)}}_sendValueForChangeSignal(t){let e=null;n.Ch5Common.isNotNil(this.sendEventOnChange)&&(e=a.Ch5SignalFactory.getInstance().getNumberSignal(this.sendEventOnChange),null!==e&&e.value!==t&&e.publish(t))}_sendHighValueForChangeSignal(t){let e=null;this.range&&n.Ch5Common.isNotNil(this.sendEventOnChangeHigh)&&(e=a.Ch5SignalFactory.getInstance().getNumberSignal(this.sendEventOnChangeHigh),null!==e&&e.publish(t))}_setDirtyHandler(t){switch(this.logger.start("Ch5Slider._setDirtyHandler"),t){case c.TCh5SliderHandle.VALUE:null!==this._dirtyTimerHandle&&clearTimeout(this._dirtyTimerHandle),this._dirtyTimerHandle=window.setTimeout(()=>this._onDirtyTimerFinished(t),this._signalValueSyncTimeout);break;case c.TCh5SliderHandle.HIGHVALUE:null!==this._dirtyTimerHandleHigh&&clearTimeout(this._dirtyTimerHandleHigh),this._dirtyTimerHandleHigh=window.setTimeout(()=>this._onDirtyTimerFinished(t),this._signalValueSyncTimeout)}this.logger.stop()}_onDirtyTimerFinished(t){switch(this.logger.start("Ch5Slider._onDirtyTimerFinished"),t){case c.TCh5SliderHandle.VALUE:if(this._dirtyTimerHandle=null,this._dirtyValue!==this._cleanValue){const t=Number(this._cleanValue);this._setSliderValue(t,c.TCh5SliderHandle.VALUE),this.value=t,this._setCleanLow(),this._applyTooltipValue(this._tooltip[c.TCh5SliderHandle.VALUE],t)}break;case c.TCh5SliderHandle.HIGHVALUE:if(this._dirtyTimerHandleHigh=null,this._dirtyValueHigh!==this._cleanValueHigh){const t=Number(this._cleanValueHigh);this._setSliderValue(t,c.TCh5SliderHandle.HIGHVALUE),this.valueHigh=t,this._setCleanHigh(),this._applyTooltipValue(this._tooltip[c.TCh5SliderHandle.HIGHVALUE],t)}}this.setClean(),this.logger.stop()}_maybeSetComponentClean(){this._dirtyValue===this._cleanValue&&this._setCleanLow(),this._dirtyValueHigh===this._cleanValueHigh&&this._setCleanHigh(),this.setClean()}_parsedSliderOptions(){let t=this.tapSettable?"tap":"none";!1===this.tapSettable&&(this.sendEventOnUpper||this.sendEventOnLower)&&!0===this.isAdvancedSlider&&(t="hover","%"===this.toolTipDisplayType&&(this.toolTipShowType="off"));let e="ltr";e="vertical"===this.orientation?"rtl"===this.dir?"ltr":"rtl":this.dir,n.Ch5Common.isNil(e)&&(e="ltr");const i=this._connectDisplayFormatter(),s=this.step;let r={min:this.min,max:this.max};const a=this._parsedTicks();let o={};"object"==typeof a&&(this._maybeSetMinAndMaxFromPips(a),r=this._getRangeFromPips(a),o={mode:"positions",density:100,values:Object.keys(a).map(t=>Number(t)),format:{to:t=>this.showTickValues?t:""}},this.handleValue(),this.handleValueHigh());const l="off"!==this.toolTipShowType&&(this.range?[{to:this._toolTipDisplayTypeFormatter.bind(this)},{to:this._toolTipDisplayTypeFormatter.bind(this)}]:[{to:this._toolTipDisplayTypeFormatter.bind(this)}]);return{start:this._getStartValue(),animate:!1,step:s,behaviour:t,connect:i,direction:e,range:r,orientation:this.orientation,pips:0!==Object.getOwnPropertyNames(a).length?o:void 0,tooltips:l}}_getRangeFromPips(t){const e={};for(const i in t)if(t.hasOwnProperty(i)){if(Object.keys(t)[0]===i){if(0===Number(i)){e.min=Number(this.min);continue}e.min=Number(this.min)}if(Object.keys(t)[Object.keys(t).length-1]===i){if(100===Number(i)){e.max=Number(this.max);continue}e.max=Number(this.max)}e[i+"%"]=Number(t[i])}return e}_maybeSetMinAndMaxFromPips(t){for(const e in t)t.hasOwnProperty(e)&&(Object.keys(t)[0]===e&&0===Number(e)&&(this.min=Number(t[e])),Object.keys(t)[Object.keys(t).length-1]===e&&100===Number(e)&&(this.max=Number(t[e])))}_parsedTicks(){if(n.Ch5Common.isNotNil(this.ticks))try{const t=JSON.parse(this.ticks);if(t&&"object"==typeof t)return t}catch(t){return!1}return!1}_setDirtyHigh(){this._dirtyHigh=!0,this._cleanHigh=!1}_setDirtyLow(){this._dirtyLow=!0,this._cleanLow=!1}_setCleanLow(){this._cleanLow=!0,this._dirtyLow=!1}_setCleanHigh(){this._cleanHigh=!0,this._dirtyHigh=!1}_toolTipDisplayTypeFormatter(t){return"%"===this.toolTipDisplayType?this._tooltipValueToPercent(t):Math.round(t).toString()}_tooltipValueToPercent(t){const e=Math.round(t);if(isNaN(e))return t;return Math.round(100*(e-this.min)/(this.max-this.min)).toString()+"%"}_connectDisplayFormatter(){return!0===this.range?[!1,!0,!1]:[!0,!1]}_startRcbAnimation(t,e){const i={transitionProperty:"transform",transitionTimingFunction:"linear"};i.transitionDuration=t.toString()+"ms",this._setStyleParameters(i),void 0!==this._animationTimer&&(window.clearTimeout(this._animationTimer),this._animationTimer=void 0),this._animatingHandle[e]=!0,this._animationTimer=window.setTimeout(()=>this._stopRcbAnimation(e),t)}_stopRcbAnimation(t){if(void 0===this._animationTimer)return;this._animatingHandle[t]=!1,window.clearTimeout(this._animationTimer),this._animationTimer=void 0;this._setStyleParameters({transitionProperty:"none",transitionDuration:"0ms",transitionTimingFunction:"ease"})}_setStyleParameters(t){for(const e of this._tgtEls)for(const i of Array.from(e))for(const e in t)if(t.hasOwnProperty(e)){const s=t[e];i.style[e]=s}}subscribeToAnalogSignal(){if(this.receiveStateValue){const t=a.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),e=a.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==e&&(this._subReceiveAnalogValueId=e.subscribe(t=>{null===this._dirtyTimerHandle&&this._applyTooltipValue(this._tooltip[c.TCh5SliderHandle.VALUE],t),this._tooltipValueFromSignal=t}))}}subscribeToAnalogHighSignal(){if(this.receiveStateValueHigh){const t=a.Ch5Signal.getSubscriptionSignalName(this.receiveStateValueHigh),e=a.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==e&&(this._subReceiveAnalogValueHighId=e.subscribe(t=>{null===this._dirtyTimerHandleHigh&&this._applyTooltipValue(this._tooltip[c.TCh5SliderHandle.HIGHVALUE],t),this._tooltipHighValueFromSignal=t}))}}unsubscribeFromAnalogSignals(){const t=a.Ch5SignalFactory.getInstance();if(""!==this._subReceiveAnalogValueId&&""!==this._receiveStateValueSignal){const e=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignal),i=t.getNumberSignal(e);null!==i&&(i.unsubscribe(this._subReceiveAnalogValueId),this._subReceiveAnalogValueId="")}if(""!==this._subReceiveAnalogValueHighId&&""!==this._receiveStateValueSignalHigh){const e=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignalHigh),i=t.getNumberSignal(e);null!==i&&(i.unsubscribe(this._subReceiveAnalogValueHighId),this._subReceiveAnalogValueHighId="")}}unsubscribeFromObjectSignals(){const t=a.Ch5SignalFactory.getInstance();if(""!==this._subReceiveValueId&&""!==this._receiveStateValueSignal){const e=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignal),i=t.getObjectSignal(e);null!==i&&(i.unsubscribe(this._subReceiveValueId),this._receiveStateValueSignal="")}if(""!==this._subReceiveValueHighId&&""!==this._receiveStateValueSignalHigh){const e=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignalHigh),i=t.getObjectSignal(e);null!==i&&(i.unsubscribe(this._subReceiveValueHighId),this._receiveStateValueSignalHigh="")}}_applyTooltipValue(t,e){null!=t&&(this.min<0&&e>32767&&(e-=65536),e>this.max?e=this.max:e<this.min&&(e=this.min),t.textContent=this._toolTipDisplayTypeFormatter(e))}_calculatedValueWhileInRamp(){let t=this.value;if(void 0!==this._rcbSignalValue&&void 0!==this._rcbSignalValue.rcb.startv&&void 0!==this._rcbSignalValue.rcb.startt){const e=(this._rcbSignalValue.rcb.value-this._rcbSignalValue.rcb.startv)/this._rcbSignalValue.rcb.time,i=Date.now()-this._rcbSignalValue.rcb.startt;t=Math.round(e*i+this._rcbSignalValue.rcb.startv)}return t}_calculatedHighValueWhileInRamp(){let t=this.value;if(void 0!==this._rcbSignalValueHigh&&void 0!==this._rcbSignalValueHigh.rcb.startv&&void 0!==this._rcbSignalValueHigh.rcb.startt){const e=(this._rcbSignalValueHigh.rcb.value-this._rcbSignalValueHigh.rcb.startv)/this._rcbSignalValueHigh.rcb.time,i=Date.now()-this._rcbSignalValueHigh.rcb.startt;t=Math.round(e*i+this._rcbSignalValueHigh.rcb.startv)}return t}_applySignalReceivedBeforeRender(){void 0!==this._rcbSignalValue&&0!==this._rcbSignalValue.rcb.time&&void 0!==this._rcbSignalValue.rcb.startv&&void 0!==this._rcbSignalValue.rcb.startt&&this._setSliderValue(this._rcbSignalValue.rcb.value,c.TCh5SliderHandle.VALUE,this._rcbSignalValue.rcb.time-(Date.now()-this._rcbSignalValue.rcb.startt)),void 0!==this._rcbSignalValueHigh&&0!==this._rcbSignalValueHigh.rcb.time&&void 0!==this._rcbSignalValueHigh.rcb.startv&&void 0!==this._rcbSignalValueHigh.rcb.startt&&this._setSliderValue(this._rcbSignalValueHigh.rcb.value,c.TCh5SliderHandle.HIGHVALUE,this._rcbSignalValueHigh.rcb.time-(Date.now()-this._rcbSignalValueHigh.rcb.startt))}_adjustTooltipValue(t){const e=t===c.TCh5SliderHandle.VALUE?c.TCh5SliderHandle.VALUE:c.TCh5SliderHandle.HIGHVALUE;void 0!==this._tooltipValueFromSignal&&t===c.TCh5SliderHandle.VALUE&&this._applyTooltipValue(this._tooltip[e],this._tooltipValueFromSignal),void 0!==this._tooltipHighValueFromSignal&&t===c.TCh5SliderHandle.HIGHVALUE&&this._applyTooltipValue(this._tooltip[e],this._tooltipHighValueFromSignal)}_getStartValue(){let t=this.value,e=this.valueHigh;this.value<this.min&&(t=this.min),this.value>this.max&&(t=this.max),this.valueHigh>this.max&&(e=this.max),this.valueHigh<this.value&&(e=this.value+1);let i=!1===this.range?t:[t,e];return this._cleanValue=t,!0===this.range&&(this._cleanValueHigh=e),this._wasRendered||(i=this._getStartValueWhileInRamp()),i}_getStartValueWhileInRamp(){let t,e;return t=void 0!==this._rcbSignalValue&&void 0!==this._rcbSignalValue.rcb.startv&&0!==this._rcbSignalValue.rcb.time?this._calculatedValueWhileInRamp():this.value,e=void 0!==this._rcbSignalValueHigh&&void 0!==this._rcbSignalValueHigh.rcb.startv&&0!==this._rcbSignalValueHigh.rcb.time?this._calculatedHighValueWhileInRamp():this.valueHigh,this.value<this.min&&(t=this.min),this.value>this.max&&(t=this.max),this.valueHigh>this.max&&(e=this.max),this.valueHigh<this.value&&(e=this.value+1),this._cleanValue=t,!0===this.range&&(this._cleanValueHigh=e),this.range?[t,e]:t}handleHandleShape(){Array.from(f.COMPONENT_DATA.HANDLE_SHAPE.values).forEach(t=>{this._elContainer.classList.remove(f.ELEMENT_NAME+f.COMPONENT_DATA.HANDLE_SHAPE.classListPrefix+t)}),this._elContainer.classList.add(f.ELEMENT_NAME+f.COMPONENT_DATA.HANDLE_SHAPE.classListPrefix+this.handleShape)}handleSendEvent(t,e){var i,s;this.range||!1===this.isAdvancedSlider||this.disabled||(""!==this.sendEventOnUpper&&null!==this.sendEventOnUpper&&void 0!==this.sendEventOnUpper&&"upper"===t?null===(i=a.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnUpper))||void 0===i||i.publish(e):""!==this.sendEventOnLower&&null!==this.sendEventOnLower&&void 0!==this.sendEventOnLower&&"lower"===t&&(null===(s=a.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnLower))||void 0===s||s.publish(e)))}sendEventOnHandleClickHandle(){var t,e;this.sendEventOnHandleClick&&!this.disabled&&(null===(t=a.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnHandleClick))||void 0===t||t.publish(!0),null===(e=a.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnHandleClick))||void 0===e||e.publish(!1))}handleValue(){var t,e;this.value>this.max?this.value=this.max:this.value<this.min&&(this.value=this.min),this.range&&this.value>=this.valueHigh&&(this.value=this.valueHigh-1),null!==this._dirtyTimerHandle&&(clearTimeout(this._dirtyTimerHandle),this._dirtyTimerHandle=null),this._wasRendered&&(null===(e=null===(t=this._innerContainer)||void 0===t?void 0:t.noUiSlider)||void 0===e||e.set(this.value))}handleValueHigh(){var t,e;!1!==this.range&&(this.valueHigh>this.max?this.valueHigh=this.max:this.valueHigh<this.min&&(this.valueHigh=this.min),this.valueHigh<=this.value&&(this.valueHigh=this.value+1),null!==this._dirtyTimerHandleHigh&&(clearTimeout(this._dirtyTimerHandleHigh),this._dirtyTimerHandleHigh=null),this._wasRendered&&(null===(e=null===(t=this._innerContainer)||void 0===t?void 0:t.noUiSlider)||void 0===e||e.set([this.value,this.valueHigh])))}handleMax(){this.max<=this.min&&(this.max=this.min+1),this.value>this.max&&(this.value=this.max);const t=(this.max-this.min)/this.step;0!==(this.max-this.min)%this.step&&(this.max=this.min+Math.floor(t)*this.step),this._render()}handleMin(){this.min>=this.max&&(this.min=this.max-1),this.value<this.min&&(this.value=this.min),this._render()}handleOrientation(){Array.from(f.COMPONENT_DATA.ORIENTATION.values).forEach(t=>{this._elContainer.classList.remove(f.ELEMENT_NAME+f.COMPONENT_DATA.ORIENTATION.classListPrefix+t)}),this._elContainer.classList.add(f.ELEMENT_NAME+f.COMPONENT_DATA.ORIENTATION.classListPrefix+this.orientation),this._render()}sizeHandler(){Array.from(f.COMPONENT_DATA.SIZE.values).forEach(t=>{this._elContainer.classList.remove(f.ELEMENT_NAME+f.COMPONENT_DATA.SIZE.classListPrefix+t)}),this._elContainer.classList.add(f.ELEMENT_NAME+f.COMPONENT_DATA.SIZE.classListPrefix+this.size),this._render()}handleHandleSize(){Array.from(f.COMPONENT_DATA.HANDLE_SIZE.values).forEach(t=>{this._elContainer.classList.remove(f.ELEMENT_NAME+f.COMPONENT_DATA.HANDLE_SIZE.classListPrefix+t)}),this._elContainer.classList.add(f.ELEMENT_NAME+f.COMPONENT_DATA.HANDLE_SIZE.classListPrefix+this.handleSize),this._render()}handleStretch(){Array.from(f.COMPONENT_DATA.STRETCH.values).forEach(t=>{this._elContainer.classList.remove(f.ELEMENT_NAME+f.COMPONENT_DATA.STRETCH.classListPrefix+t)}),this._elContainer.classList.add(f.ELEMENT_NAME+f.COMPONENT_DATA.STRETCH.classListPrefix+this.stretch),this.stretchHandler(),this._render()}stretchHandler(){let t=this.offsetHeight,e=this.offsetWidth,i=this.offsetHeight;if(this.stretch||(t=0,e=0),this._elContainer&&this._elContainer.style){const s=this.parentElement;this.stretch&&this.stretch.trim().length>0&&s&&(e=s.offsetWidth,t=s.offsetHeight,i=1===this._titlePresent?t-24:t,"height"===this.stretch?(!0===this.isAdvancedSlider?(this._elSliderContainer.style.height=i+"px",this._elContainer.style.height=t+"px",this._elSliderContainer.style.removeProperty("width")):this._elContainer.style.height=t+"px",this._elContainer.style.removeProperty("width")):"width"===this.stretch?(!0===this.isAdvancedSlider?(this._elSliderContainer.style.width=e+"px",this._elContainer.style.width=e+"px",this._elSliderContainer.style.removeProperty("height")):this._elContainer.style.width=e+"px",this._elContainer.style.removeProperty("height")):"both"===this.stretch&&(!0===this.isAdvancedSlider?(this._elSliderContainer.style.width=e+"px",this._elSliderContainer.style.height=i+"px",this._elContainer.style.width=e+"px",this._elContainer.style.height=t+"px"):(this._elContainer.style.width=e+"px",this._elContainer.style.height=t+"px")))}}handleOnOffOnly(){this.range||!1===this.isAdvancedSlider?Array.from(f.COMPONENT_DATA.ON_OFF_ONLY.values).forEach(t=>{this._elContainer.classList.remove(f.ELEMENT_NAME+f.COMPONENT_DATA.ON_OFF_ONLY.classListPrefix+String(t))}):(Array.from(f.COMPONENT_DATA.ON_OFF_ONLY.values).forEach(t=>{this._elContainer.classList.remove(f.ELEMENT_NAME+f.COMPONENT_DATA.ON_OFF_ONLY.classListPrefix+String(t))}),!0===this.onOffOnly?(this._innerContainer.classList.add("ch5-hide-vis"),this._elContainer.classList.add(f.ELEMENT_NAME+f.COMPONENT_DATA.ON_OFF_ONLY.classListPrefix+String(this.onOffOnly))):(this._innerContainer.classList.remove("ch5-hide-vis"),this._elContainer.classList.add(f.ELEMENT_NAME+f.COMPONENT_DATA.ON_OFF_ONLY.classListPrefix+String(this.onOffOnly))))}handleTapSettable(){!0===this.noHandle?this._elContainer.classList.add("nohandle"):this._elContainer.classList.remove("nohandle")}handleToolTipShowType(){Array.from(f.COMPONENT_DATA.TOOL_TIP_SHOW_TYPE.values).forEach(t=>{this._elContainer.classList.remove(f.ELEMENT_NAME+f.COMPONENT_DATA.TOOL_TIP_SHOW_TYPE.classListPrefix+t)}),this._elContainer.classList.add(f.ELEMENT_NAME+f.COMPONENT_DATA.TOOL_TIP_SHOW_TYPE.classListPrefix+this.toolTipShowType),this._render()}onOffButtonHelper(){let t=null,e=null;if(!0===this.range)this._elOffContainer.classList.remove("ch5-advanced-slider-button"),this._elOnContainer.classList.remove("ch5-advanced-slider-button"),this.isAdvancedSlider=!1,this._elContainer.classList.remove("ch5-advanced-slider-container");else{const i=this.getElementsByTagName("ch5-slider-button");if(0===i.length){this._elOffContainer.classList.add("ch5-advanced-slider-button"),this._elOnContainer.classList.add("ch5-advanced-slider-button");0!==this.getElementsByTagName("ch5-slider-title-label").length?(this.isAdvancedSlider=!0,this._elContainer.classList.add("ch5-advanced-slider-container")):(this.isAdvancedSlider=!1,this._elContainer.classList.remove("ch5-advanced-slider-container"))}else this._elOffContainer.classList.remove("ch5-advanced-slider-button"),this._elOnContainer.classList.remove("ch5-advanced-slider-button"),this.isAdvancedSlider=!0,this._elContainer.classList.add("ch5-advanced-slider-container"),Array.from(i).forEach(i=>{"off"===i.getAttribute("key")?(e=i,this.stretch&&"horizontal"===this.orientation?i.classList.add("ch5-slider-horizontal-stretch"):"vertical"!==this.orientation||"both"!==this.stretch&&"width"!==this.stretch||i.classList.add("ch5-slider-vertical-stretch"),this._elContainer.classList.add("ch5-slider-off-button")):"on"===i.getAttribute("key")&&(t=i,this.stretch&&"horizontal"===this.orientation?i.classList.add("ch5-slider-horizontal-stretch"):"vertical"!==this.orientation||"both"!==this.stretch&&"width"!==this.stretch||i.classList.add("ch5-slider-vertical-stretch"),this._elContainer.classList.add("ch5-slider-on-button"))}),t&&this._elOnContainer.appendChild(t),e&&this._elOffContainer.appendChild(e)}}titleHelper(){if(!1===this.range){const t=this.getElementsByTagName("ch5-slider-title-label");Array.from(t).forEach((t,e)=>{if(!(e>=1)){if(t.parentElement instanceof f){const e=new m.Ch5SliderTitleLabel(this);m.Ch5SliderTitleLabel.observedAttributes.forEach(i=>{t.hasAttribute(i)&&e.setAttribute(i,t.getAttribute(i)+"")})}this._elContainer.classList.add("ch5-slider-title")}})}else this._elContainer.classList.remove("ch5-slider-title")}helper(t,e){Array.from(t.children).forEach(t=>t.remove()),t.appendChild(e)}setValues(t,e){!1===this.range&&("title"===t?(""!==e.innerHTML?this._titlePresent=1:this._titlePresent=-1,this.helper(this._elTitleContainer,e)):"on"===t?this.helper(this._elOnContainer,e):"off"===t&&this.helper(this._elOffContainer,e))}handleToolTipDisplayType(){Array.from(f.COMPONENT_DATA.TOOL_TIP_DISPLAY_TYPE.values).forEach(t=>{this._elContainer.classList.remove(f.ELEMENT_NAME+f.COMPONENT_DATA.TOOL_TIP_DISPLAY_TYPE.classListPrefix+t)}),this._elContainer.classList.add(f.ELEMENT_NAME+f.COMPONENT_DATA.TOOL_TIP_DISPLAY_TYPE.classListPrefix+this.toolTipDisplayType),this._render()}}e.Ch5Slider=f,f.ELEMENT_NAME="ch5-slider",f.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{sendeventonchange:{direction:"event",numericJoin:1,contractName:!0},sendeventonchangehigh:{direction:"event",numericJoin:1,contractName:!0},receivestatevalue:{direction:"state",numericJoin:1,contractName:!0},receivestatevaluehigh:{direction:"state",numericJoin:1,contractName:!0},receivestateshowonoffonly:{direction:"state",booleanJoin:1,contractName:!0},sendeventonupper:{direction:"event",booleanJoin:1,contractName:!0},receivestateupper:{direction:"state",booleanJoin:1,contractName:!0},sendeventonlower:{direction:"event",booleanJoin:1,contractName:!0},receivestatelower:{direction:"state",booleanJoin:1,contractName:!0},sendeventonhandleclick:{direction:"event",booleanJoin:1,contractName:!0}}),f.MIN_VALUE=0,f.MAX_VALUE=65535,f.DEFAULT_STEP=1,f.HANDLE_SHAPE=["rounded-rectangle","rectangle","circle","oval"],f.ORIENTATION=["horizontal","vertical"],f.SIZE=["regular","x-small","small","large","x-large"],f.HANDLE_SIZE=["regular","x-small","small","large","x-large"],f.STRETCH=["both","height","width"],f.TOOL_TIP_SHOW_TYPE=["off","on","auto"],f.TOOL_TIP_DISPLAY_TYPE=["%","value"],f.COMPONENT_DATA={HANDLE_SHAPE:{default:f.HANDLE_SHAPE[0],values:f.HANDLE_SHAPE,key:"handleShape",attribute:"handleShape",classListPrefix:"--shape--"},ORIENTATION:{default:f.ORIENTATION[0],values:f.ORIENTATION,key:"orientation",attribute:"orientation",classListPrefix:"--orientation--"},SIZE:{default:f.SIZE[0],values:f.SIZE,key:"size",attribute:"size",classListPrefix:"--size--"},HANDLE_SIZE:{default:f.HANDLE_SIZE[0],values:f.HANDLE_SIZE,key:"handleSize",attribute:"handleSize",classListPrefix:"--handle-size--"},STRETCH:{default:f.STRETCH[0],values:f.STRETCH,key:"stretch",attribute:"stretch",classListPrefix:"--stretch--"},TOOL_TIP_SHOW_TYPE:{default:f.TOOL_TIP_SHOW_TYPE[0],values:f.TOOL_TIP_SHOW_TYPE,key:"toolTipShowType",attribute:"toolTipShowType",classListPrefix:"--tooltip--"},TOOL_TIP_DISPLAY_TYPE:{default:f.TOOL_TIP_DISPLAY_TYPE[0],values:f.TOOL_TIP_DISPLAY_TYPE,key:"toolTipDisplayType",attribute:"toolTipDisplayType",classListPrefix:"--tooltip-display-type-"},ON_OFF_ONLY:{default:!1,values:[!0,!1],key:"onOffOnly",attribute:"onOffOnly",classListPrefix:"--on-off-only-"}},f.COMPONENT_PROPERTIES=[{default:0,name:"min",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:0,numberProperties:{min:-65535,max:65534,conditionalMin:-65535,conditionalMax:65534,conditionalMinValue:-65535,conditionalMaxValue:65534},isObservableProperty:!0},{default:65535,name:"max",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:65535,numberProperties:{min:-65534,max:65535,conditionalMin:-65534,conditionalMax:65535,conditionalMinValue:-65534,conditionalMaxValue:65535},isObservableProperty:!0},{default:"",name:"ticks",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:f.HANDLE_SHAPE[0],enumeratedValues:f.HANDLE_SHAPE,name:"handleShape",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:f.HANDLE_SHAPE[0],isObservableProperty:!0},{default:!1,name:"range",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:f.ORIENTATION[0],enumeratedValues:f.ORIENTATION,name:"orientation",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:f.ORIENTATION[0],isObservableProperty:!0},{default:f.SIZE[0],enumeratedValues:f.SIZE,name:"size",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:f.SIZE[0],isObservableProperty:!0},{default:f.HANDLE_SIZE[0],enumeratedValues:f.HANDLE_SIZE,name:"handleSize",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:f.HANDLE_SIZE[0],isObservableProperty:!0},{default:"",enumeratedValues:f.STRETCH,name:"stretch",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:f.STRETCH[0],isObservableProperty:!0},{default:!1,name:"noHandle",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:1,name:"step",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:null,numberProperties:{min:1,max:65535,conditionalMin:1,conditionalMax:65535,conditionalMinValue:1,conditionalMaxValue:65535},isObservableProperty:!0},{default:!1,name:"showTickValues",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!1,isObservableProperty:!0},{default:f.TOOL_TIP_SHOW_TYPE[0],enumeratedValues:f.TOOL_TIP_SHOW_TYPE,name:"toolTipShowType",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:f.TOOL_TIP_SHOW_TYPE[0],isObservableProperty:!0},{default:f.TOOL_TIP_DISPLAY_TYPE[0],enumeratedValues:f.TOOL_TIP_DISPLAY_TYPE,name:"toolTipDisplayType",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:f.TOOL_TIP_DISPLAY_TYPE[0],isObservableProperty:!0},{default:!1,name:"tapSettable",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateValue",signalType:"object",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateValueHigh",signalType:"object",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:0,name:"value",nameForSignal:"receiveStateValue",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:null,numberProperties:{min:-65535,max:65535,conditionalMin:-65535,conditionalMax:65535,conditionalMinValue:-65535,conditionalMaxValue:65535},isObservableProperty:!0},{default:65535,name:"valueHigh",nameForSignal:"receiveStateValueHigh",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:null,numberProperties:{min:-65534,max:65535,conditionalMin:-65534,conditionalMax:65535,conditionalMinValue:-65534,conditionalMaxValue:65535},isObservableProperty:!0},{default:!1,name:"onOffOnly",nameForSignal:"receiveStateShowOnOffOnly",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!1,isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateShowOnOffOnly",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnUpper",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnLower",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnChange",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnChangeHigh",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnHandleClick",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}],f.OFFSET_THRESHOLD=30,"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(f.ELEMENT_NAME,f),f.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(48),e)},function(t,e,i){!function(t){"use strict";function e(t){return"object"==typeof t&&"function"==typeof t.to}function i(t){t.parentElement.removeChild(t)}function s(t){return null!=t}function n(t){t.preventDefault()}function r(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function a(t,e,i){i>0&&(u(t,e),setTimeout((function(){c(t,e)}),i))}function o(t){return Math.max(Math.min(t,100),0)}function l(t){return Array.isArray(t)?t:[t]}function h(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function u(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function c(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(t){var e=void 0!==window.pageXOffset,i="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:i?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:i?t.documentElement.scrollTop:t.body.scrollTop}}function p(t,e){return 100/(e-t)}function g(t,e,i){return 100*e/(t[i+1]-t[i])}function m(t,e){for(var i=1;t>=e[i];)i+=1;return i}function b(t,e,i){if(i>=t.slice(-1)[0])return 100;var s=m(i,t),n=t[s-1],r=t[s],a=e[s-1],o=e[s];return a+function(t,e){return g(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}([n,r],i)/p(a,o)}function f(t,e,i,s){if(100===s)return s;var n=m(s,t),r=t[n-1],a=t[n];return i?s-r>(a-r)/2?a:r:e[n-1]?t[n-1]+function(t,e){return Math.round(t/e)*e}(s-t[n-1],e[n-1]):s}var v,_;t.PipsMode=void 0,(_=t.PipsMode||(t.PipsMode={})).Range="range",_.Steps="steps",_.Positions="positions",_.Count="count",_.Values="values",t.PipsType=void 0,(v=t.PipsType||(t.PipsType={}))[v.None=-1]="None",v[v.NoValue=0]="NoValue",v[v.LargeValue=1]="LargeValue",v[v.SmallValue=2]="SmallValue";var S=function(){function t(t,e,i){var s;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=e;var n=[];for(Object.keys(t).forEach((function(e){n.push([l(t[e]),e])})),n.sort((function(t,e){return t[0][0]-e[0][0]})),s=0;s<n.length;s++)this.handleEntryPoint(n[s][1],n[s][0]);for(this.xNumSteps=this.xSteps.slice(0),s=0;s<this.xNumSteps.length;s++)this.handleStepPoint(s,this.xNumSteps[s])}return t.prototype.getDistance=function(t){for(var e=[],i=0;i<this.xNumSteps.length-1;i++)e[i]=g(this.xVal,t,i);return e},t.prototype.getAbsoluteDistance=function(t,e,i){var s,n=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[n+1];)n++;else t===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);i||t!==this.xPct[n+1]||n++,null===e&&(e=[]);var r=1,a=e[n],o=0,l=0,h=0,u=0;for(s=i?(t-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):(this.xPct[n+1]-t)/(this.xPct[n+1]-this.xPct[n]);a>0;)o=this.xPct[n+1+u]-this.xPct[n+u],e[n+u]*r+100-100*s>100?(l=o*s,r=(a-100*s)/e[n+u],s=1):(l=e[n+u]*o/100*r,r=0),i?(h-=l,this.xPct.length+u>=1&&u--):(h+=l,this.xPct.length-u>=1&&u++),a=e[n+u]*r;return t+h},t.prototype.toStepping=function(t){return t=b(this.xVal,this.xPct,t)},t.prototype.fromStepping=function(t){return function(t,e,i){if(i>=100)return t.slice(-1)[0];var s=m(i,e),n=t[s-1],r=t[s],a=e[s-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([n,r],(i-a)*p(a,e[s]))}(this.xVal,this.xPct,t)},t.prototype.getStep=function(t){return t=f(this.xPct,this.xSteps,this.snap,t)},t.prototype.getDefaultStep=function(t,e,i){var s=m(t,this.xPct);return(100===t||e&&t===this.xPct[s-1])&&(s=Math.max(s-1,1)),(this.xVal[s]-this.xVal[s-1])/i},t.prototype.getNearbySteps=function(t){var e=m(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},t.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(h);return Math.max.apply(null,t)},t.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},t.prototype.convert=function(t){return this.getStep(this.toStepping(t))},t.prototype.handleEntryPoint=function(t,e){var i;if(!r(i="min"===t?0:"max"===t?100:parseFloat(t))||!r(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(i),this.xVal.push(e[0]);var s=Number(e[1]);i?this.xSteps.push(!isNaN(s)&&s):isNaN(s)||(this.xSteps[0]=s),this.xHighestCompleteStep.push(0)},t.prototype.handleStepPoint=function(t,e){if(e)if(this.xVal[t]!==this.xVal[t+1]){this.xSteps[t]=g([this.xVal[t],this.xVal[t+1]],e,0)/p(this.xPct[t],this.xPct[t+1]);var i=(this.xVal[t+1]-this.xVal[t])/this.xNumSteps[t],s=Math.ceil(Number(i.toFixed(3))-1),n=this.xVal[t]+this.xNumSteps[t]*s;this.xHighestCompleteStep[t]=n}else this.xSteps[t]=this.xHighestCompleteStep[t]=this.xVal[t]},t}(),C={to:function(t){return void 0===t?"":t.toFixed(2)},from:Number},E={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},y=".__tooltips",T=".__aria";function A(t,e){if(!r(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function O(t,e){if(!r(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function I(t,e){if(!r(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");t.keyboardMultiplier=e}function w(t,e){if(!r(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function P(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new S(e,t.snap||!1,t.singleStep)}function N(t,e){if(e=l(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function L(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.");t.snap=e}function M(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.");t.animate=e}function R(t,e){if("number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.");t.animationDuration=e}function x(t,e){var i,s=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(i=1;i<t.handles;i++)s.push(e);s.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");s=e}t.connect=s}function k(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function B(t,e){if(!r(e))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function H(t,e){if(!r(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function V(t,e){var i;if(!r(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!r(e[0])&&!r(e[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],i=0;i<t.spectrum.xNumSteps.length-1;i++)if(t.padding[0][i]<0||t.padding[1][i]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var s=e[0]+e[1],n=t.spectrum.xVal[0];if(s/(t.spectrum.xVal[t.spectrum.xVal.length-1]-n)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function F(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function D(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=e.indexOf("tap")>=0,s=e.indexOf("drag")>=0,n=e.indexOf("fixed")>=0,r=e.indexOf("snap")>=0,a=e.indexOf("hover")>=0,o=e.indexOf("unconstrained")>=0,l=e.indexOf("drag-all")>=0,h=e.indexOf("smooth-steps")>=0;if(n){if(2!==t.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");B(t,t.start[1]-t.start[0])}if(o&&(t.margin||t.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:i||r,drag:s,dragAll:l,smoothSteps:h,fixed:n,snap:r,hover:a,unconstrained:o}}function U(t,i){if(!1!==i)if(!0===i||e(i)){t.tooltips=[];for(var s=0;s<t.handles;s++)t.tooltips.push(i)}else{if((i=l(i)).length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");i.forEach((function(t){if("boolean"!=typeof t&&!e(t))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),t.tooltips=i}}function j(t,e){if(e.length!==t.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");t.handleAttributes=e}function z(t,i){if(!e(i))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");t.ariaFormat=i}function W(t,i){if(!function(t){return e(t)&&"function"==typeof t.from}(i))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");t.format=i}function Y(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");t.keyboardSupport=e}function $(t,e){t.documentElement=e}function G(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function X(t,e){if("object"!=typeof e)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof t.cssPrefix?(t.cssClasses={},Object.keys(e).forEach((function(i){t.cssClasses[i]=t.cssPrefix+e[i]}))):t.cssClasses=e}function J(t){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:C,format:C},i={step:{r:!1,t:A},keyboardPageMultiplier:{r:!1,t:O},keyboardMultiplier:{r:!1,t:I},keyboardDefaultStep:{r:!1,t:w},start:{r:!0,t:N},connect:{r:!0,t:x},direction:{r:!0,t:F},snap:{r:!1,t:L},animate:{r:!1,t:M},animationDuration:{r:!1,t:R},range:{r:!0,t:P},orientation:{r:!1,t:k},margin:{r:!1,t:B},limit:{r:!1,t:H},padding:{r:!1,t:V},behaviour:{r:!0,t:D},ariaFormat:{r:!1,t:z},format:{r:!1,t:W},tooltips:{r:!1,t:U},keyboardSupport:{r:!0,t:Y},documentElement:{r:!1,t:$},cssPrefix:{r:!0,t:G},cssClasses:{r:!0,t:X},handleAttributes:{r:!1,t:j}},n={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:E,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(i).forEach((function(r){if(s(t[r])||void 0!==n[r])i[r].t(e,s(t[r])?t[r]:n[r]);else if(i[r].r)throw new Error("noUiSlider: '"+r+"' is required.")})),e.pips=t.pips;var r=document.createElement("div"),a=void 0!==r.style.msTransform,o=void 0!==r.style.transform;return e.transformRule=o?"transform":a?"msTransform":"webkitTransform",e.style=[["left","top"],["right","bottom"]][e.dir][e.ort],e}function K(e,r,h){var p,g,m,b,f,v,_,S=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},C=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),E=e,A=r.spectrum,O=[],I=[],w=[],P=0,N={},L=e.ownerDocument,M=r.documentElement||L.documentElement,R=L.body,x="rtl"===L.dir||1===r.ort?0:100;function k(t,e){var i=L.createElement("div");return e&&u(i,e),t.appendChild(i),i}function B(t,e){var i=k(t,r.cssClasses.origin),s=k(i,r.cssClasses.handle);if(k(s,r.cssClasses.touchArea),s.setAttribute("data-handle",String(e)),r.keyboardSupport&&(s.setAttribute("tabindex","0"),s.addEventListener("keydown",(function(t){return function(t,e){if(F()||D(e))return!1;var i=["Left","Right"],s=["Down","Up"],n=["PageDown","PageUp"],a=["Home","End"];r.dir&&!r.ort?i.reverse():r.ort&&!r.dir&&(s.reverse(),n.reverse());var o,l=t.key.replace("Arrow",""),h=l===n[0],u=l===n[1],c=l===s[0]||l===i[0]||h,d=l===s[1]||l===i[1]||u,p=l===a[0],g=l===a[1];if(!(c||d||p||g))return!0;if(t.preventDefault(),d||c){var m=c?0:1,b=ft(e)[m];if(null===b)return!1;!1===b&&(b=A.getDefaultStep(I[e],c,r.keyboardDefaultStep)),b*=u||h?r.keyboardPageMultiplier:r.keyboardMultiplier,b=Math.max(b,1e-7),b*=c?-1:1,o=O[e]+b}else o=g?r.spectrum.xVal[r.spectrum.xVal.length-1]:r.spectrum.xVal[0];return dt(e,A.toStepping(o),!0,!0),at("slide",e),at("update",e),at("change",e),at("set",e),!1}(t,e)}))),void 0!==r.handleAttributes){var n=r.handleAttributes[e];Object.keys(n).forEach((function(t){s.setAttribute(t,n[t])}))}return s.setAttribute("role","slider"),s.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===e?u(s,r.cssClasses.handleLower):e===r.handles-1&&u(s,r.cssClasses.handleUpper),i}function H(t,e){return!!e&&k(t,r.cssClasses.connect)}function V(t,e){return!(!r.tooltips||!r.tooltips[e])&&k(t.firstChild,r.cssClasses.tooltip)}function F(){return E.hasAttribute("disabled")}function D(t){return g[t].hasAttribute("disabled")}function U(){f&&(rt("update"+y),f.forEach((function(t){t&&i(t)})),f=null)}function j(){U(),f=g.map(V),nt("update"+y,(function(t,e,i){if(f&&r.tooltips&&!1!==f[e]){var s=t[e];!0!==r.tooltips[e]&&(s=r.tooltips[e].to(i[e])),f[e].innerHTML=s}}))}function z(t,e){return t.map((function(t){return A.fromStepping(e?A.getStep(t):t)}))}function W(e){var i,s=function(e){if(e.mode===t.PipsMode.Range||e.mode===t.PipsMode.Steps)return A.xVal;if(e.mode===t.PipsMode.Count){if(e.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var i=e.values-1,s=100/i,n=[];i--;)n[i]=i*s;return n.push(100),z(n,e.stepped)}return e.mode===t.PipsMode.Positions?z(e.values,e.stepped):e.mode===t.PipsMode.Values?e.stepped?e.values.map((function(t){return A.fromStepping(A.getStep(A.toStepping(t)))})):e.values:[]}(e),n={},r=A.xVal[0],a=A.xVal[A.xVal.length-1],o=!1,l=!1,h=0;return i=s.slice().sort((function(t,e){return t-e})),(s=i.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==r&&(s.unshift(r),o=!0),s[s.length-1]!==a&&(s.push(a),l=!0),s.forEach((function(i,r){var a,u,c,d,p,g,m,b,f,v,_=i,S=s[r+1],C=e.mode===t.PipsMode.Steps;for(C&&(a=A.xNumSteps[r]),a||(a=S-_),void 0===S&&(S=_),a=Math.max(a,1e-7),u=_;u<=S;u=Number((u+a).toFixed(7))){for(b=(p=(d=A.toStepping(u))-h)/(e.density||1),v=p/(f=Math.round(b)),c=1;c<=f;c+=1)n[(g=h+c*v).toFixed(5)]=[A.fromStepping(g),0];m=s.indexOf(u)>-1?t.PipsType.LargeValue:C?t.PipsType.SmallValue:t.PipsType.NoValue,!r&&o&&u!==S&&(m=0),u===S&&l||(n[d.toFixed(5)]=[u,m]),h=d}})),n}function Y(e,i,s){var n,a,o=L.createElement("div"),l=((n={})[t.PipsType.None]="",n[t.PipsType.NoValue]=r.cssClasses.valueNormal,n[t.PipsType.LargeValue]=r.cssClasses.valueLarge,n[t.PipsType.SmallValue]=r.cssClasses.valueSub,n),h=((a={})[t.PipsType.None]="",a[t.PipsType.NoValue]=r.cssClasses.markerNormal,a[t.PipsType.LargeValue]=r.cssClasses.markerLarge,a[t.PipsType.SmallValue]=r.cssClasses.markerSub,a),c=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],d=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];function p(t,e){var i=e===r.cssClasses.value,s=i?l:h;return e+" "+(i?c:d)[r.ort]+" "+s[t]}return u(o,r.cssClasses.pips),u(o,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(e).forEach((function(n){!function(e,n,a){if((a=i?i(n,a):a)!==t.PipsType.None){var l=k(o,!1);l.className=p(a,r.cssClasses.marker),l.style[r.style]=e+"%",a>t.PipsType.NoValue&&((l=k(o,!1)).className=p(a,r.cssClasses.value),l.setAttribute("data-value",String(n)),l.style[r.style]=e+"%",l.innerHTML=String(s.to(n)))}}(n,e[n][0],e[n][1])})),o}function $(){b&&(i(b),b=null)}function G(t){$();var e=W(t),i=t.filter,s=t.format||{to:function(t){return String(Math.round(t))}};return b=E.appendChild(Y(e,i,s))}function X(){var t=p.getBoundingClientRect(),e="offset"+["Width","Height"][r.ort];return 0===r.ort?t.width||p[e]:t.height||p[e]}function K(t,e,i,s){var n=function(n){var a,o,l=function(t,e,i){var s=0===t.type.indexOf("touch"),n=0===t.type.indexOf("mouse"),r=0===t.type.indexOf("pointer"),a=0,o=0;if(0===t.type.indexOf("MSPointer")&&(r=!0),"mousedown"===t.type&&!t.buttons&&!t.touches)return!1;if(s){var l=function(e){var s=e.target;return s===i||i.contains(s)||t.composed&&t.composedPath().shift()===i};if("touchstart"===t.type){var h=Array.prototype.filter.call(t.touches,l);if(h.length>1)return!1;a=h[0].pageX,o=h[0].pageY}else{var u=Array.prototype.find.call(t.changedTouches,l);if(!u)return!1;a=u.pageX,o=u.pageY}}return e=e||d(L),(n||r)&&(a=t.clientX+e.x,o=t.clientY+e.y),t.pageOffset=e,t.points=[a,o],t.cursor=n||r,t}(n,s.pageOffset,s.target||e);return!!l&&!(F()&&!s.doNotReject)&&(a=E,o=r.cssClasses.tap,!((a.classList?a.classList.contains(o):new RegExp("\\b"+o+"\\b").test(a.className))&&!s.doNotReject)&&!(t===S.start&&void 0!==l.buttons&&l.buttons>1)&&(!s.hover||!l.buttons)&&(C||l.preventDefault(),l.calcPoint=l.points[r.ort],void i(l,s)))},a=[];return t.split(" ").forEach((function(t){e.addEventListener(t,n,!!C&&{passive:!0}),a.push([t,n])})),a}function q(t){var e,i,s,n,a,l,h=100*(t-(e=p,i=r.ort,s=e.getBoundingClientRect(),n=e.ownerDocument,a=n.documentElement,l=d(n),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),i?s.top+l.y-a.clientTop:s.left+l.x-a.clientLeft))/X();return h=o(h),r.dir?100-h:h}function Z(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&tt(t,e)}function Q(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return tt(t,e);var i=(r.dir?-1:1)*(t.calcPoint-e.startCalcPoint);ht(i>0,100*i/e.baseSize,e.locations,e.handleNumbers,e.connect)}function tt(t,e){e.handle&&(c(e.handle,r.cssClasses.active),P-=1),e.listeners.forEach((function(t){M.removeEventListener(t[0],t[1])})),0===P&&(c(E,r.cssClasses.drag),ct(),t.cursor&&(R.style.cursor="",R.removeEventListener("selectstart",n))),r.events.smoothSteps&&(e.handleNumbers.forEach((function(t){dt(t,I[t],!0,!0,!1,!1)})),e.handleNumbers.forEach((function(t){at("update",t)}))),e.handleNumbers.forEach((function(t){at("change",t),at("set",t),at("end",t)}))}function et(t,e){if(!e.handleNumbers.some(D)){var i;1===e.handleNumbers.length&&(i=g[e.handleNumbers[0]].children[0],P+=1,u(i,r.cssClasses.active)),t.stopPropagation();var s=[],a=K(S.move,M,Q,{target:t.target,handle:i,connect:e.connect,listeners:s,startCalcPoint:t.calcPoint,baseSize:X(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:I.slice()}),o=K(S.end,M,tt,{target:t.target,handle:i,listeners:s,doNotReject:!0,handleNumbers:e.handleNumbers}),l=K("mouseout",M,Z,{target:t.target,handle:i,listeners:s,doNotReject:!0,handleNumbers:e.handleNumbers});s.push.apply(s,a.concat(o,l)),t.cursor&&(R.style.cursor=getComputedStyle(t.target).cursor,g.length>1&&u(E,r.cssClasses.drag),R.addEventListener("selectstart",n,!1)),e.handleNumbers.forEach((function(t){at("start",t)}))}}function it(t){t.stopPropagation();var e=q(t.calcPoint),i=function(t){var e=100,i=!1;return g.forEach((function(s,n){if(!D(n)){var r=I[n],a=Math.abs(r-t);(a<e||a<=e&&t>r||100===a&&100===e)&&(i=n,e=a)}})),i}(e);!1!==i&&(r.events.snap||a(E,r.cssClasses.tap,r.animationDuration),dt(i,e,!0,!0),ct(),at("slide",i,!0),at("update",i,!0),r.events.snap?et(t,{handleNumbers:[i]}):(at("change",i,!0),at("set",i,!0)))}function st(t){var e=q(t.calcPoint),i=A.getStep(e),s=A.fromStepping(i);Object.keys(N).forEach((function(t){"hover"===t.split(".")[0]&&N[t].forEach((function(t){t.call(vt,s)}))}))}function nt(t,e){N[t]=N[t]||[],N[t].push(e),"update"===t.split(".")[0]&&g.forEach((function(t,e){at("update",e)}))}function rt(t){var e=t&&t.split(".")[0],i=e?t.substring(e.length):t;Object.keys(N).forEach((function(t){var s=t.split(".")[0],n=t.substring(s.length);e&&e!==s||i&&i!==n||function(t){return t===T||t===y}(n)&&i!==n||delete N[t]}))}function at(t,e,i){Object.keys(N).forEach((function(s){var n=s.split(".")[0];t===n&&N[s].forEach((function(t){t.call(vt,O.map(r.format.to),e,O.slice(),i||!1,I.slice(),vt)}))}))}function ot(t,e,i,s,n,a,l){var h;return g.length>1&&!r.events.unconstrained&&(s&&e>0&&(h=A.getAbsoluteDistance(t[e-1],r.margin,!1),i=Math.max(i,h)),n&&e<g.length-1&&(h=A.getAbsoluteDistance(t[e+1],r.margin,!0),i=Math.min(i,h))),g.length>1&&r.limit&&(s&&e>0&&(h=A.getAbsoluteDistance(t[e-1],r.limit,!1),i=Math.min(i,h)),n&&e<g.length-1&&(h=A.getAbsoluteDistance(t[e+1],r.limit,!0),i=Math.max(i,h))),r.padding&&(0===e&&(h=A.getAbsoluteDistance(0,r.padding[0],!1),i=Math.max(i,h)),e===g.length-1&&(h=A.getAbsoluteDistance(100,r.padding[1],!0),i=Math.min(i,h))),l||(i=A.getStep(i)),!((i=o(i))===t[e]&&!a)&&i}function lt(t,e){var i=r.ort;return(i?e:t)+", "+(i?t:e)}function ht(t,e,i,s,n){var a=i.slice(),o=s[0],l=r.events.smoothSteps,h=[!t,t],u=[t,!t];s=s.slice(),t&&s.reverse(),s.length>1?s.forEach((function(t,i){var s=ot(a,t,a[t]+e,h[i],u[i],!1,l);!1===s?e=0:(e=s-a[t],a[t]=s)})):h=u=[!0];var c=!1;s.forEach((function(t,s){c=dt(t,i[t]+e,h[s],u[s],!1,l)||c})),c&&(s.forEach((function(t){at("update",t),at("slide",t)})),null!=n&&at("drag",o))}function ut(t,e){return r.dir?100-t-e:t}function ct(){w.forEach((function(t){var e=I[t]>50?-1:1,i=3+(g.length+e*t);g[t].style.zIndex=String(i)}))}function dt(t,e,i,s,n,a){return n||(e=ot(I,t,e,i,s,!1,a)),!1!==e&&(function(t,e){I[t]=e,O[t]=A.fromStepping(e);var i="translate("+lt(ut(e,0)-x+"%","0")+")";g[t].style[r.transformRule]=i,pt(t),pt(t+1)}(t,e),!0)}function pt(t){if(m[t]){var e=0,i=100;0!==t&&(e=I[t-1]),t!==m.length-1&&(i=I[t]);var s=i-e,n="translate("+lt(ut(e,s)+"%","0")+")",a="scale("+lt(s/100,"1")+")";m[t].style[r.transformRule]=n+" "+a}}function gt(t,e){return null===t||!1===t||void 0===t?I[e]:("number"==typeof t&&(t=String(t)),!1!==(t=r.format.from(t))&&(t=A.toStepping(t)),!1===t||isNaN(t)?I[e]:t)}function mt(t,e,i){var s=l(t),n=void 0===I[0];e=void 0===e||e,r.animate&&!n&&a(E,r.cssClasses.tap,r.animationDuration),w.forEach((function(t){dt(t,gt(s[t],t),!0,!1,i)}));var o=1===w.length?0:1;if(n&&A.hasNoSize()&&(i=!0,I[0]=0,w.length>1)){var h=100/(w.length-1);w.forEach((function(t){I[t]=t*h}))}for(;o<w.length;++o)w.forEach((function(t){dt(t,I[t],!0,!0,i)}));ct(),w.forEach((function(t){at("update",t),null!==s[t]&&e&&at("set",t)}))}function bt(t){if(void 0===t&&(t=!1),t)return 1===O.length?O[0]:O.slice(0);var e=O.map(r.format.to);return 1===e.length?e[0]:e}function ft(t){var e=I[t],i=A.getNearbySteps(e),s=O[t],n=i.thisStep.step,a=null;if(r.snap)return[s-i.stepBefore.startValue||null,i.stepAfter.startValue-s||null];!1!==n&&s+n>i.stepAfter.startValue&&(n=i.stepAfter.startValue-s),a=s>i.thisStep.startValue?i.thisStep.step:!1!==i.stepBefore.step&&s-i.stepBefore.highestStep,100===e?n=null:0===e&&(a=null);var o=A.countStepDecimals();return null!==n&&!1!==n&&(n=Number(n.toFixed(o))),null!==a&&!1!==a&&(a=Number(a.toFixed(o))),[a,n]}u(v=E,r.cssClasses.target),0===r.dir?u(v,r.cssClasses.ltr):u(v,r.cssClasses.rtl),0===r.ort?u(v,r.cssClasses.horizontal):u(v,r.cssClasses.vertical),u(v,"rtl"===getComputedStyle(v).direction?r.cssClasses.textDirectionRtl:r.cssClasses.textDirectionLtr),p=k(v,r.cssClasses.base),function(t,e){var i=k(e,r.cssClasses.connects);g=[],(m=[]).push(H(i,t[0]));for(var s=0;s<r.handles;s++)g.push(B(e,s)),w[s]=s,m.push(H(i,t[s+1]))}(r.connect,p),(_=r.events).fixed||g.forEach((function(t,e){K(S.start,t.children[0],et,{handleNumbers:[e]})})),_.tap&&K(S.start,p,it,{}),_.hover&&K(S.move,p,st,{hover:!0}),_.drag&&m.forEach((function(t,e){if(!1!==t&&0!==e&&e!==m.length-1){var i=g[e-1],s=g[e],n=[t],a=[i,s],o=[e-1,e];u(t,r.cssClasses.draggable),_.fixed&&(n.push(i.children[0]),n.push(s.children[0])),_.dragAll&&(a=g,o=w),n.forEach((function(e){K(S.start,e,et,{handles:a,handleNumbers:o,connect:t})}))}})),mt(r.start),r.pips&&G(r.pips),r.tooltips&&j(),rt("update"+T),nt("update"+T,(function(t,e,i,s,n){w.forEach((function(t){var e=g[t],s=ot(I,t,0,!0,!0,!0),a=ot(I,t,100,!0,!0,!0),o=n[t],l=String(r.ariaFormat.to(i[t]));s=A.fromStepping(s).toFixed(1),a=A.fromStepping(a).toFixed(1),o=A.fromStepping(o).toFixed(1),e.children[0].setAttribute("aria-valuemin",s),e.children[0].setAttribute("aria-valuemax",a),e.children[0].setAttribute("aria-valuenow",o),e.children[0].setAttribute("aria-valuetext",l)}))}));var vt={destroy:function(){for(rt(T),rt(y),Object.keys(r.cssClasses).forEach((function(t){c(E,r.cssClasses[t])}));E.firstChild;)E.removeChild(E.firstChild);delete E.noUiSlider},steps:function(){return w.map(ft)},on:nt,off:rt,get:bt,set:mt,setHandle:function(t,e,i,s){if(!((t=Number(t))>=0&&t<w.length))throw new Error("noUiSlider: invalid handle number, got: "+t);dt(t,gt(e,t),!0,!0,s),at("update",t),i&&at("set",t)},reset:function(t){mt(r.start,t)},__moveHandles:function(t,e,i){ht(t,e,I,i)},options:h,updateOptions:function(t,e){var i=bt(),n=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];n.forEach((function(e){void 0!==t[e]&&(h[e]=t[e])}));var a=J(h);n.forEach((function(e){void 0!==t[e]&&(r[e]=a[e])})),A=a.spectrum,r.margin=a.margin,r.limit=a.limit,r.padding=a.padding,r.pips?G(r.pips):$(),r.tooltips?j():U(),I=[],mt(s(t.start)?t.start:i,e)},target:E,removePips:$,removeTooltips:U,getPositions:function(){return I.slice()},getTooltips:function(){return f},getOrigins:function(){return g},pips:G};return vt}function q(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var i=K(t,J(e),e);return t.noUiSlider=i,i}var Z={__spectrum:S,cssClasses:E,create:q};t.create=q,t.cssClasses=E,t.default=Z,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Ch5PressableSlider=void 0,__webpack_require__(32);const rxjs_1=__webpack_require__(14),lodash_1=__importDefault(__webpack_require__(0));var Ch5PressableFingerStateMode;!function(t){t[t.Idle=0]="Idle",t[t.Start=1]="Start",t[t.FingerDown=2]="FingerDown"}(Ch5PressableFingerStateMode||(Ch5PressableFingerStateMode={}));class Ch5PressableSlider{constructor(t,e){this._fingerState=new Ch5PressableSlider.FingerState,this._touchStart=!1,this._touchEnd=!1,this._pressed=!1,this._released=!0,this._hammerManager=null,this._gestureableSubscription=null,this.TOUCH_TIMEOUT=250,this.PRESS_MOVE_THRESHOLD=10,this.CLICK_MOVE_THRESHOLD=1,this.isTouch=!1,this.isMouse=!1,this.sliderValue="",this._ch5Component=t,this._options=e||null,this.observablePressed=new rxjs_1.Subject,this._pressEvent=new CustomEvent("press",{bubbles:!0,cancelable:!1}),this._releaseEvent=new CustomEvent("release",{bubbles:!0,cancelable:!1}),this._onClick=this._onClick.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onTouchCancel=this._onTouchCancel.bind(this),this._onTouchHoldTimer=this._onTouchHoldTimer.bind(this),this._onHold=this._onHold.bind(this),this._onRelease=this._onRelease.bind(this),this._onPanEnd=this._onPanEnd.bind(this),this._onMouseMove=this._onMouseMove.bind(this)}get ch5Component(){return this._ch5Component}get options(){return this._options}get pressDelayTime(){return null===this._options||lodash_1.default.isNil(this._options.pressDelayTime)?this.TOUCH_TIMEOUT:this._options.pressDelayTime}get pressDelayMoveDistance(){return null===this._options||lodash_1.default.isNil(this._options.pressDelayDistance)?this.PRESS_MOVE_THRESHOLD:this._options.pressDelayDistance}get clickDelayMoveDistance(){return null===this.options||lodash_1.default.isNil(this.options.clickDelayDistance)?this.CLICK_MOVE_THRESHOLD:this.options.clickDelayDistance}init(){this._hammerManager=new Hammer(this._ch5Component,{touchAction:"auto"}),this._subscribeToGestureableProp(),this._attachEvents()}setPressed(t){!0===this._pressed?!1===t&&this._onRelease():!0===t&&this._onHold()}destroy(){this._unsubscribeFromGestureableProp(),this._removeEvents()}_attachEvents(){this._ch5Component.addEventListener("click",this._onClick),this._ch5Component.addEventListener("mousedown",this._onMouseDown,{passive:!0}),this._ch5Component.addEventListener("mouseup",this._onMouseUp),this._ch5Component.addEventListener("mousemove",this._onMouseMove),this._ch5Component.addEventListener("mouseleave",this._onMouseLeave),this._ch5Component.addEventListener("mouseout",this._onMouseLeave),this._ch5Component.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this._ch5Component.addEventListener("touchmove",this._onTouchMove),this._ch5Component.addEventListener("touchend",this._onTouchEnd),this._ch5Component.addEventListener("touchcancel",this._onTouchCancel)}_removeEvents(){this._ch5Component.removeEventListener("click",this._onClick),this._ch5Component.removeEventListener("mousedown",this._onMouseDown),this._ch5Component.removeEventListener("mouseup",this._onMouseUp),this._ch5Component.removeEventListener("mouseleave",this._onMouseLeave),this._ch5Component.removeEventListener("touchstart",this._onTouchStart),this._ch5Component.removeEventListener("touchmove",this._onTouchMove),this._ch5Component.removeEventListener("touchend",this._onTouchEnd),this._ch5Component.removeEventListener("touchcancel",this._onTouchCancel),this._removeEventsFromHammer()}_subscribeToGestureableProp(){this._attachEventsFromHammer()}_unsubscribeFromGestureableProp(){null!==this._gestureableSubscription&&(this._gestureableSubscription.unsubscribe(),this._gestureableSubscription=null)}_attachEventsFromHammer(){null!==this._hammerManager&&(this._hammerManager.on("press",this._onHold),this._hammerManager.on("pressup",this._onRelease),this._hammerManager.on("panend",this._onPanEnd))}_removeEventsFromHammer(){null!==this._hammerManager&&(this._hammerManager.off("press",this._onHold),this._hammerManager.off("pressup",this._onRelease),this._hammerManager.off("panend",this._onPanEnd),this._hammerManager.destroy(),this._hammerManager=null)}_onClick(t){this._touchStart=!1,this._touchEnd=!1}_onMouseDown(t){if(this._touchStart)return;if(this.isTouch)return;this.isMouse=!0,this.isTouch=!1;const e=t,i=t.clientX,s=t.clientY,{left:n,width:r,height:a,top:o}=this._ch5Component.getBoundingClientRect(),l=r>a?(i-n)/r:1-(s-o)/a;this._fingerState.mode===Ch5PressableFingerStateMode.Idle&&(this._fingerState.mode=Ch5PressableFingerStateMode.Start,this._fingerState.touchHoldTimer=window.setTimeout(this._onTouchHoldTimer,this.pressDelayTime),this._fingerState.touchStartLocationX=e.clientX,this._fingerState.touchStartLocationY=e.clientY),this.sliderValue=l<=.25?"lower":l>=.75?"upper":""}_onMouseMove(t){if(!this.isTouch&&this._fingerState.mode===Ch5PressableFingerStateMode.Start){const e=t;if(null!==e){const t=e.clientX-this._fingerState.touchStartLocationX,i=e.clientY-this._fingerState.touchStartLocationY;Math.sqrt(Math.pow(t,2)+Math.pow(i,2))>this.clickDelayMoveDistance&&(this._touchStart=!1,this._fingerState.reset())}}}_onMouseUp(t){if(!0===this._pressed&&this._onRelease(),this.isTouch)return;null!==t&&(this._fingerState.mode===Ch5PressableFingerStateMode.Start&&this._fingerIsDownActions(),this._touchEnd||(this._touchEnd=!0),this._fingerState.mode===Ch5PressableFingerStateMode.FingerDown&&this._onRelease(),this._fingerState.reset())}_onMouseLeave(t){if(this.isTouch)return;null!==t&&(this._fingerState.mode===Ch5PressableFingerStateMode.Start&&this._fingerIsDownActions(),this._touchEnd||(this._touchEnd=!0),this._fingerState.mode===Ch5PressableFingerStateMode.FingerDown&&this._onRelease(),this._fingerState.reset())}_onTouchStart(t){const e=t.touches[0].clientX,i=t.touches[0].clientY,{left:s,width:n,height:r,top:a}=this._ch5Component.getBoundingClientRect(),o=n>r?(e-s)/n:1-(i-a)/r;this.sliderValue=o<=.25?"lower":o>=.75?"upper":""}_onTouchMove(t){if(!this.isMouse&&this._fingerState.mode===Ch5PressableFingerStateMode.Start){const e=t,i=this._fingerState.getTouchFromTouchList(e);if(null!==i){const t=i.clientX-this._fingerState.touchStartLocationX,e=i.clientY-this._fingerState.touchStartLocationY;Math.sqrt(Math.pow(t,2)+Math.pow(e,2))>this.pressDelayMoveDistance&&(this._touchStart=!1,this._fingerState.reset())}}}_onTouchHoldTimer(t){this._fingerState.touchHoldTimer=null,this._fingerIsDownActions()}_fingerIsDownActions(){this._fingerState.mode=Ch5PressableFingerStateMode.FingerDown,this._onHold(),null!==this._fingerState.touchHoldTimer&&(window.clearTimeout(this._fingerState.touchHoldTimer),this._fingerState.touchHoldTimer=null)}_onTouchEnd(t){if(this._pressed&&this._onRelease(),this.isMouse)return;const e=t;null!==this._fingerState.getTouchFromTouchList(e)&&(this._fingerState.mode===Ch5PressableFingerStateMode.Start&&this._fingerIsDownActions(),this._touchEnd||(this._touchEnd=!0),this._fingerState.mode===Ch5PressableFingerStateMode.FingerDown&&this._onRelease(),this._fingerState.reset())}_onTouchCancel(t){this._onTouchEnd(t)}_onHold(){if(!this._pressed){this._addCssPressClass(),this._pressed=!0,this._released=!1,""!==this.sliderValue&&this.observablePressed.next({pressed:this._pressed,range:this.sliderValue}),this._ch5Component.setAttribute("pressed","true"),this._ch5Component.dispatchEvent(this._pressEvent);const onPressAttrib=this._ch5Component.getAttribute("onpress");if(null!==onPressAttrib)try{eval(onPressAttrib)}catch(t){}}}_onRelease(){if(!this._released){setTimeout(()=>{this._removeCssPressClass()},this.pressDelayTime),this._pressed=!1,this._released=!0,""!==this.sliderValue&&this.observablePressed.next({pressed:this._pressed,range:this.sliderValue}),this._ch5Component.removeAttribute("pressed"),this._ch5Component.dispatchEvent(this._releaseEvent);const onReleaseAttrib=this._ch5Component.getAttribute("onrelease");if(null!==onReleaseAttrib)try{eval(onReleaseAttrib)}catch(t){}}}_onPanEnd(){this._onRelease()}_addCssPressClass(){null!==this._options&&void 0!==this._options.cssTargetElement.classList&&this._options.cssPressedClass.split(" ").forEach(t=>{var e;null===(e=this._options)||void 0===e||e.cssTargetElement.classList.add(t)})}_removeCssPressClass(){null!==this._options&&void 0!==this._options.cssTargetElement.classList&&this._options.cssPressedClass.split(" ").forEach(t=>{var e;null===(e=this._options)||void 0===e||e.cssTargetElement.classList.remove(t)})}}exports.Ch5PressableSlider=Ch5PressableSlider,Ch5PressableSlider.FingerState=class{constructor(){this.touchHoldTimer=null,this.touchPointId=-1,this.mode=Ch5PressableFingerStateMode.Idle,this.touchStartLocationX=0,this.touchStartLocationY=0,this.touchPointId=-1,this.touchHoldTimer=null}getTouchFromTouchList(t){if(void 0!==t.changedTouches)for(let e=0;e<t.changedTouches.length;e++)if(t.changedTouches[e].identifier===this.touchPointId)return t.changedTouches[e];return null}reset(){this.mode=Ch5PressableFingerStateMode.Idle,this.touchStartLocationX=0,this.touchStartLocationY=0,this.touchPointId=-1,null!==this.touchHoldTimer&&(window.clearTimeout(this.touchHoldTimer),this.touchHoldTimer=null)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TCh5SliderHandle=void 0,function(t){t[t.VALUE=0]="VALUE",t[t.HIGHVALUE=1]="HIGHVALUE"}(e.TCh5SliderHandle||(e.TCh5SliderHandle={}))},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5SliderTitleLabel=void 0;const n=i(47),r=s(i(0)),a=i(2);class o extends n.Ch5Label{constructor(t){super("ch5-slider"),this.parent=t,this.primaryCssClass="ch5-slider-title-label",this.ignoreAttributes=["disabled","debug","show","customclass","customstyle","noshowtype","receivestatecustomclass","receivestatecustomstyle","receivestateshow","receivestateshowpulse","receivestatehidepulse","receivestateenable","sendeventonshow","gestureable","dir","appendclasswheninviewport"],this.logger.start("constructor()",o.ELEMENT_NAME),r.default.isNil(t)?this._parentCh5Slider=this.getParentButton():(this._parentCh5Slider=t,this.createInternalHtml(),this.initAttributes(),this.updateCssClass(),this._parentCh5Slider.setValues("title",this.getTargetElementForCssClassesAndStyle()))}static get observedAttributes(){const t=n.Ch5Label.observedAttributes,e=[];for(let t=0;t<o.COMPONENT_PROPERTIES.length;t++)!0===o.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(o.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}static registerSignalAttributeTypes(){a.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(o.ELEMENT,o.SIGNAL_ATTRIBUTE_TYPES)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-slider-button attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=o.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this._parentCh5Slider.setValues&&this._parentCh5Slider.setValues("title",this.getTargetElementForCssClassesAndStyle()),this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()",o.ELEMENT_NAME),super.connectedCallback(),this.setAttribute("data-ch5-id",this.getCrId()),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),this.logger.stop()}createInternalHtml(){super.createInternalHtml(),this.logger.start("createInternalHtml()"),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<o.COMPONENT_PROPERTIES.length;e++)if(!0===o.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(o.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=o.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}getParentButton(){const t=e=>r.default.isNil(e)||"CH5-SLIDER"===e.nodeName.toString().toUpperCase()?e:t(e.parentNode);return t(this.parentElement)}attachEventListeners(){super.attachEventListeners()}removeEventListeners(){super.removeEventListeners()}unsubscribeFromSignals(){super.unsubscribeFromSignals()}updateCssClass(){this.logger.start("UpdateCssClass"),super.updateCssClass(),this.logger.stop()}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}}e.Ch5SliderTitleLabel=o,o.ELEMENT="ch5-slider-title-label","object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(o.ELEMENT,o),o.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5SliderButton=void 0;const n=i(73),r=i(2),a=i(4),o=s(i(0)),l=i(256);class h extends n.Ch5ButtonBase{constructor(){super(),this.primaryCssClass="ch5-button",this.debounceCreateSliderButton=this.debounce(()=>{this.setButtonDisplay(),this.updateInternalHtml()},50),this.logger.start("constructor()",h.ELEMENT_NAME),this.ignoreAttributes=["disabled","debug","show","customclass","customstyle","noshowtype","receivestatecustomclass","receivestatecustomstyle","receivestateshow","receivestateshowpulse","receivestatehidepulse","receivestateenable","sendeventonshow","gestureable","dir","appendclasswheninviewport"],this._ch5Properties=new a.Ch5Properties(this,h.COMPONENT_PROPERTIES)}set key(t){this._ch5Properties.set("key",t,()=>{this.debounceCreateSliderButton()})}get key(){return this._ch5Properties.get("key")}set labelInnerHTML(t){this._ch5Properties.set("labelInnerHTML",t,()=>{this.createSliderButtonLabel(),this.debounceCreateSliderButton()})}get labelInnerHTML(){return this._ch5Properties.get("labelInnerHTML")}static get observedAttributes(){const t=[];for(let e=0;e<h.COMPONENT_PROPERTIES.length;e++)!0===h.COMPONENT_PROPERTIES[e].isObservableProperty&&t.push(h.COMPONENT_PROPERTIES[e].name.toLowerCase());return t.concat(h.inheritedObsAttrs)}static registerSignalAttributeTypes(){r.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(h.ELEMENT_NAME,h.SIGNAL_ATTRIBUTE_TYPES)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),h.inheritedObsAttrs.includes(t.toLowerCase())){if(e!==i){this.logger.log('ch5-slider-button attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=h.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.debounceCreateSliderButton()}this.logger.stop()}createSliderButtonLabel(){const t=this.getElementsByTagName("ch5-slider-button-label"),e=Array.prototype.slice.call(t).filter(t=>t.parentNode.nodeName.toString().toLowerCase()===this.nodeName.toString().toLowerCase());let i=null;e&&e.length>0&&!o.default.isNil(e[0].children[0])?i=e[0]:(i=document.createElement("ch5-slider-button-label"),this.appendChild(i));let s=i.querySelector("template");null!==s&&i.removeChild(s),s=document.createElement("template"),s.innerHTML=this.decodeInnerHTMLForAttribute(this.labelInnerHTML),i.appendChild(s)}buttonIgnoredAttributes(){const t=["iconposition","orientation","checkboxshow","checkboxposition","pressdelaytime","pressdelaydistance","size","stretch","formtype","mode","customclassselected","customclasspressed","customclassdisabled","receivestatemode","receivestateselected","receivestatescriptlabelhtml","receivestatetype","sendeventontouch","backgroundimageurl","backgroundimagefilltype","receivestatebackgroundimageurl","receivestatecustomclass","receivestatecustomstyle","disabled","show","customclass","customstyle"];for(let e=0;e<t.length;e++)this.hasAttribute(t[e].toLowerCase())&&this.removeAttribute(t[e].toLowerCase());this.setAttribute("iconPosition","top")}connectedCallback(){var t,e,i,s;this.logger.start("connectedCallback()",h.ELEMENT_NAME),this.setAttribute("data-ch5-id",this.getCrId()),this.buttonIgnoredAttributes(),((null===(t=this.parentElement)||void 0===t?void 0:t.classList.contains("slider-on-button"))||(null===(e=this.parentElement)||void 0===e?void 0:e.classList.contains("slider-off-button")))&&(this.getAttribute("key")&&"on"!==(null===(i=this.getAttribute("key"))||void 0===i?void 0:i.toLowerCase())&&"off"!==(null===(s=this.getAttribute("key"))||void 0===s?void 0:s.toLowerCase())||(super.connectedCallback(),this.initAttributes(),this.updateCssClass(),this.handleLabel(),this.logger.stop()))}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.logger.stop()}createInternalHtml(){super.createInternalHtml(),this.logger.start("createInternalHtml()"),this.clearComponentContent(),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<h.COMPONENT_PROPERTIES.length;e++)if(!0===h.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(h.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=h.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}for(let e=0;e<h.inheritedObsAttrs.length;e++)if(this.hasAttribute(h.inheritedObsAttrs[e].toLowerCase())){const i=h.inheritedObsAttrs[e].toLowerCase();t[i]=this.getAttribute(i)}this.debounceCreateSliderButton()}attachEventListeners(){super.attachEventListeners()}removeEventListeners(){super.removeEventListeners()}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}clearComponentContent(){const t=this.getElementsByTagName("div");Array.from(t).forEach(t=>{t.remove()})}labelHelper(){const t=this.getElementsByTagName("ch5-slider-button-label");Array.from(t).forEach((t,e)=>{if(e>=1)return;const i=new l.Ch5SliderButtonLabel(this);l.Ch5SliderButtonLabel.observedAttributes.forEach(e=>{t.hasAttribute(e)&&i.setAttribute(e,t.getAttribute(e)+"")})})}setValues(){""===this.receiveStateLabel&&this.debounceCreateSliderButton()}handleLabel(){null!==this.receiveStateLabel&&""!==this.receiveStateLabel.trim()||this.hasAttribute("labelInnerHtml")||this.getElementsByTagName("ch5-slider-button-label").length>=1&&this.labelHelper()}setButtonDisplay(){this.setButtonDisplayDetails("ch5-slider-button")}updateCssClass(){this.logger.start("UpdateCssClass"),super.updateCssClasses(),this.logger.stop()}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}}e.Ch5SliderButton=h,h.KEY=["on","off"],h.inheritedObsAttrs=["key","labelinnerhtml","label","sgicontheme","iconclass","pressed","selected","shape","halignlabel","valignlabel","type","iconurl","iconurlfilltype","sendeventonclick","receivestatelabel","receivestateiconclass","receivestateiconurl"],h.COMPONENT_DATA={KEY:{default:h.KEY[0],values:h.KEY,key:"key",attribute:"key",classListPrefix:"--key-"}},h.COMPONENT_PROPERTIES=[{default:"",enumeratedValues:h.KEY,name:"key",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"labelInnerHTML",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}],h.ELEMENT_NAME="ch5-slider-button","object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(h.ELEMENT_NAME,h),h.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5SliderButtonLabel=void 0;const n=i(47),r=s(i(0)),a=i(5);class o extends n.Ch5Label{constructor(t){super("Ch5-slider-button"),this.parent=t,this.primaryCssClass="ch5-slider-button-label",this.debounceCreateBtnLabel=this.debounce(()=>{r.default.isNil(this._parentCh5Slider)&&(this._parentCh5Slider=this.getParentButton()),this._parentCh5Slider.setValues()},50),this.ignoreAttributes=["disabled","debug","show","customclass","customstyle","noshowtype","receivestatecustomclass","receivestatecustomstyle","receivestateshow","receivestateshowpulse","receivestatehidepulse","receivestateenable","sendeventonshow","gestureable","dir","appendclasswheninviewport","label","receivestatelabel"],this.logger.start("constructor()",o.ELEMENT_NAME),r.default.isNil(t)?this._parentCh5Slider=this.getParentButton():this._parentCh5Slider=t}static get observedAttributes(){const t=n.Ch5Label.observedAttributes,e=[];for(let t=0;t<o.COMPONENT_PROPERTIES.length;t++)!0===o.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(o.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-slider-button attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=o.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.debounceCreateBtnLabel(),this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()",o.ELEMENT_NAME),this.setAttribute("role",a.Ch5RoleAttributeMapping.ch5SliderButton),this.setAttribute("data-ch5-id",this.getCrId()),super.connectedCallback(),this.createInternalHtml(),this.initAttributes(),this.updateCssClass(),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),this.logger.stop()}createInternalHtml(){super.createInternalHtml(),this.logger.start("createInternalHtml()"),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<o.COMPONENT_PROPERTIES.length;e++)if(!0===o.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(o.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=o.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}getParentButton(){const t=e=>r.default.isNil(e)||"CH5-SLIDER-BUTTON"===e.nodeName.toString().toUpperCase()?e:t(e.parentNode);return t(this.parentElement)}attachEventListeners(){super.attachEventListeners()}removeEventListeners(){super.removeEventListeners()}unsubscribeFromSignals(){super.unsubscribeFromSignals()}updateCssClass(){this.logger.start("UpdateCssClass"),super.updateCssClasses(),this.logger.stop()}handleLabel(){}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}}e.Ch5SliderButtonLabel=o,o.ELEMENT="ch5-slider-button-label","object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(o.ELEMENT,o)},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(95),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5SpinnerMutationObserver=void 0;class s{constructor(t){s._observer.constructor!==MutationObserver&&(s._observer=new MutationObserver(this.mutationsCallback)),this.registerElement(t)}registerElement(t){s._observer.observe(t,{childList:!0,subtree:!0,attributes:!0})}mutationsCallback(t){}}e.Ch5SpinnerMutationObserver=s,s._observer={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5SpinnerScroll=void 0;const s=i(1),n=i(260),r=i(96);e.Ch5SpinnerScroll=class{constructor(t){this.element={},this.mouseDown=!1,this.initialMousePos=0,this.currentYOffset=0,this.direction="",this.dragTimeout=0,this.readyToFocus=!0,this._currentElement=0,this._mouseDownListener={},this._mouseUpListener={},this._mouseMoveListener={},this._touchstartListener={},this._toucheendUpListener={},this._touchmoveListener={},this._mouseLeaveListener={},this._touchendLeaveListener={},this.mouseVelocity={},this._runTimeout=0,this.element=t,this.attachEventListeners();const e=this.element.selectedValue;this.selectTheItem(e)}destruct(){this.detachEventListeners()}set currentElement(t){this._currentElement=t}get currentElement(){const t=this.element.templateHelper.childrenObject;return this._currentElement<=0&&!this.element.endless?0:null!==t&&!this.element.endless&&this._currentElement>=t.length-1?t.length-1:null!==t&&this.element.endless&&t.length<this._currentElement?this._currentElement%t.length:this._currentElement}getCleanCurrentElement(){try{const t=this.element.templateHelper.childrenObject;return null!==t&&this.currentElement>=0&&this.currentElement<=t.length-1?parseFloat(t[this.currentElement].getAttribute("data-initial-index")+""):0}catch(t){return console.log(t),0}}getCleanCurrentElementIndex(){return this.getCleanCurrentElement()}selectTheItem(t){if(!1===isNaN(t)){const e=this.element.getItemHeightValue(),i=this.element.getHighlightOffsetValue();this.direction="",this.currentElement=t,this.currentYOffset=i-this.getCleanCurrentElementIndex()*e,this.moveTheList()}}attachEventListeners(){try{this.element.templateHelper instanceof r.Ch5SpinnerTemplate&&this.element.templateHelper.wrapperElement instanceof HTMLElement&&(this._mouseDownListener=this._onMouseDown.bind(this),this._mouseUpListener=this._onMouseUp.bind(this),this._mouseMoveListener=this._onMouseMove.bind(this),this._touchstartListener=this._onMouseDown.bind(this),this._toucheendUpListener=this._onMouseUp.bind(this),this._touchmoveListener=this._onMouseMove.bind(this),this._mouseLeaveListener=this._onMouseLeave.bind(this),this._touchendLeaveListener=this._onMouseLeave.bind(this),this.element.templateHelper.wrapperElement.addEventListener("mousedown",this._mouseDownListener,{passive:!0}),this.element.addEventListener("mouseup",this._mouseUpListener),this.element.addEventListener("mousemove",this._mouseMoveListener),this.element.templateHelper.wrapperElement.addEventListener("touchstart",this._touchstartListener,{passive:!0}),this.element.addEventListener("touchend",this._toucheendUpListener),this.element.addEventListener("touchmove",this._touchmoveListener,{passive:!0}),this.element.addEventListener("mouseleave",this._mouseLeaveListener),this.element.addEventListener("touchend",this._touchendLeaveListener))}catch(t){console.log("Adding listeners have problems",t)}}detachEventListeners(){try{this.element.templateHelper instanceof r.Ch5SpinnerTemplate&&this.element.templateHelper.wrapperElement instanceof HTMLElement&&(this.element.templateHelper.wrapperElement.removeEventListener("mousedown",this._mouseDownListener),this.element.removeEventListener("mouseup",this._mouseUpListener),this.element.removeEventListener("mousemove",this._mouseMoveListener),this.element.templateHelper.wrapperElement.removeEventListener("touchstart",this._touchstartListener),this.element.removeEventListener("touchend",this._toucheendUpListener),this.element.removeEventListener("touchmove",this._touchmoveListener),this.element.removeEventListener("mouseleave",this._mouseLeaveListener),this.element.removeEventListener("touchend",this._touchendLeaveListener))}catch(t){console.log("Removing listeners have problems",t)}}moveTheList(t=1){0===t&&(t=1),"up"===this.direction?(this.currentYOffset+=this.element.getItemHeightValue()*t,this.currentElement--,this.currentElement-=t-1):"down"===this.direction&&(this.currentYOffset-=this.element.getItemHeightValue()*t,this.currentElement++,this.currentElement+=t-1);const e=this.currentYOffset+this.element.getItemHeightMeasurementUnit();this.element.templateHelper.scrollableArea instanceof HTMLElement&&(this.element.templateHelper.scrollableArea.style.transition="all .1s ease",this.element.templateHelper.scrollableArea.style.transform="translate3d(0,"+e+",0)"),this.toggleActiveItem()}detectDirection(t){return this.initialMousePos<t?this.direction="up":this.direction="down",this.direction}_onMouseDown(t){t.stopPropagation(),this.initialMousePos=this.getMousePosition(t).y;const e=this.element.visibleItemScroll,i=this.element.size;this.mouseVelocity.constructor!==n.Ch5MouseVelocity&&(this.mouseVelocity=new n.Ch5MouseVelocity(e/i)),this.mouseVelocity.start={x:this.getMousePosition(t).y,y:this.getMousePosition(t).y,time:new Date},!0===this.readyToFocus&&(this.element.eventsHelper.dispatchFocus(),this.readyToFocus=!1),this.dragTimeout=window.setTimeout(()=>{this.mouseDown=!0,this.handleCursor("drag"),this.element.templateHelper.toggleOverlay(!0)},50)}sendEventOnOverflow(){const t=this.element.sendEventOnOverflow;if(""!==t&&null!=t){const e=s.Ch5SignalFactory.getInstance().getBooleanSignal(t);null!==e&&(e.publish(!0),e.publish(!1))}}sendEventOnUnderflow(){const t=this.element.sendEventOnUnderflow;if(""!==t&&null!=t){const e=s.Ch5SignalFactory.getInstance().getBooleanSignal(t);null!==e&&(e.publish(!0),e.publish(!1))}}_onMouseUp(t){this.mouseDown=!1,this.handleCursor(),this.element.templateHelper.toggleOverlay(!1),window.clearTimeout(this.dragTimeout),this.element.dirtyTimeHandler(),this.mouseVelocity.end={x:t.pageX,y:t.pageY,time:new Date},this.element.eventsHelper.dispatchBlur(),this.readyToFocus=!0,this.getCleanCurrentElementIndex()!==this.element.cleanItem&&(!1===this.element.dirtyFlag&&(this.element.eventsHelper.dispatchDirty(this.getCleanCurrentElement()+""),this.element.dirtyFlag=!0),this.element.eventsHelper.dispatchChange(this.getCleanCurrentElement()+"")),"direct"===this.element.feedbackMode&&(this.element.cleanItem=this.element.selectedValueIndex)}_onMouseMove(t){const e=this.getMousePosition(t).y;let i=0,s=0,n=this.element;for(;n&&!isNaN(n.offsetLeft)&&!isNaN(n.offsetTop);)i+=n.offsetLeft-n.scrollLeft+n.clientLeft,s+=n.offsetTop-n.scrollTop+n.clientTop,n=n.offsetParent;let r=null,a=null;const o=i,l=i+this.element.clientWidth,h=s,u=s+this.element.clientHeight;if("touchmove"===t.type){const e=t.touches[0]||t.changedTouches[0];r=e.clientX,a=e.clientY}else r=t.clientX,a=t.clientY;if(r<o||r>l||a<h||a>u)!0===this.mouseDown&&"touchmove"===t.type&&(this.mouseDown=!1,this.moveTheList(),this.element.eventsHelper.dispatchTouchEnd());else if(!0===this.mouseDown&&Math.abs(this.initialMousePos-e)>=.3*this.element.selectedItem.getBoundingClientRect().height){this.detectDirection(e);const i=this.element.size,s=this.element.getHighlightOffsetValue(),n=this.element.getItemHeightValue(),r=this.element.templateHelper.childrenObject,a=this.element.endless;let o=1,l=Number(this.element.visibleItemScroll)<=Number(i)?this.element.visibleItemScroll:i;l<Number(this.element.visibleItemScroll)&&this.element.endless&&(l=this.element.visibleItemScroll);const h=(Math.ceil(l/2)-1)*n,u=-(r.length*n-(h+n));this.mouseVelocity.end={x:this.getMousePosition(t).x,y:this.getMousePosition(t).y,time:new Date},!0===a&&this._isBoundary(this.currentYOffset,h,u)&&null!==r&&("down"===this.direction?(this.currentElement=-1,this._forceMovingTheSpinner(s+n),window.clearTimeout(this._runTimeout),this._runTimeout=0,this.sendEventOnOverflow()):"up"===this.direction&&(this.currentElement=r.length,this._forceMovingTheSpinner(u-n),this.sendEventOnUnderflow())),0===this._runTimeout&&(this._runTimeout=window.setTimeout(()=>{this.mouseVelocity.getYSteps()>1&&(o=this._handleVelocity(this.mouseVelocity.getYSteps(),h,u)),this._isBoundary(this.currentYOffset,h,u)&&!a||this.moveTheList(o),window.clearTimeout(this._runTimeout),this._runTimeout=0},50)),this.initialMousePos=e}}_handleVelocity(t,e,i){let s;return s="up"===this.direction?this.currentYOffset+this.element.getItemHeightValue()*t:this.currentYOffset-this.element.getItemHeightValue()*t,this._isBoundary(s,e,i)&&t>0?this._handleVelocity(--t,e,i):t}_forceMovingTheSpinner(t){this.currentYOffset=t,this.element.templateHelper.scrollableArea.setAttribute("style","transition: all 0s ease; transform: translate3d(0px,"+this.currentYOffset+this.element.getItemHeightMeasurementUnit()+",0px)")}_isBoundary(t,e,i){return!("up"===this.direction&&t<e||"down"===this.direction&&t>i)}_onMouseLeave(t){!0===this.mouseDown&&(this.mouseDown=!1,this.moveTheList(),this.element.eventsHelper.dispatchMouseUp())}getMousePosition(t){const e={x:0,y:0};if("undefined"!=typeof TouchEvent&&null!==TouchEvent&&t.constructor===TouchEvent){const i=t.touches[0];e.x=i.clientX,e.y=i.clientY}else e.x=t.clientX,e.y=t.clientY;return e}handleCursor(t="click"){"click"===t?this.element.templateHelper.wrapperElement.style.cursor="pointer":"drag"===t&&(this.element.templateHelper.wrapperElement.style.cursor="grabbing")}toggleActiveItem(){this.element.templateHelper.setActiveItem(this.currentElement)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5MouseVelocity=void 0;class s{constructor(t){this.start={x:0,y:0,time:new Date},this.end={x:0,y:0,time:new Date},this.step=t}static calculateVelocity(t,e,i,s){return Math.abs(t-e)/s/i}get x1(){return this.start.x}get y1(){return this.start.y}get x2(){return this.end.x}get y2(){return this.end.y}get timeStart(){return this.start.time.getTime()}get timeEnd(){return this.end.time.getTime()}get timeDiff(){return this.timeEnd-this.timeStart}getYSteps(){return Math.floor(s.calculateVelocity(this.y1,this.y2,this.step,this.timeDiff))}}e.Ch5MouseVelocity=s},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5SpinnerEvents=void 0;const n=s(i(262)),r=i(1),a=s(i(20)),o=i(3);e.Ch5SpinnerEvents=class{constructor(t){this._element={},this.element=t}set element(t){null!=t&&(this._element=t)}get element(){return this._element}dispatchFocus(){const t=this.element.sendEventOnFocus;if(o.Ch5Common.isNotNil(t)){const t=r.Ch5SignalFactory.getInstance().getBooleanSignal(this.element.sendEventOnFocus);null!==t&&t.publish(!0)}this.dispatch("focus")}dispatchBlur(){const t=this.element.sendEventOnFocus;if(o.Ch5Common.isNotNil(t)){const e=r.Ch5SignalFactory.getInstance().getBooleanSignal(t);(0,n.default)(e)||e.publish(!1)}this.dispatch("blur")}dispatchChange(t){const e=this.element.sendEventOnChange;if("direct"===this.element.feedbackMode&&""!==e&&null!=e){const e=r.Ch5SignalFactory.getInstance().getNumberSignal(this.element.sendEventOnChange);null!==e&&e.publish(parseFloat(t))}this.dispatch("change",t)}dispatchDirty(t){const e=this.dispatch("dirty",t,!1);this.element.ondirty instanceof a.default?this.element.ondirty.run(e):this.element.ondirty instanceof Function&&this.element.ondirty.call(this.element,e)}dispatchClean(){const t=this.dispatch("clean");this.element.onclean instanceof a.default?this.element.onclean.run(t):this.element.onclean instanceof Function&&this.element.onclean.call(this.element,t)}dispatch(t,e="",i=!0){const s=this.createEvent(t,e,i);return this.element.dispatchEvent(s),s}createEvent(t,e,i=!0){return new CustomEvent(t,{detail:{data:e},bubbles:!0,cancelable:i})}dispatchMouseUp(){this.dispatch("mouseup")}dispatchTouchEnd(){this.dispatch("touchend")}}},function(t,e){t.exports=function(t){return null===t}},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.refreshCh5subpageReferenceList=void 0,n(i(264),e);var r=i(97);Object.defineProperty(e,"refreshCh5subpageReferenceList",{enumerable:!0,get:function(){return r.refreshCh5subpageReferenceList}})},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5SubpageReferenceList=void 0;const n=i(3),r=i(0),a=i(5),o=i(2),l=i(4),h=i(18),u=i(16),c=i(1),d=i(97),p=i(8),g=i(7),m=s(i(0));class b extends n.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-subpage-reference-list",this._elContainer={},this._scrollbarContainer={},this._scrollbar={},this._templateElement={},this.isDown=!1,this.startX=0,this.startY=0,this.scrollListLeft=0,this.scrollListTop=0,this.scrollbarDimension=0,this.subpageWidth=0,this.subpageHeight=0,this.containerHeight=0,this.containerWidth=0,this.reInit=!0,this._refreshSubId=null,this.previousSignalValues={contractName:"",receiveStateCustomClass:"",receiveStateCustomStyle:"",receiveStateEnable:"",receiveStateShow:"",subpageReceiveStateScrollTo:"",receiveStateNumberOfItems:""},this.rowClassValue=1,this.columnsClassValue=1,this.showSignalHolder=[],this.loadSubpageForShow=!1,this.allSubpageVisible=!1,this.debounceSubpageShow=this.debounce(()=>{this.subpageShow()},150),this.debounceSubpageDisplay=this.debounce((t=!1)=>{"visible-only"===this.loadItems?this.subpageDisplay(t):"load-new"===this.loadItems?this.subpageDisplayForLoadItemsNew(t):this.subpageDisplayForLoadItemsAll(t)},100),this.debounceInitScrollBar=this.debounce(()=>{this.initScrollbar()},400),this.scrollAfterSomeTime=this.debounce((t,e)=>{"left"===t?this._elContainer.scrollLeft=e:this._elContainer.scrollTop=e},400),this.handleMouseDown=t=>{this.isDown=!0,this._elContainer.classList.add("active"),this.startX=t.pageX-this._elContainer.offsetLeft,this.startY=t.pageY-this._elContainer.offsetTop,this.scrollListLeft=this._elContainer.scrollLeft,this.scrollListTop=this._elContainer.scrollTop},this.handleMouseUpAndLeave=()=>{this.isDown=!1,this._elContainer.classList.remove("active")},this.handleMouseMove=t=>{if(!this.isDown)return;t.preventDefault();const e=t.pageX-this._elContainer.offsetLeft,i=t.pageY-this._elContainer.offsetTop,s=3*(e-this.startX),n=3*(i-this.startY);this._elContainer.scrollLeft=this.scrollListLeft-s,this._elContainer.scrollTop=this.scrollListTop-n},this.handleScrollEvent=()=>{if(this.initScrollbar(),this.endless)return"all"===this.loadItems?(this.subpageWidth=this._elContainer.children[0].getBoundingClientRect().width,this.subpageHeight=this._elContainer.children[0].getBoundingClientRect().height,this.endlessHelper()):"load-new"===this.loadItems?this.endlessHelperForNew():this.endlessHelper();"visible-only"===this.loadItems?this.scrollHelper():"load-new"===this.loadItems&&this.scrollHelperForNew()},this.resizeHandler=t=>{const{width:e,height:i}=this._elContainer.getBoundingClientRect();0===this.containerWidth&&0!==e?(this.containerWidth=e,this.debounceSubpageDisplay()):0===this.containerHeight&&0!==i&&(this.containerHeight=i,this.debounceSubpageDisplay()),this.debounceInitScrollBar()},this.ignoreAttributes=["receivestatehidepulse","receivestateshowpulse","sendeventonshow"],this.logger.start("constructor()",b.ELEMENT_NAME),this._wasInstatiated||this.createInternalHtml(),this._wasInstatiated=!0,this._ch5Properties=new l.Ch5Properties(this,b.COMPONENT_PROPERTIES),this.updateCssClass()}set orientation(t){this._ch5Properties.set("orientation",t,()=>{this.handleOrientation()})}get orientation(){return this._ch5Properties.get("orientation")}set contractName(t){this._ch5Properties.set("contractName",t,()=>{this.handleContractName()})}get contractName(){return this._ch5Properties.get("contractName")}set useContractForEnable(t){this._ch5Properties.set("useContractForEnable",t,()=>{this.debounceSubpageDisplay()})}get useContractForEnable(){return this._ch5Properties.get("useContractForEnable")}set useContractForShow(t){this._ch5Properties.set("useContractForShow",t,()=>{this.debounceSubpageDisplay()})}get useContractForShow(){return this._ch5Properties.get("useContractForShow")}set useContractForItemEnable(t){this._ch5Properties.set("useContractForItemEnable",t,()=>{this.debounceSubpageDisplay()})}get useContractForItemEnable(){return this._ch5Properties.get("useContractForItemEnable")}set useContractForItemShow(t){this._ch5Properties.set("useContractForItemShow",t,()=>{this.debounceSubpageDisplay()})}get useContractForItemShow(){return this._ch5Properties.get("useContractForItemShow")}set useContractForCustomStyle(t){this._ch5Properties.set("useContractForCustomStyle",t,()=>{this.debounceSubpageDisplay()})}get useContractForCustomStyle(){return this._ch5Properties.get("useContractForCustomStyle")}set useContractForCustomClass(t){this._ch5Properties.set("useContractForCustomClass",t,()=>{this.debounceSubpageDisplay()})}get useContractForCustomClass(){return this._ch5Properties.get("useContractForCustomClass")}set useContractForNumItems(t){this._ch5Properties.set("useContractForNumItems",t,()=>{this.debounceSubpageDisplay()})}get useContractForNumItems(){return this._ch5Properties.get("useContractForNumItems")}set endless(t){this._ch5Properties.set("endless",t,()=>{this.handleEndless()})}get endless(){return this._ch5Properties.get("endless")}set centerItems(t){this._ch5Properties.set("centerItems",t,()=>{this.handleCenterItems()})}get centerItems(){return this._ch5Properties.get("centerItems")}set loadItems(t){this._ch5Properties.set("loadItems",t,()=>{this.debounceSubpageDisplay()})}get loadItems(){return this._ch5Properties.get("loadItems")}set rows(t){this._ch5Properties.set("rows",t,()=>{this.handleRowsAndColumn()})}get rows(){return this._ch5Properties.get("rows")}set columns(t){this._ch5Properties.set("columns",t,()=>{this.handleRowsAndColumn()})}get columns(){return this._ch5Properties.get("columns")}set scrollToPosition(t){this._ch5Properties.set("scrollToPosition",t,()=>{const t=this.scrollToPosition<this.numberOfItems&&this.scrollToPosition>=0,e="horizontal"===this.orientation&&1===this.rows||"vertical"===this.orientation&&1===this.columns;t&&e&&this.debounceSubpageDisplay(!0)})}get scrollToPosition(){return this._ch5Properties.get("scrollToPosition")}set scrollbar(t){this._ch5Properties.set("scrollbar",t,()=>{this.handleScrollbar()})}get scrollbar(){return this._ch5Properties.get("scrollbar")}set booleanJoinIncrement(t){this._ch5Properties.set("booleanJoinIncrement",t,()=>{this.debounceSubpageDisplay()})}get booleanJoinIncrement(){return this._ch5Properties.get("booleanJoinIncrement")}set numericJoinIncrement(t){this._ch5Properties.set("numericJoinIncrement",t,()=>{this.debounceSubpageDisplay()})}get numericJoinIncrement(){return this._ch5Properties.get("numericJoinIncrement")}set stringJoinIncrement(t){this._ch5Properties.set("stringJoinIncrement",t,()=>{this.debounceSubpageDisplay()})}get stringJoinIncrement(){return this._ch5Properties.get("stringJoinIncrement")}set subpageReceiveStateEnable(t){this._ch5Properties.set("subpageReceiveStateEnable",t,()=>{this.debounceSubpageDisplay()})}get subpageReceiveStateEnable(){return this._ch5Properties.get("subpageReceiveStateEnable")}set subpageReceiveStateShow(t){this._ch5Properties.set("subpageReceiveStateShow",t,()=>{this.debounceSubpageDisplay()})}get subpageReceiveStateShow(){return this._ch5Properties.get("subpageReceiveStateShow")}set widgetId(t){this._ch5Properties.set("widgetId",t,()=>{this.handleWidgetID()})}get widgetId(){return this._ch5Properties.get("widgetId")}set subpageReceiveStateScrollTo(t){this._ch5Properties.set("subpageReceiveStateScrollTo",t,null,t=>{this._ch5Properties.setForSignalResponse("scrollToPosition",t,()=>{const t=this.scrollToPosition<this.numberOfItems&&this.scrollToPosition>=0,e="horizontal"===this.orientation&&1===this.rows||"vertical"===this.orientation&&1===this.columns;t&&e&&(this.reInit=!0,this.debounceSubpageDisplay(!0))})})}get subpageReceiveStateScrollTo(){return this._ch5Properties.get("subpageReceiveStateScrollTo")}set stretch(t){this._ch5Properties.set("stretch",t,()=>{this.handleStretch()})}get stretch(){return this._ch5Properties.get("stretch")}set numberOfItems(t){this._ch5Properties.set("numberOfItems",t,()=>{this.handleRowsAndColumn()})}get numberOfItems(){return this._ch5Properties.get("numberOfItems")}set receiveStateNumberOfItems(t){this._ch5Properties.set("receiveStateNumberOfItems",t,null,t=>{this._ch5Properties.setForSignalResponse("numberOfItems",t,()=>{!1===this.useContractForNumItems&&(this.previousSignalValues.receiveStateNumberOfItems=this.receiveStateNumberOfItems),this.handleRowsAndColumn()})})}get receiveStateNumberOfItems(){return this._ch5Properties.get("receiveStateNumberOfItems")}set indexId(t){this._ch5Properties.set("indexId",t)}get indexId(){return this._ch5Properties.get("indexId")}static registerSignalAttributeTypes(){o.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(b.ELEMENT_NAME,b.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(b.ELEMENT_NAME)&&window.customElements.define(b.ELEMENT_NAME,b)}static get observedAttributes(){const t=n.Ch5Common.observedAttributes,e=[];for(let t=0;t<b.COMPONENT_PROPERTIES.length;t++)!0===b.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(b.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-subpage-reference-list attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=b.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else"receivestatecustomclass"===t.toLowerCase()?!1===this.useContractForCustomClass&&(super.attributeChangedCallback(t,e,i),this.previousSignalValues.receiveStateCustomClass=this.receiveStateCustomClass):"receivestatecustomstyle"===t.toLowerCase()?!1===this.useContractForCustomStyle&&(super.attributeChangedCallback(t,e,i),this.previousSignalValues.receiveStateCustomStyle=this.receiveStateCustomStyle):"receivestateshow"===t.toLowerCase()?!1===this.useContractForShow&&(super.attributeChangedCallback(t,e,i),this.previousSignalValues.receiveStateShow=this.receiveStateShow):"receivestateenable"===t.toLowerCase()&&!1===this.useContractForEnable&&(super.attributeChangedCallback(t,e,i),this.previousSignalValues.receiveStateEnable=this.receiveStateEnable),super.attributeChangedCallback(t,e,i),this.debounceSubpageDisplay()}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()",b.ELEMENT_NAME),this.hasAttribute("role")||this.setAttribute("role",a.Ch5RoleAttributeMapping.ch5SubpageReferenceList),this._elContainer.parentElement!==this&&(this._elContainer.classList.add("ch5-subpage-reference-list"),this.appendChild(this._elContainer)),this.checkInternalHTML(),this.attachEventListeners(),this.initAttributes(),this.initCommonMutationObserver(this),this.debounceSubpageDisplay(),(0,h.resizeObserver)(this._elContainer,this.resizeHandler),customElements.whenDefined(this.nodeName.toLowerCase()).then(()=>{this.componentLoadedEvent(this.nodeName.toLowerCase(),this.id)}),(0,c.subscribeInViewPortChange)(this,()=>{this.elementIsInViewPort&&this.reInit&&(this.reInit=!1,this.debounceSubpageDisplay(),this.debounceInitScrollBar())}),this.listenForCh5SubpageReferenceListRefreshRequests(),this.logger.stop()}listenForCh5SubpageReferenceListRefreshRequests(){this.info("Ch5SubpageReferenceList.listenForCh5SubpageReferenceListRefreshRequests()"),this._refreshSubId=d.ch5subpageReferenceListSubject.subscribe(t=>{this.info("Ch5SubpageReferenceList.listenForCh5SubpageReferenceListRefreshRequests() new request for "+t),this.shouldRefresh(t)&&this.initializations(!0)})}shouldRefresh(t){return this.info("Ch5SubpageReferenceList.shouldRefresh() got called for id "+t),this.getAttribute("widgetId")===t}initializations(t){this.info(`Ch5SubpageReferenceList.initializations(${!0===t})`),!0!==t&&this.widgetId||(this._elContainer.parentElement!==this&&(this._elContainer.classList.add("ch5-subpage-reference-list"),this.appendChild(this._elContainer)),this.checkInternalHTML(),this.attachEventListeners(),this.initAttributes(),this.handleWidgetID(),this.initCommonMutationObserver(this),this.debounceSubpageDisplay(),this.info("Ch5SubpageReferenceList --- Initialization Finished"))}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),(0,c.unSubscribeInViewPortChange)(this),this.reInitialize(),null!==this._refreshSubId&&(this._refreshSubId.unsubscribe(),this._refreshSubId=null),this.showSignalHolder.forEach(t=>this.clearOldSubscription(t.signalValue,t.signalState)),this.showSignalHolder=[],this.logger.stop()}reInitialize(){this.containerWidth=0,this.containerHeight=0,this.reInit=!0}createInternalHtml(){this.logger.start("createInternalHtml()"),this.clearComponentContent(),this._elContainer=document.createElement("div"),this._scrollbarContainer=document.createElement("div"),this._scrollbar=document.createElement("div"),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<b.COMPONENT_PROPERTIES.length;e++)if(!0===b.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(b.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=b.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}this.initialize()}attachEventListeners(){super.attachEventListeners(),this._elContainer.addEventListener("mousedown",this.handleMouseDown),this._elContainer.addEventListener("mouseleave",this.handleMouseUpAndLeave),this._elContainer.addEventListener("mouseup",this.handleMouseUpAndLeave),this._elContainer.addEventListener("mousemove",this.handleMouseMove),this._elContainer.addEventListener("scroll",this.handleScrollEvent)}removeEventListeners(){super.removeEventListeners(),this._elContainer.removeEventListener("mouseleave",this.handleMouseUpAndLeave),this._elContainer.removeEventListener("mouseup",this.handleMouseUpAndLeave),this._elContainer.removeEventListener("mousedown",this.handleMouseDown),this._elContainer.removeEventListener("mousemove",this.handleMouseMove),this._elContainer.removeEventListener("scroll",this.handleScrollEvent)}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}scrollHelperForNew(){var t,e,i;if("rtl"===this.dir&&"horizontal"===this.orientation){const{offsetWidth:e,scrollLeft:i,scrollWidth:s}=this._elContainer;if(s-e<this.subpageWidth)return;let n=this.getLastChild();if(Math.abs(i)+e>s-this.subpageWidth&&n!==this.numberOfItems-1){for(let e=0;e<this.rows;e++)if(this.createSubpage(++n),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let e=n;for(;e<this.numberOfItems&&!1===(null===(t=this.showSignalHolder[e])||void 0===t?void 0:t.value);)this.createSubpage(++e)}this.initScrollbar()}}else if("horizontal"===this.orientation){const{offsetWidth:t,scrollLeft:i,scrollWidth:s}=this._elContainer;if(s-t<this.subpageWidth)return;let n=this.getLastChild();if(i+t>s-this.subpageWidth&&n!==this.numberOfItems-1){for(let t=0;t<this.rows;t++)if(n+1<this.numberOfItems&&(this.createSubpage(++n),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible)){let t=n;for(;t<this.numberOfItems&&!1===(null===(e=this.showSignalHolder[t])||void 0===e?void 0:e.value);)this.createSubpage(++t)}this.initScrollbar()}}else{const{offsetHeight:t,scrollTop:e,scrollHeight:s}=this._elContainer;if(s-t<this.subpageHeight)return;let n=this.getLastChild();if(e+t>s-this.subpageHeight&&n!==this.numberOfItems-1){for(let t=0;t<this.columns;t++)if(n+1<this.numberOfItems&&(this.createSubpage(++n),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible)){let t=n;for(;t<this.numberOfItems&&!1===(null===(i=this.showSignalHolder[t])||void 0===i?void 0:i.value);)this.createSubpage(++t)}this.initScrollbar()}}}scrollHelper(){var t,e,i,s,n,r,a,o,l,h,u,c,d,p,g;if("rtl"===this.dir&&"horizontal"===this.orientation){const{offsetWidth:r,scrollLeft:a,scrollWidth:o}=this._elContainer;if(o-r<this.subpageWidth)return;let l=this.getFirstChild(),h=this.getLastChild();if(Math.abs(a)+r>o-this.subpageWidth&&h!==this.numberOfItems-1){for(let i=0;i<this.rows;i++){if(this.createSubpage(++h),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let e=h;for(;e<this.numberOfItems&&!1===(null===(t=this.showSignalHolder[e])||void 0===t?void 0:t.value);)this.createSubpage(++e)}null===(e=this._elContainer.firstElementChild)||void 0===e||e.remove()}this._elContainer.scrollLeft+=this.subpageWidth}else if(Math.abs(a)<this.subpageWidth&&0!==l){let t=(h+1)%this.rows;for(let e=0;e<this.rows;e++){if(this.createSubpage(--l,!1),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let t=l;for(;t>0&&!1===(null===(i=this.showSignalHolder[t])||void 0===i?void 0:i.value);)this.createSubpage(--t,!1)}(h+1)%this.rows!=0?t-- >0&&(null===(s=this._elContainer.lastElementChild)||void 0===s||s.remove()):null===(n=this._elContainer.lastElementChild)||void 0===n||n.remove()}this._elContainer.scrollLeft-=this.subpageWidth}}else if("horizontal"===this.orientation){const{offsetWidth:t,scrollLeft:e,scrollWidth:i}=this._elContainer;if(i-t<this.subpageWidth)return;let s=this.getFirstChild(),n=this.getLastChild();if(e<5&&0!==s){let t=(n+1)%this.rows;for(let e=0;e<this.rows;e++){if(this.createSubpage(--s,!1),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let t=s;for(;t>0&&!1===(null===(r=this.showSignalHolder[t])||void 0===r?void 0:r.value);)this.createSubpage(--t,!1)}(n+1)%this.rows!=0?t-- >0&&(null===(a=this._elContainer.lastElementChild)||void 0===a||a.remove()):null===(o=this._elContainer.lastElementChild)||void 0===o||o.remove()}this._elContainer.scrollLeft+=5}else if(e+t>i-5&&n!==this.numberOfItems-1){for(let t=0;t<this.rows;t++){if(n+1<this.numberOfItems&&(this.createSubpage(++n),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible)){let t=n;for(;t<this.numberOfItems&&!1===(null===(l=this.showSignalHolder[t])||void 0===l?void 0:l.value);)this.createSubpage(++t)}null===(h=this._elContainer.firstElementChild)||void 0===h||h.remove()}this._elContainer.scrollLeft-=5}}else{const{offsetHeight:t,scrollTop:e,scrollHeight:i}=this._elContainer;let s=this.getFirstChild(),n=this.getLastChild();if(e<5&&0!==s){let t=(n+1)%this.columns;for(let e=0;e<this.columns;e++){if(this.createSubpage(--s,!1),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let t=s;for(;t>0&&!1===(null===(u=this.showSignalHolder[t])||void 0===u?void 0:u.value);)this.createSubpage(--t,!1)}(n+1)%this.columns!=0?t-- >0&&(null===(c=this._elContainer.lastElementChild)||void 0===c||c.remove()):null===(d=this._elContainer.lastElementChild)||void 0===d||d.remove()}this._elContainer.scrollTop+=5}else if(e+t>i-5&&n!==this.numberOfItems-1){for(let t=0;t<this.columns;t++){if(n+1<this.numberOfItems&&(this.createSubpage(++n),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible)){let t=n;for(;t<this.numberOfItems&&!1===(null===(p=this.showSignalHolder[t])||void 0===p?void 0:p.value);)this.createSubpage(++t)}null===(g=this._elContainer.firstElementChild)||void 0===g||g.remove()}this._elContainer.scrollTop-=5}}}endlessHelper(){var t,e,i,s,n,r,a,o,l,h,u,c;const{offsetHeight:d,offsetWidth:p,scrollLeft:g,scrollTop:m,scrollWidth:b,scrollHeight:f}=this._elContainer;if(!1!==("horizontal"===this.orientation?p+this.subpageWidth<b:d+this.subpageHeight<f))if("horizontal"===this.orientation&&"rtl"===this.dir){if(Math.abs(g)+p>b-this.subpageWidth/4){const i=this.getLastChild(),s=(this.numberOfItems+i+1)%this.numberOfItems;if(this.createSubpage(s),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let e=s;for(;e<this.numberOfItems&&!1===(null===(t=this.showSignalHolder[e])||void 0===t?void 0:t.value);)this.createSubpage(++e)}null===(e=this._elContainer.firstElementChild)||void 0===e||e.remove(),this._elContainer.scrollLeft+=this.subpageWidth/2}else if(Math.abs(g)<this.subpageWidth/4){const t=this.getFirstChild(),e=(this.numberOfItems+t-1)%this.numberOfItems;if(this.createSubpage(e,!1),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let t=e;for(;t>0&&!1===(null===(i=this.showSignalHolder[t])||void 0===i?void 0:i.value);)this.createSubpage(--t,!1)}null===(s=this._elContainer.lastElementChild)||void 0===s||s.remove(),this._elContainer.scrollLeft-=this.subpageWidth/2}}else if("horizontal"===this.orientation){if(g<this.subpageWidth/4){const t=this.getFirstChild(),e=(this.numberOfItems+t-1)%this.numberOfItems;if(this.createSubpage(e,!1),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let t=e;for(;t>0&&!1===(null===(n=this.showSignalHolder[t])||void 0===n?void 0:n.value);)this.createSubpage(--t,!1)}null===(r=this._elContainer.lastElementChild)||void 0===r||r.remove(),this._elContainer.scrollLeft+=this.subpageWidth/2}else if(g+p>b-this.subpageWidth/4){const t=this.getLastChild(),e=(this.numberOfItems+t+1)%this.numberOfItems;if(this.createSubpage(e),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let t=e;for(;t<this.numberOfItems&&!1===(null===(a=this.showSignalHolder[t])||void 0===a?void 0:a.value);)this.createSubpage(++t)}null===(o=this._elContainer.firstElementChild)||void 0===o||o.remove(),this._elContainer.scrollLeft-=this.subpageWidth/2}}else if(m<this.subpageHeight/4){const t=this.getFirstChild(),e=(this.numberOfItems+t-1)%this.numberOfItems;if(this.createSubpage(e,!1),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let t=e;for(;t>0&&!1===(null===(l=this.showSignalHolder[t])||void 0===l?void 0:l.value);)this.createSubpage(--t,!1)}null===(h=this._elContainer.lastElementChild)||void 0===h||h.remove(),this._elContainer.scrollTop+=this.subpageHeight/2}else if(m+d>f-this.subpageHeight/4){const t=this.getLastChild(),e=(this.numberOfItems+t+1)%this.numberOfItems;if(this.createSubpage(e),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let t=e;for(;t<this.numberOfItems&&!1===(null===(u=this.showSignalHolder[t])||void 0===u?void 0:u.value);)this.createSubpage(++t)}null===(c=this._elContainer.firstElementChild)||void 0===c||c.remove(),this._elContainer.scrollTop-=this.subpageHeight/2,this.scrollToPosition===this.numberOfItems-1&&0===e&&(this._elContainer.scrollTop+=this.subpageHeight)}}endlessHelperForNew(){var t,e,i,s,n,r,a,o,l,h,u,c;const{offsetHeight:d,offsetWidth:p,scrollLeft:g,scrollTop:m,scrollWidth:b,scrollHeight:f}=this._elContainer;if(!1!==("horizontal"===this.orientation?p+this.subpageWidth<b:d+this.subpageHeight<f))if("horizontal"===this.orientation&&"rtl"===this.dir){if(Math.abs(g)+p>b-this.subpageWidth/4){const i=this.getLastChild(),s=(this.numberOfItems+i+1)%this.numberOfItems;if(this.createSubpage(s),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let e=s;for(;e<this.numberOfItems&&!1===(null===(t=this.showSignalHolder[e])||void 0===t?void 0:t.value);)this.createSubpage(++e)}for(;this._elContainer.children.length>this.numberOfItems;)null===(e=this._elContainer.firstElementChild)||void 0===e||e.remove();this._elContainer.scrollLeft+=this.subpageWidth/2}else if(Math.abs(g)<this.subpageWidth/4){const t=this.getFirstChild(),e=(this.numberOfItems+t-1)%this.numberOfItems;if(this.createSubpage(e,!1),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let t=e;for(;t>0&&!1===(null===(i=this.showSignalHolder[t])||void 0===i?void 0:i.value);)this.createSubpage(--t,!1)}for(;this._elContainer.children.length>this.numberOfItems;)null===(s=this._elContainer.lastElementChild)||void 0===s||s.remove();this._elContainer.scrollLeft-=this.subpageWidth/2}}else if("horizontal"===this.orientation){if(g<this.subpageWidth/4){const t=this.getFirstChild(),e=(this.numberOfItems+t-1)%this.numberOfItems;if(this.createSubpage(e,!1),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let t=e;for(;t>0&&!1===(null===(n=this.showSignalHolder[t])||void 0===n?void 0:n.value);)this.createSubpage(--t,!1)}for(;this._elContainer.children.length>this.numberOfItems;)null===(r=this._elContainer.lastElementChild)||void 0===r||r.remove();this._elContainer.scrollLeft+=this.subpageWidth/2}else if(g+p>b-this.subpageWidth/4){const t=this.getLastChild(),e=(this.numberOfItems+t+1)%this.numberOfItems;if(this.createSubpage(e),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let t=e;for(;t<this.numberOfItems&&!1===(null===(a=this.showSignalHolder[t])||void 0===a?void 0:a.value);)this.createSubpage(++t)}for(;this._elContainer.children.length>this.numberOfItems;)null===(o=this._elContainer.firstElementChild)||void 0===o||o.remove();this._elContainer.scrollLeft-=this.subpageWidth/2}}else if(m<this.subpageHeight/4){const t=this.getFirstChild(),e=(this.numberOfItems+t-1)%this.numberOfItems;if(this.createSubpage(e,!1),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let t=e;for(;t>0&&!1===(null===(l=this.showSignalHolder[t])||void 0===l?void 0:l.value);)this.createSubpage(--t,!1)}for(;this._elContainer.children.length>this.numberOfItems;)null===(h=this._elContainer.lastElementChild)||void 0===h||h.remove();this._elContainer.scrollTop+=this.subpageHeight/2}else if(m+d>f-this.subpageHeight/4){const t=this.getLastChild(),e=(this.numberOfItems+t+1)%this.numberOfItems;if(this.createSubpage(e),!0===this.loadSubpageForShow&&!1===this.allSubpageVisible){let t=e;for(;t<this.numberOfItems&&!1===(null===(u=this.showSignalHolder[t])||void 0===u?void 0:u.value);)this.createSubpage(++t)}for(;this._elContainer.children.length>this.numberOfItems;)null===(c=this._elContainer.firstElementChild)||void 0===c||c.remove();this._elContainer.scrollTop-=this.subpageHeight/2,this.scrollToPosition===this.numberOfItems-1&&0===e&&(this._elContainer.scrollTop+=this.subpageHeight)}}clearComponentContent(){const t=this.getElementsByTagName("div");Array.from(t).forEach(t=>{t.remove()})}handleOrientation(){Array.from(b.COMPONENT_DATA.ORIENTATION.values).forEach(t=>{this._elContainer.classList.remove(this.nodeName.toLowerCase()+b.COMPONENT_DATA.ORIENTATION.classListPrefix+t)}),this._elContainer.classList.add(this.nodeName.toLowerCase()+b.COMPONENT_DATA.ORIENTATION.classListPrefix+this.orientation),this.handleRowsAndColumn()}handleEndless(){this.endless&&(this.endless="horizontal"===this.orientation?1===this.rows:1===this.columns),this.endless&&!0===this.scrollbar&&(this.scrollbar=!1)}handleCenterItems(){[!0,!1].forEach(t=>{this._elContainer.classList.remove(this.nodeName.toLowerCase()+b.CENTER_ITEMS_CLASSLIST_PREFIX+t.toString())}),this._elContainer.classList.add(this.nodeName.toLowerCase()+b.CENTER_ITEMS_CLASSLIST_PREFIX+this.centerItems),!0===this.centerItems&&this.debounceSubpageDisplay()}handleRowsAndColumn(){this.endless&&(this.endless="horizontal"===this.orientation?1===this.rows:1===this.columns),"both"===this.stretch&&(this.stretch="horizontal"===this.orientation?1===this.rows?"both":null:1===this.columns?"both":null),"horizontal"===this.orientation?(this._elContainer.classList.remove(this.nodeName.toLowerCase()+b.ROWS_CLASSLIST_PREFIX+this.rowClassValue),this._elContainer.classList.remove(this.nodeName.toLowerCase()+b.COLUMNS_CLASSLIST_PREFIX+this.columnsClassValue),this.rowClassValue=this.rows<this.numberOfItems?this.rows:this.numberOfItems,this._elContainer.classList.add(this.nodeName.toLowerCase()+b.ROWS_CLASSLIST_PREFIX+this.rowClassValue)):(this._elContainer.classList.remove(this.nodeName.toLowerCase()+b.COLUMNS_CLASSLIST_PREFIX+this.columnsClassValue),this._elContainer.classList.remove(this.nodeName.toLowerCase()+b.ROWS_CLASSLIST_PREFIX+this.rowClassValue),this.columnsClassValue=this.columns<this.numberOfItems?this.columns:this.numberOfItems,this._elContainer.classList.add(this.nodeName.toLowerCase()+b.COLUMNS_CLASSLIST_PREFIX+this.columnsClassValue)),this.debounceSubpageDisplay()}handleScrollbar(){!0===this.endless&&!0===this.scrollbar&&(this.scrollbar=!1),[!0,!1].forEach(t=>{this._elContainer.classList.remove(this.nodeName.toLowerCase()+b.SCROLLBAR_CLASSLIST_PREFIX+t.toString())}),this._elContainer.classList.add(this.nodeName.toLowerCase()+b.SCROLLBAR_CLASSLIST_PREFIX+this.scrollbar),this.initScrollbar()}handleScrollToPosition(t){var e,i;if(!(t>=this.numberOfItems||t<0||"horizontal"===this.orientation&&1!==this.rows||"vertical"===this.orientation&&1!==this.columns)){if(this.subpageWidth=(null===(e=this._elContainer.firstElementChild)||void 0===e?void 0:e.getBoundingClientRect().width)||this.subpageWidth,this.subpageHeight=(null===(i=this._elContainer.firstElementChild)||void 0===i?void 0:i.getBoundingClientRect().width)||this.subpageHeight,Array.from(this._elContainer.children).forEach(t=>t.remove()),0!==this.contractName.length&&!0===this.useContractForItemShow||0!==this.subpageReceiveStateShow.length&&!0===this.subpageReceiveStateShow.trim().includes(`{{${this.indexId}}}`)){this.loadSubpageForShow=!0,0===this.showSignalHolder.length&&this.signalHolder();const t=this.showSignalHolder.filter(t=>!0===(null==t?void 0:t.value)).length;this.allSubpageVisible=t===this.numberOfItems}else this.loadSubpageForShow=!1;if("rtl"===this.dir&&"horizontal"===this.orientation){const e=this._elContainer.getBoundingClientRect().width,i=Math.ceil(e/this.subpageWidth)+b.SUBPAGE_CONTAINER_BUFFER;if(t>=this.numberOfItems-(i-b.SUBPAGE_CONTAINER_BUFFER)){for(let t=this.numberOfItems-i;t<this.numberOfItems;t++)this.createSubpage(t);this._elContainer.scrollLeft=t===this.numberOfItems-1?5*this.subpageWidth*-1:this.subpageWidth*b.SUBPAGE_CONTAINER_BUFFER*-1,!1===this.allSubpageVisible&&!0===this.loadSubpageForShow&&this.scrollToRightEdgeRange()}else if(t>=b.SUBPAGE_CONTAINER_BUFFER){for(let e=t-b.SUBPAGE_CONTAINER_BUFFER;e<t+i&&e<this.numberOfItems;e++)this.createSubpage(e);this._elContainer.scrollLeft=this.subpageWidth*b.SUBPAGE_CONTAINER_BUFFER*-1,!1===this.allSubpageVisible&&!0===this.loadSubpageForShow&&this.scrollToMiddleRange()}else{for(let t=0;t<i&&t<this.numberOfItems;t++)this.createSubpage(t);this._elContainer.scrollLeft=this.subpageWidth*t*-1,!1===this.allSubpageVisible&&!0===this.loadSubpageForShow&&this.scrollToLeftEdgeRange()}}else if("horizontal"===this.orientation){const e=this._elContainer.getBoundingClientRect().width,i=Math.ceil(e/this.subpageWidth)+b.SUBPAGE_CONTAINER_BUFFER;if(t>=this.numberOfItems-(i-b.SUBPAGE_CONTAINER_BUFFER)){for(let t=this.numberOfItems-i;t<this.numberOfItems;t++)this.createSubpage(t);this.scrollAfterSomeTime("left",t===this.numberOfItems-1?5*this.subpageWidth:this.subpageWidth*b.SUBPAGE_CONTAINER_BUFFER)}else if(t>=b.SUBPAGE_CONTAINER_BUFFER){for(let e=t-b.SUBPAGE_CONTAINER_BUFFER;e<t+i&&e<this.numberOfItems;e++)this.createSubpage(e);this.scrollAfterSomeTime("left",this.subpageWidth*b.SUBPAGE_CONTAINER_BUFFER)}else{for(let t=0;t<i&&t<this.numberOfItems;t++)this.createSubpage(t);this.scrollAfterSomeTime("left",this.subpageWidth*t)}}else{const e=this._elContainer.getBoundingClientRect().height,i=Math.ceil(e/this.subpageHeight)+b.SUBPAGE_CONTAINER_BUFFER;if(0===e)for(let t=0;t<this.numberOfItems;t++)this.createSubpage(t);else if(t>=this.numberOfItems-(i-b.SUBPAGE_CONTAINER_BUFFER)){for(let t=this.numberOfItems-i;t<this.numberOfItems;t++)this.createSubpage(t);this._elContainer.scrollTop=t===this.numberOfItems-1?5*this.subpageHeight:this.subpageHeight*b.SUBPAGE_CONTAINER_BUFFER,!1===this.allSubpageVisible&&!0===this.loadSubpageForShow&&this.scrollToRightEdgeRange()}else if(t>=b.SUBPAGE_CONTAINER_BUFFER){for(let e=t-b.SUBPAGE_CONTAINER_BUFFER;e<t+i&&e<this.numberOfItems;e++)this.createSubpage(e);this._elContainer.scrollTop=this.subpageHeight*b.SUBPAGE_CONTAINER_BUFFER,!1===this.allSubpageVisible&&!0===this.loadSubpageForShow&&this.scrollToMiddleRange()}else{for(let t=0;t<i&&t<this.numberOfItems;t++)this.createSubpage(t);this._elContainer.scrollTop=this.subpageHeight*t,!1===this.allSubpageVisible&&!0===this.loadSubpageForShow&&this.scrollToLeftEdgeRange()}}this.debounceInitScrollBar()}}handleScrollToPositionForNew(t){var e,i,s,n,r;if(!(t>=this.numberOfItems||t<0||"horizontal"===this.orientation&&1!==this.rows||"vertical"===this.orientation&&1!==this.columns)){if(0!==this.subpageWidth&&0!==this.subpageHeight||(0===this._elContainer.children.length?(this.createSubpage(0),this.subpageWidth=(null===(e=this._elContainer.firstElementChild)||void 0===e?void 0:e.getBoundingClientRect().width)||this.subpageWidth,this.subpageHeight=(null===(i=this._elContainer.firstElementChild)||void 0===i?void 0:i.getBoundingClientRect().height)||this.subpageHeight,null===(s=this._elContainer.firstElementChild)||void 0===s||s.remove()):(this.subpageWidth=(null===(n=this._elContainer.firstElementChild)||void 0===n?void 0:n.getBoundingClientRect().width)||this.subpageWidth,this.subpageHeight=(null===(r=this._elContainer.firstElementChild)||void 0===r?void 0:r.getBoundingClientRect().height)||this.subpageHeight)),0!==this.contractName.length&&!0===this.useContractForItemShow||0!==this.subpageReceiveStateShow.length&&!0===this.subpageReceiveStateShow.trim().includes(`{{${this.indexId}}}`)){this.loadSubpageForShow=!0,0===this.showSignalHolder.length&&this.signalHolder();const t=this.showSignalHolder.filter(t=>!0===(null==t?void 0:t.value)).length;this.allSubpageVisible=t===this.numberOfItems}else this.loadSubpageForShow=!1;if("rtl"===this.dir&&"horizontal"===this.orientation){const e=this._elContainer.getBoundingClientRect().width,i=Math.ceil(e/this.subpageWidth)+b.SUBPAGE_CONTAINER_BUFFER;if(0===this._elContainer.children.length)for(let e=0;e<this.numberOfItems&&e<t+i-1;e++)this.createSubpage(e);else if(this.getLastChild()<t+i)for(let e=this.getLastChild()+1;e<this.numberOfItems&&e<t+i;e++)this.createSubpage(e);this._elContainer.scrollLeft=0!==t?t*this.subpageWidth*-1:0}else if("horizontal"===this.orientation){const e=this._elContainer.getBoundingClientRect().width,i=Math.ceil(e/this.subpageWidth)+b.SUBPAGE_CONTAINER_BUFFER;if(0===this._elContainer.children.length)for(let e=0;e<this.numberOfItems&&e<t+i-1;e++)this.createSubpage(e);else if(this.getLastChild()<t+i)for(let e=this.getLastChild()+1;e<this.numberOfItems&&e<t+i;e++)this.createSubpage(e);this._elContainer.scrollLeft=0!==t?t*this.subpageWidth:0}else{const e=this._elContainer.getBoundingClientRect().height,i=Math.ceil(e/this.subpageHeight)+b.SUBPAGE_CONTAINER_BUFFER;if(e<=10||e<=this.subpageHeight+10)for(let t=0;t<this.numberOfItems;t++)this.createSubpage(t);else if(0===this._elContainer.children.length)for(let e=0;e<this.numberOfItems&&e<t+i-1;e++)this.createSubpage(e);else if(this.getLastChild()<t+i)for(let e=this.getLastChild()+1;e<this.numberOfItems&&e<t+i;e++)this.createSubpage(e);this._elContainer.scrollTop=0!==t?t*this.subpageHeight:0}if(!1===this.allSubpageVisible&&!0===this.loadSubpageForShow){let t=0;for(let e=this.getFirstChild();e<=this.getLastChild();e++)!1===this.showSignalHolder[e].value&&(t+=1);let e=0;for(;0!==t&&e<t&&this.getLastChild()!==this.numberOfItems-1;)!0===this.showSignalHolder[this.getLastChild()+1].value&&(e+=1),this.createSubpage(this.getLastChild()+1)}this.initScrollbar()}}handleScrollToPositionForAll(t){var e,i;t>=this.numberOfItems||t<0||"horizontal"===this.orientation&&1!==this.rows||"vertical"===this.orientation&&1!==this.columns||(this.subpageWidth=(null===(e=this._elContainer.firstElementChild)||void 0===e?void 0:e.getBoundingClientRect().width)||this.subpageWidth,this.subpageHeight=(null===(i=this._elContainer.firstElementChild)||void 0===i?void 0:i.getBoundingClientRect().height)||this.subpageHeight,"rtl"===this.dir&&"horizontal"===this.orientation?this._elContainer.scrollLeft=t*this.subpageWidth*-1:"horizontal"===this.orientation?this._elContainer.scrollLeft=t*this.subpageWidth:this._elContainer.scrollTop=t*this.subpageHeight,this.initScrollbar())}handleWidgetID(){if((0,r.isEmpty)(this.widgetId))throw new Error("[ch5-subpage-reference-list] Error: No widgetId was provided");const t=document.getElementById(this.widgetId);if((0,r.isNil)(t))throw new Error(`[ch5-subpage-reference-list] Error: No template with the id: "${this.widgetId}" found`);this._templateElement=t,this.debounceSubpageDisplay()}handleStretch(){"both"===this.stretch&&(this.stretch="horizontal"===this.orientation?1===this.rows?"both":null:1===this.columns?"both":null),null===this.stretch?this._elContainer.classList.remove(this.primaryCssClass+"--stretch-both"):this.debounceSubpageDisplay()}subpageDisplay(t=!1){if(this.contractDefaultHelper(),!0===t)return this.handleScrollToPosition(this.scrollToPosition);this._elContainer.classList.remove(this.primaryCssClass+"--stretch-both"),Array.from(this._elContainer.children).forEach(t=>t.remove()),this.createSubpage(0),this.subpageWidth=this._elContainer.children[0].getBoundingClientRect().width,this.subpageHeight=this._elContainer.children[0].getBoundingClientRect().height;let e=0;if("horizontal"===this.orientation){const t=this._elContainer.getBoundingClientRect().width;e=Math.floor(t/this.subpageWidth)*this.rows+this.rows*b.SUBPAGE_CONTAINER_BUFFER}else{const t=this._elContainer.getBoundingClientRect().height;e=t>this.subpageHeight?Math.floor(t/this.subpageHeight)*this.columns+this.columns*b.SUBPAGE_CONTAINER_BUFFER:this.numberOfItems}e=e>this.numberOfItems?this.numberOfItems:e;for(let t=1;t<e;t++)this.createSubpage(t);this.endless&&("horizontal"===this.orientation?this._elContainer.scrollLeft=5:this._elContainer.scrollTop=5),this.initScrollbar(),"both"===this.stretch&&this._elContainer.classList.add(this.primaryCssClass+"--stretch-both"),!0===this.centerItems&&this.scrollbarDimension<100&&(this.centerItems=!1),this.signalHolder(),0!==this.scrollToPosition&&this.handleScrollToPosition(this.scrollToPosition)}subpageDisplayForLoadItemsNew(t=!1){if(this.contractDefaultHelper(),!0===t)return this.handleScrollToPositionForNew(this.scrollToPosition);this._elContainer.classList.remove(this.primaryCssClass+"--stretch-both"),Array.from(this._elContainer.children).forEach(t=>t.remove()),this.createSubpage(0),this.subpageWidth=this._elContainer.children[0].getBoundingClientRect().width,this.subpageHeight=this._elContainer.children[0].getBoundingClientRect().height;let e=0;if("horizontal"===this.orientation){const t=this._elContainer.getBoundingClientRect().width;e=Math.floor(t/this.subpageWidth)*this.rows+this.rows*b.SUBPAGE_CONTAINER_BUFFER}else{const t=this._elContainer.getBoundingClientRect().height;e=t>this.subpageHeight+10?Math.floor(t/this.subpageHeight)*this.columns+this.columns*b.SUBPAGE_CONTAINER_BUFFER:this.numberOfItems}e=e>this.numberOfItems?this.numberOfItems:e;for(let t=1;t<e;t++)this.createSubpage(t);this.endless&&("horizontal"===this.orientation?this._elContainer.scrollLeft=5:this._elContainer.scrollTop=5),this.initScrollbar(),"both"===this.stretch&&this._elContainer.classList.add(this.primaryCssClass+"--stretch-both"),!0===this.centerItems&&this.scrollbarDimension<100&&(this.centerItems=!1),this.signalHolder(),0!==this.scrollToPosition&&this.handleScrollToPositionForNew(this.scrollToPosition)}subpageDisplayForLoadItemsAll(t=!1){this.contractDefaultHelper(),Array.from(this._elContainer.children).forEach(t=>t.remove());for(let t=0;t<this.numberOfItems;t++)this.createSubpage(t);this.endless&&("horizontal"===this.orientation?this._elContainer.scrollLeft=5:this._elContainer.scrollTop=5),this.initScrollbar(),"both"===this.stretch&&this._elContainer.classList.add(this.primaryCssClass+"--stretch-both"),!0===this.centerItems&&this.scrollbarDimension<100&&(this.centerItems=!1),!0===t&&0===this.scrollToPosition&&("horizontal"===this.orientation?this._elContainer.scrollLeft=0:this._elContainer.scrollTop=0),0!==this.scrollToPosition&&this.handleScrollToPositionForAll(this.scrollToPosition)}replaceAll(t,e,i){return t&&""!==String(t).trim()?String(t).split(e).join(i):t}createSubpage(t,e=!0){var i,s,n,a,o,l,h,c,d,p;if(t<0||t>=this.numberOfItems)return;if((0,r.isNil)(this._templateElement))throw new Error("[ch5-subpage-reference-list] Error: Incorrect tag used");const g=document.createElement("template");g.innerHTML=this._templateElement.innerHTML;const m=document.createElement("div");if(m.setAttribute("id",this.getCrId()+"-"+t),""!==this.contractName.trim()&&null!==this.contractName&&void 0!==this.contractName&&!0===this.useContractForItemShow)m.setAttribute("data-ch5-noshow-type","display"),m.setAttribute("data-ch5-show",this.contractName+`.List_Item${t+1}_Visible`);else if(!1===(null===(i=this.getAttribute("subpageReceiveStateShow"))||void 0===i?void 0:i.trim().includes(`{{${this.indexId}}}`))){const t=null===(s=this.getAttribute("subpageReceiveStateShow"))||void 0===s?void 0:s.trim();t&&(m.setAttribute("data-ch5-noshow-type","display"),m.setAttribute("data-ch5-show",t.trim()))}else if(this.hasAttribute("subpageReceiveStateShow")&&(null===(n=this.getAttribute("subpageReceiveStateShow"))||void 0===n?void 0:n.trim())){const e=this.replaceAll((null===(a=this.getAttribute("subpageReceiveStateShow"))||void 0===a?void 0:a.trim())+"",`{{${this.indexId}}}`,""),i=/^[0-9]+$/.test(e);m.setAttribute("data-ch5-noshow-type","display"),i?m.setAttribute("data-ch5-show",Number(e)+t+""):m.setAttribute("data-ch5-show",this.replaceAll((null===(o=this.getAttribute("subpageReceiveStateShow"))||void 0===o?void 0:o.trim())+"",`{{${this.indexId}}}`,t+""))}if(""!==this.contractName.trim()&&null!==this.contractName&&void 0!==this.contractName&&!0===this.useContractForItemEnable)m.setAttribute("data-ch5-enable",this.contractName+`.List_Item${t+1}_Enable`);else if(!1===(null===(l=this.getAttribute("subpageReceiveStateEnable"))||void 0===l?void 0:l.trim().includes(`{{${this.indexId}}}`))){const t=null===(h=this.getAttribute("subpageReceiveStateEnable"))||void 0===h?void 0:h.trim();t&&m.setAttribute("data-ch5-enable",t.trim())}else if(this.hasAttribute("subpageReceiveStateEnable")&&(null===(c=this.getAttribute("subpageReceiveStateEnable"))||void 0===c?void 0:c.trim())){const e=this.replaceAll((null===(d=this.getAttribute("subpageReceiveStateEnable"))||void 0===d?void 0:d.trim())+"",`{{${this.indexId}}}`,"");/^[0-9]+$/.test(e)?m.setAttribute("data-ch5-enable",Number(e)+t+""):m.setAttribute("data-ch5-enable",this.replaceAll((null===(p=this.getAttribute("subpageReceiveStateEnable"))||void 0===p?void 0:p.trim())+"",`{{${this.indexId}}}`,t+""))}m.classList.add(this.nodeName.toLowerCase()+"--subpage-container"),null!==this.indexId&&(u.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsAttrs(g,t,this.indexId),u.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsContent(g,t,this.indexId)),m.appendChild(g.content),""!==this.contractName.trim()&&null!==this.contractName&&void 0!==this.contractName?u.Ch5AugmentVarSignalsNames.differentiateTmplElemsAttrs(m,this.contractName+".Items["+t+"].",0,0,0):u.Ch5AugmentVarSignalsNames.differentiateTmplElemsAttrs(m,"",parseInt(this.booleanJoinIncrement,10)*t||0,parseInt(this.numericJoinIncrement,10)*t||0,parseInt(this.stringJoinIncrement,10)*t||0),e?this._elContainer.appendChild(m):this._elContainer.prepend(m)}handleContractName(){0===this.contractName.trim().length&&(this.previousSignalValues.contractName="",this.receiveStateShow=this.previousSignalValues.receiveStateShow,this.receiveStateEnable=this.previousSignalValues.receiveStateEnable,this.receiveStateCustomStyle=this.previousSignalValues.receiveStateCustomStyle,this.receiveStateCustomClass=this.previousSignalValues.receiveStateCustomClass,this.receiveStateNumberOfItems=this.previousSignalValues.receiveStateNumberOfItems,this.subpageReceiveStateScrollTo=this.previousSignalValues.subpageReceiveStateScrollTo),this.debounceSubpageDisplay()}initialize(){""===this.previousSignalValues.contractName&&(this.previousSignalValues.contractName=this.contractName,this.previousSignalValues.receiveStateShow=this.receiveStateShow,this.previousSignalValues.receiveStateEnable=this.receiveStateEnable,this.previousSignalValues.receiveStateCustomStyle=this.receiveStateCustomStyle,this.previousSignalValues.receiveStateCustomClass=this.receiveStateCustomClass,this.previousSignalValues.receiveStateNumberOfItems=this.receiveStateNumberOfItems,this.previousSignalValues.subpageReceiveStateScrollTo=this.subpageReceiveStateScrollTo)}contractDefaultHelper(){""!==this.contractName.trim()&&null!==this.contractName&&void 0!==this.contractName&&(!0===this.useContractForCustomStyle?this.receiveStateCustomStyle=this.contractName+".CustomStyle":this.receiveStateCustomStyle=this.previousSignalValues.receiveStateCustomStyle,!0===this.useContractForCustomClass?this.receiveStateCustomClass=this.contractName+".CustomClass":this.receiveStateCustomClass=this.previousSignalValues.receiveStateCustomClass,!0===this.useContractForEnable?this.receiveStateEnable=this.contractName+".List_Enable":this.receiveStateEnable=this.previousSignalValues.receiveStateEnable,!0===this.useContractForShow?this.receiveStateShow=this.contractName+".List_Visible":this.receiveStateShow=this.previousSignalValues.receiveStateShow,!0===this.useContractForNumItems?this.receiveStateNumberOfItems=this.contractName+".Set_Number_Of_Items":this.receiveStateNumberOfItems=this.previousSignalValues.receiveStateNumberOfItems,this.subpageReceiveStateScrollTo=this.contractName+".ListScrollToItem")}updateCssClass(){this.logger.start("UpdateCssClass"),super.updateCssClasses(),this.stretch&&this._elContainer.classList.add(b.COMPONENT_DATA.STRETCH.classListPrefix+this.stretch),this._elContainer.classList.add(b.ELEMENT_NAME+b.COMPONENT_DATA.ORIENTATION.classListPrefix+this.orientation),this._elContainer.classList.add(b.ELEMENT_NAME+b.ROWS_CLASSLIST_PREFIX+this.rows),this._elContainer.classList.add(b.ELEMENT_NAME+b.SCROLLBAR_CLASSLIST_PREFIX+this.scrollbar),this._elContainer.classList.add(b.ELEMENT_NAME+b.CENTER_ITEMS_CLASSLIST_PREFIX+this.centerItems),this.logger.stop()}initScrollbar(){var t,e,i,s;if(this.subpageWidth=(null===(t=this._elContainer.firstElementChild)||void 0===t?void 0:t.getBoundingClientRect().width)||this.subpageWidth,this.subpageHeight=(null===(e=this._elContainer.firstElementChild)||void 0===e?void 0:e.getBoundingClientRect().width)||this.subpageHeight,"horizontal"===this.orientation&&"rtl"===this.dir){const{scrollWidth:t,offsetWidth:e,scrollLeft:i}=this._elContainer;this.scrollbarDimension=Math.floor(e/t*100);const s=Math.ceil(Math.abs(i)/t*100);this._scrollbar.style.removeProperty("height"),this._scrollbar.style.removeProperty("top"),this._scrollbar.style.width=this.scrollbarDimension+"%",this._scrollbar.style.left=100-this.scrollbarDimension-s+"%"}else if("horizontal"===this.orientation){const{scrollWidth:t,offsetWidth:e,scrollLeft:i}=this._elContainer;this.scrollbarDimension=Math.floor(e/t*100);const s=Math.ceil(i/t*100);this._scrollbar.style.removeProperty("height"),this._scrollbar.style.removeProperty("top"),this._scrollbar.style.width=this.scrollbarDimension+"%",this._scrollbar.style.left=s+"%"}else{const{scrollHeight:t,offsetHeight:e,scrollTop:i}=this._elContainer;this.scrollbarDimension=Math.floor(e/t*100);const s=Math.ceil(i/t*100);this._scrollbar.style.removeProperty("width"),this._scrollbar.style.removeProperty("left"),this._scrollbar.style.height=this.scrollbarDimension+"%",this._scrollbar.style.top=s+"%"}this.subpageWidth=(null===(i=this._elContainer.firstElementChild)||void 0===i?void 0:i.getBoundingClientRect().width)||this.subpageWidth,this.subpageHeight=(null===(s=this._elContainer.firstElementChild)||void 0===s?void 0:s.getBoundingClientRect().height)||this.subpageHeight,this.scrollbar&&(100===this.scrollbarDimension?(this._elContainer.classList.remove(this.nodeName.toLowerCase()+b.SCROLLBAR_CLASSLIST_PREFIX+"true"),this._elContainer.classList.add(this.nodeName.toLowerCase()+b.SCROLLBAR_CLASSLIST_PREFIX+"false")):(!0===this.centerItems&&(this.centerItems=!1),this._elContainer.classList.remove(this.nodeName.toLowerCase()+b.SCROLLBAR_CLASSLIST_PREFIX+"false"),this._elContainer.classList.add(this.nodeName.toLowerCase()+b.SCROLLBAR_CLASSLIST_PREFIX+"true")))}checkInternalHTML(){this._elContainer.parentElement!==this&&(this._elContainer.classList.add(this.nodeName.toLowerCase()),this.appendChild(this._elContainer)),this._scrollbar.parentElement!==this._scrollbarContainer&&(this._scrollbar.classList.add("scrollbar"),this._scrollbarContainer.appendChild(this._scrollbar)),this._scrollbarContainer.parentElement!==this&&(this._scrollbarContainer.classList.add("scrollbar-container"),this.appendChild(this._scrollbarContainer))}signalHolder(){var t,e;if(0!==this.contractName.length&&!0===this.useContractForItemShow){this.showSignalHolder.forEach(t=>this.clearOldSubscription(t.signalValue,t.signalState)),this.showSignalHolder=[],this.loadSubpageForShow=!0;for(let t=1;t<=this.numberOfItems;t++){const e=`${this.contractName}.List_Item${t}_Visible`,i=this.setSignalByBoolean(e);this.showSignalHolder.push({signalState:"",signalValue:e,value:!1}),m.default.isNil(i)||(this.showSignalHolder[t-1].signalState=i.subscribe(e=>(this.showSignalHolder[t-1].value=e,this.debounceSubpageShow(),!0)))}}else if(0!==this.subpageReceiveStateShow.length&&!0===this.subpageReceiveStateShow.trim().includes(`{{${this.indexId}}}`)){this.showSignalHolder.forEach(t=>this.clearOldSubscription(t.signalValue,t.signalState)),this.showSignalHolder=[],this.loadSubpageForShow=!0;const i=this.replaceAll((null===(t=this.getAttribute("subpageReceiveStateShow"))||void 0===t?void 0:t.trim())+"",`{{${this.indexId}}}`,""),s=/^[0-9]+$/.test(i);for(let t=0;t<this.numberOfItems;t++){const n=s?Number(i)+t+"":this.replaceAll((null===(e=this.getAttribute("subpageReceiveStateShow"))||void 0===e?void 0:e.trim())+"",`{{${this.indexId}}}`,t+"");this.showSignalHolder.push({signalState:"",signalValue:n,value:!1});const r=this.setSignalByBoolean(n);m.default.isNil(r)||(this.showSignalHolder[t].signalState=r.subscribe(e=>(this.showSignalHolder[t].value=e,this.debounceSubpageShow(),!0)))}}}clearOldSubscription(t,e){const i=p.Ch5Signal.getSubscriptionSignalName(t),s=g.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==s&&s.unsubscribe(e)}setSignalByBoolean(t){const e=p.Ch5Signal.getSubscriptionSignalName(t),i=g.Ch5SignalFactory.getInstance().getBooleanSignal(e);return null===i?null:i}subpageShow(){const t=this.showSignalHolder.filter(t=>!0===(null==t?void 0:t.value)).length;this.allSubpageVisible=t===this.numberOfItems,!0!==this.allSubpageVisible&&this.scrollToMiddleRange()}getFirstChild(){var t,e;return Number(null===(e=null===(t=this._elContainer.firstElementChild)||void 0===t?void 0:t.getAttribute("id"))||void 0===e?void 0:e.replace(this.getCrId()+"-",""))}getLastChild(){var t,e;return Number(null===(e=null===(t=this._elContainer.lastElementChild)||void 0===t?void 0:t.getAttribute("id"))||void 0===e?void 0:e.replace(this.getCrId()+"-",""))}scrollToRightEdgeRange(){let t=0;for(let e=this.getFirstChild();e<=this.getLastChild();e++)!1===this.showSignalHolder[e].value&&(t+=1);let e=0;for(;0!==t&&e<t&&0!==this.getFirstChild();)!0===this.showSignalHolder[this.getFirstChild()-1].value&&(e+=1),this.createSubpage(this.getFirstChild()-1,!1)}scrollToMiddleRange(){let t=0;for(let e=this.getFirstChild();e<=this.getLastChild();e++)!1===this.showSignalHolder[e].value&&(t+=1);let e=0;for(;0!==t&&e<t&&0!==this.getFirstChild();)!0===this.showSignalHolder[this.getFirstChild()-1].value&&(e+=1),this.createSubpage(this.getFirstChild()-1,!1);for(;0!==t&&e<t&&this.getLastChild()!==this.numberOfItems-1;)!0===this.showSignalHolder[this.getLastChild()+1].value&&(e+=1),this.createSubpage(this.getLastChild()+1)}scrollToLeftEdgeRange(){let t=0;for(let e=this.getFirstChild();e<=this.getLastChild();e++)!1===this.showSignalHolder[e].value&&(t+=1);let e=0;for(;0!==t&&e<t&&this.getLastChild()!==this.numberOfItems-1;)!0===this.showSignalHolder[this.getLastChild()+1].value&&(e+=1),this.createSubpage(this.getLastChild()+1)}getTargetElementForCssClassesAndStyle(){return this._elContainer}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}}e.Ch5SubpageReferenceList=b,b.ROWS_CLASSLIST_PREFIX="--rows-",b.COLUMNS_CLASSLIST_PREFIX="--columns-",b.SCROLLBAR_CLASSLIST_PREFIX="--scrollbar-",b.CENTER_ITEMS_CLASSLIST_PREFIX="--center-items-",b.SUBPAGE_CONTAINER_BUFFER=4,b.STRETCH=["both"],b.ORIENTATION=["horizontal","vertical"],b.LOAD_ITEMS=["visible-only","load-new","all"],b.COMPONENT_DATA={ORIENTATION:{default:b.ORIENTATION[0],values:b.ORIENTATION,key:"orientation",attribute:"orientation",classListPrefix:"--orientation-"},LOAD_ITEMS:{default:b.LOAD_ITEMS[0],values:b.LOAD_ITEMS,key:"loadItems",attribute:"loadItems",classListPrefix:"--load-items-"},STRETCH:{default:b.STRETCH[0],values:b.STRETCH,key:"stretch",attribute:"stretch",classListPrefix:"--stretch-"}},b.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{booleanjoinincrement:{direction:"state",booleanJoin:1,contractName:!0},numericjoinincrement:{direction:"state",numericJoin:1,contractName:!0},stringjoinincrement:{direction:"state",stringJoin:1,contractName:!0},subpagereceivestatescrollto:{direction:"state",numericJoin:1,contractName:!0},receivestatenumberofitems:{direction:"state",numericJoin:1,contractName:!0}}),b.COMPONENT_PROPERTIES=[{default:b.ORIENTATION[0],enumeratedValues:b.ORIENTATION,name:"orientation",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:b.ORIENTATION[0],isObservableProperty:!0},{default:"",name:"contractName",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:!1,name:"useContractForEnable",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForShow",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForItemEnable",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForItemShow",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForCustomStyle",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForCustomClass",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"useContractForNumItems",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"endless",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"centerItems",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:1,name:"rows",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:1,numberProperties:{min:1,max:600,conditionalMin:1,conditionalMax:600,conditionalMinValue:1,conditionalMaxValue:600},isObservableProperty:!0},{default:1,name:"columns",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:1,numberProperties:{min:1,max:600,conditionalMin:1,conditionalMax:600,conditionalMinValue:1,conditionalMaxValue:600},isObservableProperty:!0},{default:0,name:"scrollToPosition",removeAttributeOnNull:!0,nameForSignal:"subpageReceiveStateScrollTo",type:"number",valueOnAttributeEmpty:null,numberProperties:{min:0,max:599,conditionalMin:0,conditionalMax:599,conditionalMinValue:0,conditionalMaxValue:599},isObservableProperty:!0},{default:!1,name:"scrollbar",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:"0",isSignal:!0,name:"booleanJoinIncrement",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"0",isSignal:!0,name:"numericJoinIncrement",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"0",isSignal:!0,name:"stringJoinIncrement",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"subpageReceiveStateEnable",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"subpageReceiveStateShow",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"widgetId",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"subpageReceiveStateScrollTo",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:null,enumeratedValues:b.STRETCH,name:"stretch",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:null,isObservableProperty:!0,isNullable:!0},{default:10,name:"numberOfItems",removeAttributeOnNull:!0,nameForSignal:"receiveStateNumberOfItems",type:"number",valueOnAttributeEmpty:10,numberProperties:{min:1,max:600,conditionalMin:1,conditionalMax:600,conditionalMinValue:1,conditionalMaxValue:600},isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateNumberOfItems",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"indexId",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:b.LOAD_ITEMS[0],enumeratedValues:b.LOAD_ITEMS,name:"loadItems",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:b.LOAD_ITEMS[0],isObservableProperty:!0}],b.ELEMENT_NAME="ch5-subpage-reference-list",b.registerCustomElement(),b.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(98),e),n(i(266),e),n(i(267),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5TabButtonLabel=void 0;const s=i(77),n=i(98);class r extends s.Ch5ButtonListLabelBase{static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(r.ELEMENT_NAME)&&window.customElements.define(r.ELEMENT_NAME,r)}connectedCallback(){if(!(this.parentElement instanceof n.Ch5TabButton))throw new Error(`Invalid parent element for ${r.ELEMENT_NAME}.`);super.connectedCallback()}}e.Ch5TabButtonLabel=r,r.ELEMENT_NAME="ch5-tab-button-label",r.registerCustomElement()},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5TabButtonIndividualButton=void 0;const n=s(i(0)),r=i(12),a=i(4),o=i(5);class l extends r.Ch5Log{constructor(){super(),this.primaryCssClass="ch5-tab-button-individual-button",this._parentCh5TabButton=null,this.logger.start("constructor()"),this._ch5Properties=new a.Ch5Properties(this,l.COMPONENT_PROPERTIES)}set parentComponent(t){this._parentCh5TabButton=t}get parentComponent(){return this._parentCh5TabButton}set labelInnerHTML(t){this._ch5Properties.set("labelInnerHTML",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get labelInnerHTML(){return this._ch5Properties.get("labelInnerHTML")}set iconUrl(t){this._ch5Properties.set("iconUrl",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get iconUrl(){return this._ch5Properties.get("iconUrl")}set iconClass(t){this._ch5Properties.set("iconClass",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get iconClass(){return this._ch5Properties.get("iconClass")}set onRelease(t){this._ch5Properties.set("onRelease",t,()=>{this.parentComponent&&this.parentComponent.debounceButtonDisplay()})}get onRelease(){return this._ch5Properties.get("onRelease")}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(l.ELEMENT_NAME)&&window.customElements.define(l.ELEMENT_NAME,l)}static get observedAttributes(){const t=r.Ch5Log.observedAttributes,e=[];for(let t=0;t<l.COMPONENT_PROPERTIES.length;t++)!0===l.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(l.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback"),e!==i){this.logger.log(this.nodeName+' attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=l.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){var t;this.logger.start("connectedCallback()");const e=this.getParentButton();if(n.default.isNil(e)||"CH5-TAB-BUTTON"!==(null===(t=this.parentElement)||void 0===t?void 0:t.nodeName.toString().toUpperCase()))throw new Error("Invalid parent element for ch5-tab-button-individual-button.");this.setAttribute("role",o.Ch5RoleAttributeMapping.ch5TabButtonIndividualButton),this.setAttribute("data-ch5-id",this.getCrId()),this.initAttributes(),this.parentComponent=e,this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.logger.stop()}getParentButton(){const t=e=>n.default.isNil(e)||"CH5-TAB-BUTTON"===e.nodeName.toString().toUpperCase()?e:t(e.parentNode);return t(this.parentElement)}}e.Ch5TabButtonIndividualButton=l,l.COMPONENT_PROPERTIES=[{default:"",name:"labelInnerHTML",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"iconUrl",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"iconClass",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"onRelease",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}],l.ELEMENT_NAME="ch5-tab-button-individual-button",l.registerCustomElement()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.refreshCh5Template=void 0,n(i(269),e);var r=i(99);Object.defineProperty(e,"refreshCh5Template",{enumerable:!0,get:function(){return r.refreshCh5Template}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Template=void 0;const s=i(3),n=i(2),r=i(270),a=i(1),o=i(99);class l extends s.Ch5Common{constructor(){super(...arguments),this._templateId="",this._context="",this._contractName="",this._booleanJoinOffset="",this._numericJoinOffset="",this._stringJoinOffset="",this._templateHelper={},this._refreshSubId=null}static registerSignalAttributeTypes(){n.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(l.ELEMENT_NAME,l.SIGNAL_ATTRIBUTE_TYPES)}static registerSignalAttributeDefaults(){n.Ch5SignalAttributeRegistry.instance.addElementDefaultAttributeEntries(l.ELEMENT_NAME,{contractName:{attributes:["contractname"],defaultValue:""},booleanJoin:{attributes:["booleanjoinoffset"],defaultValue:"0"},numericJoin:{attributes:["numericjoinoffset"],defaultValue:"0"},stringJoin:{attributes:["stringjoinoffset"],defaultValue:"0"}})}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(l.ELEMENT_NAME)&&window.customElements.define(l.ELEMENT_NAME,l)}static get observedAttributes(){const t=s.Ch5Common.observedAttributes;return["templateid","context","contractname","booleanjoinoffset","numericjoinoffset","stringjoinoffset"].concat(t)}set templateId(t){this._templateId!==t&&(this._templateId=t,this.setAttribute("templateid",t.toString()))}get templateId(){return this._templateId}set context(t){this._context!==t&&(this._context=t,this.setAttribute("context",t.toString()))}get context(){return this._context}set contractName(t){this._contractName!==t&&(this._contractName=t,this.setAttribute("contractname",t))}get contractName(){return this._contractName}set booleanJoinOffset(t){this._booleanJoinOffset!==t&&(this._booleanJoinOffset=t,this.setAttribute("booleanjoinoffset",t))}get booleanJoinOffset(){return this._booleanJoinOffset}set numericJoinOffset(t){this._numericJoinOffset!==t&&(this._numericJoinOffset=t,this.setAttribute("numericjoinoffset",t))}get numericJoinOffset(){return this._numericJoinOffset}set stringJoinOffset(t){this._stringJoinOffset!==t&&(this._stringJoinOffset=t,this.setAttribute("stringjoinoffset",t))}get stringJoinOffset(){return this._stringJoinOffset}connectedCallback(){this.info("Ch5Template.connectedCallback()"),Promise.all([customElements.whenDefined("ch5-template")]).then(()=>{this.initializations(),this.info("Ch5Template --- Callback loaded"),this._templateHelper&&this._templateHelper.instanceId&&(0,a.publishEvent)("object","ch5-template:"+this._templateId,{loaded:!0,id:this._templateHelper.instanceId,elementIds:this._templateHelper.elementIds})}),this.listenForCh5TemplateRefreshRequests()}listenForCh5TemplateRefreshRequests(){this.info("Ch5Template.listenForCh5TemplateRefreshRequests()"),this._refreshSubId=o.ch5TemplateSubject.subscribe(t=>{this.info("Ch5Template.listenForCh5TemplateRefreshRequests() new request for "+t),this.shouldRefresh(t)&&this.initializations(!0)})}shouldRefresh(t){return this.info("Ch5Template.shouldRefresh() got called for id "+t),this.getAttribute("templateId")===t}initAttributes(){super.initAttributes(),this.info("Ch5Template.initAttributes()"),this.hasAttribute("templateid")&&(this.templateId=this.getAttribute("templateid")),this.hasAttribute("context")&&(this.context=this.getAttribute("context"))}initializations(t){this.info(`Ch5Template.initializations(${!0===t})`),!0!==t&&this._templateHelper&&this._templateHelper.instanceId||(this.classList.add(l.CH5_TEMPLATE_STYLE_CLASS),this.initAttributes(),this._templateHelper=new r.Ch5TemplateStructure(this),this._templateHelper.generateTemplate(this.templateId,this.context),this.info("Ch5Template --- Initialization Finished"))}attributeChangedCallback(t,e,i){if(e!==i)switch(this.info(`Ch5Template.attributeChangedCallback("${t}", "${e}", "${i}")`),t){case"templateId":this.templateId=this.getAttribute("templateId");break;case"context":this.context=this.getAttribute("context");break;case"contractname":this.contractName=this.getAttribute("contractname");break;case"booleanjoinoffset":this.booleanJoinOffset=this.getAttribute("booleanjoinoffset");break;case"numericjoinoffset":this.numericJoinOffset=this.getAttribute("numericjoinoffset");break;case"stringjoinoffset":this.stringJoinOffset=this.getAttribute("stringjoinoffset");break;default:super.attributeChangedCallback(t,e,i)}}disconnectedCallback(){this.info("Ch5Template.disconnectedCallback()"),this._templateHelper&&this._templateHelper.instanceId&&(0,a.publishEvent)("object","ch5-template:"+this.templateId,{loaded:!1,id:this._templateHelper.instanceId}),null!==this._refreshSubId&&(this._refreshSubId.unsubscribe(),this._refreshSubId=null)}}e.Ch5Template=l,l.CH5_TEMPLATE_STYLE_CLASS="ch5-template",l.ELEMENT_NAME="ch5-template",l.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1}}),l.registerCustomElement(),l.registerSignalAttributeTypes(),l.registerSignalAttributeDefaults()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5TemplateStructure=void 0;const s=i(0),n=i(16);class r{constructor(t){this._element={},this._templateElement={},this._wrapperDiv={},this._instanceId=null,this._elementIds=null,this.element=t,this.templateElement=document.querySelector("template")}static nextInstanceNum(t){const e=r._numInstances[t],i=void 0===e?1:e+1;return r._numInstances[t]=i,i}set element(t){(0,s.isNil)(t)||(this._element=t)}get element(){return this._element}set templateElement(t){(0,s.isNil)(t)||(this._templateElement=t)}get templateElement(){return this._templateElement}get instanceId(){return this._instanceId}get elementIds(){return this._elementIds}initializeWrapperDiv(){this._wrapperDiv=document.createElement("DIV"),this._wrapperDiv.classList.add("ch5-template-content-wrapper")}getTemplateContent(t){let e;if(this.initializeWrapperDiv(),(0,s.isNil)(this.templateElement.firstElementChild)){if((0,s.isNil)(this.templateElement.content.firstElementChild))throw new Error(`[ch5-template] Error: The provided template with the id: "${t}" has no content`);if(!this.templateElement.content.children[0].classList.contains("ch5-template-content-wrapper")){for(;this.templateElement.content.children.length>0;)this._wrapperDiv.appendChild(this.templateElement.content.children[0]);this.templateElement.content.appendChild(this._wrapperDiv)}e=this.templateElement.content.firstElementChild.cloneNode(!0)}else{if(!this.templateElement.children[0].classList.contains("ch5-template-content-wrapper")){for(;this.templateElement.children.length>0;)this._wrapperDiv.appendChild(this.templateElement.children[0]);this.templateElement.appendChild(this._wrapperDiv)}e=this.templateElement.firstElementChild.cloneNode(!0)}return e}generateTemplate(t,e){if(this.element.info(`Ch5TemplateStructure.generateTemplate(templateId: ${t}, context: ${e})`),(0,s.isEmpty)(t))throw new Error("[ch5-template] Error: No templateId was provided");const i=document.getElementById(t);let a=null;if((0,s.isNil)(i))throw new Error(`[ch5-template] Error: No template with the id: "${t}" found`);this.templateElement=i,this.element.info("Ch5TemplateStructure --- the following template will be used:",this.templateElement);let o=[];(0,s.isEmpty)(e)?this.element.info("Context attribute is empty, nothing will be renamed"):(o=e.split(";"),this.element.info("Parsed context attribute: "+o));const l=this.getTemplateContent(t);if(!(0,s.isNil)(l))try{if(this.element.info("Ch5TemplateStructure.generateTemplate() --- Copying attributes"),!(0,s.isNil)(l)){let t=l.innerHTML;this.element.info("Original template inner HTML before rename: ",t);for(let e=0;e<o.length;e++){const i=o[e].split(":");if(this.element.info("Processing original:replacement pair: "+i),2!==i.length||(0,s.isEmpty)(i[0])||(0,s.isEmpty)(i[1])){console.warn(`[ch5-template] Warning: Invalid context pair structure, expected: "original:replacement", but received "${i}", moving to the next context pair`);continue}i[0]=i[0].trim(),this.element.info(`Ch5TemplateStructure --- Count: [${e+1}/${i.length}] \n                    Replace original string: ${i[0]} \n                    with provided replacement string: ${i[1]}`);const n=new RegExp(i[0],"g");t=t.replace(n,i[1])}l.innerHTML=t,n.Ch5AugmentVarSignalsNames.differentiateTmplElemsAttrs(l,this.element.contractName,parseInt(this.element.booleanJoinOffset,10)||0,parseInt(this.element.numericJoinOffset,10)||0,parseInt(this.element.stringJoinOffset,10)||0),this.element.isDebug()&&this.element.info("After substitution and increment/prefix:",l.innerHTML)}!(0,s.isNil)(this.element.children)&&this.element.children.length>0&&(this.element.info("Ch5TemplateStructure --- Removing children of: ",this.element),Array.from(this.element.children).forEach(t=>t.remove())),(0,s.isNil)(this.element)||(a=this.element.appendChild(l))}catch(t){throw new Error("[ch5-template] Error: Failed to generate content: "+t)}finally{if(null!==a&&a.children){const e=r.nextInstanceNum(t);this._instanceId=`${t}:${e}`,a.id=this._instanceId,this._elementIds=[];for(let t=0;t<a.children.length;t++)a.children[t].id||(a.children[t].id=`${this._instanceId}:${t}`),this._elementIds.push(a.children[t].id);this.element.info("Ch5TemplateStructure --- [FINAL] Adding content to ChTemplate: "+this._instanceId,a),this.element=a}}}}e.Ch5TemplateStructure=r,r._numInstances={}},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(272),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Text=void 0;const s=i(3),n=i(5),r=i(2),a=i(4),o=i(18),l=i(1);class h extends s.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-text",this._elContainer={},this._elSpan={},this.templateElement={},this.logger.start("constructor()",h.ELEMENT_NAME),this.ignoreAttributes=["appendclasswheninviewport","receivestateshowpulse","receivestatehidepulse","sendeventonshow"],this._wasInstatiated||this.createInternalHtml(),this._wasInstatiated=!0,this._ch5Properties=new a.Ch5Properties(this,h.COMPONENT_PROPERTIES),this.updateCssClass()}set horizontalAlignment(t){this._ch5Properties.set("horizontalAlignment",t,()=>{this.handleHorizontalAlignment()})}get horizontalAlignment(){return this._ch5Properties.get("horizontalAlignment")}set verticalAlignment(t){this._ch5Properties.set("verticalAlignment",t,()=>{this.handleVerticalAlignment()})}get verticalAlignment(){return this._ch5Properties.get("verticalAlignment")}set multilineSupport(t){this._ch5Properties.set("multilineSupport",t,()=>{setTimeout(()=>{this.handleMultilineSupport()},50)})}get multilineSupport(){return this._ch5Properties.get("multilineSupport")}set truncateText(t){this._ch5Properties.set("truncateText",t,()=>{this.handleTruncateText()})}get truncateText(){return this._ch5Properties.get("truncateText")}set label(t){this._ch5Properties.set("label",t,()=>{this.handleLabel()})}get label(){return this._ch5Properties.get("label")}set receiveStateLabel(t){this._ch5Properties.set("receiveStateLabel",t,null,t=>{this._ch5Properties.setForSignalResponse("label",t,()=>{this.handleLabel()})})}get receiveStateLabel(){return this._ch5Properties.get("receiveStateLabel")}set labelInnerHtml(t){this._ch5Properties.set("labelInnerHtml",t,()=>{this.handleLabel()})}get labelInnerHtml(){return this._ch5Properties.get("labelInnerHtml")}static registerSignalAttributeTypes(){r.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(h.ELEMENT_NAME,h.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(h.ELEMENT_NAME)&&window.customElements.define(h.ELEMENT_NAME,h)}static get observedAttributes(){const t=s.Ch5Common.observedAttributes,e=[];for(let t=0;t<h.COMPONENT_PROPERTIES.length;t++)!0===h.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(h.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-text attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=h.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()",h.ELEMENT_NAME),(0,l.subscribeInViewPortChange)(this,()=>{this.elementIsInViewPort&&this.handleMultilineSupport()}),this.hasAttribute("role")||this.setAttribute("role",n.Ch5RoleAttributeMapping.ch5Text),this._elContainer.parentElement!==this&&(this._elContainer.classList.add("ch5-text"),this.appendChild(this._elContainer)),this.attachEventListeners(),this.initAttributes(),this.initCommonMutationObserver(this),customElements.whenDefined("ch5-text").then(()=>{this.componentLoadedEvent(h.ELEMENT_NAME,this.id)}),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),this.logger.stop()}createInternalHtml(){this.logger.start("createInternalHtml()"),this.clearComponentContent(),this._elContainer=document.createElement("div"),this._elSpan=document.createElement("span"),this._elContainer.appendChild(this._elSpan),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<h.COMPONENT_PROPERTIES.length;e++)if(!0===h.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(h.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=h.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}attachEventListeners(){super.attachEventListeners(),(0,o.resizeObserver)(this._elContainer,this.onWindowResizeHandler.bind(this))}removeEventListeners(){super.removeEventListeners()}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}clearComponentContent(){const t=this.getElementsByTagName("div");Array.from(t).forEach(t=>{t.remove()})}handleHorizontalAlignment(){Array.from(h.COMPONENT_DATA.HORIZONTAL_ALIGNMENT.values).forEach(t=>{this._elSpan.classList.remove(this.primaryCssClass+h.COMPONENT_DATA.HORIZONTAL_ALIGNMENT.classListPrefix+t)}),this._elSpan.classList.add(this.primaryCssClass+h.COMPONENT_DATA.HORIZONTAL_ALIGNMENT.classListPrefix+this.horizontalAlignment)}handleVerticalAlignment(){Array.from(h.COMPONENT_DATA.VERTICAL_ALIGNMENT.values).forEach(t=>{this._elContainer.classList.remove(this.primaryCssClass+h.COMPONENT_DATA.VERTICAL_ALIGNMENT.classListPrefix+t)}),this._elContainer.classList.add(this.primaryCssClass+h.COMPONENT_DATA.VERTICAL_ALIGNMENT.classListPrefix+this.verticalAlignment)}handleMultilineSupport(){["true","false"].forEach(t=>{this._elSpan.classList.remove(this.primaryCssClass+"--multiline-support-"+t)}),this._elSpan.classList.add(this.primaryCssClass+"--multiline-support-"+this.multilineSupport.toString()),this.multilineSupport&&this.fitEllipsisForMultiline()}handleTruncateText(){["true","false"].forEach(t=>{this._elSpan.classList.remove(this.primaryCssClass+"--truncate-text-"+t)}),this._elSpan.classList.add(this.primaryCssClass+"--truncate-text-"+this.truncateText.toString()),this.multilineSupport?this.fitEllipsisForMultiline():(this._elSpan.style.removeProperty("word-wrap"),this._elSpan.style.removeProperty("display"),this._elSpan.style.removeProperty("max-height"))}handleLabel(){if(this.templateElement instanceof HTMLTemplateElement||(this.templateElement=this.getElementsByTagName("template")[0]),Array.from(this._elSpan.children).forEach(t=>t.remove()),this._elSpan.innerText="",null!==this.receiveStateLabel&&""!==this.receiveStateLabel.trim())this._elSpan.innerText=this.label;else if(s.Ch5Common.isNotNil(this.labelInnerHtml))this._elSpan.innerHTML=this.decodeInnerHTMLForAttribute(this.labelInnerHtml);else if(this.templateElement instanceof HTMLTemplateElement){const t=document.createElement("template");t.innerHTML=this.templateElement.innerHTML,this._elSpan.appendChild(t.content)}else this._elSpan.innerText=this.label}decodeInnerHTMLForAttribute(t){return t.replace("&amp;","&").replace("&lt;","<").replace("&gt;",">").replace("&quot;",'/"').replace("&apos;","/'")}updateCssClass(){this.logger.start("UpdateCssClass"),super.updateCssClasses(),this._elSpan.classList.add(this.primaryCssClass+h.COMPONENT_DATA.HORIZONTAL_ALIGNMENT.classListPrefix+this.horizontalAlignment),this._elContainer.classList.add(this.primaryCssClass+h.COMPONENT_DATA.VERTICAL_ALIGNMENT.classListPrefix+this.verticalAlignment),this._elSpan.classList.add(this.primaryCssClass+"--multiline-support-"+this.multilineSupport.toString()),this._elSpan.classList.add(this.primaryCssClass+"--truncate-text-"+this.truncateText.toString()),this.logger.stop()}getTargetElementForCssClassesAndStyle(){return this._elContainer}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}fitEllipsisForMultiline(){const t=this.getLineHeightSuper(this._elSpan),e=this.getContainerHeight(this._elContainer)-20,i=Math.floor(e/t);this.truncateText?this._elSpan.setAttribute("style","-webkit-line-clamp:"+i):this._elSpan.setAttribute("style","max-height: "+i*t+"px;word-wrap: break-word;display: flex;")}getLineHeight(t){return window.getComputedStyle(t).lineHeight}getLineHeightSuper(t){const e=t.innerHTML;t.innerHTML="&nbsp;";const i=t.offsetHeight;return t.innerHTML=e,i}getContainerHeight(t){return t.clientHeight}onWindowResizeHandler(){this.handleMultilineSupport()}}e.Ch5Text=h,h.HORIZONTAL_ALIGNMENT=["center","left","right"],h.VERTICAL_ALIGNMENT=["middle","top","bottom"],h.COMPONENT_DATA={HORIZONTAL_ALIGNMENT:{default:h.HORIZONTAL_ALIGNMENT[0],values:h.HORIZONTAL_ALIGNMENT,key:"horizontalAlignment",attribute:"horizontalAlignment",classListPrefix:"--horizontal-alignment-"},VERTICAL_ALIGNMENT:{default:h.VERTICAL_ALIGNMENT[0],values:h.VERTICAL_ALIGNMENT,key:"verticalAlignment",attribute:"verticalAlignment",classListPrefix:"--vertical-alignment-"}},h.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatelabel:{direction:"state",stringJoin:1,contractName:!0}}),h.COMPONENT_PROPERTIES=[{default:h.HORIZONTAL_ALIGNMENT[0],enumeratedValues:h.HORIZONTAL_ALIGNMENT,name:"horizontalAlignment",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:h.HORIZONTAL_ALIGNMENT[0],isObservableProperty:!0},{default:h.VERTICAL_ALIGNMENT[0],enumeratedValues:h.VERTICAL_ALIGNMENT,name:"verticalAlignment",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:h.VERTICAL_ALIGNMENT[0],isObservableProperty:!0},{default:!1,name:"multilineSupport",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"truncateText",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:"",name:"label",nameForSignal:"receiveStateLabel",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateLabel",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"labelInnerHtml",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}],h.ELEMENT_NAME="ch5-text",h.registerCustomElement(),h.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(274),e)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5TextInput=void 0;const n=s(i(0)),r=i(48),a=i(1),o=i(275),l=i(276),h=i(3),u=s(i(20)),c=i(6),d=i(2);class p extends r.Ch5CommonInput{constructor(){super(),this.primaryCssClass="ch5-textinput",this._elInput={},this._elIcon={},this._labelElement={},this._placeholder="",this._mask="",this._inputType="text",this._pattern="",this._tabIndex=0,this._iconClass="",this._icon="",this._iconPosition="first",this._minLength=0,this._maxLength=0,this._minValue=0,this._maxValue=0,this._size="regular",this._stretch=null,this._scaling=!1,this._minimumFontSize=12,this._scalingUtility={},this._maskingUtility={},this._textTransform="none",this._label="",this._sendEventOnChange="",this._sendEventOnFocus="",this._sendEventOnBlur="",this._receiveStateFocus="",this._receiveStateFocusSub="",this._receiveStateValue="",this._receiveStateValueSub="",this._validityChangeEvent={},this._dirtyCustomEvent={},this._cleanCustomEvent={},this._lastValidState=!1,this._onFocusListener={},this._onBlurListener={},this._onChangeListener={},this._onKeyPressListener={},this._assetsWrapper={},this._onvaliditychange={}}static get observedAttributes(){const t=r.Ch5CommonInput.observedAttributes,e=h.Ch5Common.observedAttributes;return["icon","iconclass","iconposition","label","stretch","text-transform","value","type","minlength","maxlength","minvalue","maxvalue","size","tabindex","feedbackmode","scaling","minimumfontsize","mask","pattern","placeholder","receivestatefocus","receivestatevalue","sendeventonchange","sendeventonfocus","sendeventonblur"].concat(t,e)}set tabIndex(t){this.tabIndex!==t&&null==t&&(t=0),this._tabIndex=t,this._elInput.tabIndex=this.tabIndex}get tabIndex(){return this._tabIndex}set placeholder(t){let e=t;this.info("set <ch5-textinput placeholder='"+t+"'/>"),e=n.default.isNil(t)||""===t?"":this._getTranslatedValue("placeholder",t),e!==t&&this.setAttribute("placeholder",e),this._placeholder=e,this._elInput.setAttribute("placeholder",e)}get placeholder(){return this.info("get <ch5-textinput placeholder />"),this._placeholder}set iconClass(t){this.info("set <ch5-textinput icon='"+t+"'/>"),this.iconClass!==t&&(null==t&&(t=""),this.setAttribute("icon",t)),this._iconClass=t,this._elIcon.className="",void 0!==this._elIcon&&(this.iconClass.split(" ").forEach(t=>{t&&""!==t.trim()&&this._elIcon.classList.add(t.trim())}),this._elIcon.classList.add(this.primaryCssClass+"__icon"))}get iconClass(){return this.info("get <ch5-textinput iconClass />"),this._iconClass}set icon(t){this.info("set <ch5-textinput icon='"+t+"'/>"),this.icon!==t&&(null==t&&(t=""),this.setAttribute("icon",t)),this._icon=t,this._elIcon.className="",void 0!==this._elIcon&&(this.icon.split(" ").forEach(t=>{t&&""!==t.trim()&&this._elIcon.classList.add(t.trim())}),this._elIcon.classList.add(this.primaryCssClass+"__icon"))}get icon(){return this.info("get <ch5-textinput iconClass />"),this._icon}set iconPosition(t){this.info("set <ch5-textinput iconposition='"+t+"'/>"),this.iconPosition!==t&&null==t&&(t="first");let e=p.ICONPOSITION.indexOf(t);-1===e&&(e=0),(t=p.ICONPOSITION[e])!==this.iconPosition&&this.setAttribute("iconPosition",t),this._iconPosition=t,this._elIcon.constructor===HTMLElement&&(this._removeModifierClass(p.ICONPOSITION),this._elIcon.classList.add(this.primaryCssClass+"__icon--"+t))}get iconPosition(){return this.info("get <ch5-textinput iconposition />"),this._iconPosition}set inputType(t){this.info("set <ch5-textinput type='"+t+"'/>"),this.inputType!==t&&null==t&&(t="text");const e=p.TYPES.filter(e=>e===t);e.length>0?this._inputType=e[0]:this._inputType="text",this._elInput.setAttribute("type",this._inputType)}get inputType(){return this.info("get <ch5-textinput type />"),this._inputType}set minLength(t){this.info('set <ch5-textinput minlength="'+t+'"'),this.minLength!==t&&null==t&&(t=0),this._minLength=t,this._elInput.setAttribute("minlength",t+""),this._elInput.minLength=t}get minLength(){return this.info("get <ch5-textinput minlength />"),this._minLength}set maxLength(t){this.info('set <ch5-textinput maxlength="'+t+'"'),this.maxLength!==t&&null==t&&(t=0),this._maxLength=t,this._elInput.maxLength=t,this._elInput.setAttribute("maxlength",String(t))}get maxLength(){return this.info("get <ch5-textinput maxlength />"),this._maxLength}set minValue(t){this.info('set <ch5-textinput minvalue="'+t+'"'),this.minValue&&null==t&&(t=0),this._minValue=t,this._elInput.setAttribute("min",String(this.minValue))}get minValue(){return this.info("get <ch5-textinput minvalue />"),this._minValue}set maxValue(t){this.info('set <ch5-textinput maxvalue="'+t+'"'),this.maxValue!==t&&null==t&&(t=0),this._maxValue=t,this._elInput.setAttribute("max",String(this.maxValue))}get maxValue(){return this.info("get <ch5-textinput maxvalue />"),this._maxValue}set stretch(t){this.info('set <ch5-textinput stretch="'+t+'"'),this.stretch!==t&&(n.default.isNil(t)?(this._stretch=null,this.removeAttribute("stretch"),p.STRETCH.forEach(t=>{this.classList.remove(this.primaryCssClass+"--"+t)})):p.STRETCH.indexOf(t)>=0?(this._stretch=t,this.setAttribute("stretch",t),this._addModifierClass(this._stretch,p.STRETCH)):(this._stretch=null,this.removeAttribute("stretch"),p.STRETCH.forEach(t=>{this.classList.remove(this.primaryCssClass+"--"+t)})))}get stretch(){return this._stretch}set textTransform(t){this.info('set <ch5-textinput text-transform="'+t+'"'),this.textTransform!==t&&null==t&&(t="none");let e=p.TEXTTRANSFORM.indexOf(t);-1===e&&(e=0),(t=p.TEXTTRANSFORM[e])!==this.textTransform&&this.setAttribute("text-transform",t),this._textTransform=t,this._addModifierClass(this.textTransform,p.TEXTTRANSFORM,!0)}get textTransform(){return this.info("get <ch5-textinput text-transform />"),this._textTransform}set label(t){let e=t;this.info('set <ch5-textinput label="'+t+'"'),e=this.label!==t&&null==t?"":this._getTranslatedValue("label",t),e!==t&&this.setAttribute("label",e),this._label=e,this._addLabel(),this.iconPositioning()}get label(){return this.info("get <ch5-textinput label />"),this._label}set pattern(t){this.info('set <ch5-textinput pattern="'+t+'" />'),this.pattern!==t&&null==t&&(t=""),this._pattern=t,this._elInput.setAttribute("pattern",this.pattern),null!==t&&!1!==this.hasAttribute("mask")&&(this.mask="",this.removeAttribute("mask"),this.repaint())}get pattern(){return this.info("get <ch5-textinput pattern />"),this._pattern}set sendEventOnChange(t){this.info('set <ch5-textinput sendEventOnChange="'+t+'"'),this.sendEventOnChange!==t&&(null==t&&(t=""),this.setAttribute("sendEventOnChange",t)),this._sendEventOnChange=t}get sendEventOnChange(){return this.info("get <ch5-textinput sendEventOnChange />"),this._sendEventOnChange}set sendEventOnFocus(t){this.info('set <ch5-textinput sendEventOnFocus="'+t+'"'),this.sendEventOnFocus!==t&&(null==t&&(t=""),this.setAttribute("sendEventOnFocus",t)),this._sendEventOnFocus=t}get sendEventOnFocus(){return this.info("get <ch5-textinput sendEventOnFocus />"),this._sendEventOnFocus}set sendEventOnBlur(t){this.info('set <ch5-textinput sendEventOnBlur="'+t+'"'),this.sendEventOnBlur!==t&&(null==t&&(t=""),this.setAttribute("sendEventOnBlur",t)),this._sendEventOnBlur=t}get sendEventOnBlur(){return this.info("get <ch5-textinput sendEventOnBlur />"),this._sendEventOnBlur}set receiveStateFocus(t){if(this.info('set <ch5-textinput receivestatefocus="'+t+'"'),""===t||this._receiveStateFocus===t||null==t)return;this.clearBooleanSignalSubscription(this._receiveStateFocus,this._receiveStateFocusSub),this._receiveStateFocus=t,this.setAttribute("receiveStateFocus",t);const e=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateFocus),i=a.Ch5SignalFactory.getInstance().getBooleanSignal(e);null!==i&&(this._receiveStateFocusSub=i.subscribe(t=>{void 0!==t&&this.focusTheInput(t)}))}get receiveStateFocus(){return this.info("get <ch5-textinput receivestatefocus />"),this._attributeValueAsString("receivestatefocus")}set receiveStateValue(t){if(this.info('set <ch5-textinput receivestatevalue="'+t+'"'),""===t||this._receiveStateValue===t||null==t)return;this.clearStringSignalSubscription(this._receiveStateValue,this._receiveStateValueSub),this._receiveStateValue=t,this.setAttribute("receivestatevalue",t);const e=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValue),i=a.Ch5SignalFactory.getInstance().getStringSignal(e);null!==i&&(this._receiveStateValueSub=i.subscribe(t=>{null!=t&&this.updateValue(t,!0)}))}get receiveStateValue(){return this.info("get <ch5-textinput receivestatevalue />"),this._attributeValueAsString("receivestatevalue")}set validityChangeEvent(t){this.info("set <ch5-textinput validitychangeevent"),this.validityChangeEvent!==t&&null!=t&&(this._validityChangeEvent=t)}get validityChangeEvent(){return this.info("get <ch5-textinput validitychangeevent />"),this._validityChangeEvent}set dirtyCustomEvent(t){this.info("set <ch5-textinput dirtycustomevent />"),this.dirtyCustomEvent!==t&&null!=t&&(this._dirtyCustomEvent=t)}get dirtyCustomEvent(){return this.info("get <ch5-textinput dirtycustomevent />"),this._dirtyCustomEvent}set cleanCustomEvent(t){this.info("set <ch5-textinput cleancustomevent />"),this.cleanCustomEvent!==t&&null!=t&&(this._cleanCustomEvent=t)}get cleanCustomEvent(){return this.info("get <ch5-textinput cleancustomevent />"),this._cleanCustomEvent}set lastValidState(t){this.info('set <ch5-textinput lastvalidstate="'+t+'"'),this.lastValidState!==t&&null==t&&(t=!1),this._lastValidState=t}get lastValidState(){return this.info("get ch5-textinput lastvalidstate />"),this._lastValidState}set mask(t){this.info('set <ch5-textinput mask="'+t+'"'),this.mask!==t&&(this.mask!==t&&null==t&&(t=""),this._mask=t,this._elInput.setAttribute("mask",this.mask),this._maskInit(),this.hasAttribute("placeholder")&&(this._maskingUtility.placeholder=this.placeholder))}get mask(){return this.info("get <ch5-textinput mask />"),this._mask}set size(t){this.info('set <ch5-textinput size="'+t+'"');let e=p.SIZES.indexOf(t);-1===e&&(e=0),t=p.SIZES[e],this.size!==t&&(null==t&&(t="regular"),this._size=t,this.setAttribute("size",t)),this._addModifierClass(this.size,p.SIZES,!0),!0===this.scaling&&this._scalingUtility.updateDefaultFontSize()}get size(){return this.info("get <ch5-textinput size />"),this._size}set scaling(t){this.info('set <ch5-textinput scaling="'+t+'" />'),this.scaling!==t&&(this._scaling=t,!0===this.scaling&&(this._scalingUtility=new o.Ch5TextInputScaling(this._elInput)))}get scaling(){return this.info("get <ch5-textinput scaling />"),this._scaling}set minimumFontSize(t){this.info('set <ch5-textinput minimumfontsize="'+t+'"'),this.minimumFontSize!==t&&null==t&&(t=12),!1===this.scaling&&(this.scaling=!0),this._minimumFontSize=t,this._scalingUtility.minimumFontSize=this._minimumFontSize}get minimumFontSize(){return this.info("get <ch5-textinput minimumfontsize />"),this._minimumFontSize}set onvaliditychange(t){n.default.isNil(t)&&(t={}),t instanceof u.default&&this.onvaliditychange instanceof Function||(this._onvaliditychange=t)}get onvaliditychange(){return this._onvaliditychange}static registerSignalAttributeTypes(){d.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(p.ELEMENT_NAME,p.SIGNAL_ATTRIBUTE_TYPES)}connectedCallback(){this.info("<ch5-textinput/>.connectedCallback()"),Promise.all([customElements.whenDefined("ch5-textinput")]).then(()=>{this.hasAttribute("role")||this.setAttribute("role",c.Ch5RoleAttributeMapping.ch5TextInput),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this._wasInstatiated||this.createInternalHTML(),this._wasInstatiated=!0,this.initAttributes(),this.attachEventListeners(),this._addAriaAttributes(),this.initCommonMutationObserver(this),this.lastValidState=this.getValid(),this.info("Ch5TextInput --- Callback loaded")})}disconnectedCallback(){this.info("<ch5-textinput/>.disconnectedCallback()"),this.removeEvents(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver()}unsubscribeFromSignals(){this.info("ch5-textinput unsubscribeFromSignals()"),super.unsubscribeFromSignals(),this.clearBooleanSignalSubscription(this._receiveStateFocus,this._receiveStateFocusSub),this._receiveStateFocus="",this.clearStringSignalSubscription(this._receiveStateValue,this._receiveStateValueSub),this._receiveStateValue=""}attributeChangedCallback(t,e,i){if(e!==i&&(super.attributeChangedCallback(t,e,i),this.info("<ch5-textinput/>.attributeChangedCallback("+t+","+e+","+i+")"),this._wasInstatiated&&""!==i)){switch(t){case"label":this.label=i;break;case"stretch":this.stretch=this.attributeChangeHandler("stretch",e,i);break;case"text-transform":"text"===this.inputType&&(this.textTransform=this.attributeChangeHandler("text-transform",e,i));break;case"value":this.value=i;break;case"placeholder":this.placeholder=i;break;case"pattern":this.pattern=i;break;case"iconclass":this.iconClass=i,this.iconPositioning(),this._addModifierClass(this.size,p.SIZES,!0);break;case"icon":this.icon=i,this.iconPositioning(),this._addModifierClass(this.size,p.SIZES,!0);break;case"iconposition":this.iconPosition=this.attributeChangeHandler("iconposition",e,i),this.iconPositioning();break;case"mask":this.mask=i;break;case"type":this.inputType=this.attributeChangeHandler("type",e,i);break;case"minlength":this.minLength=Number(this.attributeChangeHandler("minlength",e,i));break;case"maxlength":this.maxLength=Number(this.attributeChangeHandler("maxlength",e,i));break;case"minvalue":this.minValue=Number(this.attributeChangeHandler("minvalue",e,i));break;case"maxvalue":this.maxValue=Number(this.attributeChangeHandler("maxvalue",e,i));break;case"size":this.size=this.attributeChangeHandler("size",e,i),this._maskingUtility.constructor===l.Ch5tTextInputMask&&this._maskingUtility._makeMaskElementLookAsInputPlaceholder();break;case"scaling":this.scaling="false"!==i;break;case"minimumfontsize":this.minimumFontSize=Number(this.attributeChangeHandler("minimumfontsize",e,i));break;case"tabindex":this.tabIndex=Number(this.attributeChangeHandler("tabindex",e,i));break;case"feedbackmode":this.feedbackMode=this.attributeChangeHandler("feedbackmode",e,i);break;case"receivestatefocus":this.receiveStateFocus=this.attributeChangeHandler("receivestatefocus",e,i);break;case"receivestatevalue":this.receiveStateValue=this.attributeChangeHandler("receivestatevalue",e,i);break;case"sendeventonchange":this.sendEventOnChange=this.attributeChangeHandler("sendeventonchange",e,i);break;case"sendeventonfocus":this.sendEventOnFocus=this.attributeChangeHandler("sendeventonfocus",e,i);break;case"sendeventonblur":this.sendEventOnBlur=this.attributeChangeHandler("sendeventonblur",e,i)}this._addAriaAttributes()}}setValue(t){this.value=t,this._elInput.value=t}submit(){this.info("<ch5-textinput />.submit()"),"submit"===this.feedbackMode&&!0===this.getValid()&&(this.value!==this.cleanValue&&this.dirtyValue!==this.value&&this._onChangeSignal(this._elInput,this.value),this._submitted=!0,this._dirty=!1,this.dirtyValue=this._elInput.value,this.dirtyTimerHandle(),this._clean=!0)}dirtyTimerHandle(){this.info("<ch5-textinput />.dirtyTimeHandle()"),null!==this._dirtyTimerHandle&&clearTimeout(this._dirtyTimerHandle),this._dirtyTimerHandle=window.setTimeout(()=>this.valueSync(),this.signalValueSyncTimeout)}valueSync(){if(this.info("<ch5-textinput />.valueSync()"),this._dirtyTimerHandle=null,this._elInput.value!==this.cleanValue&&(this._createCleanCustomEvent(),this.dispatchEvent(this.cleanCustomEvent),this.runEventHandlers("clean",this.cleanCustomEvent),this.value=h.Ch5Common.handlingTextTransformValue(this.cleanValue,this.textTransform),this._elInput.value=this.value+"",this._clean=!0,this._dirty=!1,""!==this.mask&&this._maskingUtility.constructor===l.Ch5tTextInputMask)){const t=this._maskingUtility.lastValueLength,e=this.value.length;this._maskingUtility.dispatchMaskUpdateEvent();for(let i=t;i>=e;i--)this._maskingUtility._updateCharactersInMask(),this._maskingUtility.lastValueLength--;if(0===this.value.length){const t=new Event("focus");this._elInput.dispatchEvent(t)}}}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}reset(){this.info("<ch5-textinput />.reset()"),this._clean=!0,this._dirty=!1,this.value=this._cleanValue,this._elInput.value=this.value+"",this._createCleanCustomEvent(),this.dispatchEvent(this.cleanCustomEvent),this.onclean instanceof u.default?this.onclean.run({}):this.onclean instanceof Function&&this.onclean()}updateValue(t,e=!1){this.info("<ch5-textinput />.updateValue("+t+")"),this.dirtyValue=t,this.value=this._elInput.value=t,!0===e&&(this.cleanValue=t),this._elInput.setAttribute("value",this.cleanValue+"")}focusTheInput(t){this.info("<ch5-textinput />.focusTheInput("+t+")"),null==t&&(t=!1),!0===t?this._elInput.focus():this._elInput.blur()}getValid(){return this._elInput.validity.valid&&!this._elInput.validity.tooLong&&!this._elInput.validity.tooShort}_onKeyPress(t){if(this.info("<ch5-textinput />._onKeyUp()"),"direct"===this.feedbackMode){const e=t.currentTarget;this._dirty=!0,this._clean=!1,this.dirtyValue=e.value}}_onChange(t){this.info("<ch5-textinput />._onChange()");const e=t.currentTarget;this.value=t.currentTarget.value,this._dirty=!0,this._clean=!1,"direct"===this.feedbackMode&&(this._onChangeSignal(e,e.value),this.dirtyTimerHandle()),"submit"===this.feedbackMode&&(this._createValidityChangeEvent(e.value),this._createDirtyCustomEvent(e.value),e.dispatchEvent(this.dirtyCustomEvent),this.runEventHandlers("dirty",this.dirtyCustomEvent),this.lastValidState!==this.getValid()&&(e.dispatchEvent(this.validityChangeEvent),this.onvaliditychange instanceof u.default?this.onvaliditychange.run(this.validityChangeEvent):this.onvaliditychange instanceof Function&&this.onvaliditychange.call(this,this.validityChangeEvent)),this.lastValidState=this.getValid()),this.highlightInputIfNotValid()}highlightInputIfNotValid(){this.getValid()?this.handleModifierClass("error","remove"):this.handleModifierClass("error")}handleModifierClass(t,e="add"){const i=this.primaryCssClass+"--"+t;"add"===e?(this.classList.add(i),this._elInput.classList.add(i)):"remove"===e&&(this.classList.remove(i),this._elInput.classList.remove(i))}_onFocus(t){let e;this.info("<ch5-textinput />._onFocus()"),void 0!==this.lastValidState&&null!==this.lastValidState||(this.lastValidState=this.getValid()),this.classList.add(this.primaryCssClass+"--focused"),""===this.sendEventOnFocus||void 0===this.sendEventOnFocus&&null===this.sendEventOnFocus||(e=a.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnFocus),null!==e&&(e.publish(!0),e.publish(!1))),this.highlightInputIfNotValid()}_onBlur(t){let e;this.info("<ch5-textinput />._onBlur()"),this.classList.remove(this.primaryCssClass+"--focused"),""===this.sendEventOnBlur||void 0===this.sendEventOnBlur&&null===this.sendEventOnBlur||(e=a.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnBlur),null!==e&&(e.publish(!0),e.publish(!1))),this.highlightInputIfNotValid()}_onChangeSignal(t,e){let i;""!==this.sendEventOnChange&&void 0!==this.sendEventOnChange&&null!==this.sendEventOnChange&&(i=a.Ch5SignalFactory.getInstance().getStringSignal(this.sendEventOnChange),null!==i&&i.publish(h.Ch5Common.handlingTextTransformValue(e,this.textTransform)))}clearComponentContent(){const t=this.getElementsByClassName(this.primaryCssClass+p.COMPONENT_CONTENT_POSTFIX);Array.from(t).forEach(t=>{t.remove()})}createInternalHTML(){this.info("<ch5-textinput />.createInternalHTML()"),this.clearComponentContent(),this.classList.add(this.primaryCssClass),this._elIcon=document.createElement("i"),this._elIcon.classList.add(this.primaryCssClass+"__icon"),this._elInput=document.createElement("input"),this._elInput.classList.add(this.primaryCssClass+"__input"),this._assetsWrapper=document.createElement("div"),this._assetsWrapper.classList.add(this.primaryCssClass+p.COMPONENT_CONTENT_POSTFIX),this._assetsWrapper.appendChild(this._elInput),this.appendChild(this._assetsWrapper),this.info("END: Rendering has been finished")}iconPositioning(){this.info("<ch5-textinput />.iconPositioning()"),(void 0===this.iconClass||""===this.iconClass||void 0===this._elInput&&null===this._elInput)&&(void 0===this.icon||""===this.icon||void 0===this._elInput&&null===this._elInput)||this.iconPositioningHandler()}iconPositioningHandler(){this.info("<ch5-textinput />.iconPositioningHandler()"),this._elIcon.constructor===HTMLElement&&(this.info("** 1. IN"),this._elIcon.remove()),this.info("** 2. this.iconPosition: "+this.iconPosition),this.iconPosition===p.ICONPOSITION[1]?(this.info("** 3. IN"),this._assetsWrapper.appendChild(this._elIcon)):(this.info("** 4. IN"),this._elInput.parentNode.insertBefore(this._elIcon,this._elInput))}initAttributes(){if(super.initAttributes(),this.inputType=this.getAttribute("type"),this.size=this.getAttribute("size"),this.stretch=this.getAttribute("stretch"),this.value=this._elInput.value=this.getAttribute("value"),this.info("<ch5-textinput />.initAttributes()"),this.hasAttribute("pattern")&&(this.pattern=this.getAttribute("pattern")),this.hasAttribute("mask")&&!this.hasAttribute("pattern")&&(this.mask=this.getAttribute("mask")),this.hasAttribute("type")||this.setAttribute("type",this.inputType),this.hasAttribute("size")||this.setAttribute("size",this.size),"text"===this.inputType&&(this.textTransform=this.getAttribute("text-transform")),this.hasAttribute("placeholder")&&(this.placeholder=this.getAttribute("placeholder")),this.hasAttribute("value")&&(this.value=this.getAttribute("value"),this.cleanValue=this.value),this.hasAttribute("iconClass")&&(this.iconClass=this.getAttribute("iconClass"),this.iconPosition=this.getAttribute("iconPosition"),this.setAttribute("iconPosition",this.iconPosition),this.iconPositioning(),this._addModifierClass(this.size,p.SIZES,!0)),this.hasAttribute("icon")&&(this.icon=this.getAttribute("icon"),this.iconPosition=this.getAttribute("iconPosition"),this.setAttribute("iconPosition",this.iconPosition),this.iconPositioning(),this._addModifierClass(this.size,p.SIZES,!0)),this.hasAttribute("label")&&(this.label=this.getAttribute("label")),"submit"===this.feedbackMode&&this.hasAttribute("minlength")&&(this.minLength=Number(this.getAttribute("minlength"))),"submit"===this.feedbackMode&&this.hasAttribute("maxlength")&&(this.maxLength=Number(this.getAttribute("maxlength"))),"number"===this.inputType&&"submit"===this.feedbackMode&&(this.hasAttribute("minValue")&&(this.minValue=Number(this.getAttribute("minvalue"))),this.hasAttribute("maxValue")&&(this.maxValue=Number(this.getAttribute("maxvalue")))),this.hasAttribute("scaling")){const t="false"!==this.getAttribute("scaling");this.setAttribute("scaling",t+"")}this.hasAttribute("minimumfontsize")&&(this.minimumFontSize=Number(this.getAttribute("minimumfontsize"))),this.hasAttribute("sendeventonchange")&&(this.sendEventOnChange=this.getAttribute("sendeventonchange")),this.hasAttribute("sendeventonfocus")&&(this.sendEventOnFocus=this.getAttribute("sendeventonfocus")),this.hasAttribute("sendeventonblur")&&(this.sendEventOnBlur=this.getAttribute("sendeventonblur")),this.hasAttribute("receivestatefocus")&&(this.receiveStateFocus=this.getAttribute("receivestatefocus")),this.hasAttribute("receivestatevalue")&&(this.receiveStateValue=this.getAttribute("receivestatevalue")),this.hasAttribute("onvaliditychange")&&(this.onvaliditychange=new u.default(this,this.getAttribute("onvaliditychange")))}attachEventListeners(){this.info("<ch5-textinput />.attachEventListeners()"),this.removeEvents(),this._onChangeListener=this._onChange.bind(this),this._onBlurListener=this._onBlur.bind(this),this._onFocusListener=this._onFocus.bind(this),this._onKeyPressListener=this._onKeyPress.bind(this),this._elInput.addEventListener("keyup",this._onChangeListener),this._elInput.addEventListener("focus",this._onFocusListener),this._elInput.addEventListener("blur",this._onBlurListener),this._elInput.addEventListener("input",this._onKeyPressListener)}removeEvents(){this.info("<ch5-textinput />.removeEvents()"),super.removeEventListeners(),n.default.isElement(this._elInput)&&(this._elInput.removeEventListener("keyup",this._onChangeListener),this._elInput.removeEventListener("focus",this._onFocusListener),this._elInput.removeEventListener("blur",this._onBlurListener),this._elInput.removeEventListener("input",this._onKeyPressListener))}_maskInit(){this.info("<ch5-textinput />._maskInit()"),this._maskingUtility=new l.Ch5tTextInputMask(this._elInput,this.mask),this._maskingUtility.init()}_createValidityChangeEvent(t){this.info("<ch5-textinput />._createValidityChangeEvent("+t+")"),this.validityChangeEvent=this._createCustomEvent("validitychange",t)}_createDirtyCustomEvent(t){this.info("<ch5-textinput />._createDirtyCustomEvent("+t+")"),this.dirtyCustomEvent=this._createCustomEvent("dirty",t)}_createCleanCustomEvent(){this.info("<ch5-textinput />._createCleanCustomEvent()"),this.cleanCustomEvent=this._createCustomEvent("clean")}_createCustomEvent(t,e=""){this.info("<ch5-textinput />._createCustomEvent("+t+","+e+")");return new CustomEvent(t,{detail:{message:e,time:new Date},bubbles:!0,cancelable:!0})}_addLabel(){if(this.info("<ch5-textinput />._addLabel()"),null===this.querySelector("label")){this._labelElement=document.createElement("label"),this._labelElement.innerHTML=this.label,this._labelElement.classList.add(this.primaryCssClass+"__label");let t=this._assetsWrapper;void 0!==this._elIcon&&this._elIcon.constructor===HTMLLabelElement&&(t=this._elIcon),t.parentNode.insertBefore(this._labelElement,t)}else this._labelElement instanceof HTMLElement&&(this._labelElement.innerHTML=this.label)}_addModifierClass(t,e,i=!1){this.info("<ch5-textinput />._addModifierClass("+t+","+i+")"),this._removeModifierClass(e),this.classList.add(this.primaryCssClass+"--"+t),!0===i&&(this._elInput.classList.add(this.primaryCssClass+"__input--"+t),this._assetsWrapper.classList.add(this.primaryCssClass+"__assets--"+t),void 0!==this._labelElement&&this._labelElement.constructor===HTMLLabelElement&&this._labelElement.classList.add(this.primaryCssClass+"__label--"+t),void 0!==this._elIcon&&this._elIcon.constructor===HTMLElement&&this._elIcon.classList.add(this.primaryCssClass+"__icon--"+t))}_removeModifierClass(t){this.info("<ch5-textinput />._removeModifierClass()"),t.forEach(t=>{this.classList.remove(this.primaryCssClass+"--"+t),this._elInput.classList.remove(this.primaryCssClass+"__input--"+t),void 0!==this._labelElement&&this._labelElement.constructor===HTMLLabelElement&&this._labelElement.classList.remove(this.primaryCssClass+"__label--"+t),this._elIcon.constructor===HTMLElement&&this._elIcon.classList.remove(this.primaryCssClass+"__icon--"+t)})}_addAriaAttributes(){this._elInput.setAttribute("aria-placeholder",this.placeholder),this._elInput.setAttribute("aria-multiline","false"),this._elInput.setAttribute("role","textbox"),!0===this.required?this._elInput.setAttribute("aria-required","true"):this._elInput.setAttribute("aria-required","false"),this._labelElement.constructor===HTMLLabelElement&&(this._labelElement.setAttribute("aria-label",this.label),this._elInput.setAttribute("aria-labeledby",this.label)),this._elIcon.constructor===HTMLElement&&this._elIcon.setAttribute("role","icon")}}e.Ch5TextInput=p,p.ELEMENT_NAME="ch5-textinput",p.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},h.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatefocus:{direction:"state",booleanJoin:1,contractName:!0},receivestatevalue:{direction:"state",stringJoin:1,contractName:!0},sendeventonchange:{direction:"event",stringJoin:1,contractName:!0},sendeventonfocus:{direction:"event",booleanJoin:1,contractName:!0},sendeventonblur:{direction:"event",booleanJoin:1,contractName:!0}}),p.TYPES=["text","number","email"],p.SIZES=["regular","x-small","small","large","x-large"],p.STRETCH=["fixed","width","content"],p.TEXTTRANSFORM=["none","capitalize","uppercase","lowercase"],p.ICONPOSITION=["first","last"],p.COMPONENT_DATA={TYPES:{default:p.TYPES[0],values:p.TYPES,key:"type",classListPrefix:"--"},SIZES:{default:p.SIZES[0],values:p.SIZES,key:"size",classListPrefix:"--"},STRETCH:{default:p.STRETCH[0],values:p.STRETCH,key:"stretch",classListPrefix:"--"},TEXT_TRANSFORM:{default:p.TEXTTRANSFORM[0],values:p.TEXTTRANSFORM,key:"text_transform",classListPrefix:"--"},ICON_POSITION:{default:p.ICONPOSITION[0],values:p.ICONPOSITION,key:"icon_position",classListPrefix:"--"}},p.COMPONENT_CONTENT_POSTFIX="__assets","object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(p.ELEMENT_NAME,p),p.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5TextInputScaling=void 0;class s{constructor(t){this._fontSize=16,this._minimumFontSize=12,this._lastValueLength=0,this._valueLength=0,this._input={},this._inputPlaceholder={},this._input=t,this.updateDefaultFontSize(),this._addInputPlaceholder(),this._makeInputPlaceholderFeelLikeInput(),this._makeInputPlaceholderUnreachable(),this.attachEventListener()}scaleUp(){let t="decrease";this._fillInputPlaceholder(),this._flagTheLengthWhichExactlyFits(),this._resetFontSizeWhenExactlyFits(),"erase"===this.detectUserBehavior()&&(t="increase"),!0===this._isTextWidthGreaterThanInputWidth()?this.edge=!0:"increase"===t&&!1===this._isTextWidthGreaterThanInputWidth()&&(this.edge=!1),(!0===this.edge&&"decrease"===t&&this.currentFontSize>=this.minimumFontSize||!1===this.edge&&"increase"===t)&&(this._scaleFontSize(t),this.edge=!1),this.valueLength=this._input.value.length}restoreTheInput(){this._fillInputPlaceholder(),this._flagTheLengthWhichExactlyFits(),this._resetFontSizeWhenExactlyFits(),this.valueLength=this._input.value.length}set fontSize(t){this.fontSize!==t&&null==t&&(t=16),this._fontSize=t,this._setFontSizeToInput(t)}get fontSize(){return this._fontSize}set minimumFontSize(t){this.minimumFontSize!==t&&null==t&&(t=12),this._minimumFontSize=t}get minimumFontSize(){return this._minimumFontSize}set maximumFontSize(t){this.maximumFontSize!==t&&null==t&&(t=20),this._maximumFontSize=t}get maximumFontSize(){return this._maximumFontSize}set valueLength(t){this.valueLength!==t&&null==t&&(t=0),this._valueLength=t}get valueLength(){return this._valueLength}set edge(t){this.edge===t||void 0===t&&null===t||(this._edge=t)}get edge(){return this._edge}get currentFontSize(){return this._currentFontSize}set currentFontSize(t){this.currentFontSize!==t&&null==t&&(t=16),this._validateFontSizeValue(t,"min")?this._validateFontSizeValue(t,"max")||(t=this.maximumFontSize):t=this.minimumFontSize,this._currentFontSize=t}updateDefaultFontSize(){this.maximumFontSize=parseFloat(this._input.style.fontSize||window.getComputedStyle(this._input).fontSize),this.currentFontSize=this.maximumFontSize}detectUserBehavior(){const t=this._input.value.length;let e=0;return t>this.valueLength?e=1:t<this.valueLength&&(e=2),s.USERBEHAVIORS[e]}attachEventListener(){this._input.addEventListener("blur",this.restoreTheInput.bind(this)),this._input.addEventListener("change",this.restoreTheInput.bind(this)),this._input.addEventListener("keydown",this.scaleUp.bind(this))}_addInputPlaceholder(){this._input.parentNode.appendChild(this._createInputPlaceholder())}_createInputPlaceholder(){const t=document.createElement("span");return t.style.whiteSpace="nowrap",this._inputPlaceholder=t,t}_fillInputPlaceholder(){const t=this._input.value.replace(/\s/g,"&nbsp;");this._inputPlaceholder.innerHTML=t}_makeInputPlaceholderFeelLikeInput(){const t=window.getComputedStyle(this._input);this._inputPlaceholder.style.fontSize=t.fontSize,this._inputPlaceholder.style.paddingLeft=t.paddingLeft,this._inputPlaceholder.style.paddingRight=t.paddingRight}_makeInputPlaceholderUnreachable(){this._inputPlaceholder.style.position="absolute",this._inputPlaceholder.style.top="-1000px",this._inputPlaceholder.style.zIndex="-9999"}_isTextWidthGreaterThanInputWidth(){const t=this._input.style.overflow;t&&"visible"!==t||(this._input.style.overflow="hidden");const e=this._input.clientWidth<this._input.scrollWidth;return this._input.style.overflow=t,e}_flagTheLengthWhichExactlyFits(){const t=this._inputPlaceholder.getBoundingClientRect().width,e=this._input.clientWidth;void 0===this._valueLengthOnHitTheEdge&&t>e-10&&(this._valueLengthOnHitTheEdge=this._input.value.length)}_resetFontSizeWhenExactlyFits(){void 0!==this._valueLengthOnHitTheEdge&&this._input.value.length<=this._valueLengthOnHitTheEdge&&(this.currentFontSize=this.maximumFontSize),this._setFontSizeToInput(this.currentFontSize)}_scaleFontSize(t="increase"){const e=this.currentFontSize*s.CHANGEFACTOR;this.currentFontSize="increase"===t?this.currentFontSize+e:this.currentFontSize-e,this._setFontSizeToInput(this.currentFontSize)}_validateFontSizeValue(t,e="min"){return!("min"===e&&t<this.minimumFontSize)&&!("max"===e&&t>this.maximumFontSize)}_setFontSizeToInput(t){return this._input.style.fontSize=this._inputPlaceholder.style.fontSize=t+"px"}}e.Ch5TextInputScaling=s,s.USERBEHAVIORS=["none","fill","erase"],s.CHANGEFACTOR=.07},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5tTextInputMask=void 0;e.Ch5tTextInputMask=class{constructor(t,e,i=!1){this.prefix="_ch5-textinput-mask",this.MODIFIER_SEPARATOR="--",this.BLOCK_SEPARATOR="__",this._didMounted=!1,this._wasWrapped=!1,this._wrapperId=0,this._input={},this._maskElement={},this._maskValue="",this._lastValueLength=0,this._inputType="",this._alwaysShow=!1,this._show=!1,this._placeholder="",this.wrapperId=Math.random()*(new Date).getTime(),this.input=t,this.maskValue=e,this.alwaysShow=i,this._cleanTheInput(),this._inputListener=this._onInput.bind(this),this._inputKeyUpListener=this._onInputKeyUp.bind(this),this._inputKeyDownListener=this._onInputKeyDown.bind(this),this._inputFocusListener=this._onInputFocus.bind(this),this._inputBlurListener=this._onInputBlur.bind(this)}init(){this._wasWrapped||this.didMounted||this._wrap(),!1===this.alwaysShow?this.show=!1:this.show=!0,this._attachEventListeners()}stop(){this._detachEventListeners()}dispatchMaskErrorEvent(t="invalidCharacter"){"invalidCharacter"!==t&&(t="invalidLength");const e=this._createInputMaskErrorEvent(t);this.input.dispatchEvent(e),this.maskElement.dispatchEvent(e),this.input.setCustomValidity(t)}dispatchMaskUpdateEvent(){const t=this._createMaskUpdateEvent(this.input.value);this.maskElement.dispatchEvent(t),this.input.dispatchEvent(t)}dispatchMaskCompleteEvent(){const t=this._createInputMaskCompleteEvent();this.maskElement.dispatchEvent(t),this.input.dispatchEvent(t),this.input.setCustomValidity("")}set didMounted(t){this.didMounted!==t&&null==t&&(t=!1),this._didMounted=t}get didMounted(){return this._didMounted}set input(t){this._input=t}get input(){return this._input}set wasWrapped(t){this.wasWrapped!==t&&null==t&&(t=!1),this._wasWrapped=t}get wasWrapped(){return this._wasWrapped}set wrapperId(t){this.wrapperId!==t&&null==t&&(t=1e3*Math.random()),this._wrapperId=Math.round(t)}get wrapperId(){return this._wrapperId}set maskElement(t){this._maskElement=t}get maskElement(){return this._maskElement}set maskValue(t){this.maskValue!==t&&null==t&&(t=""),this._maskValue=t}get maskValue(){return this._maskValue}getInputStyles(){return window.getComputedStyle(this.input)}set lastValueLength(t){this.lastValueLength!==t&&null==t&&(t=0),this._lastValueLength=t}get lastValueLength(){return this._lastValueLength}set inputType(t){this.inputType!==t&&null==t&&(t=""),this._inputType=t}get inputType(){return this._inputType}set alwaysShow(t){this.alwaysShow!==t&&null==t&&(t=!1),this._alwaysShow=t}get alwaysShow(){return this._alwaysShow}set show(t){this.show!==t&&null==t&&(t=!1),this._show=t,0===this.input.value.length&&(this.maskElement.style.zIndex=!0===this.show?"99":"-1")}get show(){return this._show}set placeholder(t){this.placeholder!==t&&null==t&&(t=""),this._placeholder=t}get placeholder(){return this._placeholder}_makeMaskElementLookAsInputPlaceholder(){const t=this.getInputStyles();this.maskElement.style.position="absolute",this.maskElement.style.top="0px",this.maskElement.style.left="0px",this.maskElement.style.paddingLeft=t.paddingLeft,this.maskElement.style.paddingRight=t.paddingRight,this.maskElement.style.fontSize=t.fontSize,this.maskElement.style.fontWeight=t.fontWeight,this.maskElement.style.pointerEvents="none",this.maskElement.style.lineHeight=t.lineHeight}addStaticCharactersToInputValue(t){const e=""!==this.maskValue.substr(t,1)?this.maskValue.substr(t,1):null;this._isUserTyping()&&null!==e&&null!==e.match(/[-_#().,\\\/=@$&\s+]/g)&&(this.dispatchMaskUpdateEvent(),this.input.value=this.input.value+e,this.lastValueLength++,this.addStaticCharactersToInputValue(++t))}_updateCharactersInMask(){const t=this.lastValueLength-1,e=void 0!==this.maskElement.childNodes[t]?this.maskElement.childNodes[t]:null;let i={};if((void 0!==e||null!==e)&&t<this.maskValue.length){let e;e=!0===this._isUserTyping()&&this.input.value.length>0?this.input.value.substr(t,1):this.maskValue.substr(t,1),i=this.maskElement.childNodes[t],void 0!==i&&(i.innerHTML=e)}}togglePlaceholder(){!1===this.alwaysShow&&(!1===this.show?this.input.setAttribute("placeholder",this.placeholder):this.input.removeAttribute("placeholder"))}_attachEventListeners(){this.input.addEventListener("keydown",this._inputKeyDownListener),this.input.addEventListener("input",this._inputListener),this.input.addEventListener("keyup",this._inputKeyUpListener),this.input.addEventListener("focus",this._inputFocusListener),this.input.addEventListener("blur",this._inputBlurListener),this.maskElement.addEventListener("update",this._onMaskUpdate.bind(this))}_detachEventListeners(){this.input.removeEventListener("keydown",this._inputKeyDownListener),this.input.removeEventListener("input",this._inputListener),this.input.removeEventListener("keyup",this._inputKeyUpListener),this.input.removeEventListener("focus",this._inputFocusListener),this.input.removeEventListener("blur",this._inputBlurListener)}_mount(t){this._createTheMaskElement(),t.appendChild(this.maskElement),this.didMounted=!0}_wrap(){const t=this._input.parentNode.appendChild(this._createTheWrapper());t.appendChild(this.input),this._mount(t),this._makeMaskElementLookAsInputPlaceholder(),this.wasWrapped=!0}_createTheWrapper(){const t=document.createElement("span");return t.id="_ch5-textinput"+this.BLOCK_SEPARATOR+this.wrapperId,t}_createTheMaskElement(){const t=this._wrapEachCharacter();this.maskElement=document.createElement("span"),this.maskElement.setAttribute("data-mask",this.maskValue),this.maskElement.innerHTML=t}_cleanTheInput(){!0===this.alwaysShow&&this.input.hasAttribute("placeholder")&&this.input.removeAttribute("placeholder"),this.input.hasAttribute("pattern")&&this.input.removeAttribute("pattern")}_wrapEachCharacter(){const t=this.maskValue.split("");return t.forEach((e,i)=>{t[i]='<span class="'+this.prefix+this.BLOCK_SEPARATOR+'letter">'+e+"</span>"}),t.join("")}_createMaskUpdateEvent(t){return new CustomEvent("update",{detail:{message:t,time:(new Date).getTime()},bubbles:!0,cancelable:!0})}_createInputMaskErrorEvent(t){return new CustomEvent("maskerror",{detail:{errorType:t,time:(new Date).getTime()},bubbles:!0,cancelable:!1})}_createInputMaskCompleteEvent(){return new CustomEvent("maskcomplete",{detail:{message:"completed",time:(new Date).getTime()},bubbles:!0,cancelable:!0})}_maskCharacterOnTyping(t){t>this.maskValue.length&&(t=this.maskValue.length);const e=this.maskElement.childNodes,i=void 0!==e[t]?e[t]:null;null!==i&&(i.style.visibility="hidden",this._maskCharacterOnTyping(--t))}_unmaskCharacterOnTyping(t){t>this.maskValue.length&&(t=this.maskValue.length);const e=this.maskElement.childNodes,i=void 0!==e[t]?e[t]:null;null!==i&&t>=this.input.value.length&&(i.style.visibility="visible"),t>=0&&this._unmaskCharacterOnTyping(--t)}_isUserTyping(){return!(this.input.value.length<this.lastValueLength)}_isKeyAllowed(t){if(""!==this.maskValue.substr(this.input.value.length-1,1)){const e=this.maskValue.substr(this.input.value.length-1,1);let i=t;if(null!==e.match(/[^a-zA-Z0-9*]/g))return!1;if(!1===isNaN(parseFloat(t))&&"*"!==e&&(i=parseFloat(t)),null!==String(i).match(/[^a-zA-Z0-9]/g)||typeof i!==this._getDataType(e))return this.input.value.length>0&&this.dispatchMaskErrorEvent(),!1}return!0}_isValueLengthValid(){return this.lastValueLength<this.maskValue.length?(this.lastValueLength>0?this.dispatchMaskErrorEvent("invalidLength"):this.input.setCustomValidity(""),!0):(this.lastValueLength>0&&this.dispatchMaskCompleteEvent(),!1)}_getDataType(t){let e;switch(t){case"A":case"a":e="string";break;case"9":e="number";break;default:e="string"}return e}_getCapsType(t){if(null!==t&&"*"!==t){if(t===t.toUpperCase())return"uppercase";if(t===t.toLowerCase())return"lowercase"}return"normal"}_transformLetterCapsType(t){t>this.maskValue.length-1&&(t=this.maskValue.length-1);const e=""!==this.maskValue.substr(t,1)?this.maskValue.substr(t,1):null,i=this.input.value.split("")[t],s=this.maskElement.childNodes[t];if(null!==e&&void 0!==i){const n=this._getCapsType(e),r=this._getCapsType(i),a=this.input.value.substr(0,t),o=this.input.value.substr(t,1),l=this.input.value.substr(t+1);"uppercase"===n&&"uppercase"!==r?(this.input.value=a+o.toUpperCase()+l,s.innerHTML=o.toUpperCase()):"lowercase"===n&&"lowercase"!==r&&(this.input.value=a+o.toLowerCase()+l,s.innerHTML=o.toLowerCase()),this._transformLetterCapsType(--t)}}_onInputKeyDown(t){this.inputType=t.key,this._isUserTyping()&&this.addStaticCharactersToInputValue(this.input.value.length),this.lastValueLength=this.input.value.length,null!==this.input.selectionStart&&this.input.selectionStart<this.lastValueLength&&t.preventDefault()}_onInput(t){this.inputType=t.inputType;let e=t.data;if(null!==e&&e.length>1){const t=e.split("");e=t[t.length-1]}!this._isUserTyping()||this._isKeyAllowed(e)&&this._isValueLengthValid()?(this.dispatchMaskUpdateEvent(),this._updateCharactersInMask()):this.input.value=this.input.value.substr(0,this.lastValueLength),this._isUserTyping()&&(this.lastValueLength=this.input.value.length)}_onInputKeyUp(t){this._isKeyAllowed(t.key),this._isValueLengthValid(),this._transformLetterCapsType(this.input.value.length)}_onInputFocus(t){!1===this.alwaysShow&&(this.show=!0,this.togglePlaceholder())}_onInputBlur(t){!1===this.alwaysShow&&(this.show=!1,this.togglePlaceholder()),0===this.input.value.length&&(this.lastValueLength=0),this._transformLetterCapsType(this.input.value.length),this._isValueLengthValid()}_onMaskUpdate(t){this._isUserTyping()?this._maskCharacterOnTyping(this.lastValueLength):this._unmaskCharacterOnTyping(this.lastValueLength)}}},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(278),e)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Toggle=void 0;const n=i(3),r=i(1),a=i(48),o=s(i(20)),l=i(6),h=i(2),u=s(i(0));class c extends a.Ch5CommonInput{constructor(){super(),this._elBody={},this._elContainer={},this._elLabel={},this._elHandle={},this._elOnContainer={},this._elLabelOn={},this._elIconOn={},this._elOffContainer={},this._elLabelOff={},this._elIconOff={},this._elKnob={},this.primaryCssClass="ch5-toggle",this._label="",this._labelOn="",this._labelOff="",this._iconOn="",this._iconOff="",this._handleShape="circle",this._orientation="horizontal",this._direction=n.Ch5Common.DIRECTION[0],this._value=!1,this._sigNameReceiveValue="",this._subReceiveValueId="",this._sigNameReceiveScriptLabelHtml="",this._subReceiveScriptLabelHtmlId="",this._sigNameSendOnClick="",this._sigNameSendOnTouch="",this.changeEvent={},this.dirtyEvent={},this.cleanEvent={},this._dirty=!1,this._clean=!0,this._submitted=!1,this._dirtyValue="",this._cleanValue="",this._dirtyTimerHandle=null,this._listOfAllPossibleComponentCssClasses=this._generateListOfAllPossibleComponentCssClasses(),this.createInternalHtml(),this._onClick=this._onClick.bind(this)}get label(){return this._label}set label(t){this.logger.log("set label: ",t);let e=t;e=u.default.isNil(t)?"":this._getTranslatedValue("label",t),e!==this._label&&(this._elLabel.innerHTML=e,this._elLabel.hidden=!1,this._label=e,this.setAttribute("label",e))}get labelOn(){return this._labelOn}set labelOn(t){this.logger.log("set labelOn: ",t);let e=t;e=null==t?"":this._getTranslatedValue("labelOn",t),e!==this._labelOn&&(this._elLabelOn.innerText=e,this._labelOn=e,this.setAttribute("labelon",e))}get labelOff(){return this._labelOff}set labelOff(t){this.logger.log("set labelOff: ",t);let e=t;e=u.default.isNil(t)?"":this._getTranslatedValue("labelOff",t),e!==this._labelOff&&(this._elLabelOff.innerText=e,this._labelOff=e,this.setAttribute("labeloff",e))}get iconOn(){return this._iconOn}set iconOn(t){this._iconOn!==t&&(""!==this.iconOn&&this._iconOn.split(" ").forEach(t=>{""!==(t=t.trim())&&this._elIconOn.classList.remove(t)}),this._iconOn=t,""!==this.iconOn&&this._iconOn.split(" ").forEach(t=>{""!==(t=t.trim())&&this._elIconOn.classList.add(t)}),this.setAttribute("iconon",t))}get iconOff(){return this._iconOff}set iconOff(t){this._iconOff!==t&&(""!==this.iconOff&&this._iconOff.split(" ").forEach(t=>{""!==(t=t.trim())&&this._elIconOff.classList.remove(t)}),this._iconOff=t,""!==this.iconOff&&this._iconOff.split(" ").forEach(t=>{""!==(t=t.trim())&&this._elIconOff.classList.add(t)}),this.setAttribute("iconoff",t))}get handleShape(){return this._handleShape}set handleShape(t){this._handleShape!==t&&null!==t&&(c.SHAPES.indexOf(t)>=0?this._handleShape=t:this._handleShape=c.SHAPES[0],this.setAttribute("handleshape",this._handleShape))}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(c.ORIENTATIONS.indexOf(t)>=0?this._orientation=t:this._orientation=c.ORIENTATIONS[0],this.setAttribute("orientation",this._orientation))}get value(){return this._value}set value(t){const e=this.toBoolean(t);null!==this._dirtyTimerHandle&&clearTimeout(this._dirtyTimerHandle),this._value!==e&&(this._value=e,this.setAttribute("value",this._value.toString()))}get checked(){return this.hasAttribute("checked")}set checked(t){this.toBoolean(t)?(this.setAttribute("checked",""),this._elBody.classList.add(this.primaryCssClass+"--on")):(this.removeAttribute("checked"),this._elBody.classList.remove(this.primaryCssClass+"--on"))}get direction(){return this._direction}set direction(t){null==t&&(t=n.Ch5Common.DIRECTION[0]),n.Ch5Common.DIRECTION.indexOf(t)>=0?this._direction=t:this._direction=n.Ch5Common.DIRECTION[0]}get receiveStateValue(){return this._attributeValueAsString("receivestatevalue")}set receiveStateValue(t){if(this.info("Ch5Toggle receiveStateValue: "+t),n.Ch5Common.isNil(t)||this._sigNameReceiveValue===t)return;if(n.Ch5Common.isNotNil(this._sigNameReceiveValue)){const t=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveValue),e=r.Ch5SignalFactory.getInstance().getBooleanSignal(t);null!==e&&e.unsubscribe(this._subReceiveValueId)}this._sigNameReceiveValue=t,this.setAttribute("receivestatevalue",t);const e=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveValue),i=r.Ch5SignalFactory.getInstance().getBooleanSignal(e);null!==i&&(this._subReceiveValueId=i.subscribe(t=>{this.setAttribute("value",""+t),this._cleanValue=t,this.checked=t,this.setClean()}))}get receiveStateScriptLabelHtml(){return this._attributeValueAsString("receivestatescriptlabelhtml")}set receiveStateScriptLabelHtml(t){if(this.info("set receiveStateScriptLabelHtml('"+t+"')"),""===t||this._sigNameReceiveScriptLabelHtml===t||null==t)return;if(""!==this._sigNameReceiveScriptLabelHtml&&void 0!==this._sigNameReceiveScriptLabelHtml&&null!==this._sigNameReceiveScriptLabelHtml){const t=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveScriptLabelHtml),e=r.Ch5SignalFactory.getInstance().getStringSignal(t);null!==e&&e.unsubscribe(this._subReceiveScriptLabelHtmlId)}this._sigNameReceiveScriptLabelHtml=t,this.setAttribute("receivestatescriptlabelhtml",t);const e=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveScriptLabelHtml),i=r.Ch5SignalFactory.getInstance().getStringSignal(e);null!==i&&(this._subReceiveScriptLabelHtmlId=i.subscribe(t=>{""!==t&&t!==this._label&&this.setAttribute("label",t)}))}get sendEventOnClick(){return this._sigNameSendOnClick}set sendEventOnClick(t){this.info("set sendEventOnClick('"+t+"')"),""!==t&&this._sigNameSendOnClick!==t&&(this._sigNameSendOnClick=t,this.setAttribute("sendeventonclick",t))}get sendEventOnTouch(){return this._sigNameSendOnTouch}set sendEventOnTouch(t){this.info("set sendEventOnTouch('"+t+"')"),""!==t&&this._sigNameSendOnTouch!==t&&(this._sigNameSendOnTouch=t,this.setAttribute("sendeventontouch",t))}static get observedAttributes(){const t=n.Ch5Common.observedAttributes,e=a.Ch5CommonInput.observedAttributes;return t.concat(["checked","label","labelon","labeloff","iconon","iconoff","handleshape","orientation","value","signalvaluesynctimeout","dir","receivestatevalue","receivestatescriptlabelhtml","sendeventonclick","sendeventontouch"],e)}static registerSignalAttributeTypes(){h.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(c.ELEMENT_NAME,c.SIGNAL_ATTRIBUTE_TYPES)}connectedCallback(){this.contentCleanUp(),this.hasAttribute("role")||this.setAttribute("role",l.Ch5RoleAttributeMapping.ch5Toggle),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this.setAttribute("data-ch5-id",this.getCrId()),this.cacheComponentChildrens(),this._elBody.parentElement!==this&&this.appendChild(this._elBody),this.initAttributes(),this.updateCssClasses(),this.attachEventListeners(),this.initCommonMutationObserver(this),this._cleanValue=this.value}disconnectedCallback(){this.removeEvents(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver()}attributeChangedCallback(t,e,i){if(e===i)return;this.info('ch5-toggle attributeChangedCallback("'+t+'","'+e+'","'+i+')"');const s=null!==i;switch(t){case"checked":this.hasAttribute("checked")?this.value=!0:this.value=!1,this.setAttribute("aria-checked",s.toString());break;case"label":this.hasAttribute("label")?this.label=i:this.label="";break;case"labelon":this.hasAttribute("labelon")?this.labelOn=i:this.labelOn="";break;case"labeloff":this.hasAttribute("labeloff")?this.labelOff=i:this.labelOff="";break;case"iconon":this.hasAttribute("iconon")?this.iconOn=i:this.iconOn="";break;case"iconoff":this.hasAttribute("iconoff")?this.iconOff=i:this.iconOff="";break;case"handleshape":this.hasAttribute("handleshape")?this.handleShape=i:this.handleShape=c.SHAPES[0],this.updateCssClasses();break;case"orientation":this.hasAttribute("orientation")?this.orientation=i:this.orientation=c.ORIENTATIONS[0],this.updateCssClasses();break;case"value":this.hasAttribute("value")?(this.value=this.checkIfValueIsTruey(i),this.checked=i):this.value=!1;break;case"signalvaluesynctimeout":this.hasAttribute("signalvaluesynctimeout")?this.signalValueSyncTimeout=i:this.signalValueSyncTimeout="";break;case"receivestatevalue":this.hasAttribute("receivestatevalue")?this.receiveStateValue=i:this.receiveStateValue="";break;case"receivestatescriptlabelhtml":this.hasAttribute("receivestatescriptlabelhtml")?this.receiveStateScriptLabelHtml=i:this.receiveStateScriptLabelHtml="";break;case"sendeventonclick":this.hasAttribute("sendeventonclick")?this.sendEventOnClick=i:this.sendEventOnClick="";break;case"sendeventontouch":this.hasAttribute("sendeventontouch")?this.sendEventOnTouch=i:this.sendEventOnTouch="";break;case"dir":this.hasAttribute("dir")?this.direction=i.toLowerCase():this.direction=n.Ch5Common.DIRECTION[0],this.getTargetElementForCssClassesAndStyle().classList.add(this.primaryCssClass+"--dir--"+this.direction);break;case"disabled":this.setAttribute("aria-disabled",s.toString()),s?(this.removeAttribute("tabindex"),this.blur()):this.setAttribute("tabindex","0"),this.updateForChangeInDisabledStatus();break;default:super.attributeChangedCallback(t,e,i)}}unsubscribeFromSignals(){super.unsubscribeFromSignals();const t=r.Ch5SignalFactory.getInstance();if(""!==this._subReceiveValueId&&""!==this._sigNameReceiveValue){const e=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveValue),i=t.getBooleanSignal(e);null!==i&&(i.unsubscribe(this._subReceiveValueId),this._sigNameReceiveValue="")}if(""!==this._subReceiveScriptLabelHtmlId&&""!==this._sigNameReceiveScriptLabelHtml){const e=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveScriptLabelHtml),i=t.getStringSignal(e);null!==i&&(i.unsubscribe(this._subReceiveScriptLabelHtmlId),this._sigNameReceiveScriptLabelHtml="")}}submit(){"submit"===this.feedbackMode&&!0===this._dirty&&(this._submitted=!0,this._setDirtyHandler(),this.sendSignalForClickAndTouch())}reset(){this.setClean(),this.value=this._cleanValue,this.checked=this._cleanValue}getDirty(){return"submit"===this.feedbackMode&&this._dirty}setDirty(){if(this._dirty=!0,this._clean=!1,"submit"===this.feedbackMode){const t={value:this.checked};this.dispatchEvent(this.dirtyEvent=new CustomEvent("dirty",{bubbles:!0,cancelable:!1,detail:t})),this.ondirty instanceof o.default?this.ondirty.run({}):this.onclean instanceof Function&&this.onclean()}}setClean(){if(null!==this._dirtyTimerHandle&&clearTimeout(this._dirtyTimerHandle),this._dirty=!1,this._clean=!0,this._submitted=!1,"submit"===this.feedbackMode){const t={value:this.checked};this.dispatchEvent(this.cleanEvent=new CustomEvent("clean",{bubbles:!0,cancelable:!1,detail:t})),this.onclean instanceof o.default?this.onclean.run({}):this.onclean instanceof Function&&this.onclean()}}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}createInternalHtml(){this._elBody=document.createElement("div"),this._elContainer=document.createElement("div"),this._elLabel=document.createElement("span"),this._elLabel.hidden=!0,this._elLabel.classList.add(this.primaryCssClass+"__label"),this._elHandle=document.createElement("span"),this._elHandle.classList.add(this.primaryCssClass+"__handle"),this._elIconOn=document.createElement("i"),this._elIconOn.classList.add(this.primaryCssClass+"__on-icon"),this._elLabelOn=document.createElement("span"),this._elLabelOn.classList.add(this.primaryCssClass+"__on-label"),this._elOnContainer=document.createElement("div"),this._elOnContainer.appendChild(this._elIconOn),this._elOnContainer.appendChild(this._elLabelOn),this._elIconOff=document.createElement("i"),this._elIconOff.classList.add(this.primaryCssClass+"__off-icon"),this._elLabelOff=document.createElement("span"),this._elLabelOff.classList.add(this.primaryCssClass+"__off-label"),this._elOffContainer=document.createElement("div"),this._elOffContainer.appendChild(this._elIconOff),this._elOffContainer.appendChild(this._elLabelOff),this._elKnob=document.createElement("a"),this._elContainer.appendChild(this._elLabel),this._elContainer.appendChild(this._elHandle),this._elHandle.appendChild(this._elOffContainer),this._elHandle.appendChild(this._elOnContainer),this._elHandle.appendChild(this._elKnob),this._elBody.appendChild(this._elContainer)}initAttributes(){super.initAttributes(),this._upgradeProperty("checked"),this._upgradeProperty("label"),this._upgradeProperty("labelOn"),this._upgradeProperty("labelOff"),this._upgradeProperty("iconOn"),this._upgradeProperty("iconOff"),this._upgradeProperty("handleShape"),this._upgradeProperty("value"),this._upgradeProperty("signalValueSyncTimeout"),this._upgradeProperty("feedbackMode"),this._upgradeProperty("disabled"),this._upgradeProperty("receiveStateValue"),this._upgradeProperty("receiveStateScriptLabelHtml")}updateCssClasses(){super.updateCssClasses();const t=new Set;t.add(this.primaryCssClass),t.add(this.primaryCssClass+"--"+this.handleShape),t.add(this.primaryCssClass+"--"+this.orientation);const e=this.getTargetElementForCssClassesAndStyle();void 0!==e.classList&&this._listOfAllPossibleComponentCssClasses.forEach(i=>{t.has(i)?(e.classList.add(i),this.info("add CSS class",i)):(e.classList.remove(i),this.info("remove CSS class",i))})}attachEventListeners(){super.attachEventListeners(),this.addEventListener("click",this._onClick)}removeEvents(){super.removeEventListeners(),this.removeEventListener("click",this._onClick)}getTargetElementForCssClassesAndStyle(){return this._elBody}_generateListOfAllPossibleComponentCssClasses(){const t=this._listOfAllPossibleComponentCssClasses;return t.push(this.primaryCssClass),c.SHAPES.forEach(e=>{const i=this.primaryCssClass+"--"+e;t.push(i)}),c.ORIENTATIONS.forEach(e=>{t.push(this.primaryCssClass+"--"+e)}),t}_onClick(t){this.info("Ch5Toggle._onClick()"),this.disabled||this.toggleChecked()}toggleChecked(){this.checked=!this.checked;const t={value:this.checked};this._dirty?this.setClean():(this._dirtyValue=this.checked,this.setDirty()),"submit"!==this._feedbackMode&&(this._setDirtyHandler(),this.sendSignalForClickAndTouch()),this._dispatchEvents(t)}_setDirtyHandler(){this.info("Ch5Toggle._setDirtyHandler"),null!==this._dirtyTimerHandle&&clearTimeout(this._dirtyTimerHandle),this._dirtyTimerHandle=window.setTimeout(()=>{this._onDirtyTimerFinished()},this._signalValueSyncTimeout)}_onDirtyTimerFinished(){this.info("Ch5Toggle._onDirtyTimerFinished"),this._dirtyTimerHandle=null,this._dirtyValue!==this._cleanValue&&(this.checked=this._cleanValue,this.setClean())}_dispatchEvents(t){this.dispatchEvent(this.changeEvent=new CustomEvent("change",{detail:t,bubbles:!0}))}_upgradeProperty(t){if(this.constructor.prototype.hasOwnProperty(t)){const e=this[t];delete this[t],this[t]=e}}sendSignalForClickAndTouch(){const t=n.Ch5Common.isNotNil(this._sigNameSendOnClick),e=n.Ch5Common.isNotNil(this._sigNameSendOnTouch);(t||e)&&(t&&e&&this._sigNameSendOnClick===this._sigNameSendOnTouch?this._sendValueForClickSignal():e?this._sendValueForTouchSignal():t&&this._sendValueForClickSignal())}_sendValueForClickSignal(){if(n.Ch5Common.isNotNil(this._sigNameSendOnClick)){const t=r.Ch5SignalFactory.getInstance().getBooleanSignal(this._sigNameSendOnClick);null!==t&&(t.publish(!0),t.publish(!1))}}_sendValueForTouchSignal(){if(n.Ch5Common.isNotNil(this._sigNameSendOnTouch)){const t=r.Ch5SignalFactory.getInstance().getBooleanSignal(this._sigNameSendOnTouch);null!==t&&(t.publish(!0),t.publish(!1))}}}e.Ch5Toggle=c,c.ELEMENT_NAME="ch5-toggle",c.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatescriptlabelhtml:{direction:"state",stringJoin:1,contractName:!0},receivestatevalue:{direction:"state",booleanJoin:1,contractName:!0},sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0},sendeventontouch:{direction:"event",booleanJoin:1,contractName:!0}}),c.SHAPES=["circle","rectangle"],c.ORIENTATIONS=["horizontal","vertical"],c.MODES=["direct","submit"],c.COMPONENT_DATA={SHAPES:{default:c.SHAPES[0],values:c.SHAPES,key:"shape",classListPrefix:"--"},ORIENTATIONS:{default:c.ORIENTATIONS[0],values:c.ORIENTATIONS,key:"orientation",classListPrefix:"--"},MODES:{default:c.MODES[0],values:c.MODES,key:"mode",classListPrefix:"--"},DIRECTION:{default:n.Ch5Common.DIRECTION[0],values:n.Ch5Common.DIRECTION,key:"mode",classListPrefix:"--dir--"}},"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(c.ELEMENT_NAME,c),c.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(280),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5TouchActivity=e.Ch5TouchActivitySignals=void 0;const s=i(0),n=i(1);var r;!function(t){t.CsigTime="Csig.Time",t.CsigResetActivityTimer="Csig.Reset_Activity_Timer",t.CsigTouchActivity="Csig.Touch_Activity"}(r=e.Ch5TouchActivitySignals||(e.Ch5TouchActivitySignals={}));class a{constructor(t,e){this._ch5TimeSignal=null,this._ch5ResetActivityTimerSignal=null,this._supportsTouchActivity=!0,this._touchInactivityPeriod=0,this._touchActivityTimeoutId=0,this._ch5SignalFactory=t,this._ch5Platform=e,this._onTouchStart=this._onTouchStart.bind(this),document.addEventListener("touchstart",this._onTouchStart),this._onTouchMove=this._onTouchMove.bind(this),document.addEventListener("touchmove",this._onTouchMove),this._onTouchEnd=this._onTouchEnd.bind(this),document.addEventListener("touchend",this._onTouchEnd),this._onTouchCancel=this._onTouchCancel.bind(this),document.addEventListener("touchcancel",this._onTouchCancel)}static getInstance(t,e){return(0,s.isNil)(this._instance)&&((0,s.isNil)(e)&&(e=n.Ch5Platform.getInstance()),(0,s.isNil)(t)&&(t=n.Ch5SignalFactory.getInstance()),this._instance=new a(t,e)),this._instance}init(){this.setSupportsTouchActivity(this._ch5Platform.getPlatformInfo()),this._ch5Platform.registerUpdateCallback(t=>{if(this.setSupportsTouchActivity(t),this._supportsTouchActivity)n.Ch5Debug.info("Ch5TouchActivity","Touch activity is supported");else{const{CsigTime:t,CsigResetActivityTimer:e}=r;n.Ch5Debug.info("Ch5TouchActivity",`No support for touch activity, subscribing to ${t} and ${e}`),this.subscribeToTimeSignal(),this.subscribeToResetActivityTimerSignal()}})}setSupportsTouchActivity(t){this._supportsTouchActivity=!(0,s.isNil)(t.capabilities)&&t.capabilities.supportsTouchActivity}subscribeToTimeSignal(){this._ch5TimeSignal=this._ch5SignalFactory.getNumberSignal(r.CsigTime,!0),(0,s.isNil)(this._ch5TimeSignal)||this._ch5TimeSignal.subscribe(t=>{n.Ch5Debug.info("Ch5TouchActivity","CSIG_TIME: "+t),this._touchInactivityPeriod=t,this.clearTouchInactivityTimeout(),this.setTouchInactivityTimeout()})}subscribeToResetActivityTimerSignal(){this._ch5ResetActivityTimerSignal=this._ch5SignalFactory.getBooleanSignal(r.CsigResetActivityTimer,!0),(0,s.isNil)(this._ch5ResetActivityTimerSignal)||this._ch5ResetActivityTimerSignal.subscribe(t=>{n.Ch5Debug.info("Ch5TouchActivity","CSIG_RESET_ACTIVITY_TIMER: "+t),t&&(this.clearTouchInactivityTimeout(),this.publishTouchActivityEvent(!1),this.setTouchInactivityTimeout())})}_onTouchStart(t){n.Ch5Debug.info("Ch5TouchActivity",`_onTouchStart(${t.type})`),this.clearTouchInactivityTimeout(),this.publishTouchActivity()}_onTouchMove(t){n.Ch5Debug.info("Ch5TouchActivity",`_onTouchMove(${t.type})`),this.clearTouchInactivityTimeout(),this.publishTouchActivity()}_onTouchEnd(t){n.Ch5Debug.info("Ch5TouchActivity",`_onTouchEnd(${t.type})`),this.clearTouchInactivityTimeout(),this.setTouchInactivityTimeout(),this.publishTouchActivity()}_onTouchCancel(t){n.Ch5Debug.info("Ch5TouchActivity",`_onTouchCancel(${t.type})`),this.clearTouchInactivityTimeout(),this.setTouchInactivityTimeout(),this.publishTouchActivity()}publishTouchActivity(){this._touchInactivityPeriod<=0||(n.Ch5Debug.info("Ch5TouchActivity","Publish touch activity with true"),this.publishTouchActivityEvent(!0))}setTouchInactivityTimeout(){this._touchInactivityPeriod<=0||(n.Ch5Debug.info("Ch5TouchActivity",`Publish touch activity with false after ${this._touchInactivityPeriod}s`),this._touchActivityTimeoutId=window.setTimeout(()=>{this.clearTouchInactivityTimeout(),this.publishTouchActivityEvent(!1)},1e3*this._touchInactivityPeriod))}clearTouchInactivityTimeout(){(0,s.isNil)(this._touchActivityTimeoutId)||window.clearTimeout(this._touchActivityTimeoutId)}publishTouchActivityEvent(t){n.Ch5Debug.info("Ch5TouchActivity","CSIG_TOUCH_ACTIVITY: "+t),(0,n.publishEvent)("boolean",r.CsigTouchActivity,t)}}e.Ch5TouchActivity=a,a.getInstance().init()},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(282),e),n(i(283),e)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5TriggerViewChild=void 0;const n=i(3),r=i(1),a=s(i(0)),o=i(6),l=i(2);class h extends n.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-viewchild",this._noshowType=h.SHOW_TYPES[0],this._sendEventOnShowSigName="",this._receiveStateShowSigName="",this._subReceiveSignalShowId="",this.info("Ch5TriggerViewChild.constructor()"),this._listOfAllPossibleComponentCssClasses=this._generateListOfAllPossibleComponentCssClasses()}get selected(){return this.info("Ch5TriggerViewChild get selected()"),this.hasAttribute("selected")}set selected(t){this.info("Ch5TriggerViewChild set selected()"),(t=Boolean(t))?(this.setAttribute("selected",""),this.setAttribute("aria-selected","true")):(this.removeAttribute("selected"),this.setAttribute("aria-selected","false"))}get sendEventOnShow(){return this._sendEventOnShowSigName}set sendEventOnShow(t){this.info("set sendEventOnShow('"+t+"')"),""!==t&&this._sendEventOnShowSigName!==t&&(this._sendEventOnShowSigName=t,this.setAttribute("sendeventonshow",t))}get receiveStateShow(){return this._attributeValueAsString("receivestateshow")}set receiveStateShow(t){if(this.info("set receiveStateShow('"+t+"')"),""===t||this._receiveStateShowSigName===t||null==t)return;if(""!==this._receiveStateShowSigName&&void 0!==this._receiveStateShowSigName&&null!==this._receiveStateShowSigName){const t=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateShowSigName),e=r.Ch5SignalFactory.getInstance().getBooleanSignal(t);null!==e&&e.unsubscribe(this._subReceiveSignalShowId)}this._receiveStateShowSigName=t,this.setAttribute("receivestateshow",t);const e=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateShowSigName),i=r.Ch5SignalFactory.getInstance().getBooleanSignal(e);if(null===i)return;let s=!1;this._subReceiveSignalShowId=i.subscribe(t=>{if(t&&!0===t&&i.hasChangedSinceInit()){const t=this.getTriggerViewParent();null!==t&&(t.setActiveViewChild(this),s=!0)}t!==this.show&&s&&(this.show=t)})}set sigNameReceiveShow(t){}static get observedAttributes(){return n.Ch5Common.observedAttributes.concat(["selected","sendeventonshow","receivestateshow"])}static registerSignalAttributeTypes(){l.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(h.ELEMENT_NAME,h.SIGNAL_ATTRIBUTE_TYPES)}connectedCallback(){this.info("Ch5TriggerViewChild.connectedCallback()"),this.cacheComponentChildrens(),this.setAttribute("noshowtype",h.SHOW_TYPES[0]),this.updateCssClasses(),this.setAttribute("role",o.Ch5RoleAttributeMapping.ch5TriggerViewChild),this.setAttribute("data-ch5-id",this.getCrId()),this.hasAttribute("tabindex")||(this.tabIndex=-1),this.initAttributes(),this.initCommonMutationObserver(this)}disconnectedCallback(){this.info("Ch5TriggerViewChild.disconnectedCallback()"),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver()}attributeChangedCallback(t,e,i){if(e!==i)switch(this.info('Ch5TriggerViewChild.attributeChangedCallback("'+t+'","'+e+'","'+i+')"'),t){case"selected":this.hasAttribute("selected")?(this.setAttribute("aria-selected","true"),this._sendSignalValueOnShow()):this.setAttribute("aria-selected","false");break;case"sendeventonshow":this.hasAttribute("sendeventonshow")?this.sendEventOnShow=i:this.sendEventOnShow="";break;case"receivestateshow":this.hasAttribute("receivestateshow")?this.receiveStateShow=i:this.receiveStateShow="";break;case"noshowtype":this.noshowType=h.SHOW_TYPES[0];break;case"show":if(this.hasAttribute("show")){const t=this.getAttribute("show");this.show="false"!==t&&"0"!==t}else this.show=!0;this.noshowType=h.SHOW_TYPES[0],this.updateForChangeInShowStatusOld();break;default:super.attributeChangedCallback(t,e,i)}}unsubscribeFromSignals(){super.unsubscribeFromSignals();const t=r.Ch5SignalFactory.getInstance();if(""!==this._subReceiveSignalShowId&&""!==this._receiveStateShowSigName){const e=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateShowSigName),i=t.getNumberSignal(e);null!==i&&(i.unsubscribe(this._subReceiveSignalShowId),this._receiveStateShowSigName="")}}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}getTriggerViewParent(){const t=e=>a.default.isNil(e)||"CH5-TRIGGERVIEW"===e.nodeName?e:t(e.parentNode);return a.default.isNil(this.parentElement)?null:t(this.parentElement)}initAttributes(){super.initAttributes(),this._upgradeProperty("sendEventOnShow"),this._upgradeProperty("receiveStateShow")}updateCssClasses(){super.updateCssClasses();const t=new Set;t.add(this.primaryCssClass);const e=this.getTargetElementForCssClassesAndStyle();void 0!==e.classList&&this._listOfAllPossibleComponentCssClasses.forEach(i=>{t.has(i)?(e.classList.add(i),this.info("add CSS class",i)):(e.classList.remove(i),this.info("remove CSS class",i))})}attachEventListeners(){super.attachEventListeners()}removeEvents(){super.removeEventListeners()}_generateListOfAllPossibleComponentCssClasses(){const t=this._listOfAllPossibleComponentCssClasses;return t.push(this.primaryCssClass),t}_sendSignalValueOnShow(){this.info("Ch5TriggerViewChild._sendSignalValueOnShow()");let t=null;""!==this._sendEventOnShowSigName&&void 0!==this._sendEventOnShowSigName&&null!==this._sendEventOnShowSigName&&(t=r.Ch5SignalFactory.getInstance().getBooleanSignal(this._sendEventOnShowSigName),null!==t&&(t.publish(!0),t.publish(!1)))}_upgradeProperty(t){if(this.constructor.prototype.hasOwnProperty(t)){const e=this[t];delete this[t],this[t]=e}}}e.Ch5TriggerViewChild=h,h.ELEMENT_NAME="ch5-triggerview-child",h.SHOW_TYPES=["visibility"],"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(h.ELEMENT_NAME,h),h.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5TriggerView=void 0;const s=i(25),n=i(3),r=i(1),a=i(284),o=i(0),l=i(6),h=i(2),u=i(4),c=document.createElement("template");c.innerHTML='<style>\n/*******************************************************************************\n Host and CSS properties\n*******************************************************************************/\n\n:host {\n    position: relative;\n\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n\n    contain: content;\n\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\n\n    --ch5-triggerview-gap: 16px;\n\n    --ch5-triggerview-background-color: transparent;\n\n    --ch5-triggerview-slide-min-height: 0px;\n    --ch5-triggerview-slide-max-height: none;\n\n    --ch5-triggerview-transition-duration: 0.6s;\n    --ch5-triggerview-transition-timing-function: ease-in-out;\n\n    --ch5-triggerview-fallback-message-color-background: #fff;\n\n    --ch5-triggerview__internal__slides-per-view: 1;\n    \n    overflow: hidden;\n}\n\n:host([hidden]) {\n    display: none\n}\n\n/*******************************************************************************\nSlides wrapper: flexbox container, is the transitioning element when moving the slides.\n*******************************************************************************/\n#slidesWrapper {\n    display: flex;\n    align-items: stretch;\n\n    height: 100%;\n    min-height: var(--ch5-triggerview-slide-min-height);\n    max-height: var(--ch5-triggerview-slide-max-height);\n\n    will-change: transform;\n}\n\n:host([transitioning]) #slidesWrapper {\n    transition-property: transform;\n    transition-duration: var(--ch5-triggerview-transition-duration);\n    transition-timing-function: var(--ch5-triggerview-transition-timing-function);\n}\n\n/*******************************************************************************\nSlides: width is calculated with a css formula\n*******************************************************************************/\n#slidesWrapper ::slotted(*) {\n    flex-grow: 0;\n    flex-shrink: 0;\n    /* (100% - gap * (slidesPerView - 1)) / slidesPerView */\n    flex-basis: calc((100% - (var(--ch5-triggerview__internal__slides-per-view) - 1) *\n        var(--ch5-triggerview-gap)) / var(--ch5-triggerview__internal__slides-per-view));\n\n    min-height: var(--ch5-triggerview-slide-min-height);\n    max-height: var(--ch5-triggerview-slide-max-height);\n\n    margin-right: var(--ch5-triggerview-gap);\n\n    /*\n        * Enforces the slides to keep their size even if the content requires\n        * a bigger slide size.\n        */\n    overflow: hidden;\n\n    outline: 0;\n\n    user-select: auto;\n}\n\n.slidesFallback {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    margin: 0;\n    padding: .5em 1em;\n\n    width: 100%;\n\n    background-color: var(--ch5-triggerview-fallback-message-color-background);\n}\n\n:host([gestureable=true]) #slidesWrapper ::slotted(*) {\n    user-select: none;\n}\n\n/*******************************************************************************\n  aria-live styles\n*******************************************************************************/\n#aria-live ::slotted(*) {\n    position: absolute;\n    height: 1px;\n    width: 1px;\n    margin: -1px;\n    padding: 0;\n    clip: rect(0 0 0 0);\n    overflow: hidden;\n    border: 0;\n}\n\n/*******************************************************************************\n * Print styles:\n * - Show all slides and stack them vertically\n * - Eliminate the slide gap, show an outline\n * - make sure the page doesn\'t break a slide in half\n *******************************************************************************/\n\n@media print {\n    #slidesWrapper ::slotted(*) {\n        margin-right: 0;\n        margin-bottom: .2em;\n        outline: 1px solid #000;\n        color: #000;\n        page-break-inside: avoid;\n    }\n\n    /* Stack the slides */\n    #slidesWrapper {\n        display: block;\n        transform: none !important;\n        transition: 0s;\n    }\n}\n</style> \n  <slot id="slidesSlot">\n    <p class="slidesFallback">No content available</p>\n  </slot>\n  <div id="aria-live">\n    <slot id="ariaSlot" name="ariaSlot"></slot>\n  </div>';class d extends n.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-triggerview",this._activeViewCallback={},this._swipeThreshold=30,this._activeView=0,this._ariaLiveRegion={},this._sendEventShowChildIndexSigName="",this._receiveStateShowChildIndexSigName="",this._subReceiveStateShowChildIndexId="",this._signalIsReceived=!1,this.slidesManager={},this.flag=-1,this.slidesNumber=0,this.info("Ch5TriggerView.constructor()"),this._listOfAllPossibleComponentCssClasses=this.generateListOfAllPossibleComponentCssClasses(),this._ch5Properties=new u.Ch5Properties(this,d.COMPONENT_PROPERTIES),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(c.content.cloneNode(!0)),this._slidesSlot=this.shadowRoot.querySelector("#slidesSlot"),this._ariaSlot=this.shadowRoot.querySelector("#ariaSlot"),this.slidesManager=new a.Ch5TriggerViewSlidesManager(this)}static get observedAttributes(){const t=n.Ch5Common.observedAttributes,e=[];for(let t=0;t<d.COMPONENT_PROPERTIES.length;t++)!0===d.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(d.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(["activeview","sendeventshowchildindex","receivestateshowchildindex"].concat(e))}set endless(t){this._ch5Properties.set("endless",t,()=>{const t=this.slidesManager.getSwiperParam("loop");"boolean"==typeof t&&t!==this.endless&&this.slidesManager.reinitializeSwiper()})}get endless(){return this._ch5Properties.get("endless")}set gestureable(t){this._ch5Properties.set("gestureable",t,()=>{this.disableAnimation?this.slidesManager.reinitializeSwiper():(this.slidesManager.setAllowTouchMove(this.gestureable),this.slidesManager.refreshSlideSpeed())})}get gestureable(){return this._ch5Properties.get("gestureable")}set nested(t){this._ch5Properties.set("nested",t,()=>{this.slidesManager.reinitializeSwiper()})}get nested(){return this._ch5Properties.get("nested")}set disableAnimation(t){this._ch5Properties.set("disableAnimation",t,()=>{const t=this.slidesManager.getSwiperParam("followFinger");"boolean"==typeof t&&!t!==this.disableAnimation&&this.slidesManager.reinitializeSwiper()})}get disableAnimation(){return this._ch5Properties.get("disableAnimation")}set activeViewCallback(t){t instanceof Function&&(this._activeViewCallback=t)}get activeViewCallback(){return this._activeViewCallback}set activeView(t){if(t=Number(t),isNaN(t)&&(t=0),this.slidesManager.swiperIsActive()){const e=this.computeTransitionByDistance(t);this.slidesManager.swipeTo(this.activeView,this.disableAnimation,e)}else this.slidesManager.ch5SwiperIsActive()&&this.slidesManager.swipeTo(this.activeView,!1,0);if(this.dispatchEvent(new CustomEvent("select",{detail:t,bubbles:!1})),this._sendEventShowChildIndexSigName!==this._receiveStateShowChildIndexSigName){let t=null;""!==this._sendEventShowChildIndexSigName&&void 0!==this._sendEventShowChildIndexSigName&&null!==this._sendEventShowChildIndexSigName&&(t=r.Ch5SignalFactory.getInstance().getNumberSignal(this._sendEventShowChildIndexSigName),null!==t&&t.publish(this.activeView))}this._updateAriaLiveDom(),this.activeViewCallback instanceof Function&&this.activeViewCallback(),!0===this.slidesManager.swiperActiveViewInitialized()||this.slidesManager.ch5SwiperIsActive()?((0,s.intSetter)(this,"activeview",t),this._activeView=t):((0,s.intSetter)(this,"activeview",this.activeView),this._activeView=this.activeView)}get activeView(){return(0,s.intGetter)(this,"activeview",0)}get getSwiperSensitivity(){return this.swipeThreshold}get sendEventShowChildIndex(){return this._sendEventShowChildIndexSigName}set sendEventShowChildIndex(t){this.info("set _sendEventShowChildIndexSigName('"+t+"')"),""!==t&&this._sendEventShowChildIndexSigName!==t&&(this._sendEventShowChildIndexSigName=t,this.setAttribute("sendeventshowchildindex",t))}get receiveStateShowChildIndex(){return this._attributeValueAsString("receivestateshowchildindex")}set receiveStateShowChildIndex(t){if(this.info("set receiveStateShowChildIndex('"+t+"')"),""===t||this._receiveStateShowChildIndexSigName===t||null==t)return;if(""!==this._receiveStateShowChildIndexSigName&&void 0!==this._receiveStateShowChildIndexSigName&&null!==this._receiveStateShowChildIndexSigName){const t=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateShowChildIndexSigName),e=r.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==e&&e.unsubscribe(this._subReceiveStateShowChildIndexId)}this._receiveStateShowChildIndexSigName=t,this.setAttribute("receivestateshowchildindex",t);const e=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateShowChildIndexSigName),i=r.Ch5SignalFactory.getInstance().getNumberSignal(e);null!==i&&(this._subReceiveStateShowChildIndexId=i.subscribe(t=>{!isNaN(t)&&i.hasChangedSinceInit()?(this._signalIsReceived=!0,setTimeout(()=>{this.activeView=t},50)):this.info("Ch5TriggerView receiveStateShowChildIndex signal value for "+this.getAttribute("data-ch5-id")+" is invalid")}))}set swipeThreshold(t){(0,o.isNil)(t)||isNaN(t)||(this._swipeThreshold=t)}get swipeThreshold(){return this._swipeThreshold}static registerSignalAttributeTypes(){h.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(d.ELEMENT_NAME,d.SIGNAL_ATTRIBUTE_TYPES)}connectedCallback(){const t=()=>{this.info("Ch5TriggerView.connectedCallback()"),this.hasAttribute("role")||this.setAttribute("role",l.Ch5RoleAttributeMapping.ch5TriggerView),this.cacheComponentChildrens(),this.initAttributes(),this.updateCssClasses(),this.attachEventListeners(),this._onSlidesSlotChange(),this.id=this.getCrId(),this.slidesManager.prepareSwiperSlides(),this.slidesManager.initSwiper()};this.closest("ch5-modal-dialog")?(0,r.subscribeInViewPortChange)(this,()=>{this.info("ch5-triggerview.subscribeInViewPortChange()"),this.elementIsInViewPort&&!this.wasInstantiatedInViewport&&(this._updateSizeStyleProperties(),t(),this.wasInstantiatedInViewport=!0)}):setTimeout(t)}disconnectedCallback(){this.info("Ch5TriggerView.disconnectedCallback()"),this.removeEvents(),this.unsubscribeFromSignals(),this.slidesManager.destroySwiper()}handleEvent(t){"slotchange"===t.type&&t.target===this._slidesSlot&&this._onSlidesSlotChange()}previousViewChild(){this.slidesManager.slidePrevious()}nextViewChild(){this.slidesManager.slideNext()}setActiveViewChild(t){const e=this.slidesManager.getChildElSwipeIndex(t);null!==e&&(this.activeView=e)}setActiveView(t){this.activeView=t}attributeChangedCallback(t,e,i){if(e===i)return;this.info('Ch5TriggerView attributeChangedCallback("'+t+'","'+e+'","'+i+')"'),0===this.slidesManager.getSlidesNumber()&&this._onSlidesSlotChange();const s=d.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else switch(t){case"activeview":if(e!==i){const t=parseInt(i,10);if(this.slidesManager.getSlidesNumber()>=0&&(t>this.slidesManager.getSlidesNumber()||t<0))return void(this.activeView=0);this.activeView=t}break;case"sendeventshowchildindex":this.hasAttribute("sendeventshowchildindex")?this.sendEventShowChildIndex=i:this.sendEventShowChildIndex="";break;case"receivestateshowchildindex":this.hasAttribute("receivestateshowchildindex")?this.receiveStateShowChildIndex=i:this.receiveStateShowChildIndex="";break;default:super.attributeChangedCallback(t,e,i)}"dir"===t&&(this.style.setProperty("direction","ltr"),this._updateChildrenDirAttr())}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this.info("Ch5TriggerView.unsubscribeFromSignals()");const t=r.Ch5SignalFactory.getInstance();if(""!==this._subReceiveStateShowChildIndexId&&""!==this._receiveStateShowChildIndexSigName){const e=t.getNumberSignal(this._receiveStateShowChildIndexSigName);null!==e&&(e.unsubscribe(this._subReceiveStateShowChildIndexId),this._receiveStateShowChildIndexSigName="")}}getSlidesAsArray(){return Array.prototype.slice.call(this.slidesManager.getSlidesArray(),0)}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}getPlainActiveView(){return this._activeView}setSwiperSensitivity(t){this.slidesManager.swiperSensitivity=t}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<d.COMPONENT_PROPERTIES.length;e++)if(!0===d.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(d.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=d.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}this.hasAttribute("activeView")||this.setAttribute("activeView","0"),this.hasAttribute("receiveStateShowChildIndex")&&this._upgradeProperty("receiveStateShowChildIndex"),this.hasAttribute("sendEventShowChildIndex")&&this._upgradeProperty("sendEventShowChildIndex")}attachEventListeners(){super.attachEventListeners(),this._slidesSlot.addEventListener("slotchange",this)}removeEvents(){super.removeEventListeners(),this._slidesSlot.removeEventListener("slotchange",this)}_updateSizeStyleProperties(){this.style.width=this.offsetWidth+"px"}updateCssClasses(){super.updateCssClasses();const t=new Set;t.add(this.primaryCssClass);const e=this.getTargetElementForCssClassesAndStyle();void 0!==e.classList&&this._listOfAllPossibleComponentCssClasses.forEach(i=>{t.has(i)?(e.classList.add(i),this.info("add CSS class",i)):(e.classList.remove(i),this.info("remove CSS class",i))})}generateListOfAllPossibleComponentCssClasses(){const t=this._listOfAllPossibleComponentCssClasses;return t.push(this.primaryCssClass),t}computeTransitionByDistance(t){return 300*Math.abs(this._activeView-t)}_onSlidesSlotChange(){this._slidesSlot.assignedNodes({flatten:!0}).forEach(t=>{t.nodeType===Node.TEXT_NODE&&t.parentNode&&t.parentNode.removeChild(t)})}_updateAriaLiveDom(){1!==this._ariaSlot.assignedNodes().length&&(this._ariaLiveRegion=document.createElement("div"),this._ariaLiveRegion.setAttribute("slot","ariaSlot"),this._ariaLiveRegion.setAttribute("aria-live","polite"),this._ariaLiveRegion.setAttribute("aria-atomic","true"),this.appendChild(this._ariaLiveRegion)),this._ariaLiveRegion.textContent=`Item ${this.activeView} of ${this.slidesManager.getSlidesNumber()} visible`}_updateChildrenDirAttr(){customElements.whenDefined("ch5-triggerview-child").then(()=>{})}_upgradeProperty(t){if(this.constructor.prototype.hasOwnProperty(t)){const e=this[t];delete this[t],this[t]=e}}}e.Ch5TriggerView=d,d.ELEMENT_NAME="ch5-triggerview",d.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestateshowchildindex:{direction:"state",numericJoin:1,contractName:!0},sendeventshowchildindex:{direction:"event",numericJoin:1,contractName:!0}}),d.COMPONENT_PROPERTIES=[{default:!1,name:"endless",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"gestureable",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"nested",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:!1,name:"disableAnimation",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0}],"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&window.customElements.define(d.ELEMENT_NAME,d),d.registerSignalAttributeTypes()},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5TriggerViewSlidesManager=void 0;const n=s(i(323)),r=i(25),a=i(0),o=i(79),l=i(1),h=i(285),u=s(i(0));class c{constructor(t){this.triggerViewEl={},this._slidesGap=0,this.isSwiperInitialized=!1,this.isCh5SwiperInitialized=!1,this._swiper=null,this._ch5Swiper=null,this._transitionSpeed=200,this._externalWrapper=null,this._slidesWrapper=null,this._touchMoveListRelatedEventDisabled=!1,this.triggerViewEl=t}prepareSwiperSlides(){const t=this.getTriggerViewChildSlides();-1===this.triggerViewEl.flag&&(this.triggerViewEl.slidesNumber=t.length,this.triggerViewEl.flag=0),this._externalWrapper||this._createSlidesWrappers(),this.initSlides(t),this._computeSizes()}initSwiper(){const t=this.triggerViewEl.getCrId();if(!1===this.triggerViewEl.gestureable&&!0===this.triggerViewEl.disableAnimation){u.default.isNil(this._slidesWrapper)||this._slidesWrapper.classList.add("slider-full-width-page"),this._ch5Swiper=new h.Ch5TriggerViewSwiper(`#${t} .${c.TRIGGERVIEW_SLIDER_CONTAINER_CLASS}`),this.isSwiperInitialized=!1,this.isCh5SwiperInitialized=!0;const e=this.getTriggerViewChildSlides();this._ch5Swiper.slides=e,this._ch5Swiper.activeView=this.triggerViewEl.activeView,this.setActiveIndexForLite()}else u.default.isNil(this._slidesWrapper)||this._slidesWrapper.classList.remove("slider-full-width-page"),this._swiper=new n.default(`#${t} .${c.TRIGGERVIEW_SLIDER_CONTAINER_CLASS}`,{slidesPerView:1,spaceBetween:this._slidesGap,loop:this.triggerViewEl.endless,speed:this._getSlidingSpeed(),touchRatio:1.4,followFinger:!0,threshold:this.triggerViewEl.swipeThreshold,touchStartPreventDefault:!1,touchMoveStopPropagation:!1,nested:this.triggerViewEl.nested,updateOnImagesReady:!0,initialSlide:this.getInitialSlide()}),this.isSwiperInitialized=!0,this.isCh5SwiperInitialized=!1,this._swiper.on("slideChange",()=>{this._updateActiveSlideAttributes(),this._updateTriggerViewElActiveViewWhenChangedBySwiper(),(0,l.publishEvent)("b","triggerview.slidechange",!0)}),this._swiper.on("slideChangeTransitionStart",()=>{(0,l.publishEvent)("b","triggerview.slidemove",!0)}),this.setAllowTouchMove(this.triggerViewEl.gestureable),this._swiper.on("touchStart",(...t)=>{const e=t[0].target;this.eventTargetBelongsToCh5List(e)&&(this.setAllowTouchMove(!1),this._touchMoveListRelatedEventDisabled=!0)}),this._swiper.on("touchEnd",(...t)=>{const e=t[0].target;(this.eventTargetBelongsToCh5List(e)||this._touchMoveListRelatedEventDisabled)&&(this.setAllowTouchMove(this.triggerViewEl.gestureable),this._touchMoveListRelatedEventDisabled=!1),(0,l.publishEvent)("b","triggerview.touchend",!0)})}getInitialSlide(){return this.triggerViewEl&&0!==this.triggerViewEl.activeView?this.triggerViewEl.activeView:0}setActiveIndexForLite(){if(this._ch5Swiper){const t=this._ch5Swiper.activeView;t!==this.triggerViewEl.activeView&&(this.triggerViewEl.activeView=this._ch5Swiper.activeView);const e=this.getTriggerViewChildSlides();Array.from(e).forEach((e,i)=>{e.style.width="100%",i!==t?(e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true"),e.setAttribute("inert","true"),e.classList.add("ch5-hide-vis-position"),e.removeAttribute("selected")):(e.setAttribute("tabindex","1"),e.setAttribute("aria-hidden","false"),e.removeAttribute("inert"),e.classList.remove("ch5-hide-vis-position"),e.setAttribute("selected",""))})}}eventTargetBelongsToCh5List(t){const e=!!t&&null!==t.closest("ch5-slider");let i=!1;if(!!t&&null!==t.closest("ch5-list")){const e=t.closest("ch5-list");if(e.hasAttribute("orientation")){i="horizontal"===e.getAttribute("orientation")}}return e||i}reinitializeSwiper(){this.swiperIsActive()?(this.destroySwiper(),this.initSwiper()):this.ch5SwiperIsActive()&&(this._ch5Swiper=null,this.initSwiper())}set swiperSensitivity(t){this.triggerViewEl.swipeThreshold=t,null!==this._swiper&&(this._swiper.params.threshold=t)}swiperIsActive(){return this._swiper instanceof n.default&&!u.default.isNil(this._swiper)&&!0===this.isSwiperInitialized}ch5SwiperIsActive(){return this._ch5Swiper instanceof h.Ch5TriggerViewSwiper&&!u.default.isNil(this._ch5Swiper)&&!0===this.isCh5SwiperInitialized}destroySwiper(){this.swiperIsActive()&&this._swiper&&this._swiper.$el&&this._swiper.destroy(!0,!1)}getSlidesNumber(){if(0===this.triggerViewEl.slidesNumber){if(!this.swiperIsActive()||(0,a.isNil)(this._swiper)||(0,a.isNil)(this._swiper.slides)){if(!this.ch5SwiperIsActive()||(0,a.isNil)(this._ch5Swiper)||(0,a.isNil)(this._ch5Swiper.slides)){return this.getTriggerViewChildSlides().length}return this._ch5Swiper.slides.length}return this._swiper.slides.length}return this.triggerViewEl.slidesNumber}swiperActiveViewInitialized(){return!this._swiper||void 0!==this._swiper.activeIndex}initSlides(t){o.Ch5CustomAttributes.preventUnsubscribe=!0;const e="list"===this.triggerViewEl.getAttribute("role");Array.from(t).forEach((t,i)=>{const s=t.hasAttribute("selected")||i===this.triggerViewEl.activeView;t.setAttribute("tabindex",s?"1":"-1"),t.setAttribute("aria-hidden",String(!s)),s?(t.removeAttribute("inert"),t.hasAttribute("selected")||t.setAttribute("selected","")):t.setAttribute("inert","true"),e&&t.setAttribute("role","listitem"),t.classList.add(c.TRIGGERVIEW_SLIDE_CLASS),this._slidesWrapper.appendChild(t)})}swipeTo(t,e=!1,i){if(this.swiperIsActive()){const s=u.default.isNil(i)?this._transitionSpeed:i,n=this.triggerViewEl.endless?t+1:t;if(n!==this._swiper.activeIndex&&this._swiper.hasOwnProperty("snapGrid")){const t=e?0:s;try{this._swiper.slideTo(n,t)}catch(t){}this._updateActiveSlideAttributes()}}else this.ch5SwiperIsActive()&&!u.default.isNil(this._ch5Swiper)&&(this._ch5Swiper.activeView=t,this.setActiveIndexForLite())}getChildElSwipeIndex(t){let e=null;if(this.swiperIsActive()){let i=null,s=null;(0,a.isNil)(this._swiper)||(0,a.isNil)(this._swiper.slides)||Array.from(this._swiper.slides).forEach((e,n)=>{e.classList.contains("swiper-slide-duplicate")||t!==e||(i=e,s=n)}),null!==i&&(e=this.triggerViewEl.endless?Number(i.getAttribute("data-swiper-slide-index")):s)}else if(this.ch5SwiperIsActive()&&!(0,a.isNil)(this._ch5Swiper)){let i=null,s=null;Array.from(this._ch5Swiper.slides).forEach((e,n)=>{t===e&&(i=e,s=n)}),null!==i&&(e=this.triggerViewEl.endless?Number(i.getAttribute("data-swiper-slide-index")):s)}return isNaN(e)?null:e}slideNext(){this.swiperIsActive()?this._swiper.slideNext(this._getSlidingSpeed()):this.ch5SwiperIsActive()&&!u.default.isNil(this._ch5Swiper)&&(this._ch5Swiper.incrementActiveView(this.triggerViewEl.endless),this.setActiveIndexForLite())}slidePrevious(){this.swiperIsActive()?this._swiper.slidePrev(this._getSlidingSpeed()):this.ch5SwiperIsActive()&&!u.default.isNil(this._ch5Swiper)&&(this._ch5Swiper.decrementActiveView(this.triggerViewEl.endless),this.setActiveIndexForLite())}setAllowTouchMove(t){this.swiperIsActive()&&(this._swiper.allowTouchMove=t)}refreshSlideSpeed(){this.swiperIsActive()&&(this._swiper.params.speed=this._getSlidingSpeed())}getActiveIndex(){return this.swiperIsActive()?this._swiper.realIndex:this.ch5SwiperIsActive()&&!u.default.isNil(this._ch5Swiper)?this._ch5Swiper.activeView:this._swiper.realIndex}getSwiperParam(t){return this.swiperIsActive()?this._swiper.params[t]:null}getTriggerViewChildSlides(){if(this.swiperIsActive()){return Array.from(this.triggerViewEl.children).filter(t=>t.tagName.toLowerCase()===c.TRIGGERVIEW_CHILD_SELECTOR)}if(this.ch5SwiperIsActive()){if(this.triggerViewEl.children&&this.triggerViewEl.children.length>1&&this.triggerViewEl.children[1].children&&this.triggerViewEl.children[1].children.length>0){return Array.from(this.triggerViewEl.children[1].children[0].children).filter(t=>t.tagName.toLowerCase()===c.TRIGGERVIEW_CHILD_SELECTOR)}return[]}return Array.from(this.triggerViewEl.children).filter(t=>t.tagName.toLowerCase()===c.TRIGGERVIEW_CHILD_SELECTOR)}_createSlidesWrappers(){this._externalWrapper=document.createElement("div"),this._externalWrapper.classList.add(c.TRIGGERVIEW_SLIDER_CONTAINER_CLASS),this._slidesWrapper=document.createElement("div"),this._slidesWrapper.classList.add(c.TRIGGERVIEW_SLIDES_WRAPPER_CLASS),this._externalWrapper.appendChild(this._slidesWrapper),this.triggerViewEl.appendChild(this._externalWrapper)}_computeSizes(){this._slidesGap=this._getSlidesGap()}_getSlidesGap(){/\d$/.test((0,r.getCSSCustomProperty)(this.triggerViewEl,"--ch5-triggerview-gap"))&&console.warn("Warning: it looks like --ch5-triggerview-gap has a unitless value.\n            Add CSS units to its value to avoid breaking the slides layout.");const t=this.triggerViewEl.querySelector(c.TRIGGERVIEW_CHILD_SELECTOR);if(t){const e=parseInt(window.getComputedStyle(t).getPropertyValue("margin-right"),10);return Number.isFinite(e)?e:0}return 0}_updateActiveSlideAttributes(){if(this.swiperIsActive()){const t=this._swiper.activeIndex;Array.from(this._swiper.slides).forEach((e,i)=>{i!==t?(e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true"),e.setAttribute("inert","true"),e.removeAttribute("selected")):(e.setAttribute("tabindex","1"),e.setAttribute("aria-hidden","false"),e.removeAttribute("inert"),e.setAttribute("selected",""))})}}_updateTriggerViewElActiveViewWhenChangedBySwiper(){this.triggerViewEl.setAttribute("activeView",String(this.getActiveIndex()))}_getSlidingSpeed(){return this.triggerViewEl.disableAnimation?0:this.triggerViewEl.gestureable?this._transitionSpeed:0}getSlidesArray(){return!this.swiperIsActive()||(0,a.isNil)(this._swiper)||(0,a.isNil)(this._swiper.slides)?(!this.ch5SwiperIsActive()||(0,a.isNil)(this._ch5Swiper)||(0,a.isNil)(this._ch5Swiper.slides),this.getTriggerViewChildSlides()):this._swiper.slides}}e.Ch5TriggerViewSlidesManager=c,c.TRIGGERVIEW_SLIDER_CONTAINER_CLASS="swiper",c.TRIGGERVIEW_SLIDES_WRAPPER_CLASS="swiper-wrapper",c.TRIGGERVIEW_SLIDE_CLASS="swiper-slide",c.TRIGGERVIEW_CHILD_SELECTOR="ch5-triggerview-child"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5TriggerViewSwiper=void 0;e.Ch5TriggerViewSwiper=class{constructor(t){this.slides=[],this._activeView=0}get activeView(){return this._activeView}set activeView(t){this._activeView=t}incrementActiveView(t){!0===t?this._activeView!==this.slides.length-1?this._activeView+=1:this._activeView=0:this._activeView!==this.slides.length-1&&(this._activeView+=1)}decrementActiveView(t){!0===t?0!==this._activeView?this._activeView-=1:this._activeView=this.slides.length-1:0!==this._activeView&&(this._activeView-=1)}}},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(49),e),n(i(101),e),n(i(289),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogMessage=void 0;const s=i(22);e.LogMessage=class{constructor(t,e){this.date={},this.level=s.LogLevelEnum.info,this.message="",this.source="";const i=new Date;this.date=i,this.message=t.message,this.level=t.level,this.source=t.source}getStringTime(){return`[${this.date.getHours()}:${this.date.getMinutes()}:${this.date.getSeconds()}]`}toString(){return`[level ${this.level}][${this.source}] ${this.getStringTime()} - ${this.message}`}}},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;const n=i(102),r=i(49),a=s(i(11)),o=i(100),l=i(14);class h{constructor(t,e){if(this._subscribeDockerStatus=new l.BehaviorSubject(""),this._appender={},this._logFilter=new o.LogMessagesFilter,this._messagesQueue=[],!(t instanceof n.AbstractAppender))throw Error("Appender is not defined");this.originalConsole={log:console.log,error:console.error,info:console.info,warn:console.warn},this.appender=t,this.addWindowErrorListener(),this.log=this.log.bind(this),this.info=this.info.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this),e&&(this.logFilter=e),this._appender.isInitializedSubject.subscribe(t=>{t&&this.checkAndAppendMessages()})}static getInstance(t,e){return void 0===h._instance&&(h._instance=new h(t,e)),h._instance}disconnect(){console.log=this.originalConsole.log,console.error=this.originalConsole.error,console.info=this.originalConsole.info,console.warn=this.originalConsole.warn,this.appender.closeSocketConnection()}get subscribeDockerStatus(){return this._subscribeDockerStatus}set subscribeDockerStatus(t){this._subscribeDockerStatus=t}set logFilter(t){(0,a.default)(t)?this._logFilter=new o.LogMessagesFilter:this._logFilter=new o.LogMessagesFilter(t.level,t.source,t.regularExpression)}get logFilter(){return this._logFilter}log(...t){const e=this.formatMessage(0,t.join(" "));this.queueMessage(e)}info(...t){const e=this.formatMessage(1,t.join(" "));this.queueMessage(e)}warn(t){const e=this.formatMessage(2,t);this.queueMessage(e)}error(t,e){const i=this.formatMessage(3,t);this.queueMessage(i)}windowErrorListener(t){t instanceof ErrorEvent?this.error(t.message,t.lineno):t instanceof CustomEvent&&this.error(t.detail)}restoreConsole(){console.log=this.originalConsole.log,console.error=this.originalConsole.error,console.info=this.originalConsole.info,console.warn=this.originalConsole.warn}addWindowErrorListener(){window.addEventListener("error",t=>{this.windowErrorListener(t)})}set appender(t){t instanceof n.AbstractAppender&&(this._appender=t)}get appender(){return this._appender}formatMessage(t,e){const i=e.indexOf(":"),s=i>-1?e.slice(0,i):"",n={level:t,message:i>-1?e.slice(i):e,source:s};return new r.LogMessage(n,this.logFilter)}checkAndAppendMessages(){for(;this._messagesQueue.length>0;){if(!this._appender.isInitialized)return;const t=this._messagesQueue.shift();t&&this.logFilter.applyFilter(t)&&this.appender.log(t)}}queueMessage(t){this._messagesQueue.push(t),this.checkAndAppendMessages()}}e.Logger=h},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(290),e),n(i(291),e),n(i(103),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLogger=void 0;const s=i(101);e.getLogger=function(t,e,i){const n=s.Logger.getInstance(t,i);return t.configObserver(n,!!i),e&&(console.log=n.log,console.error=n.error,console.info=n.info,console.warn=n.warn),n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRemoteAppender=void 0;const s=i(292),n=i(22);e.getRemoteAppender=function(t,e,i){const r={hostname:t,port:e,secure:i};return(new s.AppenderFactory).getAppender(n.AppendersEnum.remote,0,r)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppenderFactory=void 0;const s=i(22),n=i(293);e.AppenderFactory=class{getAppender(t,e=0,i){if(t===s.AppendersEnum.remote)return n.RemoteAppender.getInstance(e,i);throw new Error("Appender type is invalid")}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteAppender=void 0;const s=i(102),n=i(294),r=i(22),a=i(49);class o extends s.AbstractAppender{constructor(t,e){super(t),this.webSocket={},this._requestService={},this._address="",e.hostname&&e.port&&this.setIP(e)}static getInstance(t,e){return void 0===o._instance&&(o._instance=new o(t,e)),o._instance}closeSocketConnection(){this.webSocket&&this.webSocket.readyState&&1===this.webSocket.readyState&&this.webSocket.close()}log(t){this.sendLogTimeOffset.subscribe(()=>{this._requestService.post(r.LogEndpointsEnum.log,t)})}resetIP(t,e,i=!1){const s={hostname:t,port:e,secure:i};this.setIP(s)}setIP(t){if(""===t.hostname||""===t.port)return;const e=`${t.secure?"https":"http"}://${t.hostname}:${t.port}`;this._address=`${t.hostname}:${t.port}`,this.initialiseRequest(e)}configObserver(t,e){if(t.subscribeDockerStatus.next("DOCKER_CONNECTING"),!e){const e=this._requestService.get("configuration");e&&e instanceof Promise&&e.then(e=>{const i=e.data;t.logFilter=new a.LogMessagesFilter(i.level,i.source,i.regularExpression),this.isInitialized=!0,this.isInitializedSubject.next(this.isInitialized),t.subscribeDockerStatus.next("DOCKER_CONNECTED")})}this.webSocket=new WebSocket("ws://"+this._address),this.webSocket.onopen=()=>{this.webSocket.onmessage=e=>{const i=JSON.parse(e.data).filter;t.logFilter=new a.LogMessagesFilter(i.level,i.source,i.regularExpression),t.subscribeDockerStatus.next("DOCKER_CONNECTED")}},this.webSocket.onclose=e=>{let i="";3001!==e.code&&1e3!==e.code||(i="DOCKER_DISCONNECTED",this.webSocket={},t.logFilter=new a.LogMessagesFilter,this.isInitialized=!1,this.isInitializedSubject.next(this.isInitialized),t.subscribeDockerStatus.next(i))},this.webSocket.onerror=e=>{t.subscribeDockerStatus.next("DOCKER_ERROR")}}initialiseRequest(t){this._requestService=new n.RequestService(t)}}e.RemoteAppender=o},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(295),e)},function(t,e,i){"use strict";var s=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RequestService=void 0;const r=i(103),a=n(i(296));e.RequestService=class{constructor(t){this._uri="",this._requestAPI={},this.uri=t,this._requestAPI=a.default}post(t,e){return s(this,void 0,void 0,(function*(){return 200===(yield this._requestAPI.post(`${this._uri}/${t}`,JSON.stringify(e),{headers:{"content-type":"application/json;charset=utf8"}})).status}))}get(t){try{return this._requestAPI.get(`${this._uri}/${t}`)}catch(t){return!1}}set uri(t){if(!(0,r.uriSchemaValidation)(t))throw new Error("Invalid URI schema");this._uri=t}get uri(){return this._uri}}},function(t,e,i){t.exports=i(297)},function(t,e,i){"use strict";var s=i(9),n=i(104),r=i(298),a=i(110);function o(t){var e=new r(t),i=n(r.prototype.request,e);return s.extend(i,r.prototype,e),s.extend(i,e),i}var l=o(i(50));l.Axios=r,l.create=function(t){return o(a(l.defaults,t))},l.Cancel=i(111),l.CancelToken=i(313),l.isCancel=i(109),l.all=function(t){return Promise.all(t)},l.spread=i(314),l.isAxiosError=i(315),t.exports=l,t.exports.default=l},function(t,e,i){"use strict";var s=i(9),n=i(105),r=i(299),a=i(300),o=i(110),l=i(311),h=l.validators;function u(t){this.defaults=t,this.interceptors={request:new r,response:new r}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=o(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&l.assertOptions(e,{silentJSONParsing:h.transitional(h.boolean,"1.0.0"),forcedJSONParsing:h.transitional(h.boolean,"1.0.0"),clarifyTimeoutError:h.transitional(h.boolean,"1.0.0")},!1);var i=[],s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var n,r=[];if(this.interceptors.response.forEach((function(t){r.push(t.fulfilled,t.rejected)})),!s){var u=[a,void 0];for(Array.prototype.unshift.apply(u,i),u=u.concat(r),n=Promise.resolve(t);u.length;)n=n.then(u.shift(),u.shift());return n}for(var c=t;i.length;){var d=i.shift(),p=i.shift();try{c=d(c)}catch(t){p(t);break}}try{n=a(c)}catch(t){return Promise.reject(t)}for(;r.length;)n=n.then(r.shift(),r.shift());return n},u.prototype.getUri=function(t){return t=o(this.defaults,t),n(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},s.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,i){return this.request(o(i||{},{method:t,url:e,data:(i||{}).data}))}})),s.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,i,s){return this.request(o(s||{},{method:t,url:e,data:i}))}})),t.exports=u},function(t,e,i){"use strict";var s=i(9);function n(){this.handlers=[]}n.prototype.use=function(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){s.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=n},function(t,e,i){"use strict";var s=i(9),n=i(301),r=i(109),a=i(50);function o(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return o(t),t.headers=t.headers||{},t.data=n.call(t,t.data,t.headers,t.transformRequest),t.headers=s.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),s.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return o(t),e.data=n.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return r(e)||(o(t),e&&e.response&&(e.response.data=n.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,i){"use strict";var s=i(9),n=i(50);t.exports=function(t,e,i){var r=this||n;return s.forEach(i,(function(i){t=i.call(r,t,e)})),t}},function(t,e){var i,s,n=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{s="function"==typeof clearTimeout?clearTimeout:a}catch(t){s=a}}();var l,h=[],u=!1,c=-1;function d(){u&&l&&(u=!1,l.length?h=l.concat(h):c=-1,h.length&&p())}function p(){if(!u){var t=o(d);u=!0;for(var e=h.length;e;){for(l=h,h=[];++c<e;)l&&l[c].run();c=-1,e=h.length}l=null,u=!1,function(t){if(s===clearTimeout)return clearTimeout(t);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function m(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new g(t,e)),1!==h.length||u||o(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,i){"use strict";var s=i(9);t.exports=function(t,e){s.forEach(t,(function(i,s){s!==e&&s.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[s])}))}},function(t,e,i){"use strict";var s=i(108);t.exports=function(t,e,i){var n=i.config.validateStatus;i.status&&n&&!n(i.status)?e(s("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}},function(t,e,i){"use strict";var s=i(9);t.exports=s.isStandardBrowserEnv()?{write:function(t,e,i,n,r,a){var o=[];o.push(t+"="+encodeURIComponent(e)),s.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),s.isString(n)&&o.push("path="+n),s.isString(r)&&o.push("domain="+r),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,i){"use strict";var s=i(307),n=i(308);t.exports=function(t,e){return t&&!s(e)?n(t,e):e}},function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,i){"use strict";var s=i(9),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,r,a={};return t?(s.forEach(t.split("\n"),(function(t){if(r=t.indexOf(":"),e=s.trim(t.substr(0,r)).toLowerCase(),i=s.trim(t.substr(r+1)),e){if(a[e]&&n.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([i]):a[e]?a[e]+", "+i:i}})),a):a}},function(t,e,i){"use strict";var s=i(9);t.exports=s.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(t){var s=t;return e&&(i.setAttribute("href",s),s=i.href),i.setAttribute("href",s),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=n(window.location.href),function(e){var i=s.isString(e)?n(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0}},function(t,e,i){"use strict";var s=i(312),n={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){n[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}}));var r={},a=s.version.split(".");function o(t,e){for(var i=e?e.split("."):a,s=t.split("."),n=0;n<3;n++){if(i[n]>s[n])return!0;if(i[n]<s[n])return!1}return!1}n.transitional=function(t,e,i){var n=e&&o(e);function a(t,e){return"[Axios v"+s.version+"] Transitional option '"+t+"'"+e+(i?". "+i:"")}return function(i,s,o){if(!1===t)throw new Error(a(s," has been removed in "+e));return n&&!r[s]&&(r[s]=!0,console.warn(a(s," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(i,s,o)}},t.exports={isOlderVersion:o,assertOptions:function(t,e,i){if("object"!=typeof t)throw new TypeError("options must be an object");for(var s=Object.keys(t),n=s.length;n-- >0;){var r=s[n],a=e[r];if(a){var o=t[r],l=void 0===o||a(o,r,t);if(!0!==l)throw new TypeError("option "+r+" must be "+l)}else if(!0!==i)throw Error("Unknown option "+r)}},validators:n}},function(t){t.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(t,e,i){"use strict";var s=i(111);function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var i=this;t((function(t){i.reason||(i.reason=new s(t),e(i.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t;return{token:new n((function(e){t=e})),cancel:t}},t.exports=n},function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,i){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(317),e)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5Video=void 0;const n=i(3),r=i(1),a=i(1),o=i(8),l=i(5),h=i(2),u=i(4),c=i(29),d=i(318),p=i(38),g=i(319),m=i(320),b=s(i(0));class f extends n.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-video",this._elContainer={},this._fullScreenIcon={},this.responseObj={},this.shellCh5Background=document.getElementById("template-content-background"),this.parentCh5Background=null,this.INTERSECTION_RATIO_VALUE=.98,this.playValue=!0,this.lastResponseStatus="",this.lastRequestStatus="",this.orientationChanged=!1,this.isVideoPublished=!1,this.isFullScreen=!1,this.snapshotImage=new g.Ch5VideoSnapshot,this.videoErrorMessages=new Map,this.maxVideoCount=1,this.selectedVideo=0,this.retryCount=0,this.ch5UId=0,this.videoTouchHandler={},this.isTouchInProgress=!1,this.swipeDeltaCheckNum=1,this.touchCoordinates={startX:0,startY:0,endX:0,endY:0},this.signalHolder=[],this.handleOrientation=()=>{this.isFullScreen?(this.orientationChanged=!0,this.publishVideo("fullscreen")):this.elementIntersectionEntry.intersectionRatio>=this.INTERSECTION_RATIO_VALUE&&this.playValue&&this.show&&setTimeout(()=>{this.publishVideo("resize"),setTimeout(()=>{this.ch5BackgroundRequest("resize")},30)},70)},this.ignoreAttributes=["show","receiveStateShow","receivestateshowpulse","receivestatehidepulse","sendeventonshow"],this.logger.start("constructor()",f.ELEMENT_NAME),this._wasInstatiated||this.createInternalHtml(),this._wasInstatiated=!0,this._ch5Properties=new u.Ch5Properties(this,f.COMPONENT_PROPERTIES),this.updateCssClass(),this.setErrorMessages(),(0,r.subscribeState)("o","Csig.video.response",this._videoResponse.bind(this),this._errorResponse.bind(this)),(0,r.subscribeState)("b","Csig.Backlight_Off_fb",this.standByOff.bind(this))}set indexId(t){this._ch5Properties.set("indexId",t.trim())}get indexId(){return this._ch5Properties.get("indexId")}set aspectRatio(t){this._ch5Properties.set("aspectRatio",t,()=>{this.handleAspectRatio()})}get aspectRatio(){return this._ch5Properties.get("aspectRatio")}set stretch(t){this._ch5Properties.set("stretch",t,()=>{this.handleStretch()})}get stretch(){return this._ch5Properties.get("stretch")}set url(t){this._ch5Properties.set("url",t.trim(),()=>{this.sendEvent(this.sendEventSelectionURL,this.url),this.checkUrl()})}get url(){return this._ch5Properties.get("url")}set sourceType(t){this._ch5Properties.set("sourceType",t,()=>{this.sendEvent(this.sendEventSelectionSourceType,this.sourceType),this.videoIntersectionObserver()})}get sourceType(){return this._ch5Properties.get("sourceType")}set userId(t){this._ch5Properties.set("userId",t.trim(),()=>{(this.userId.trim().includes("@")||this.userId.trim().includes(":"))&&console.warn("Please avoid using '@' and ':' characters for userid and password"),this.videoIntersectionObserver()})}get userId(){return this._ch5Properties.get("userId")}set password(t){this._ch5Properties.set("password",t.trim(),()=>{(this.password.trim().includes("@")||this.password.trim().includes(":"))&&console.warn("Please avoid using '@' and ':' characters for userid and password"),this.videoIntersectionObserver()})}get password(){return this._ch5Properties.get("password")}set snapshotURL(t){this._ch5Properties.set("snapshotURL",t.trim(),()=>{this.sendEvent(this.sendEventSnapshotURL,this.snapshotURL),this.validateAndAttachSnapshot()})}get snapshotURL(){return this._ch5Properties.get("snapshotURL")}set snapshotRefreshRate(t){this._ch5Properties.set("snapshotRefreshRate",t,()=>{this.validateAndAttachSnapshot()})}get snapshotRefreshRate(){return this._ch5Properties.get("snapshotRefreshRate")}set snapshotUserId(t){this._ch5Properties.set("snapshotUserId",t,()=>{this.validateAndAttachSnapshot()})}get snapshotUserId(){return this._ch5Properties.get("snapshotUserId")}set snapshotPassword(t){this._ch5Properties.set("snapshotPassword",t,()=>{this.validateAndAttachSnapshot()})}get snapshotPassword(){return this._ch5Properties.get("snapshotPassword")}set size(t){this._ch5Properties.set("size",t,()=>{this.handleSize()})}get size(){return this._ch5Properties.get("size")}set receiveStatePlay(t){this._ch5Properties.set("receiveStatePlay",t,null,t=>{this.handleReceiveStatePlay(t)})}get receiveStatePlay(){return this._ch5Properties.get("receiveStatePlay")}set receiveStateSelect(t){this._ch5Properties.set("receiveStateSelect",t,null,t=>{this.selectedVideo!==t&&(this.selectedVideo=t,t>=0&&t<this.maxVideoCount&&(this.sendEvent(this.sendEventSelectionChange,this.selectedVideo),this.handleReceiveStateSelect(t)))})}get receiveStateSelect(){return this._ch5Properties.get("receiveStateSelect")}set receiveStateURL(t){this._ch5Properties.set("receiveStateURL",t,null)}get receiveStateURL(){return this._ch5Properties.get("receiveStateURL")}set receiveStateSourceType(t){this._ch5Properties.set("receiveStateSourceType",t,null)}get receiveStateSourceType(){return this._ch5Properties.get("receiveStateSourceType")}set receiveStateUserId(t){this._ch5Properties.set("receiveStateUserId",t,null)}get receiveStateUserId(){return this._ch5Properties.get("receiveStateUserId")}set receiveStatePassword(t){this._ch5Properties.set("receiveStatePassword",t,null)}get receiveStatePassword(){return this._ch5Properties.get("receiveStatePassword")}set receiveStateSnapshotURL(t){this._ch5Properties.set("receiveStateSnapshotURL",t,null)}get receiveStateSnapshotURL(){return this._ch5Properties.get("receiveStateSnapshotURL")}set receiveStateSnapshotRefreshRate(t){this._ch5Properties.set("receiveStateSnapshotRefreshRate",t,null)}get receiveStateSnapshotRefreshRate(){return this._ch5Properties.get("receiveStateSnapshotRefreshRate")}set receiveStateSnapshotUserId(t){this._ch5Properties.set("receiveStateSnapshotUserId",t,null)}get receiveStateSnapshotUserId(){return this._ch5Properties.get("receiveStateSnapshotUserId")}set receiveStateSnapshotPassword(t){this._ch5Properties.set("receiveStateSnapshotPassword",t,null)}get receiveStateSnapshotPassword(){return this._ch5Properties.get("receiveStateSnapshotPassword")}set receiveStateVideoCount(t){this._ch5Properties.set("receiveStateVideoCount",t,null,t=>{t>=1&&t<=32&&(this.maxVideoCount=t,this.selectedVideo>=0&&this.selectedVideo<this.maxVideoCount&&this.handleReceiveStateSelect(this.selectedVideo))})}get receiveStateVideoCount(){return this._ch5Properties.get("receiveStateVideoCount")}set sendEventOnClick(t){this._ch5Properties.set("sendEventOnClick",t)}get sendEventOnClick(){return this._ch5Properties.get("sendEventOnClick")}set sendEventSelectionChange(t){this._ch5Properties.set("sendEventSelectionChange",t)}get sendEventSelectionChange(){return this._ch5Properties.get("sendEventSelectionChange")}set sendEventSelectionSourceType(t){this._ch5Properties.set("sendEventSelectionSourceType",t)}get sendEventSelectionSourceType(){return this._ch5Properties.get("sendEventSelectionSourceType")}set sendEventSelectionURL(t){this._ch5Properties.set("sendEventSelectionURL",t)}get sendEventSelectionURL(){return this._ch5Properties.get("sendEventSelectionURL")}set sendEventSnapshotURL(t){this._ch5Properties.set("sendEventSnapshotURL",t)}get sendEventSnapshotURL(){return this._ch5Properties.get("sendEventSnapshotURL")}set sendEventState(t){this._ch5Properties.set("sendEventState",t)}get sendEventState(){return this._ch5Properties.get("sendEventState")}set sendEventErrorCode(t){this._ch5Properties.set("sendEventErrorCode",t)}get sendEventErrorCode(){return this._ch5Properties.get("sendEventErrorCode")}set sendEventErrorMessage(t){this._ch5Properties.set("sendEventErrorMessage",t)}get sendEventErrorMessage(){return this._ch5Properties.get("sendEventErrorMessage")}set sendEventRetryCount(t){this._ch5Properties.set("sendEventRetryCount",t)}get sendEventRetryCount(){return this._ch5Properties.get("sendEventRetryCount")}set sendEventResolution(t){this._ch5Properties.set("sendEventResolution",t)}get sendEventResolution(){return this._ch5Properties.get("sendEventResolution")}set sendEventSnapshotStatus(t){this._ch5Properties.set("sendEventSnapshotStatus",t)}get sendEventSnapshotStatus(){return this._ch5Properties.get("sendEventSnapshotStatus")}set sendEventSnapshotLastUpdateTime(t){this._ch5Properties.set("sendEventSnapshotLastUpdateTime",t)}get sendEventSnapshotLastUpdateTime(){return this._ch5Properties.get("sendEventSnapshotLastUpdateTime")}set show(t){this._ch5Properties.set("show",t,()=>{this.handleReceiveStateShow()})}get show(){return this._ch5Properties.get("show")}set receiveStateShow(t){this._ch5Properties.set("receiveStateShow",t,null,t=>{this._ch5Properties.setForSignalResponse("show",t,()=>{this.handleReceiveStateShow()})})}get receiveStateShow(){return this._ch5Properties.get("receiveStateShow")}static registerSignalAttributeTypes(){h.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(f.ELEMENT_NAME,f.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(f.ELEMENT_NAME)&&window.customElements.define(f.ELEMENT_NAME,f)}static get observedAttributes(){const t=n.Ch5Common.observedAttributes,e=[];for(let t=0;t<f.COMPONENT_PROPERTIES.length;t++)!0===f.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(f.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-video attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=f.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()",f.ELEMENT_NAME),this.hasAttribute("role")||this.setAttribute("role",l.Ch5RoleAttributeMapping.ch5Video),this._elContainer.parentElement!==this&&this.appendChild(this._elContainer),this.ch5UId=parseInt(this.getCrId().split("cr-id-")[1],0),this.setAttribute("data-ch5-id",this.getCrId()),this.attachEventListeners(),this.initAttributes(),this.initCommonMutationObserver(this),this.sendEvent(this.sendEventState,0),this.handleMultiVideo(),customElements.whenDefined("ch5-video").then(()=>{this.componentLoadedEvent(f.ELEMENT_NAME,this.getCrId())}),c.Ch5CoreIntersectionObserver.getInstance().observe(this,this.videoIntersectionObserver.bind(this)),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),this.clearMultiSignal(),this.publishVideo(d.CH5VideoUtils.VIDEO_ACTION.STOP),!0===this.isVideoPublished&&this.refillBackground(),this.selectedVideo=0,this.maxVideoCount=1,this.logger.stop()}createInternalHtml(){this.logger.start("createInternalHtml()"),this.clearComponentContent(),this._elContainer=document.createElement("div"),this._elContainer.classList.add(this.primaryCssClass),this._fullScreenIcon=document.createElement("a"),this._fullScreenIcon.classList.add("full-screen-icon"),this._fullScreenIcon.classList.add("hide"),this._fullScreenIcon.innerHTML=f.SVG_ICONS.FULLSCREEN_ICON,this._elContainer.appendChild(this._fullScreenIcon),this._elContainer.appendChild(this.snapshotImage.getImage()),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<f.COMPONENT_PROPERTIES.length;e++)if(!0===f.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(f.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=f.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}attachEventListeners(){super.attachEventListeners(),this._elContainer.addEventListener("click",this._manageControls.bind(this)),this._fullScreenIcon.addEventListener("click",this.toggleFullScreen.bind(this)),window.addEventListener("resize",this.handleOrientation)}removeEventListeners(){super.removeEventListeners(),this._elContainer.removeEventListener("click",this._manageControls.bind(this)),this._fullScreenIcon.removeEventListener("click",this.toggleFullScreen.bind(this)),window.removeEventListener("resize",this.handleOrientation)}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}clearComponentContent(){const t=this.getElementsByTagName("div");Array.from(t).forEach(t=>{t.remove()})}standByOff(t){var e,i;!1===t&&(null===(e=this.responseObj)||void 0===e?void 0:e.id)&&(null===(i=this.responseObj)||void 0===i?void 0:i.id)===this.ch5UId&&this.isFullScreen&&(this.orientationChanged=!0)}handleAspectRatio(){Array.from(f.COMPONENT_DATA.ASPECT_RATIO.values).forEach(t=>{this._elContainer.classList.remove(this.primaryCssClass+f.COMPONENT_DATA.ASPECT_RATIO.classListPrefix+t.replace(":","-"))}),this._elContainer.classList.add(this.primaryCssClass+f.COMPONENT_DATA.ASPECT_RATIO.classListPrefix+this.aspectRatio.replace(":","-"))}handleStretch(){!0===this.stretch?(this._elContainer.classList.add(this.primaryCssClass+"--stretch-true"),this.style.width="100%",this.style.height="100%"):(this._elContainer.classList.remove(this.primaryCssClass+"--stretch-true"),this.style.removeProperty("width"),this.style.removeProperty("height"))}handleSize(){Array.from(f.COMPONENT_DATA.SIZE.values).forEach(t=>{this._elContainer.classList.remove(this.primaryCssClass+f.COMPONENT_DATA.SIZE.classListPrefix+t)}),this._elContainer.classList.add(this.primaryCssClass+f.COMPONENT_DATA.SIZE.classListPrefix+this.size)}handleReceiveStatePlay(t){this.playValue=t,!1===this.playValue?(this.snapshotImage.stopLoadingSnapshot(),this.isFullScreen&&(this.orientationChanged=!0),this.sendEvent(this.sendEventSnapshotStatus,0),this.publishVideo(d.CH5VideoUtils.VIDEO_ACTION.STOP)):this.isFullScreen?this.publishVideo("start"):this.videoIntersectionObserver()}handleReceiveStateSelect(t){const e=this.signalHolder[t].url.value;e&&this.urlCB(e);const i=this.signalHolder[t].userId.value;i&&this.userIdCB(i);const s=this.signalHolder[t].password.value;s&&this.passwordCB(s);const n=this.signalHolder[t].sourceType.value;n&&this.sourceTypeCB(n);const r=this.signalHolder[t].snapshotURL.value;r&&this.snapshotURLCB(r);const a=this.signalHolder[t].snapshotUserId.value;a&&this.snapshotUserIdCB(a);const o=this.signalHolder[t].snapshotPassword.value;o&&this.snapshotPasswordCB(o);const l=this.signalHolder[t].snapshotRefreshRate.value;l&&this.snapshotRefreshRateCB(l)}handleReceiveStateShow(){!0===this.show?this.isFullScreen?this.publishVideo("start"):this.videoIntersectionObserver():(this.publishVideo(d.CH5VideoUtils.VIDEO_ACTION.STOP),this.refillBackground())}updateCssClass(){this.logger.start("UpdateCssClass"),super.updateCssClasses(),this._elContainer.classList.add(this.primaryCssClass+f.COMPONENT_DATA.ASPECT_RATIO.classListPrefix+this.aspectRatio.replace(":","-")),this._elContainer.classList.add(this.primaryCssClass+f.COMPONENT_DATA.SIZE.classListPrefix+this.size),this.logger.stop()}getTargetElementForCssClassesAndStyle(){return this._elContainer}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}stopAndRefill(){this.ch5BackgroundRequest(d.CH5VideoUtils.VIDEO_ACTION.REFILL),this.publishVideo("stop")}videoIntersectionObserver(){this.elementIntersectionEntry.intersectionRatio>=this.INTERSECTION_RATIO_VALUE&&this.playValue&&this.show?(this.validateAndAttachSnapshot(),this.videoInViewPort()):this.videoNotInViewport(),this.elementIntersectionEntry.intersectionRatio>.1&&this.playValue?this.addTouchEvent():(this.stopAndRefill(),this.removeTouchEvent())}videoInViewPort(){this.snapshotImage.startLoadingSnapshot(),clearTimeout(this.isSwipeDebounce),this.isSwipeDebounce=setTimeout(()=>{this.publishVideo(d.CH5VideoUtils.VIDEO_ACTION.START)},300)}videoNotInViewport(){this.isFullScreen||(this.publishVideo(d.CH5VideoUtils.VIDEO_ACTION.STOP),this.ch5BackgroundRequest(d.CH5VideoUtils.VIDEO_ACTION.REFILL))}videoStopObjJSON(t,e){const i={action:t,id:e};return this.sendEvent(this.sendEventState,3),i}videoStartObjJSON(t){let{left:e,top:i,width:s,height:n}=this._elContainer.getBoundingClientRect();(t===d.CH5VideoUtils.VIDEO_ACTION.FULLSCREEN||this.isFullScreen)&&(t===d.CH5VideoUtils.VIDEO_ACTION.FULLSCREEN&&(t=d.CH5VideoUtils.VIDEO_ACTION.RESIZE),e=0,i=0,s=window.innerWidth,n=window.innerHeight,window.innerWidth<window.innerHeight?"4:3"===this.aspectRatio?(s=window.innerWidth,n=window.innerWidth/4*3,i=(window.innerHeight-n)/2):(s=window.innerWidth,n=window.innerWidth/16*9,i=(window.innerHeight-n)/2):"4:3"===this.aspectRatio?(n=window.innerHeight,s=window.innerHeight/3*4,s>window.innerWidth&&(s=window.innerWidth),e=(window.innerWidth-s)/2):(n=window.innerHeight,s=window.innerHeight/9*16,s>window.innerWidth&&(s=window.innerWidth),e=(window.innerWidth-s)/2));const r={action:t,id:this.ch5UId,credentials:{userid:this.userId,password:this.password},source:{type:this.sourceType,url:this.url},location:{top:Math.ceil(i),left:Math.ceil(e),width:Math.ceil(s),height:Math.ceil(n),z:0},alphablend:!this.isFullScreen,starttime:(new Date).getMilliseconds(),endtime:(new Date).getMilliseconds()+2e3,timing:"linear"};return this.sendEvent(this.sendEventResolution,s+"x"+n),r}validateVideoUrl(t){return t.startsWith("rtsp://")||t.startsWith("http://")||t.startsWith("https://")}publishVideo(t){var e,i,s,n;switch(t){case"start":if(""===this.url||!1===this.validateVideoUrl(this.url))return this.checkUrl();this.isVideoPublished=!0,(null===(e=this.responseObj)||void 0===e?void 0:e.id)&&(null===(i=this.responseObj)||void 0===i?void 0:i.id)!==this.ch5UId&&"started"===(null===(s=this.responseObj)||void 0===s?void 0:s.status)?((0,p.publishEvent)("o","Csig.video.request",this.videoStopObjJSON("stop",null===(n=this.responseObj)||void 0===n?void 0:n.id)),setTimeout(()=>{(0,p.publishEvent)("o","Csig.video.request",this.videoStartObjJSON("start"))},300)):(0,p.publishEvent)("o","Csig.video.request",this.videoStartObjJSON("start"));break;case"stop":if(!1===this.isVideoPublished)return;window.clearTimeout(this.stopDebounce),this.stopDebounce=window.setTimeout(()=>(0,p.publishEvent)("o","Csig.video.request",this.videoStopObjJSON(t,this.ch5UId)),300);break;case d.CH5VideoUtils.VIDEO_ACTION.RESIZE:case d.CH5VideoUtils.VIDEO_ACTION.FULLSCREEN:if(!1===this.isVideoPublished)return;(0,p.publishEvent)("o","Csig.video.request",this.videoStartObjJSON(t))}this.lastRequestStatus=t}_videoResponse(t){this.responseObj="string"==typeof t?JSON.parse(t):t;const e=!Object.keys(t).length;if(this.responseObj.id===this.ch5UId&&!e&&!e&&-1!==this.responseObj.id&&this.responseObj.id&&this.ch5UId===this.responseObj.id&&"queued"!==this.responseObj.status){switch(this.lastResponseStatus=this.responseObj.status.toLowerCase(),"started"===this.lastResponseStatus||"resize"===this.lastRequestStatus&&"resized"===this.lastResponseStatus||this._fullScreenIcon.classList.add("hide"),this.responseObj.status.toLowerCase()){case"started":this.ch5BackgroundRequest("started"),this.sendEvent(this.sendEventState,2);break;case"stopped":this.ch5BackgroundRequest("stop"),this.sendEvent(this.sendEventState,1);break;case"error":this.ch5BackgroundRequest("error"),this.sendEvent(this.sendEventState,7);break;case"connecting":this.sendEvent(this.sendEventState,4);break;case"retrying":this.sendEvent(this.sendEventState,6),this.retryCount=this.retryCount+1,this.sendEvent(this.sendEventRetryCount,this.retryCount);break;case"buffering":this.sendEvent(this.sendEventState,5);break;default:this.logger.log("video is in "+this.responseObj.status.toLowerCase()+" state")}this.sendEvent(this.sendEventErrorCode,Number(this.responseObj.statuscode)),this.sendEvent(this.sendEventErrorMessage,this.videoErrorMessages.get(Number(this.responseObj.statuscode))||"Unknown Error Message")}}_errorResponse(t){this.info("Ch5Video - Error when the video response",t)}sendEvent(t,e){var i,s,n,r;if(0!==(null==t?void 0:t.trim().length)&&null!=t)switch(typeof e){case"boolean":null===(i=a.Ch5SignalFactory.getInstance().getBooleanSignal(t))||void 0===i||i.publish(!0),null===(s=a.Ch5SignalFactory.getInstance().getBooleanSignal(t))||void 0===s||s.publish(!1);break;case"string":null===(n=a.Ch5SignalFactory.getInstance().getStringSignal(t))||void 0===n||n.publish(e);break;case"number":null===(r=a.Ch5SignalFactory.getInstance().getNumberSignal(t))||void 0===r||r.publish(e)}}ch5BackgroundRequest(t){switch(t){case"nourl":this.clearBackgroundOfVideoWrapper(!1),this.snapshotImage.stopLoadingSnapshot(),this.sendEvent(this.sendEventSnapshotStatus,0),this._elContainer.style.borderBottom="1rem solid #828282";break;case"refill":if(!1===this.isVideoPublished)return;this.ch5BackgroundAction("refill");break;case"resize":this.ch5BackgroundAction("resize");break;case"started":this.clearBackgroundOfVideoWrapper(!0),this._elContainer.style.removeProperty("border-bottom"),this.snapshotImage.stopLoadingSnapshot(),this.sendEvent(this.sendEventSnapshotStatus,0),this.ch5BackgroundAction("started");break;case"stop":this.clearBackgroundOfVideoWrapper(!1),this._elContainer.style.removeProperty("border-bottom"),this.ch5BackgroundAction("stop");break;case"error":this.clearBackgroundOfVideoWrapper(!1),this._elContainer.style.borderBottom="1rem solid #CF142B"}}ch5BackgroundAction(t){var e,i;const s={action:t,id:this.getCrId(),top:this._elContainer.getBoundingClientRect().top,left:this._elContainer.getBoundingClientRect().left,width:this._elContainer.getBoundingClientRect().width,height:this._elContainer.getBoundingClientRect().height};s.width<=0||s.height<=0||""===s.id||(null===this.parentCh5Background&&(this.parentCh5Background=this.getParentBackground()),null===(e=this.shellCh5Background)||void 0===e||e.videoBGRequest(s),this.shellCh5Background!==this.parentCh5Background&&(null===(i=this.parentCh5Background)||void 0===i||i.videoBGRequest(s)))}clearBackgroundOfVideoWrapper(t){this._elContainer.style.background=t?"transparent":"black"}_manageControls(){if(this.sendEvent(this.sendEventOnClick,!0),this.isFullScreen)return this._elContainer.removeEventListener("touchmove",this.handleTouchEventOnFullScreen,!1),void this._exitFullScreen();("started"===this.lastResponseStatus||"resize"===this.lastRequestStatus&&"resized"===this.lastResponseStatus)&&this._fullScreenIcon.classList.remove("hide"),clearTimeout(this.controlTimer),this.controlTimer=setTimeout(()=>{this._fullScreenIcon.classList.add("hide")},1e4)}toggleFullScreen(t){this.isFullScreen=!0,this.orientationChanged=!1,this._elContainer.addEventListener("touchmove",this.handleTouchEventOnFullScreen,{passive:!0}),this.classList.add("full-screen"),this._fullScreenIcon.classList.add("hide"),document.body.classList.add("ch5-video-fullscreen"),this.publishVideo(d.CH5VideoUtils.VIDEO_ACTION.FULLSCREEN),t.stopPropagation()}_exitFullScreen(){this.isFullScreen=!1,this.classList.remove("full-screen"),document.body.classList.remove("ch5-video-fullscreen"),this.orientationChanged?(this.ch5BackgroundRequest("refill"),this.publishVideo("stop"),this.videoIntersectionObserver()):(this.publishVideo("resize"),setTimeout(()=>{this.ch5BackgroundRequest("resize")},100))}handleTouchEventOnFullScreen(t){t.preventDefault(),t.stopImmediatePropagation()}handleMultiVideo(){var t;const e=(null===(t=this.getAttribute("indexid"))||void 0===t?void 0:t.trim())+""||this.indexId;for(let t=0;t<32;t++){const i=this.receiveStateURL.replace(`{{${e}}}`,t.toString()),s=this.receiveStateUserId.replace(`{{${e}}}`,t.toString()),n=this.receiveStatePassword.replace(`{{${e}}}`,t.toString()),r=this.receiveStateSourceType.replace(`{{${e}}}`,t.toString()),a=this.receiveStateSnapshotURL.replace(`{{${e}}}`,t.toString()),o=this.receiveStateSnapshotUserId.replace(`{{${e}}}`,t.toString()),l=this.receiveStateSnapshotPassword.replace(`{{${e}}}`,t.toString()),h=this.receiveStateSnapshotRefreshRate.replace(`{{${e}}}`,t.toString());if(this.signalHolder.push({url:{signalState:"",url:i,value:null},userId:{signalState:"",userId:s,value:null},password:{signalState:"",password:n,value:null},sourceType:{signalState:"",sourceType:r,value:null},snapshotURL:{signalState:"",snapshotURL:a,value:null},snapshotUserId:{signalState:"",snapshotUserId:o,value:null},snapshotPassword:{signalState:"",snapshotPassword:l,value:null},snapshotRefreshRate:{signalState:"",snapshotRefreshRate:h,value:null}}),i){const e=this.setSignalByString(i);b.default.isNil(e)||(this.signalHolder[t].url.signalState=e.subscribe(e=>{this.signalHolder[t].url.value=e,this.selectedVideo===t&&this.maxVideoCount>this.selectedVideo&&this.urlCB(e)}))}if(s){const e=this.setSignalByString(s);b.default.isNil(e)||(this.signalHolder[t].userId.signalState=e.subscribe(e=>{this.signalHolder[t].userId.value=e,this.selectedVideo===t&&this.maxVideoCount>this.selectedVideo&&this.userIdCB(e)}))}if(n){const e=this.setSignalByString(n);b.default.isNil(e)||(this.signalHolder[t].password.signalState=e.subscribe(e=>{this.signalHolder[t].password.value=e,this.selectedVideo===t&&this.maxVideoCount>this.selectedVideo&&this.passwordCB(e)}))}if(r){const e=this.setSignalByString(r);b.default.isNil(e)||(this.signalHolder[t].sourceType.signalState=e.subscribe(e=>{this.signalHolder[t].sourceType.value=e,this.selectedVideo===t&&this.maxVideoCount>this.selectedVideo&&this.sourceTypeCB(e)}))}if(a){const e=this.setSignalByString(a);b.default.isNil(e)||(this.signalHolder[t].snapshotURL.signalState=e.subscribe(e=>{this.signalHolder[t].snapshotURL.value=e,this.selectedVideo===t&&this.maxVideoCount>this.selectedVideo&&this.snapshotURLCB(e)}))}if(o){const e=this.setSignalByString(o);b.default.isNil(e)||(this.signalHolder[t].snapshotUserId.signalState=e.subscribe(e=>{this.signalHolder[t].snapshotUserId.value=e,this.selectedVideo===t&&this.maxVideoCount>this.selectedVideo&&this.snapshotUserIdCB(e)}))}if(l){const e=this.setSignalByString(l);b.default.isNil(e)||(this.signalHolder[t].snapshotPassword.signalState=e.subscribe(e=>{this.signalHolder[t].snapshotPassword.value=e,this.selectedVideo===t&&this.maxVideoCount>this.selectedVideo&&this.snapshotPasswordCB(e)}))}if(h){const e=this.setSignalByNumber(h);b.default.isNil(e)||(this.signalHolder[t].snapshotRefreshRate.signalState=e.subscribe(e=>{this.signalHolder[t].snapshotRefreshRate.value=e,this.selectedVideo===t&&this.maxVideoCount>this.selectedVideo&&this.snapshotRefreshRateCB(e)}))}}}setSignalByNumber(t){const e=o.Ch5Signal.getSubscriptionSignalName(t),i=a.Ch5SignalFactory.getInstance().getNumberSignal(e);return null===i?null:i}setSignalByString(t){const e=o.Ch5Signal.getSubscriptionSignalName(t),i=a.Ch5SignalFactory.getInstance().getStringSignal(e);return null===i?null:i}addTouchEvent(){this.videoTouchHandler=new m.Ch5VideoTouchManager({onTouchStartHandler:this.touchBeginHandler.bind(this),onTouchMoveHandler:this.touchMoveHandler.bind(this),onTouchEndHandler:this.touchEndHandler.bind(this),onTouchCancelHandler:this.touchEndHandler.bind(this),pollingDuration:300,componentID:this.getCrId()})}removeTouchEvent(){this.videoTouchHandler&&null!==this.videoTouchHandler&&void 0!==this.videoTouchHandler&&this.videoTouchHandler.destructor&&this.videoTouchHandler.destructor()}touchBeginHandler(){const t=this._elContainer.getBoundingClientRect();this.touchCoordinates.startX=t.left,this.touchCoordinates.startY=t.top,this.isTouchInProgress=!1}touchMoveHandler(){if(!this.isTouchInProgress){const t=this._elContainer.getBoundingClientRect();this.touchCoordinates.endX=t.left,this.touchCoordinates.endY=t.top,(Math.abs(this.touchCoordinates.startX-this.touchCoordinates.endX)>this.swipeDeltaCheckNum||Math.abs(this.touchCoordinates.startY-this.touchCoordinates.endY)>this.swipeDeltaCheckNum)&&(this.isTouchInProgress=!0,this.clearBackgroundOfVideoWrapper(!1),this.ch5BackgroundRequest(d.CH5VideoUtils.VIDEO_ACTION.STOP),this.publishVideo(d.CH5VideoUtils.VIDEO_ACTION.STOP))}}touchEndHandler(){this.isTouchInProgress?setTimeout(()=>this.videoIntersectionObserver(),100):this.isTouchInProgress=!1}validateAndAttachSnapshot(){""===this.snapshotURL.trim()?this.sendEvent(this.sendEventSnapshotStatus,0):""!==this.snapshotURL.trim()&&""!==this.url&&(this.snapshotImage.url=this.snapshotURL,this.snapshotImage.userId=this.snapshotUserId,this.snapshotImage.password=this.snapshotPassword,this.snapshotImage.refreshRate=this.snapshotRefreshRate,this.snapshotImage.sendEventSnapshotStatus=this.sendEventSnapshotStatus,this.snapshotImage.sendEventSnapshotLastUpdateTime=this.sendEventSnapshotLastUpdateTime,"started"!==this.lastResponseStatus&&(!0===this.playValue&&this.snapshotImage.startLoadingSnapshot(),!1===this.snapshotImage.getImage().isConnected&&this._elContainer.appendChild(this.snapshotImage.getImage())))}getParentBackground(){const t=e=>e&&e.classList.contains("ch5-background--parent")?e.getElementsByTagName("ch5-background")[0]:t(e.parentElement);return t(this.parentElement)}checkUrl(){""===this.url?(this.ch5BackgroundRequest("nourl"),this.publishVideo(d.CH5VideoUtils.VIDEO_ACTION.STOP)):!1===this.validateVideoUrl(this.url)?(this.sendEvent(this.sendEventErrorMessage,"Invalid URL"),this.sendEvent(this.sendEventErrorCode,-9002),this.ch5BackgroundRequest(d.CH5VideoUtils.VIDEO_ACTION.ERROR),this.publishVideo(d.CH5VideoUtils.VIDEO_ACTION.STOP)):this.videoIntersectionObserver()}refillBackground(){var t,e;null===(t=this.shellCh5Background)||void 0===t||t.refillBackground(),this.shellCh5Background!==this.parentCh5Background&&(null===(e=this.parentCh5Background)||void 0===e||e.refillBackground())}setErrorMessages(){this.videoErrorMessages.set(0,"success"),this.videoErrorMessages.set(-1,"connection refused / camera offline"),this.videoErrorMessages.set(-2,"no network"),this.videoErrorMessages.set(-1001,"Credentials required or invalid"),this.videoErrorMessages.set(-1002,"Hostname invalid"),this.videoErrorMessages.set(-1003,"Unsupported codec"),this.videoErrorMessages.set(-9001,"Unsupported source type"),this.videoErrorMessages.set(-9002,"Invalid URL"),this.videoErrorMessages.set(-9003,"Request for greater than maximum simultaneous sessions per source type"),this.videoErrorMessages.set(-9004,"Request for greater than maximum simultaneous sessions per device"),this.videoErrorMessages.set(-9007,"Unknown Error Message")}urlCB(t){this._ch5Properties.setForSignalResponse("url",t,()=>{this.sendEvent(this.sendEventSelectionURL,this.url),this.checkUrl()})}userIdCB(t){this._ch5Properties.setForSignalResponse("userId",t,()=>{this.videoIntersectionObserver()})}passwordCB(t){this._ch5Properties.setForSignalResponse("password",t,()=>{this.videoIntersectionObserver()})}sourceTypeCB(t){this._ch5Properties.setForSignalResponse("sourceType",t,()=>{this.sendEvent(this.sendEventSelectionSourceType,this.sourceType),this.videoIntersectionObserver()})}snapshotURLCB(t){this._ch5Properties.setForSignalResponse("snapshotURL",t,()=>{this.sendEvent(this.sendEventSnapshotURL,this.snapshotURL),this.validateAndAttachSnapshot()})}snapshotUserIdCB(t){this._ch5Properties.setForSignalResponse("snapshotUserId",t,()=>{this.validateAndAttachSnapshot()})}snapshotPasswordCB(t){this._ch5Properties.setForSignalResponse("snapshotPassword",t,()=>{this.validateAndAttachSnapshot()})}snapshotRefreshRateCB(t){this._ch5Properties.setForSignalResponse("snapshotRefreshRate",t,()=>{this.validateAndAttachSnapshot()})}clearOldSubscriptionNumber(t,e){const i=o.Ch5Signal.getSubscriptionSignalName(t),s=a.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==s&&s.unsubscribe(e)}clearOldSubscriptionString(t,e){const i=o.Ch5Signal.getSubscriptionSignalName(t),s=a.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==s&&s.unsubscribe(e)}clearMultiSignal(){this.signalHolder.forEach(t=>{this.clearOldSubscriptionString(t.url.signalValue,t.url.signalState),this.clearOldSubscriptionString(t.userId.signalValue,t.userId.signalState),this.clearOldSubscriptionString(t.password.signalValue,t.password.signalState),this.clearOldSubscriptionString(t.sourceType.signalValue,t.sourceType.signalState),this.clearOldSubscriptionString(t.snapshotURL.signalValue,t.snapshotURL.signalState),this.clearOldSubscriptionString(t.snapshotUserId.signalValue,t.snapshotUserId.signalState),this.clearOldSubscriptionString(t.snapshotPassword.signalValue,t.snapshotPassword.signalState),this.clearOldSubscriptionNumber(t.snapshotRefreshRate.signalValue,t.snapshotRefreshRate.signalState)})}}e.Ch5Video=f,f.SVG_ICONS={FULLSCREEN_ICON:'<svg xmlns="http://www.w3.org/2000/svg" class="svgIconStyle" class="svgIconStyle" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>'},f.ASPECT_RATIO=["16:9","4:3"],f.SOURCE_TYPE=["Network"],f.SIZE=["regular","x-small","small","large","x-large","xx-large"],f.COMPONENT_DATA={ASPECT_RATIO:{default:f.ASPECT_RATIO[0],values:f.ASPECT_RATIO,key:"aspectRatio",attribute:"aspectRatio",classListPrefix:"--aspect-ratio-"},SIZE:{default:f.SIZE[0],values:f.SIZE,key:"size",attribute:"size",classListPrefix:"--size-"}},f.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestateplay:{direction:"state",booleanJoin:1,contractName:!0},receivestateselect:{direction:"state",numericJoin:1,contractName:!0},receivestateurl:{direction:"state",stringJoin:1,contractName:!0},receivestatesourcetype:{direction:"state",stringJoin:1,contractName:!0},receivestateuserid:{direction:"state",stringJoin:1,contractName:!0},receivestatepassword:{direction:"state",stringJoin:1,contractName:!0},receivestatesnapshoturl:{direction:"state",stringJoin:1,contractName:!0},receivestatesnapshotrefreshrate:{direction:"state",numericJoin:1,contractName:!0},receivestatesnapshotuserid:{direction:"state",stringJoin:1,contractName:!0},receivestatesnapshotpassword:{direction:"state",stringJoin:1,contractName:!0},receivestatevideocount:{direction:"state",numericJoin:1,contractName:!0},sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0},sendeventselectionchange:{direction:"event",numericJoin:1,contractName:!0},sendeventselectionsourcetype:{direction:"event",stringJoin:1,contractName:!0},sendeventselectionurl:{direction:"event",stringJoin:1,contractName:!0},sendeventsnapshoturl:{direction:"event",stringJoin:1,contractName:!0},sendeventstate:{direction:"event",numericJoin:1,contractName:!0},sendeventerrorcode:{direction:"event",numericJoin:1,contractName:!0},sendeventerrormessage:{direction:"event",stringJoin:1,contractName:!0},sendeventretrycount:{direction:"event",numericJoin:1,contractName:!0},sendeventresolution:{direction:"event",stringJoin:1,contractName:!0},sendeventsnapshotstatus:{direction:"event",numericJoin:1,contractName:!0},sendeventsnapshotlastupdatetime:{direction:"event",stringJoin:1,contractName:!0}}),f.COMPONENT_PROPERTIES=[{default:"",name:"indexId",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:f.ASPECT_RATIO[0],enumeratedValues:f.ASPECT_RATIO,name:"aspectRatio",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:f.ASPECT_RATIO[0],isObservableProperty:!0},{default:!1,name:"stretch",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!1,isObservableProperty:!0},{default:"",name:"url",nameForSignal:"receiveStateURL",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:f.SOURCE_TYPE[0],enumeratedValues:f.SOURCE_TYPE,name:"sourceType",removeAttributeOnNull:!0,nameForSignal:"receiveStateSourceType",type:"enum",valueOnAttributeEmpty:f.SOURCE_TYPE[0],isObservableProperty:!0},{default:"",name:"userId",nameForSignal:"receiveStateUserId",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"password",nameForSignal:"receiveStatePassword",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"snapshotURL",nameForSignal:"receiveStateSnapshotURL",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:5,name:"snapshotRefreshRate",removeAttributeOnNull:!0,nameForSignal:"receiveStateSnapshotRefreshRate",type:"number",valueOnAttributeEmpty:null,numberProperties:{min:0,max:60,conditionalMin:0,conditionalMax:60,conditionalMinValue:0,conditionalMaxValue:60},isObservableProperty:!0},{default:"",name:"snapshotUserId",nameForSignal:"receiveStateSnapshotUserId",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",name:"snapshotPassword",nameForSignal:"receiveStateSnapshotPassword",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:f.SIZE[0],enumeratedValues:f.SIZE,name:"size",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:f.SIZE[0],isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStatePlay",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:!0,name:"show",nameForSignal:"receiveStateShow",removeAttributeOnNull:!0,type:"boolean",valueOnAttributeEmpty:!0,isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateShow",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateSelect",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateURL",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateSourceType",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateUserId",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStatePassword",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateSnapshotURL",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateSnapshotRefreshRate",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateSnapshotUserId",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateSnapshotPassword",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateVideoCount",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventOnClick",signalType:"boolean",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventSelectionChange",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventSelectionSourceType",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventSelectionURL",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventSnapshotURL",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventState",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventErrorCode",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventErrorMessage",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventRetryCount",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventResolution",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventSnapshotStatus",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:"",isSignal:!0,name:"sendEventSnapshotLastUpdateTime",signalType:"string",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0}],f.ELEMENT_NAME="ch5-video",f.registerCustomElement(),f.registerSignalAttributeTypes()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CH5VideoUtils=void 0;class s{}e.CH5VideoUtils=s,s.VIDEO_ACTION={START:"start",STARTED:"started",STOP:"stop",STOPPED:"stopped",RESIZE:"resize",RESIZED:"resized",REFILL:"refill",SNAPSHOT:"snapshot",MARK:"mark",NOURL:"nourl",FULLSCREEN:"fullscreen",ERROR:"error",EMPTY:""}},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5VideoSnapshot=void 0;const n=s(i(0)),r=i(64),a=i(1);e.Ch5VideoSnapshot=class{constructor(){this.url="",this.userId="",this.password="",this.refreshRate=5,this.snapshotTimer=null,this.videoImage=new Image,this.sendEventSnapshotStatus="",this.sendEventSnapshotLastUpdateTime="",this.videoImage.alt="Video Snapshot",this.videoImage.classList.add("hide")}startLoadingSnapshot(){""!==this.url.trim()&&-1!==this.refreshRate&&(this.canProcessUri()&&!this.url.startsWith("ch5-img")&&this.processUri(),this.snapshotTimer&&(window.clearInterval(this.snapshotTimer),this.snapshotTimer=null),this.setSnapshot(),this.videoImage.classList.remove("hide"),0!==this.refreshRate&&(this.snapshotTimer=window.setInterval(()=>{this.snapshotTimer&&this.setSnapshot()},1e3*this.refreshRate,0)))}stopLoadingSnapshot(){this.videoImage.removeAttribute("src"),window.clearInterval(this.snapshotTimer),this.snapshotTimer=null,this.videoImage.classList.add("hide")}splitUrl(){const t=this.url.split("@")[0].split("//")[1];if(!1===t.includes(":"))return console.warn("Please use valid url format"),!1;const e=this.url.split("@")[0].split("//")[0];return this.userId=t.split(":")[0],this.password=t.split(":")[1],this.url=e+"//"+this.url.split("@")[1],!0}canProcessUri(){return!(n.default.isEmpty(this.password)||n.default.isEmpty(this.userId)||n.default.isEmpty(this.url))||!!this.url.includes("@")&&this.splitUrl()}processUri(){const{http:t,https:e}={http:"ch5-img-auth",https:"ch5-img-auths"},i={http:t,https:e},s=new r.Ch5ImageUriModel(i,this.userId,this.password,this.url);s.isValidAuthenticationUri()&&(this.url=s.toString())}setSnapshot(){var t;this.videoImage.onerror=()=>{var t;null!==this.sendEventSnapshotStatus&&void 0!==this.sendEventSnapshotStatus&&""!==this.sendEventSnapshotStatus&&(null===(t=a.Ch5SignalFactory.getInstance().getNumberSignal(this.sendEventSnapshotStatus))||void 0===t||t.publish(2))},this.videoImage.onload=t=>{var e;null!==this.sendEventSnapshotStatus&&void 0!==this.sendEventSnapshotStatus&&""!==this.sendEventSnapshotStatus&&(null===(e=a.Ch5SignalFactory.getInstance().getNumberSignal(this.sendEventSnapshotStatus))||void 0===e||e.publish(1))},this.videoImage.src=this.url+"#"+(new Date).toISOString(),null!==this.sendEventSnapshotLastUpdateTime&&void 0!==this.sendEventSnapshotLastUpdateTime&&""!==this.sendEventSnapshotLastUpdateTime&&(null===(t=a.Ch5SignalFactory.getInstance().getStringSignal(this.sendEventSnapshotLastUpdateTime))||void 0===t||t.publish(this.videoImage.src))}getImage(){return this.videoImage}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5VideoTouchManager=void 0;e.Ch5VideoTouchManager=class{constructor(t){this._onTouchStart=this._onTouchStart.bind(this),document.addEventListener("touchstart",this._onTouchStart),this._onTouchMove=this._onTouchMove.bind(this),document.addEventListener("touchmove",this._onTouchMove),this._onTouchEnd=this._onTouchEnd.bind(this),document.addEventListener("touchend",this._onTouchEnd),this._onTouchCancel=this._onTouchCancel.bind(this),document.addEventListener("touchcancel",this._onTouchCancel),this.customOnTouchHandlers=this.updateHandlersIfUnavailable(t)}updateHandlersIfUnavailable(t){return{pollingDuration:this.checkAndReturnDefault(t.pollingDuration,300),onTouchStartHandler:this.checkAndReturnDefault(t.onTouchStartHandler,()=>{console.log("empty onTouchStartHandler")}),onTouchMoveHandler:this.checkAndReturnDefault(t.onTouchMoveHandler,()=>{console.log("empty onTouchMoveHandler")}),onTouchEndHandler:this.checkAndReturnDefault(t.onTouchEndHandler,()=>{console.log("empty onTouchEndHandler")}),onTouchCancelHandler:this.checkAndReturnDefault(t.onTouchCancelHandler,()=>{console.log("empty onTouchCancelHandler")}),componentID:t.componentID}}_onTouchStart(t){this.customOnTouchHandlers.onTouchStartHandler()}_onTouchMove(t){this.customOnTouchHandlers.onTouchMoveHandler()}_onTouchEnd(t){this.customOnTouchHandlers.onTouchEndHandler()}_onTouchCancel(t){this.customOnTouchHandlers.onTouchCancelHandler()}checkAndReturnDefault(t,e){return null!=t&&t?t:e}destructor(){document.removeEventListener("touchstart",this._onTouchStart),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd),document.removeEventListener("touchcancel",this._onTouchCancel)}}},function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(i(322),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ch5WifiSignalLevelGauge=void 0;const s=i(3),n=i(2),r=i(4),a=i(5),o=i(61),l=i(18);class h extends s.Ch5Common{constructor(){super(),this.primaryCssClass="ch5-wifi-signal-level-gauge",this._elContainer={},this._elInnerContainer={},this._elTopSignal={},this._elMiddleSignal={},this._elBottomSignal={},this.ignoreAttributes=["receivestatecustomclass","receivestatecustomstyle","receivestatehidepulse","receivestateshowpulse","sendeventonshow"],this.logger.start("constructor()",h.ELEMENT_NAME),this._wasInstatiated||this.createInternalHtml(),this._wasInstatiated=!0,this._ch5Properties=new r.Ch5Properties(this,h.COMPONENT_PROPERTIES),this.initCssClass()}set value(t){this._ch5Properties.set("value",t,()=>{this.value<this.minValue?this.value=this.minValue:this.value>this.maxValue&&(this.value=this.maxValue),this.handleValue()})}get value(){return this._ch5Properties.get("value")}set receiveStateValue(t){this._ch5Properties.set("receiveStateValue",t,null,t=>{this._ch5Properties.setForSignalResponse("value",t,()=>{this.handleValue()})})}get receiveStateValue(){return this._ch5Properties.get("receiveStateValue")}set gaugeStyle(t){this._ch5Properties.set("gaugeStyle",t,()=>{this.handleGaugeStyle()})}get gaugeStyle(){return this._ch5Properties.get("gaugeStyle")}set alignment(t){this._ch5Properties.set("alignment",t,()=>{this.handleAlignment()})}get alignment(){return this._ch5Properties.get("alignment")}set minValue(t){this._ch5Properties.set("minValue",t,()=>{this.minValue>=this.maxValue&&(this.minValue=0),this.handleValue()})}get minValue(){return this._ch5Properties.get("minValue")}set maxValue(t){this._ch5Properties.set("maxValue",t,()=>{this.maxValue<=this.minValue&&(this.maxValue=100),this.handleValue()})}get maxValue(){return this._ch5Properties.get("maxValue")}set size(t){this._ch5Properties.set("size",t,()=>{this.handleSize()})}get size(){return this._ch5Properties.get("size")}static registerSignalAttributeTypes(){n.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(h.ELEMENT_NAME,h.SIGNAL_ATTRIBUTE_TYPES)}static registerCustomElement(){"object"==typeof window&&"object"==typeof window.customElements&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(h.ELEMENT_NAME)&&window.customElements.define(h.ELEMENT_NAME,h)}static get observedAttributes(){const t=s.Ch5Common.observedAttributes,e=[];for(let t=0;t<h.COMPONENT_PROPERTIES.length;t++)!0===h.COMPONENT_PROPERTIES[t].isObservableProperty&&e.push(h.COMPONENT_PROPERTIES[t].name.toLowerCase());return t.concat(e)}attributeChangedCallback(t,e,i){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),e!==i){this.logger.log('ch5-wifi-signal-level-gauge attributeChangedCallback("'+t+'","'+e+'","'+i+'")');const s=h.COMPONENT_PROPERTIES.find(e=>e.name.toLowerCase()===t.toLowerCase()&&!0===e.isObservableProperty);if(s){this[s.name]=i}else super.attributeChangedCallback(t,e,i)}this.logger.stop()}connectedCallback(){this.logger.start("connectedCallback()",h.ELEMENT_NAME),this.hasAttribute("role")||this.setAttribute("role",a.Ch5RoleAttributeMapping.ch5WifiSignalLevelGauge),this._elContainer.parentElement!==this&&this.appendChild(this._elContainer),this.attachEventListeners(),this.initAttributes(),this.initCommonMutationObserver(this),this.handleValue(),customElements.whenDefined("ch5-wifi-signal-level-gauge").then(()=>{this.componentLoadedEvent(h.ELEMENT_NAME,this.id)}),(0,l.resizeObserver)(this._elContainer,this.setContainerBorderWidth.bind(this)),(0,o.subscribeInViewPortChange)(this,()=>{this.elementIsInViewPort&&this.setContainerBorderWidth()}),this.logger.stop()}disconnectedCallback(){this.logger.start("disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),this.logger.stop()}setContainerBorderWidth(){let t=this.offsetWidth,e=this.offsetHeight;"left"!==this.alignment&&"right"!==this.alignment||(t=this.offsetHeight,e=this.offsetWidth),this._elTopSignal.style.borderWidth=Math.floor(t/6)+"px",this._elMiddleSignal.style.borderWidth=Math.floor(t/6)+"px",this._elBottomSignal.style.borderWidth=Math.floor(e/3)+"px"}createInternalHtml(){this.logger.start("createInternalHtml()"),this.clearComponentContent(),this._elContainer=document.createElement("div"),this._elInnerContainer=document.createElement("div"),this._elTopSignal=document.createElement("div"),this._elMiddleSignal=document.createElement("div"),this._elBottomSignal=document.createElement("div"),this._elContainer.classList.add("ch5-wifi-signal-level-gauge"),this._elInnerContainer.classList.add("ch5-wifi-signal-level-gauge--inner-container"),this._elTopSignal.classList.add("ch5-wifi-signal-level-gauge-top-signal"),this._elMiddleSignal.classList.add("ch5-wifi-signal-level-gauge-middle-signal"),this._elBottomSignal.classList.add("ch5-wifi-signal-level-gauge-bottom-signal"),this._elTopSignal.classList.add("ch5-wifi-signal-level-gauge--selected-false"),this._elMiddleSignal.classList.add("ch5-wifi-signal-level-gauge--selected-false"),this._elBottomSignal.classList.add("ch5-wifi-signal-level-gauge--selected-false"),this._elInnerContainer.appendChild(this._elTopSignal),this._elInnerContainer.appendChild(this._elMiddleSignal),this._elInnerContainer.appendChild(this._elBottomSignal),this._elContainer.appendChild(this._elInnerContainer),this.logger.stop()}initAttributes(){super.initAttributes();const t=this;for(let e=0;e<h.COMPONENT_PROPERTIES.length;e++)if(!0===h.COMPONENT_PROPERTIES[e].isObservableProperty&&this.hasAttribute(h.COMPONENT_PROPERTIES[e].name.toLowerCase())){const i=h.COMPONENT_PROPERTIES[e].name;t[i]=this.getAttribute(i)}}unsubscribeFromSignals(){super.unsubscribeFromSignals(),this._ch5Properties.unsubscribe()}clearComponentContent(){const t=this.getElementsByTagName("div");Array.from(t).forEach(t=>{t.remove()})}handleGaugeStyle(){Array.from(h.COMPONENT_DATA.GAUGE_STYLE.values).forEach(t=>{this._elContainer.classList.remove(h.ELEMENT_NAME+h.COMPONENT_DATA.GAUGE_STYLE.classListPrefix+t)}),this._elContainer.classList.add(h.ELEMENT_NAME+h.COMPONENT_DATA.GAUGE_STYLE.classListPrefix+this.gaugeStyle)}handleAlignment(){Array.from(h.COMPONENT_DATA.ALIGNMENT.values).forEach(t=>{this._elContainer.classList.remove(h.ELEMENT_NAME+h.COMPONENT_DATA.ALIGNMENT.classListPrefix+t)}),this._elContainer.classList.add(h.ELEMENT_NAME+h.COMPONENT_DATA.ALIGNMENT.classListPrefix+this.alignment)}handleValue(){let t=Math.round((this.value-this.minValue)*h.MAX_NUMBER_OF_BARS/(this.maxValue-this.minValue));t>h.MAX_NUMBER_OF_BARS?t=h.MAX_NUMBER_OF_BARS:t<h.MIN_NUMBER_OF_BARS&&(t=h.MIN_NUMBER_OF_BARS),0===t?(this.setClassForWifiBasedOnValue(this._elTopSignal,!1),this.setClassForWifiBasedOnValue(this._elMiddleSignal,!1),this.setClassForWifiBasedOnValue(this._elBottomSignal,!1)):1===t?(this.setClassForWifiBasedOnValue(this._elTopSignal,!1),this.setClassForWifiBasedOnValue(this._elMiddleSignal,!1),this.setClassForWifiBasedOnValue(this._elBottomSignal,!0)):2===t?(this.setClassForWifiBasedOnValue(this._elTopSignal,!1),this.setClassForWifiBasedOnValue(this._elMiddleSignal,!0),this.setClassForWifiBasedOnValue(this._elBottomSignal,!0)):3===t&&(this.setClassForWifiBasedOnValue(this._elTopSignal,!0),this.setClassForWifiBasedOnValue(this._elMiddleSignal,!0),this.setClassForWifiBasedOnValue(this._elBottomSignal,!0))}setClassForWifiBasedOnValue(t,e){t.classList.contains("ch5-wifi-signal-level-gauge--selected-"+String(e))||(t.classList.remove("ch5-wifi-signal-level-gauge--selected-"+String(!e)),t.classList.add("ch5-wifi-signal-level-gauge--selected-"+String(e)))}handleSize(){Array.from(h.COMPONENT_DATA.SIZE.values).forEach(t=>{this._elContainer.classList.remove(h.ELEMENT_NAME+h.COMPONENT_DATA.SIZE.classListPrefix+t)}),this._elContainer.classList.add(h.ELEMENT_NAME+h.COMPONENT_DATA.SIZE.classListPrefix+this.size)}initCssClass(){this.logger.start("initCssClass"),this._elContainer.classList.add(h.ELEMENT_NAME+h.COMPONENT_DATA.GAUGE_STYLE.classListPrefix+this.gaugeStyle),this._elContainer.classList.add(h.ELEMENT_NAME+h.COMPONENT_DATA.ALIGNMENT.classListPrefix+this.alignment),this._elContainer.classList.add(h.ELEMENT_NAME+h.COMPONENT_DATA.SIZE.classListPrefix+this.size),this.logger.stop()}getTargetElementForCssClassesAndStyle(){return this._elContainer}getCssClassDisabled(){return this.primaryCssClass+"--disabled"}}e.Ch5WifiSignalLevelGauge=h,h.MIN_NUMBER_OF_BARS=0,h.MAX_NUMBER_OF_BARS=3,h.GAUGE_STYLES=["light","accents","dark"],h.ALIGNMENTS=["up","down","left","right"],h.SIZES=["regular","small","large","x-large"],h.COMPONENT_DATA={GAUGE_STYLE:{default:h.GAUGE_STYLES[0],values:h.GAUGE_STYLES,key:"gaugeStyle",attribute:"gaugeStyle",classListPrefix:"--gauge-style-"},ALIGNMENT:{default:h.ALIGNMENTS[0],values:h.ALIGNMENTS,key:"alignment",attribute:"alignment",classListPrefix:"--alignment-"},SIZE:{default:h.SIZES[0],values:h.SIZES,key:"size",attribute:"size",classListPrefix:"--size-"}},h.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatevalue:{direction:"state",numericJoin:1,contractName:!0}}),h.COMPONENT_PROPERTIES=[{default:0,name:"value",removeAttributeOnNull:!0,nameForSignal:"receiveStateValue",type:"number",valueOnAttributeEmpty:null,numberProperties:{min:0,max:100,conditionalMin:0,conditionalMax:100,conditionalMinValue:0,conditionalMaxValue:100},isObservableProperty:!0},{default:"",isSignal:!0,name:"receiveStateValue",signalType:"number",removeAttributeOnNull:!0,type:"string",valueOnAttributeEmpty:"",isObservableProperty:!0},{default:h.GAUGE_STYLES[0],enumeratedValues:h.GAUGE_STYLES,name:"gaugeStyle",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:h.GAUGE_STYLES[0],isObservableProperty:!0},{default:h.ALIGNMENTS[0],enumeratedValues:h.ALIGNMENTS,name:"alignment",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:h.ALIGNMENTS[0],isObservableProperty:!0},{default:0,name:"minValue",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:null,numberProperties:{min:0,max:99,conditionalMin:0,conditionalMax:99,conditionalMinValue:0,conditionalMaxValue:99},isObservableProperty:!0},{default:100,name:"maxValue",removeAttributeOnNull:!0,type:"number",valueOnAttributeEmpty:null,numberProperties:{min:1,max:100,conditionalMin:1,conditionalMax:100,conditionalMinValue:1,conditionalMaxValue:100},isObservableProperty:!0},{default:h.SIZES[0],enumeratedValues:h.SIZES,name:"size",removeAttributeOnNull:!0,type:"enum",valueOnAttributeEmpty:h.SIZES[0],isObservableProperty:!0}],h.ELEMENT_NAME="ch5-wifi-signal-level-gauge",h.registerCustomElement(),h.registerSignalAttributeTypes()},function(t,e,i){"use strict";function s(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function n(t={},e={}){Object.keys(e).forEach(i=>{void 0===t[i]?t[i]=e[i]:s(e[i])&&s(t[i])&&Object.keys(e[i]).length>0&&n(t[i],e[i])})}i.r(e),i.d(e,"Swiper",(function(){return $})),i.d(e,"default",(function(){return $})),i.d(e,"Virtual",(function(){return G})),i.d(e,"Keyboard",(function(){return X})),i.d(e,"Mousewheel",(function(){return J})),i.d(e,"Navigation",(function(){return q})),i.d(e,"Pagination",(function(){return Q})),i.d(e,"Scrollbar",(function(){return tt})),i.d(e,"Parallax",(function(){return et})),i.d(e,"Zoom",(function(){return it})),i.d(e,"Lazy",(function(){return st})),i.d(e,"Controller",(function(){return nt})),i.d(e,"A11y",(function(){return rt})),i.d(e,"History",(function(){return at})),i.d(e,"HashNavigation",(function(){return ot})),i.d(e,"Autoplay",(function(){return lt})),i.d(e,"Thumbs",(function(){return ht})),i.d(e,"FreeMode",(function(){return ut})),i.d(e,"Grid",(function(){return ct})),i.d(e,"Manipulation",(function(){return ft})),i.d(e,"EffectFade",(function(){return Ct})),i.d(e,"EffectCube",(function(){return Et})),i.d(e,"EffectFlip",(function(){return Tt})),i.d(e,"EffectCoverflow",(function(){return At})),i.d(e,"EffectCreative",(function(){return Ot})),i.d(e,"EffectCards",(function(){return It}));const r={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function a(){const t="undefined"!=typeof document?document:{};return n(t,r),t}const o={document:r,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:t=>"undefined"==typeof setTimeout?(t(),null):setTimeout(t,0),cancelAnimationFrame(t){"undefined"!=typeof setTimeout&&clearTimeout(t)}};function l(){const t="undefined"!=typeof window?window:{};return n(t,o),t}class h extends Array{constructor(t){"number"==typeof t?super(t):(super(...t||[]),function(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get:()=>e,set(t){e.__proto__=t}})}(this))}}function u(t=[]){const e=[];return t.forEach(t=>{Array.isArray(t)?e.push(...u(t)):e.push(t)}),e}function c(t,e){return Array.prototype.filter.call(t,e)}function d(t,e){const i=l(),s=a();let n=[];if(!e&&t instanceof h)return t;if(!t)return new h(n);if("string"==typeof t){const i=t.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){let t="div";0===i.indexOf("<li")&&(t="ul"),0===i.indexOf("<tr")&&(t="tbody"),0!==i.indexOf("<td")&&0!==i.indexOf("<th")||(t="tr"),0===i.indexOf("<tbody")&&(t="table"),0===i.indexOf("<option")&&(t="select");const e=s.createElement(t);e.innerHTML=i;for(let t=0;t<e.childNodes.length;t+=1)n.push(e.childNodes[t])}else n=function(t,e){if("string"!=typeof t)return[t];const i=[],s=e.querySelectorAll(t);for(let t=0;t<s.length;t+=1)i.push(s[t]);return i}(t.trim(),e||s)}else if(t.nodeType||t===i||t===s)n.push(t);else if(Array.isArray(t)){if(t instanceof h)return t;n=t}return new h(function(t){const e=[];for(let i=0;i<t.length;i+=1)-1===e.indexOf(t[i])&&e.push(t[i]);return e}(n))}d.fn=h.prototype;const p="resize scroll".split(" ");function g(t){return function(...e){if(void 0===e[0]){for(let e=0;e<this.length;e+=1)p.indexOf(t)<0&&(t in this[e]?this[e][t]():d(this[e]).trigger(t));return this}return this.on(t,...e)}}g("click"),g("blur"),g("focus"),g("focusin"),g("focusout"),g("keyup"),g("keydown"),g("keypress"),g("submit"),g("change"),g("mousedown"),g("mousemove"),g("mouseup"),g("mouseenter"),g("mouseleave"),g("mouseout"),g("mouseover"),g("touchstart"),g("touchend"),g("touchmove"),g("resize"),g("scroll");const m={addClass:function(...t){const e=u(t.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.add(...e)}),this},removeClass:function(...t){const e=u(t.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.remove(...e)}),this},hasClass:function(...t){const e=u(t.map(t=>t.split(" ")));return c(this,t=>e.filter(e=>t.classList.contains(e)).length>0).length>0},toggleClass:function(...t){const e=u(t.map(t=>t.split(" ")));this.forEach(t=>{e.forEach(e=>{t.classList.toggle(e)})})},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(let i=0;i<this.length;i+=1)if(2===arguments.length)this[i].setAttribute(t,e);else for(const e in t)this[i][e]=t[e],this[i].setAttribute(e,t[e]);return this},removeAttr:function(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},transform:function(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this},transition:function(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof t?t+"ms":t;return this},on:function(...t){let[e,i,s,n]=t;function r(t){const e=t.target;if(!e)return;const n=t.target.dom7EventData||[];if(n.indexOf(t)<0&&n.unshift(t),d(e).is(i))s.apply(e,n);else{const t=d(e).parents();for(let e=0;e<t.length;e+=1)d(t[e]).is(i)&&s.apply(t[e],n)}}function a(t){const e=t&&t.target&&t.target.dom7EventData||[];e.indexOf(t)<0&&e.unshift(t),s.apply(this,e)}"function"==typeof t[1]&&([e,s,n]=t,i=void 0),n||(n=!1);const o=e.split(" ");let l;for(let t=0;t<this.length;t+=1){const e=this[t];if(i)for(l=0;l<o.length;l+=1){const t=o[l];e.dom7LiveListeners||(e.dom7LiveListeners={}),e.dom7LiveListeners[t]||(e.dom7LiveListeners[t]=[]),e.dom7LiveListeners[t].push({listener:s,proxyListener:r}),e.addEventListener(t,r,n)}else for(l=0;l<o.length;l+=1){const t=o[l];e.dom7Listeners||(e.dom7Listeners={}),e.dom7Listeners[t]||(e.dom7Listeners[t]=[]),e.dom7Listeners[t].push({listener:s,proxyListener:a}),e.addEventListener(t,a,n)}}return this},off:function(...t){let[e,i,s,n]=t;"function"==typeof t[1]&&([e,s,n]=t,i=void 0),n||(n=!1);const r=e.split(" ");for(let t=0;t<r.length;t+=1){const e=r[t];for(let t=0;t<this.length;t+=1){const r=this[t];let a;if(!i&&r.dom7Listeners?a=r.dom7Listeners[e]:i&&r.dom7LiveListeners&&(a=r.dom7LiveListeners[e]),a&&a.length)for(let t=a.length-1;t>=0;t-=1){const i=a[t];s&&i.listener===s||s&&i.listener&&i.listener.dom7proxy&&i.listener.dom7proxy===s?(r.removeEventListener(e,i.proxyListener,n),a.splice(t,1)):s||(r.removeEventListener(e,i.proxyListener,n),a.splice(t,1))}}}return this},trigger:function(...t){const e=l(),i=t[0].split(" "),s=t[1];for(let n=0;n<i.length;n+=1){const r=i[n];for(let i=0;i<this.length;i+=1){const n=this[i];if(e.CustomEvent){const i=new e.CustomEvent(r,{detail:s,bubbles:!0,cancelable:!0});n.dom7EventData=t.filter((t,e)=>e>0),n.dispatchEvent(i),n.dom7EventData=[],delete n.dom7EventData}}}return this},transitionEnd:function(t){const e=this;return t&&e.on("transitionend",(function i(s){s.target===this&&(t.call(this,s),e.off("transitionend",i))})),this},outerWidth:function(t){if(this.length>0){if(t){const t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(t){if(this.length>0){if(t){const t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const t=l();return this[0]?t.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const t=l(),e=a(),i=this[0],s=i.getBoundingClientRect(),n=e.body,r=i.clientTop||n.clientTop||0,o=i.clientLeft||n.clientLeft||0,h=i===t?t.scrollY:i.scrollTop,u=i===t?t.scrollX:i.scrollLeft;return{top:s.top+h-r,left:s.left+u-o}}return null},css:function(t,e){const i=l();let s;if(1===arguments.length){if("string"!=typeof t){for(s=0;s<this.length;s+=1)for(const e in t)this[s].style[e]=t[e];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(s=0;s<this.length;s+=1)this[s].style[t]=e;return this}return this},each:function(t){return t?(this.forEach((e,i)=>{t.apply(e,[e,i])}),this):this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function(t){const e=l(),i=a(),s=this[0];let n,r;if(!s||void 0===t)return!1;if("string"==typeof t){if(s.matches)return s.matches(t);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(t);if(s.msMatchesSelector)return s.msMatchesSelector(t);for(n=d(t),r=0;r<n.length;r+=1)if(n[r]===s)return!0;return!1}if(t===i)return s===i;if(t===e)return s===e;if(t.nodeType||t instanceof h){for(n=t.nodeType?[t]:t,r=0;r<n.length;r+=1)if(n[r]===s)return!0;return!1}return!1},index:function(){let t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}},eq:function(t){if(void 0===t)return this;const e=this.length;if(t>e-1)return d([]);if(t<0){const i=e+t;return d(i<0?[]:[this[i]])}return d([this[t]])},append:function(...t){let e;const i=a();for(let s=0;s<t.length;s+=1){e=t[s];for(let t=0;t<this.length;t+=1)if("string"==typeof e){const s=i.createElement("div");for(s.innerHTML=e;s.firstChild;)this[t].appendChild(s.firstChild)}else if(e instanceof h)for(let i=0;i<e.length;i+=1)this[t].appendChild(e[i]);else this[t].appendChild(e)}return this},prepend:function(t){const e=a();let i,s;for(i=0;i<this.length;i+=1)if("string"==typeof t){const n=e.createElement("div");for(n.innerHTML=t,s=n.childNodes.length-1;s>=0;s-=1)this[i].insertBefore(n.childNodes[s],this[i].childNodes[0])}else if(t instanceof h)for(s=0;s<t.length;s+=1)this[i].insertBefore(t[s],this[i].childNodes[0]);else this[i].insertBefore(t,this[i].childNodes[0]);return this},next:function(t){return this.length>0?t?this[0].nextElementSibling&&d(this[0].nextElementSibling).is(t)?d([this[0].nextElementSibling]):d([]):this[0].nextElementSibling?d([this[0].nextElementSibling]):d([]):d([])},nextAll:function(t){const e=[];let i=this[0];if(!i)return d([]);for(;i.nextElementSibling;){const s=i.nextElementSibling;t?d(s).is(t)&&e.push(s):e.push(s),i=s}return d(e)},prev:function(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&d(e.previousElementSibling).is(t)?d([e.previousElementSibling]):d([]):e.previousElementSibling?d([e.previousElementSibling]):d([])}return d([])},prevAll:function(t){const e=[];let i=this[0];if(!i)return d([]);for(;i.previousElementSibling;){const s=i.previousElementSibling;t?d(s).is(t)&&e.push(s):e.push(s),i=s}return d(e)},parent:function(t){const e=[];for(let i=0;i<this.length;i+=1)null!==this[i].parentNode&&(t?d(this[i].parentNode).is(t)&&e.push(this[i].parentNode):e.push(this[i].parentNode));return d(e)},parents:function(t){const e=[];for(let i=0;i<this.length;i+=1){let s=this[i].parentNode;for(;s;)t?d(s).is(t)&&e.push(s):e.push(s),s=s.parentNode}return d(e)},closest:function(t){let e=this;return void 0===t?d([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function(t){const e=[];for(let i=0;i<this.length;i+=1){const s=this[i].querySelectorAll(t);for(let t=0;t<s.length;t+=1)e.push(s[t])}return d(e)},children:function(t){const e=[];for(let i=0;i<this.length;i+=1){const s=this[i].children;for(let i=0;i<s.length;i+=1)t&&!d(s[i]).is(t)||e.push(s[i])}return d(e)},filter:function(t){return d(c(this,t))},remove:function(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}};Object.keys(m).forEach(t=>{Object.defineProperty(d.fn,t,{value:m[t],writable:!0})});var b=d;function f(t,e=0){return setTimeout(t,e)}function v(){return Date.now()}function _(t,e="x"){const i=l();let s,n,r;const a=function(t){const e=l();let i;return e.getComputedStyle&&(i=e.getComputedStyle(t,null)),!i&&t.currentStyle&&(i=t.currentStyle),i||(i=t.style),i}(t);return i.WebKitCSSMatrix?(n=a.transform||a.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(t=>t.replace(",",".")).join(", ")),r=new i.WebKitCSSMatrix("none"===n?"":n)):(r=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=r.toString().split(",")),"x"===e&&(n=i.WebKitCSSMatrix?r.m41:16===s.length?parseFloat(s[12]):parseFloat(s[4])),"y"===e&&(n=i.WebKitCSSMatrix?r.m42:16===s.length?parseFloat(s[13]):parseFloat(s[5])),n||0}function S(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function C(...t){const e=Object(t[0]),i=["__proto__","constructor","prototype"];for(let n=1;n<t.length;n+=1){const r=t[n];if(null!=r&&(s=r,!("undefined"!=typeof window&&void 0!==window.HTMLElement?s instanceof HTMLElement:s&&(1===s.nodeType||11===s.nodeType)))){const t=Object.keys(Object(r)).filter(t=>i.indexOf(t)<0);for(let i=0,s=t.length;i<s;i+=1){const s=t[i],n=Object.getOwnPropertyDescriptor(r,s);void 0!==n&&n.enumerable&&(S(e[s])&&S(r[s])?r[s].__swiper__?e[s]=r[s]:C(e[s],r[s]):!S(e[s])&&S(r[s])?(e[s]={},r[s].__swiper__?e[s]=r[s]:C(e[s],r[s])):e[s]=r[s])}}}var s;return e}function E(t,e,i){t.style.setProperty(e,i)}function y({swiper:t,targetPosition:e,side:i}){const s=l(),n=-t.translate;let r,a=null;const o=t.params.speed;t.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(t.cssModeFrameID);const h=e>n?"next":"prev",u=(t,e)=>"next"===h&&t>=e||"prev"===h&&t<=e,c=()=>{r=(new Date).getTime(),null===a&&(a=r);const l=Math.max(Math.min((r-a)/o,1),0),h=.5-Math.cos(l*Math.PI)/2;let d=n+h*(e-n);if(u(d,e)&&(d=e),t.wrapperEl.scrollTo({[i]:d}),u(d,e))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[i]:d})}),void s.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=s.requestAnimationFrame(c)};c()}let T,A,O;function I(){return T||(T=function(){const t=l(),e=a();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let e=!1;try{const i=Object.defineProperty({},"passive",{get(){e=!0}});t.addEventListener("testPassiveListener",null,i)}catch(t){}return e}(),gestures:"ongesturestart"in t}}()),T}function w(t={}){return A||(A=function({userAgent:t}={}){const e=I(),i=l(),s=i.navigator.platform,n=t||i.navigator.userAgent,r={ios:!1,android:!1},a=i.screen.width,o=i.screen.height,h=n.match(/(Android);?[\s\/]+([\d.]+)?/);let u=n.match(/(iPad).*OS\s([\d_]+)/);const c=n.match(/(iPod)(.*OS\s([\d_]+))?/),d=!u&&n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===s;let g="MacIntel"===s;return!u&&g&&e.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${a}x${o}`)>=0&&(u=n.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),h&&!p&&(r.os="android",r.android=!0),(u||d||c)&&(r.os="ios",r.ios=!0),r}(t)),A}function P(){return O||(O=function(){const t=l();return{isSafari:function(){const e=t.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),O}function N({swiper:t,runCallbacks:e,direction:i,step:s}){const{activeIndex:n,previousIndex:r}=t;let a=i;if(a||(a=n>r?"next":n<r?"prev":"reset"),t.emit("transition"+s),e&&n!==r){if("reset"===a)return void t.emit("slideResetTransition"+s);t.emit("slideChangeTransition"+s),"next"===a?t.emit("slideNextTransition"+s):t.emit("slidePrevTransition"+s)}}function L(t){const e=this,i=a(),s=l(),n=e.touchEventsData,{params:r,touches:o,enabled:h}=e;if(!h)return;if(e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let u=t;u.originalEvent&&(u=u.originalEvent);let c=b(u.target);if("wrapper"===r.touchEventsTarget&&!c.closest(e.wrapperEl).length)return;if(n.isTouchEvent="touchstart"===u.type,!n.isTouchEvent&&"which"in u&&3===u.which)return;if(!n.isTouchEvent&&"button"in u&&u.button>0)return;if(n.isTouched&&n.isMoved)return;!!r.noSwipingClass&&""!==r.noSwipingClass&&u.target&&u.target.shadowRoot&&t.path&&t.path[0]&&(c=b(t.path[0]));const d=r.noSwipingSelector?r.noSwipingSelector:"."+r.noSwipingClass,p=!(!u.target||!u.target.shadowRoot);if(r.noSwiping&&(p?function(t,e=this){return function e(i){return i&&i!==a()&&i!==l()?(i.assignedSlot&&(i=i.assignedSlot),i.closest(t)||e(i.getRootNode().host)):null}(e)}(d,u.target):c.closest(d)[0]))return void(e.allowClick=!0);if(r.swipeHandler&&!c.closest(r.swipeHandler)[0])return;o.currentX="touchstart"===u.type?u.targetTouches[0].pageX:u.pageX,o.currentY="touchstart"===u.type?u.targetTouches[0].pageY:u.pageY;const g=o.currentX,m=o.currentY,f=r.edgeSwipeDetection||r.iOSEdgeSwipeDetection,_=r.edgeSwipeThreshold||r.iOSEdgeSwipeThreshold;if(f&&(g<=_||g>=s.innerWidth-_)){if("prevent"!==f)return;t.preventDefault()}if(Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=g,o.startY=m,n.touchStartTime=v(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(n.allowThresholdMove=!1),"touchstart"!==u.type){let t=!0;c.is(n.focusableElements)&&(t=!1),i.activeElement&&b(i.activeElement).is(n.focusableElements)&&i.activeElement!==c[0]&&i.activeElement.blur();const s=t&&e.allowTouchMove&&r.touchStartPreventDefault;!r.touchStartForcePreventDefault&&!s||c[0].isContentEditable||u.preventDefault()}e.emit("touchStart",u)}function M(t){const e=a(),i=this,s=i.touchEventsData,{params:n,touches:r,rtlTranslate:o,enabled:l}=i;if(!l)return;let h=t;if(h.originalEvent&&(h=h.originalEvent),!s.isTouched)return void(s.startMoving&&s.isScrolling&&i.emit("touchMoveOpposite",h));if(s.isTouchEvent&&"touchmove"!==h.type)return;const u="touchmove"===h.type&&h.targetTouches&&(h.targetTouches[0]||h.changedTouches[0]),c="touchmove"===h.type?u.pageX:h.pageX,d="touchmove"===h.type?u.pageY:h.pageY;if(h.preventedByNestedSwiper)return r.startX=c,void(r.startY=d);if(!i.allowTouchMove)return i.allowClick=!1,void(s.isTouched&&(Object.assign(r,{startX:c,startY:d,currentX:c,currentY:d}),s.touchStartTime=v()));if(s.isTouchEvent&&n.touchReleaseOnEdges&&!n.loop)if(i.isVertical()){if(d<r.startY&&i.translate<=i.maxTranslate()||d>r.startY&&i.translate>=i.minTranslate())return s.isTouched=!1,void(s.isMoved=!1)}else if(c<r.startX&&i.translate<=i.maxTranslate()||c>r.startX&&i.translate>=i.minTranslate())return;if(s.isTouchEvent&&e.activeElement&&h.target===e.activeElement&&b(h.target).is(s.focusableElements))return s.isMoved=!0,void(i.allowClick=!1);if(s.allowTouchCallbacks&&i.emit("touchMove",h),h.targetTouches&&h.targetTouches.length>1)return;r.currentX=c,r.currentY=d;const p=r.currentX-r.startX,g=r.currentY-r.startY;if(i.params.threshold&&Math.sqrt(p**2+g**2)<i.params.threshold)return;if(void 0===s.isScrolling){let t;i.isHorizontal()&&r.currentY===r.startY||i.isVertical()&&r.currentX===r.startX?s.isScrolling=!1:p*p+g*g>=25&&(t=180*Math.atan2(Math.abs(g),Math.abs(p))/Math.PI,s.isScrolling=i.isHorizontal()?t>n.touchAngle:90-t>n.touchAngle)}if(s.isScrolling&&i.emit("touchMoveOpposite",h),void 0===s.startMoving&&(r.currentX===r.startX&&r.currentY===r.startY||(s.startMoving=!0)),s.isScrolling)return void(s.isTouched=!1);if(!s.startMoving)return;i.allowClick=!1,!n.cssMode&&h.cancelable&&h.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&h.stopPropagation(),s.isMoved||(n.loop&&!n.cssMode&&i.loopFix(),s.startTranslate=i.getTranslate(),i.setTransition(0),i.animating&&i.$wrapperEl.trigger("webkitTransitionEnd transitionend"),s.allowMomentumBounce=!1,!n.grabCursor||!0!==i.allowSlideNext&&!0!==i.allowSlidePrev||i.setGrabCursor(!0),i.emit("sliderFirstMove",h)),i.emit("sliderMove",h),s.isMoved=!0;let m=i.isHorizontal()?p:g;r.diff=m,m*=n.touchRatio,o&&(m=-m),i.swipeDirection=m>0?"prev":"next",s.currentTranslate=m+s.startTranslate;let f=!0,_=n.resistanceRatio;if(n.touchReleaseOnEdges&&(_=0),m>0&&s.currentTranslate>i.minTranslate()?(f=!1,n.resistance&&(s.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+s.startTranslate+m)**_)):m<0&&s.currentTranslate<i.maxTranslate()&&(f=!1,n.resistance&&(s.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-s.startTranslate-m)**_)),f&&(h.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),i.allowSlidePrev||i.allowSlideNext||(s.currentTranslate=s.startTranslate),n.threshold>0){if(!(Math.abs(m)>n.threshold||s.allowThresholdMove))return void(s.currentTranslate=s.startTranslate);if(!s.allowThresholdMove)return s.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,s.currentTranslate=s.startTranslate,void(r.diff=i.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY)}n.followFinger&&!n.cssMode&&((n.freeMode&&n.freeMode.enabled&&i.freeMode||n.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),i.params.freeMode&&n.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(s.currentTranslate),i.setTranslate(s.currentTranslate))}function R(t){const e=this,i=e.touchEventsData,{params:s,touches:n,rtlTranslate:r,slidesGrid:a,enabled:o}=e;if(!o)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),i.allowTouchCallbacks&&e.emit("touchEnd",l),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&s.grabCursor&&e.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);s.grabCursor&&i.isMoved&&i.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const h=v(),u=h-i.touchStartTime;if(e.allowClick){const t=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(t&&t[0]||l.target),e.emit("tap click",l),u<300&&h-i.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(i.lastClickTime=v(),f(()=>{e.destroyed||(e.allowClick=!0)}),!i.isTouched||!i.isMoved||!e.swipeDirection||0===n.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);let c;if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,c=s.followFinger?r?e.translate:-e.translate:-i.currentTranslate,s.cssMode)return;if(e.params.freeMode&&s.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:c});let d=0,p=e.slidesSizesGrid[0];for(let t=0;t<a.length;t+=t<s.slidesPerGroupSkip?1:s.slidesPerGroup){const e=t<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;void 0!==a[t+e]?c>=a[t]&&c<a[t+e]&&(d=t,p=a[t+e]-a[t]):c>=a[t]&&(d=t,p=a[a.length-1]-a[a.length-2])}const g=(c-a[d])/p,m=d<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(u>s.longSwipesMs){if(!s.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&(g>=s.longSwipesRatio?e.slideTo(d+m):e.slideTo(d)),"prev"===e.swipeDirection&&(g>1-s.longSwipesRatio?e.slideTo(d+m):e.slideTo(d))}else{if(!s.shortSwipes)return void e.slideTo(e.activeIndex);e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(d+m):e.slideTo(d):("next"===e.swipeDirection&&e.slideTo(d+m),"prev"===e.swipeDirection&&e.slideTo(d))}}function x(){const t=this,{params:e,el:i}=t;if(i&&0===i.offsetWidth)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:n,snapGrid:r}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),("auto"===e.slidesPerView||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=n,t.allowSlideNext=s,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function k(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function B(){const t=this,{wrapperEl:e,rtlTranslate:i,enabled:s}=t;if(!s)return;let n;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,-0===t.translate&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();const r=t.maxTranslate()-t.minTranslate();n=0===r?0:(t.translate-t.minTranslate())/r,n!==t.progress&&t.updateProgress(i?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let H=!1;function V(){}const F=(t,e)=>{const i=a(),{params:s,touchEvents:n,el:r,wrapperEl:o,device:l,support:h}=t,u=!!s.nested,c="on"===e?"addEventListener":"removeEventListener",d=e;if(h.touch){const e=!("touchstart"!==n.start||!h.passiveListener||!s.passiveListeners)&&{passive:!0,capture:!1};r[c](n.start,t.onTouchStart,e),r[c](n.move,t.onTouchMove,h.passiveListener?{passive:!1,capture:u}:u),r[c](n.end,t.onTouchEnd,e),n.cancel&&r[c](n.cancel,t.onTouchEnd,e)}else r[c](n.start,t.onTouchStart,!1),i[c](n.move,t.onTouchMove,u),i[c](n.end,t.onTouchEnd,!1);(s.preventClicks||s.preventClicksPropagation)&&r[c]("click",t.onClick,!0),s.cssMode&&o[c]("scroll",t.onScroll),s.updateOnWindowResize?t[d](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",x,!0):t[d]("observerUpdate",x,!0)};const D=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;var U={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function j(t,e){return function(i={}){const s=Object.keys(i)[0],n=i[s];"object"==typeof n&&null!==n?(["navigation","pagination","scrollbar"].indexOf(s)>=0&&!0===t[s]&&(t[s]={auto:!0}),s in t&&"enabled"in n?(!0===t[s]&&(t[s]={enabled:!0}),"object"!=typeof t[s]||"enabled"in t[s]||(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),C(e,i)):C(e,i)):C(e,i)}}const z={eventsEmitter:{on(t,e,i){const s=this;if("function"!=typeof e)return s;const n=i?"unshift":"push";return t.split(" ").forEach(t=>{s.eventsListeners[t]||(s.eventsListeners[t]=[]),s.eventsListeners[t][n](e)}),s},once(t,e,i){const s=this;if("function"!=typeof e)return s;function n(...i){s.off(t,n),n.__emitterProxy&&delete n.__emitterProxy,e.apply(s,i)}return n.__emitterProxy=e,s.on(t,n,i)},onAny(t,e){const i=this;if("function"!=typeof t)return i;const s=e?"unshift":"push";return i.eventsAnyListeners.indexOf(t)<0&&i.eventsAnyListeners[s](t),i},offAny(t){const e=this;if(!e.eventsAnyListeners)return e;const i=e.eventsAnyListeners.indexOf(t);return i>=0&&e.eventsAnyListeners.splice(i,1),e},off(t,e){const i=this;return i.eventsListeners?(t.split(" ").forEach(t=>{void 0===e?i.eventsListeners[t]=[]:i.eventsListeners[t]&&i.eventsListeners[t].forEach((s,n)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&i.eventsListeners[t].splice(n,1)})}),i):i},emit(...t){const e=this;if(!e.eventsListeners)return e;let i,s,n;"string"==typeof t[0]||Array.isArray(t[0])?(i=t[0],s=t.slice(1,t.length),n=e):(i=t[0].events,s=t[0].data,n=t[0].context||e),s.unshift(n);return(Array.isArray(i)?i:i.split(" ")).forEach(t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(e=>{e.apply(n,[t,...s])}),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach(t=>{t.apply(n,s)})}),e}},update:{updateSize:function(){const t=this;let e,i;const s=t.$el;e=void 0!==t.params.width&&null!==t.params.width?t.params.width:s[0].clientWidth,i=void 0!==t.params.height&&null!==t.params.height?t.params.height:s[0].clientHeight,0===e&&t.isHorizontal()||0===i&&t.isVertical()||(e=e-parseInt(s.css("padding-left")||0,10)-parseInt(s.css("padding-right")||0,10),i=i-parseInt(s.css("padding-top")||0,10)-parseInt(s.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(i)&&(i=0),Object.assign(t,{width:e,height:i,size:t.isHorizontal()?e:i}))},updateSlides:function(){const t=this;function e(e){return t.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}function i(t,i){return parseFloat(t.getPropertyValue(e(i))||0)}const s=t.params,{$wrapperEl:n,size:r,rtlTranslate:a,wrongRTL:o}=t,l=t.virtual&&s.virtual.enabled,h=l?t.virtual.slides.length:t.slides.length,u=n.children("."+t.params.slideClass),c=l?t.virtual.slides.length:u.length;let d=[];const p=[],g=[];let m=s.slidesOffsetBefore;"function"==typeof m&&(m=s.slidesOffsetBefore.call(t));let b=s.slidesOffsetAfter;"function"==typeof b&&(b=s.slidesOffsetAfter.call(t));const f=t.snapGrid.length,v=t.slidesGrid.length;let _=s.spaceBetween,S=-m,C=0,y=0;if(void 0===r)return;"string"==typeof _&&_.indexOf("%")>=0&&(_=parseFloat(_.replace("%",""))/100*r),t.virtualSize=-_,a?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),s.centeredSlides&&s.cssMode&&(E(t.wrapperEl,"--swiper-centered-offset-before",""),E(t.wrapperEl,"--swiper-centered-offset-after",""));const T=s.grid&&s.grid.rows>1&&t.grid;let A;T&&t.grid.initSlides(c);const O="auto"===s.slidesPerView&&s.breakpoints&&Object.keys(s.breakpoints).filter(t=>void 0!==s.breakpoints[t].slidesPerView).length>0;for(let n=0;n<c;n+=1){A=0;const a=u.eq(n);if(T&&t.grid.updateSlide(n,a,c,e),"none"!==a.css("display")){if("auto"===s.slidesPerView){O&&(u[n].style[e("width")]="");const r=getComputedStyle(a[0]),o=a[0].style.transform,l=a[0].style.webkitTransform;if(o&&(a[0].style.transform="none"),l&&(a[0].style.webkitTransform="none"),s.roundLengths)A=t.isHorizontal()?a.outerWidth(!0):a.outerHeight(!0);else{const t=i(r,"width"),e=i(r,"padding-left"),s=i(r,"padding-right"),n=i(r,"margin-left"),o=i(r,"margin-right"),l=r.getPropertyValue("box-sizing");if(l&&"border-box"===l)A=t+n+o;else{const{clientWidth:i,offsetWidth:r}=a[0];A=t+e+s+n+o+(r-i)}}o&&(a[0].style.transform=o),l&&(a[0].style.webkitTransform=l),s.roundLengths&&(A=Math.floor(A))}else A=(r-(s.slidesPerView-1)*_)/s.slidesPerView,s.roundLengths&&(A=Math.floor(A)),u[n]&&(u[n].style[e("width")]=A+"px");u[n]&&(u[n].swiperSlideSize=A),g.push(A),s.centeredSlides?(S=S+A/2+C/2+_,0===C&&0!==n&&(S=S-r/2-_),0===n&&(S=S-r/2-_),Math.abs(S)<.001&&(S=0),s.roundLengths&&(S=Math.floor(S)),y%s.slidesPerGroup==0&&d.push(S),p.push(S)):(s.roundLengths&&(S=Math.floor(S)),(y-Math.min(t.params.slidesPerGroupSkip,y))%t.params.slidesPerGroup==0&&d.push(S),p.push(S),S=S+A+_),t.virtualSize+=A+_,C=A,y+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+b,a&&o&&("slide"===s.effect||"coverflow"===s.effect)&&n.css({width:t.virtualSize+s.spaceBetween+"px"}),s.setWrapperSize&&n.css({[e("width")]:t.virtualSize+s.spaceBetween+"px"}),T&&t.grid.updateWrapperSize(A,d,e),!s.centeredSlides){const e=[];for(let i=0;i<d.length;i+=1){let n=d[i];s.roundLengths&&(n=Math.floor(n)),d[i]<=t.virtualSize-r&&e.push(n)}d=e,Math.floor(t.virtualSize-r)-Math.floor(d[d.length-1])>1&&d.push(t.virtualSize-r)}if(0===d.length&&(d=[0]),0!==s.spaceBetween){const i=t.isHorizontal()&&a?"marginLeft":e("marginRight");u.filter((t,e)=>!s.cssMode||e!==u.length-1).css({[i]:_+"px"})}if(s.centeredSlides&&s.centeredSlidesBounds){let t=0;g.forEach(e=>{t+=e+(s.spaceBetween?s.spaceBetween:0)}),t-=s.spaceBetween;const e=t-r;d=d.map(t=>t<0?-m:t>e?e+b:t)}if(s.centerInsufficientSlides){let t=0;if(g.forEach(e=>{t+=e+(s.spaceBetween?s.spaceBetween:0)}),t-=s.spaceBetween,t<r){const e=(r-t)/2;d.forEach((t,i)=>{d[i]=t-e}),p.forEach((t,i)=>{p[i]=t+e})}}if(Object.assign(t,{slides:u,snapGrid:d,slidesGrid:p,slidesSizesGrid:g}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){E(t.wrapperEl,"--swiper-centered-offset-before",-d[0]+"px"),E(t.wrapperEl,"--swiper-centered-offset-after",t.size/2-g[g.length-1]/2+"px");const e=-t.snapGrid[0],i=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(t=>t+e),t.slidesGrid=t.slidesGrid.map(t=>t+i)}c!==h&&t.emit("slidesLengthChange"),d.length!==f&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==v&&t.emit("slidesGridLengthChange"),s.watchSlidesProgress&&t.updateSlidesOffset()},updateAutoHeight:function(t){const e=this,i=[],s=e.virtual&&e.params.virtual.enabled;let n,r=0;"number"==typeof t?e.setTransition(t):!0===t&&e.setTransition(e.params.speed);const a=t=>s?e.slides.filter(e=>parseInt(e.getAttribute("data-swiper-slide-index"),10)===t)[0]:e.slides.eq(t)[0];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)e.visibleSlides.each(t=>{i.push(t)});else for(n=0;n<Math.ceil(e.params.slidesPerView);n+=1){const t=e.activeIndex+n;if(t>e.slides.length&&!s)break;i.push(a(t))}else i.push(a(e.activeIndex));for(n=0;n<i.length;n+=1)if(void 0!==i[n]){const t=i[n].offsetHeight;r=t>r?t:r}(r||0===r)&&e.$wrapperEl.css("height",r+"px")},updateSlidesOffset:function(){const t=this,e=t.slides;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop},updateSlidesProgress:function(t=this&&this.translate||0){const e=this,i=e.params,{slides:s,rtlTranslate:n,snapGrid:r}=e;if(0===s.length)return;void 0===s[0].swiperSlideOffset&&e.updateSlidesOffset();let a=-t;n&&(a=t),s.removeClass(i.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let t=0;t<s.length;t+=1){const o=s[t];let l=o.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(l-=s[0].swiperSlideOffset);const h=(a+(i.centeredSlides?e.minTranslate():0)-l)/(o.swiperSlideSize+i.spaceBetween),u=(a-r[0]+(i.centeredSlides?e.minTranslate():0)-l)/(o.swiperSlideSize+i.spaceBetween),c=-(a-l),d=c+e.slidesSizesGrid[t];(c>=0&&c<e.size-1||d>1&&d<=e.size||c<=0&&d>=e.size)&&(e.visibleSlides.push(o),e.visibleSlidesIndexes.push(t),s.eq(t).addClass(i.slideVisibleClass)),o.progress=n?-h:h,o.originalProgress=n?-u:u}e.visibleSlides=b(e.visibleSlides)},updateProgress:function(t){const e=this;if(void 0===t){const i=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*i||0}const i=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:n,isBeginning:r,isEnd:a}=e;const o=r,l=a;0===s?(n=0,r=!0,a=!0):(n=(t-e.minTranslate())/s,r=n<=0,a=n>=1),Object.assign(e,{progress:n,isBeginning:r,isEnd:a}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&e.updateSlidesProgress(t),r&&!o&&e.emit("reachBeginning toEdge"),a&&!l&&e.emit("reachEnd toEdge"),(o&&!r||l&&!a)&&e.emit("fromEdge"),e.emit("progress",n)},updateSlidesClasses:function(){const t=this,{slides:e,params:i,$wrapperEl:s,activeIndex:n,realIndex:r}=t,a=t.virtual&&i.virtual.enabled;let o;e.removeClass(`${i.slideActiveClass} ${i.slideNextClass} ${i.slidePrevClass} ${i.slideDuplicateActiveClass} ${i.slideDuplicateNextClass} ${i.slideDuplicatePrevClass}`),o=a?t.$wrapperEl.find(`.${i.slideClass}[data-swiper-slide-index="${n}"]`):e.eq(n),o.addClass(i.slideActiveClass),i.loop&&(o.hasClass(i.slideDuplicateClass)?s.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${r}"]`).addClass(i.slideDuplicateActiveClass):s.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${r}"]`).addClass(i.slideDuplicateActiveClass));let l=o.nextAll("."+i.slideClass).eq(0).addClass(i.slideNextClass);i.loop&&0===l.length&&(l=e.eq(0),l.addClass(i.slideNextClass));let h=o.prevAll("."+i.slideClass).eq(0).addClass(i.slidePrevClass);i.loop&&0===h.length&&(h=e.eq(-1),h.addClass(i.slidePrevClass)),i.loop&&(l.hasClass(i.slideDuplicateClass)?s.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicateNextClass):s.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicateNextClass),h.hasClass(i.slideDuplicateClass)?s.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${h.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicatePrevClass):s.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${h.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(t){const e=this,i=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:s,snapGrid:n,params:r,activeIndex:a,realIndex:o,snapIndex:l}=e;let h,u=t;if(void 0===u){for(let t=0;t<s.length;t+=1)void 0!==s[t+1]?i>=s[t]&&i<s[t+1]-(s[t+1]-s[t])/2?u=t:i>=s[t]&&i<s[t+1]&&(u=t+1):i>=s[t]&&(u=t);r.normalizeSlideIndex&&(u<0||void 0===u)&&(u=0)}if(n.indexOf(i)>=0)h=n.indexOf(i);else{const t=Math.min(r.slidesPerGroupSkip,u);h=t+Math.floor((u-t)/r.slidesPerGroup)}if(h>=n.length&&(h=n.length-1),u===a)return void(h!==l&&(e.snapIndex=h,e.emit("snapIndexChange")));const c=parseInt(e.slides.eq(u).attr("data-swiper-slide-index")||u,10);Object.assign(e,{snapIndex:h,realIndex:c,previousIndex:a,activeIndex:u}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),o!==c&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")},updateClickedSlide:function(t){const e=this,i=e.params,s=b(t).closest("."+i.slideClass)[0];let n,r=!1;if(s)for(let t=0;t<e.slides.length;t+=1)if(e.slides[t]===s){r=!0,n=t;break}if(!s||!r)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=s,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(b(s).attr("data-swiper-slide-index"),10):e.clickedIndex=n,i.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},translate:{getTranslate:function(t=(this.isHorizontal()?"x":"y")){const{params:e,rtlTranslate:i,translate:s,$wrapperEl:n}=this;if(e.virtualTranslate)return i?-s:s;if(e.cssMode)return s;let r=_(n[0],t);return i&&(r=-r),r||0},setTranslate:function(t,e){const i=this,{rtlTranslate:s,params:n,$wrapperEl:r,wrapperEl:a,progress:o}=i;let l,h=0,u=0;i.isHorizontal()?h=s?-t:t:u=t,n.roundLengths&&(h=Math.floor(h),u=Math.floor(u)),n.cssMode?a[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-h:-u:n.virtualTranslate||r.transform(`translate3d(${h}px, ${u}px, 0px)`),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?h:u;const c=i.maxTranslate()-i.minTranslate();l=0===c?0:(t-i.minTranslate())/c,l!==o&&i.updateProgress(t),i.emit("setTranslate",i.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(t=0,e=this.params.speed,i=!0,s=!0,n){const r=this,{params:a,wrapperEl:o}=r;if(r.animating&&a.preventInteractionOnTransition)return!1;const l=r.minTranslate(),h=r.maxTranslate();let u;if(u=s&&t>l?l:s&&t<h?h:t,r.updateProgress(u),a.cssMode){const t=r.isHorizontal();if(0===e)o[t?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return y({swiper:r,targetPosition:-u,side:t?"left":"top"}),!0;o.scrollTo({[t?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===e?(r.setTransition(0),r.setTranslate(u),i&&(r.emit("beforeTransitionStart",e,n),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),i&&(r.emit("beforeTransitionStart",e,n),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(t){r&&!r.destroyed&&t.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,i&&r.emit("transitionEnd"))}),r.$wrapperEl[0].addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(t,e){const i=this;i.params.cssMode||i.$wrapperEl.transition(t),i.emit("setTransition",t,e)},transitionStart:function(t=!0,e){const i=this,{params:s}=i;s.cssMode||(s.autoHeight&&i.updateAutoHeight(),N({swiper:i,runCallbacks:t,direction:e,step:"Start"}))},transitionEnd:function(t=!0,e){const{params:i}=this;this.animating=!1,i.cssMode||(this.setTransition(0),N({swiper:this,runCallbacks:t,direction:e,step:"End"}))}},slide:{slideTo:function(t=0,e=this.params.speed,i=!0,s,n){if("number"!=typeof t&&"string"!=typeof t)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if("string"==typeof t){const e=parseInt(t,10);if(!isFinite(e))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=e}const r=this;let a=t;a<0&&(a=0);const{params:o,snapGrid:l,slidesGrid:h,previousIndex:u,activeIndex:c,rtlTranslate:d,wrapperEl:p,enabled:g}=r;if(r.animating&&o.preventInteractionOnTransition||!g&&!s&&!n)return!1;const m=Math.min(r.params.slidesPerGroupSkip,a);let b=m+Math.floor((a-m)/r.params.slidesPerGroup);b>=l.length&&(b=l.length-1),(c||o.initialSlide||0)===(u||0)&&i&&r.emit("beforeSlideChangeStart");const f=-l[b];if(r.updateProgress(f),o.normalizeSlideIndex)for(let t=0;t<h.length;t+=1){const e=-Math.floor(100*f),i=Math.floor(100*h[t]),s=Math.floor(100*h[t+1]);void 0!==h[t+1]?e>=i&&e<s-(s-i)/2?a=t:e>=i&&e<s&&(a=t+1):e>=i&&(a=t)}if(r.initialized&&a!==c){if(!r.allowSlideNext&&f<r.translate&&f<r.minTranslate())return!1;if(!r.allowSlidePrev&&f>r.translate&&f>r.maxTranslate()&&(c||0)!==a)return!1}let v;if(v=a>c?"next":a<c?"prev":"reset",d&&-f===r.translate||!d&&f===r.translate)return r.updateActiveIndex(a),o.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==o.effect&&r.setTranslate(f),"reset"!==v&&(r.transitionStart(i,v),r.transitionEnd(i,v)),!1;if(o.cssMode){const t=r.isHorizontal(),i=d?f:-f;if(0===e){const e=r.virtual&&r.params.virtual.enabled;e&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),p[t?"scrollLeft":"scrollTop"]=i,e&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._swiperImmediateVirtual=!1})}else{if(!r.support.smoothScroll)return y({swiper:r,targetPosition:i,side:t?"left":"top"}),!0;p.scrollTo({[t?"left":"top"]:i,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(f),r.updateActiveIndex(a),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,s),r.transitionStart(i,v),0===e?r.transitionEnd(i,v):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(t){r&&!r.destroyed&&t.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(i,v))}),r.$wrapperEl[0].addEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(t=0,e=this.params.speed,i=!0,s){const n=this;let r=t;return n.params.loop&&(r+=n.loopedSlides),n.slideTo(r,e,i,s)},slideNext:function(t=this.params.speed,e=!0,i){const s=this,{animating:n,enabled:r,params:a}=s;if(!r)return s;let o=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(o=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<a.slidesPerGroupSkip?1:o;if(a.loop){if(n&&a.loopPreventsSlide)return!1;s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft}return a.rewind&&s.isEnd?s.slideTo(0,t,e,i):s.slideTo(s.activeIndex+l,t,e,i)},slidePrev:function(t=this.params.speed,e=!0,i){const s=this,{params:n,animating:r,snapGrid:a,slidesGrid:o,rtlTranslate:l,enabled:h}=s;if(!h)return s;if(n.loop){if(r&&n.loopPreventsSlide)return!1;s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft}function u(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}const c=u(l?s.translate:-s.translate),d=a.map(t=>u(t));let p=a[d.indexOf(c)-1];if(void 0===p&&n.cssMode){let t;a.forEach((e,i)=>{c>=e&&(t=i)}),void 0!==t&&(p=a[t>0?t-1:t])}let g=0;return void 0!==p&&(g=o.indexOf(p),g<0&&(g=s.activeIndex-1),"auto"===n.slidesPerView&&1===n.slidesPerGroup&&n.slidesPerGroupAuto&&(g=g-s.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),n.rewind&&s.isBeginning?s.slideTo(s.slides.length-1,t,e,i):s.slideTo(g,t,e,i)},slideReset:function(t=this.params.speed,e=!0,i){return this.slideTo(this.activeIndex,t,e,i)},slideToClosest:function(t=this.params.speed,e=!0,i,s=.5){const n=this;let r=n.activeIndex;const a=Math.min(n.params.slidesPerGroupSkip,r),o=a+Math.floor((r-a)/n.params.slidesPerGroup),l=n.rtlTranslate?n.translate:-n.translate;if(l>=n.snapGrid[o]){const t=n.snapGrid[o];l-t>(n.snapGrid[o+1]-t)*s&&(r+=n.params.slidesPerGroup)}else{const t=n.snapGrid[o-1];l-t<=(n.snapGrid[o]-t)*s&&(r-=n.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,n.slidesGrid.length-1),n.slideTo(r,t,e,i)},slideToClickedSlide:function(){const t=this,{params:e,$wrapperEl:i}=t,s="auto"===e.slidesPerView?t.slidesPerViewDynamic():e.slidesPerView;let n,r=t.clickedIndex;if(e.loop){if(t.animating)return;n=parseInt(b(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-s/2||r>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),r=i.children(`.${e.slideClass}[data-swiper-slide-index="${n}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),f(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-s?(t.loopFix(),r=i.children(`.${e.slideClass}[data-swiper-slide-index="${n}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),f(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}},loop:{loopCreate:function(){const t=this,e=a(),{params:i,$wrapperEl:s}=t,n=s.children().length>0?b(s.children()[0].parentNode):s;n.children(`.${i.slideClass}.${i.slideDuplicateClass}`).remove();let r=n.children("."+i.slideClass);if(i.loopFillGroupWithBlank){const t=i.slidesPerGroup-r.length%i.slidesPerGroup;if(t!==i.slidesPerGroup){for(let s=0;s<t;s+=1){const t=b(e.createElement("div")).addClass(`${i.slideClass} ${i.slideBlankClass}`);n.append(t)}r=n.children("."+i.slideClass)}}"auto"!==i.slidesPerView||i.loopedSlides||(i.loopedSlides=r.length),t.loopedSlides=Math.ceil(parseFloat(i.loopedSlides||i.slidesPerView,10)),t.loopedSlides+=i.loopAdditionalSlides,t.loopedSlides>r.length&&(t.loopedSlides=r.length);const o=[],l=[];r.each((e,i)=>{const s=b(e);i<t.loopedSlides&&l.push(e),i<r.length&&i>=r.length-t.loopedSlides&&o.push(e),s.attr("data-swiper-slide-index",i)});for(let t=0;t<l.length;t+=1)n.append(b(l[t].cloneNode(!0)).addClass(i.slideDuplicateClass));for(let t=o.length-1;t>=0;t-=1)n.prepend(b(o[t].cloneNode(!0)).addClass(i.slideDuplicateClass))},loopFix:function(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:i,loopedSlides:s,allowSlidePrev:n,allowSlideNext:r,snapGrid:a,rtlTranslate:o}=t;let l;t.allowSlidePrev=!0,t.allowSlideNext=!0;const h=-a[e]-t.getTranslate();if(e<s){l=i.length-3*s+e,l+=s;t.slideTo(l,0,!1,!0)&&0!==h&&t.setTranslate((o?-t.translate:t.translate)-h)}else if(e>=i.length-s){l=-i.length+e+s,l+=s;t.slideTo(l,0,!1,!0)&&0!==h&&t.setTranslate((o?-t.translate:t.translate)-h)}t.allowSlidePrev=n,t.allowSlideNext=r,t.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:t,params:e,slides:i}=this;t.children(`.${e.slideClass}.${e.slideDuplicateClass},.${e.slideClass}.${e.slideBlankClass}`).remove(),i.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(t){if(this.support.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)return;const e="container"===this.params.touchEventsTarget?this.el:this.wrapperEl;e.style.cursor="move",e.style.cursor=t?"-webkit-grabbing":"-webkit-grab",e.style.cursor=t?"-moz-grabbin":"-moz-grab",e.style.cursor=t?"grabbing":"grab"},unsetGrabCursor:function(){this.support.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this["container"===this.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:{attachEvents:function(){const t=this,e=a(),{params:i,support:s}=t;t.onTouchStart=L.bind(t),t.onTouchMove=M.bind(t),t.onTouchEnd=R.bind(t),i.cssMode&&(t.onScroll=B.bind(t)),t.onClick=k.bind(t),s.touch&&!H&&(e.addEventListener("touchstart",V),H=!0),F(t,"on")},detachEvents:function(){F(this,"off")}},breakpoints:{setBreakpoint:function(){const t=this,{activeIndex:e,initialized:i,loopedSlides:s=0,params:n,$el:r}=t,a=n.breakpoints;if(!a||a&&0===Object.keys(a).length)return;const o=t.getBreakpoint(a,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const l=(o in a?a[o]:void 0)||t.originalParams,h=D(t,n),u=D(t,l),c=n.enabled;h&&!u?(r.removeClass(`${n.containerModifierClass}grid ${n.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&u&&(r.addClass(n.containerModifierClass+"grid"),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===n.grid.fill)&&r.addClass(n.containerModifierClass+"grid-column"),t.emitContainerClasses());const d=l.direction&&l.direction!==n.direction,p=n.loop&&(l.slidesPerView!==n.slidesPerView||d);d&&i&&t.changeDirection(),C(t.params,l);const g=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),c&&!g?t.disable():!c&&g&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",l),p&&i&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-s+t.loopedSlides,0,!1)),t.emit("breakpoint",l)},getBreakpoint:function(t,e="window",i){if(!t||"container"===e&&!i)return;let s=!1;const n=l(),r="window"===e?n.innerHeight:i.clientHeight,a=Object.keys(t).map(t=>{if("string"==typeof t&&0===t.indexOf("@")){const e=parseFloat(t.substr(1));return{value:r*e,point:t}}return{value:t,point:t}});a.sort((t,e)=>parseInt(t.value,10)-parseInt(e.value,10));for(let t=0;t<a.length;t+=1){const{point:r,value:o}=a[t];"window"===e?n.matchMedia(`(min-width: ${o}px)`).matches&&(s=r):o<=i.clientWidth&&(s=r)}return s||"max"}},checkOverflow:{checkOverflow:function(){const t=this,{isLocked:e,params:i}=t,{slidesOffsetBefore:s}=i;if(s){const e=t.slides.length-1,i=t.slidesGrid[e]+t.slidesSizesGrid[e]+2*s;t.isLocked=t.size>i}else t.isLocked=1===t.snapGrid.length;!0===i.allowSlideNext&&(t.allowSlideNext=!t.isLocked),!0===i.allowSlidePrev&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const{classNames:t,params:e,rtl:i,$el:s,device:n,support:r}=this,a=function(t,e){const i=[];return t.forEach(t=>{"object"==typeof t?Object.keys(t).forEach(s=>{t[s]&&i.push(e+s)}):"string"==typeof t&&i.push(e+t)}),i}(["initialized",e.direction,{"pointer-events":!r.touch},{"free-mode":this.params.freeMode&&e.freeMode.enabled},{autoheight:e.autoHeight},{rtl:i},{grid:e.grid&&e.grid.rows>1},{"grid-column":e.grid&&e.grid.rows>1&&"column"===e.grid.fill},{android:n.android},{ios:n.ios},{"css-mode":e.cssMode},{centered:e.cssMode&&e.centeredSlides}],e.containerModifierClass);t.push(...a),s.addClass([...t].join(" ")),this.emitContainerClasses()},removeClasses:function(){const{$el:t,classNames:e}=this;t.removeClass(e.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(t,e,i,s,n,r){const a=l();let o;function h(){r&&r()}b(t).parent("picture")[0]||t.complete&&n?h():e?(o=new a.Image,o.onload=h,o.onerror=h,s&&(o.sizes=s),i&&(o.srcset=i),e&&(o.src=e)):h()},preloadImages:function(){const t=this;function e(){null!=t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(let i=0;i<t.imagesToLoad.length;i+=1){const s=t.imagesToLoad[i];t.loadImage(s,s.currentSrc||s.getAttribute("src"),s.srcset||s.getAttribute("srcset"),s.sizes||s.getAttribute("sizes"),!0,e)}}}},W={};class Y{constructor(...t){let e,i;if(1===t.length&&t[0].constructor&&"Object"===Object.prototype.toString.call(t[0]).slice(8,-1)?i=t[0]:[e,i]=t,i||(i={}),i=C({},i),e&&!i.el&&(i.el=e),i.el&&b(i.el).length>1){const t=[];return b(i.el).each(e=>{const s=C({},i,{el:e});t.push(new Y(s))}),t}const s=this;s.__swiper__=!0,s.support=I(),s.device=w({userAgent:i.userAgent}),s.browser=P(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],i.modules&&Array.isArray(i.modules)&&s.modules.push(...i.modules);const n={};s.modules.forEach(t=>{t({swiper:s,extendParams:j(i,n),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const r=C({},U,n);return s.params=C({},r,W,i),s.originalParams=C({},s.params),s.passedParams=C({},i),s.params&&s.params.on&&Object.keys(s.params.on).forEach(t=>{s.on(t,s.params.on[t])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=b,Object.assign(s,{enabled:s.params.enabled,el:e,classNames:[],slides:b(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===s.params.direction,isVertical:()=>"vertical"===s.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){const t=["touchstart","touchmove","touchend","touchcancel"],e=["pointerdown","pointermove","pointerup"];return s.touchEventsTouch={start:t[0],move:t[1],end:t[2],cancel:t[3]},s.touchEventsDesktop={start:e[0],move:e[1],end:e[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:v(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){t=Math.min(Math.max(t,0),1);const i=this.minTranslate(),s=(this.maxTranslate()-i)*t+i;this.translateTo(s,void 0===e?0:e),this.updateActiveIndex(),this.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter(e=>0===e.indexOf("swiper")||0===e.indexOf(t.params.containerModifierClass));t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return t.className.split(" ").filter(t=>0===t.indexOf("swiper-slide")||0===t.indexOf(e.params.slideClass)).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.each(i=>{const s=t.getSlideClasses(i);e.push({slideEl:i,classNames:s}),t.emit("_slideClass",i,s)}),t.emit("_slideClasses",e)}slidesPerViewDynamic(t="current",e=!1){const{params:i,slides:s,slidesGrid:n,slidesSizesGrid:r,size:a,activeIndex:o}=this;let l=1;if(i.centeredSlides){let t,e=s[o].swiperSlideSize;for(let i=o+1;i<s.length;i+=1)s[i]&&!t&&(e+=s[i].swiperSlideSize,l+=1,e>a&&(t=!0));for(let i=o-1;i>=0;i-=1)s[i]&&!t&&(e+=s[i].swiperSlideSize,l+=1,e>a&&(t=!0))}else if("current"===t)for(let t=o+1;t<s.length;t+=1){(e?n[t]+r[t]-n[o]<a:n[t]-n[o]<a)&&(l+=1)}else for(let t=o-1;t>=0;t-=1){n[o]-n[t]<a&&(l+=1)}return l}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:i}=t;function s(){const e=t.rtlTranslate?-1*t.translate:t.translate,i=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(i),t.updateActiveIndex(),t.updateSlidesClasses()}let n;i.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode&&t.params.freeMode.enabled?(s(),t.params.autoHeight&&t.updateAutoHeight()):(n=("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),n||s()),i.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e=!0){const i=this,s=i.params.direction;return t||(t="horizontal"===s?"vertical":"horizontal"),t===s||"horizontal"!==t&&"vertical"!==t||(i.$el.removeClass(`${i.params.containerModifierClass}${s}`).addClass(`${i.params.containerModifierClass}${t}`),i.emitContainerClasses(),i.params.direction=t,i.slides.each(e=>{"vertical"===t?e.style.width="":e.style.height=""}),i.emit("changeDirection"),e&&i.update()),i}mount(t){const e=this;if(e.mounted)return!0;const i=b(t||e.params.el);if(!(t=i[0]))return!1;t.swiper=e;const s=()=>"."+(e.params.wrapperClass||"").trim().split(" ").join(".");let n=(()=>{if(t&&t.shadowRoot&&t.shadowRoot.querySelector){const e=b(t.shadowRoot.querySelector(s()));return e.children=t=>i.children(t),e}return i.children(s())})();if(0===n.length&&e.params.createElements){const t=a().createElement("div");n=b(t),t.className=e.params.wrapperClass,i.append(t),i.children("."+e.params.slideClass).each(t=>{n.append(t)})}return Object.assign(e,{$el:i,el:t,$wrapperEl:n,wrapperEl:n[0],mounted:!0,rtl:"rtl"===t.dir.toLowerCase()||"rtl"===i.css("direction"),rtlTranslate:"horizontal"===e.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===i.css("direction")),wrongRTL:"-webkit-box"===n.css("display")}),!0}init(t){const e=this;if(e.initialized)return e;return!1===e.mount(t)||(e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.params.loop&&e.loopCreate(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.preloadImages&&e.preloadImages(),e.params.loop?e.slideTo(e.params.initialSlide+e.loopedSlides,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.attachEvents(),e.initialized=!0,e.emit("init"),e.emit("afterInit")),e}destroy(t=!0,e=!0){const i=this,{params:s,$el:n,$wrapperEl:r,slides:a}=i;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),e&&(i.removeClasses(),n.removeAttr("style"),r.removeAttr("style"),a&&a.length&&a.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(t=>{i.off(t)}),!1!==t&&(i.$el[0].swiper=null,function(t){const e=t;Object.keys(e).forEach(t=>{try{e[t]=null}catch(t){}try{delete e[t]}catch(t){}})}(i)),i.destroyed=!0),null}static extendDefaults(t){C(W,t)}static get extendedDefaults(){return W}static get defaults(){return U}static installModule(t){Y.prototype.__modules__||(Y.prototype.__modules__=[]);const e=Y.prototype.__modules__;"function"==typeof t&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach(t=>Y.installModule(t)),Y):(Y.installModule(t),Y)}}Object.keys(z).forEach(t=>{Object.keys(z[t]).forEach(e=>{Y.prototype[e]=z[t][e]})}),Y.use([function({swiper:t,on:e,emit:i}){const s=l();let n=null;const r=()=>{t&&!t.destroyed&&t.initialized&&(i("beforeResize"),i("resize"))},a=()=>{t&&!t.destroyed&&t.initialized&&i("orientationchange")};e("init",()=>{t.params.resizeObserver&&void 0!==s.ResizeObserver?t&&!t.destroyed&&t.initialized&&(n=new ResizeObserver(e=>{const{width:i,height:s}=t;let n=i,a=s;e.forEach(({contentBoxSize:e,contentRect:i,target:s})=>{s&&s!==t.el||(n=i?i.width:(e[0]||e).inlineSize,a=i?i.height:(e[0]||e).blockSize)}),n===i&&a===s||r()}),n.observe(t.el)):(s.addEventListener("resize",r),s.addEventListener("orientationchange",a))}),e("destroy",()=>{n&&n.unobserve&&t.el&&(n.unobserve(t.el),n=null),s.removeEventListener("resize",r),s.removeEventListener("orientationchange",a)})},function({swiper:t,extendParams:e,on:i,emit:s}){const n=[],r=l(),a=(t,e={})=>{const i=new(r.MutationObserver||r.WebkitMutationObserver)(t=>{if(1===t.length)return void s("observerUpdate",t[0]);const e=function(){s("observerUpdate",t[0])};r.requestAnimationFrame?r.requestAnimationFrame(e):r.setTimeout(e,0)});i.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),n.push(i)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",()=>{if(t.params.observer){if(t.params.observeParents){const e=t.$el.parents();for(let t=0;t<e.length;t+=1)a(e[t])}a(t.$el[0],{childList:t.params.observeSlideChildren}),a(t.$wrapperEl[0],{attributes:!1})}}),i("destroy",()=>{n.forEach(t=>{t.disconnect()}),n.splice(0,n.length)})}]);var $=Y;function G({swiper:t,extendParams:e,on:i}){let s;function n(e,i){const s=t.params.virtual;if(s.cache&&t.virtual.cache[i])return t.virtual.cache[i];const n=s.renderSlide?b(s.renderSlide.call(t,e,i)):b(`<div class="${t.params.slideClass}" data-swiper-slide-index="${i}">${e}</div>`);return n.attr("data-swiper-slide-index")||n.attr("data-swiper-slide-index",i),s.cache&&(t.virtual.cache[i]=n),n}function r(e){const{slidesPerView:i,slidesPerGroup:s,centeredSlides:r}=t.params,{addSlidesBefore:a,addSlidesAfter:o}=t.params.virtual,{from:l,to:h,slides:u,slidesGrid:c,offset:d}=t.virtual;t.params.cssMode||t.updateActiveIndex();const p=t.activeIndex||0;let g,m,b;g=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",r?(m=Math.floor(i/2)+s+o,b=Math.floor(i/2)+s+a):(m=i+(s-1)+o,b=s+a);const f=Math.max((p||0)-b,0),v=Math.min((p||0)+m,u.length-1),_=(t.slidesGrid[f]||0)-(t.slidesGrid[0]||0);function S(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(Object.assign(t.virtual,{from:f,to:v,offset:_,slidesGrid:t.slidesGrid}),l===f&&h===v&&!e)return t.slidesGrid!==c&&_!==d&&t.slides.css(g,_+"px"),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:_,from:f,to:v,slides:function(){const t=[];for(let e=f;e<=v;e+=1)t.push(u[e]);return t}()}),void(t.params.virtual.renderExternalUpdate&&S());const C=[],E=[];if(e)t.$wrapperEl.find("."+t.params.slideClass).remove();else for(let e=l;e<=h;e+=1)(e<f||e>v)&&t.$wrapperEl.find(`.${t.params.slideClass}[data-swiper-slide-index="${e}"]`).remove();for(let t=0;t<u.length;t+=1)t>=f&&t<=v&&(void 0===h||e?E.push(t):(t>h&&E.push(t),t<l&&C.push(t)));E.forEach(e=>{t.$wrapperEl.append(n(u[e],e))}),C.sort((t,e)=>e-t).forEach(e=>{t.$wrapperEl.prepend(n(u[e],e))}),t.$wrapperEl.children(".swiper-slide").css(g,_+"px"),S()}e({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}}),t.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]},i("beforeInit",()=>{t.params.virtual.enabled&&(t.virtual.slides=t.params.virtual.slides,t.classNames.push(t.params.containerModifierClass+"virtual"),t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0,t.params.initialSlide||r())}),i("setTranslate",()=>{t.params.virtual.enabled&&(t.params.cssMode&&!t._immediateVirtual?(clearTimeout(s),s=setTimeout(()=>{r()},100)):r())}),i("init update resize",()=>{t.params.virtual.enabled&&t.params.cssMode&&E(t.wrapperEl,"--swiper-virtual-size",t.virtualSize+"px")}),Object.assign(t.virtual,{appendSlide:function(e){if("object"==typeof e&&"length"in e)for(let i=0;i<e.length;i+=1)e[i]&&t.virtual.slides.push(e[i]);else t.virtual.slides.push(e);r(!0)},prependSlide:function(e){const i=t.activeIndex;let s=i+1,n=1;if(Array.isArray(e)){for(let i=0;i<e.length;i+=1)e[i]&&t.virtual.slides.unshift(e[i]);s=i+e.length,n=e.length}else t.virtual.slides.unshift(e);if(t.params.virtual.cache){const e=t.virtual.cache,i={};Object.keys(e).forEach(t=>{const s=e[t],r=s.attr("data-swiper-slide-index");r&&s.attr("data-swiper-slide-index",parseInt(r,10)+n),i[parseInt(t,10)+n]=s}),t.virtual.cache=i}r(!0),t.slideTo(s,0)},removeSlide:function(e){if(null==e)return;let i=t.activeIndex;if(Array.isArray(e))for(let s=e.length-1;s>=0;s-=1)t.virtual.slides.splice(e[s],1),t.params.virtual.cache&&delete t.virtual.cache[e[s]],e[s]<i&&(i-=1),i=Math.max(i,0);else t.virtual.slides.splice(e,1),t.params.virtual.cache&&delete t.virtual.cache[e],e<i&&(i-=1),i=Math.max(i,0);r(!0),t.slideTo(i,0)},removeAllSlides:function(){t.virtual.slides=[],t.params.virtual.cache&&(t.virtual.cache={}),r(!0),t.slideTo(0,0)},update:r})}function X({swiper:t,extendParams:e,on:i,emit:s}){const n=a(),r=l();function o(e){if(!t.enabled)return;const{rtlTranslate:i}=t;let a=e;a.originalEvent&&(a=a.originalEvent);const o=a.keyCode||a.charCode,l=t.params.keyboard.pageUpDown,h=l&&33===o,u=l&&34===o,c=37===o,d=39===o,p=38===o,g=40===o;if(!t.allowSlideNext&&(t.isHorizontal()&&d||t.isVertical()&&g||u))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&c||t.isVertical()&&p||h))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||n.activeElement&&n.activeElement.nodeName&&("input"===n.activeElement.nodeName.toLowerCase()||"textarea"===n.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(h||u||c||d||p||g)){let e=!1;if(t.$el.parents("."+t.params.slideClass).length>0&&0===t.$el.parents("."+t.params.slideActiveClass).length)return;const s=t.$el,n=s[0].clientWidth,a=s[0].clientHeight,o=r.innerWidth,l=r.innerHeight,h=t.$el.offset();i&&(h.left-=t.$el[0].scrollLeft);const u=[[h.left,h.top],[h.left+n,h.top],[h.left,h.top+a],[h.left+n,h.top+a]];for(let t=0;t<u.length;t+=1){const i=u[t];if(i[0]>=0&&i[0]<=o&&i[1]>=0&&i[1]<=l){if(0===i[0]&&0===i[1])continue;e=!0}}if(!e)return}t.isHorizontal()?((h||u||c||d)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),((u||d)&&!i||(h||c)&&i)&&t.slideNext(),((h||c)&&!i||(u||d)&&i)&&t.slidePrev()):((h||u||p||g)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),(u||g)&&t.slideNext(),(h||p)&&t.slidePrev()),s("keyPress",o)}}function h(){t.keyboard.enabled||(b(n).on("keydown",o),t.keyboard.enabled=!0)}function u(){t.keyboard.enabled&&(b(n).off("keydown",o),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},e({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),i("init",()=>{t.params.keyboard.enabled&&h()}),i("destroy",()=>{t.keyboard.enabled&&u()}),Object.assign(t.keyboard,{enable:h,disable:u})}function J({swiper:t,extendParams:e,on:i,emit:s}){const n=l();let r;e({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}}),t.mousewheel={enabled:!1};let a,o=v();const h=[];function u(){t.enabled&&(t.mouseEntered=!0)}function c(){t.enabled&&(t.mouseEntered=!1)}function d(e){return!(t.params.mousewheel.thresholdDelta&&e.delta<t.params.mousewheel.thresholdDelta)&&(!(t.params.mousewheel.thresholdTime&&v()-o<t.params.mousewheel.thresholdTime)&&(e.delta>=6&&v()-o<60||(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),s("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),s("scroll",e.raw)),o=(new n.Date).getTime(),!1)))}function p(e){let i=e,n=!0;if(!t.enabled)return;const o=t.params.mousewheel;t.params.cssMode&&i.preventDefault();let l=t.$el;if("container"!==t.params.mousewheel.eventsTarget&&(l=b(t.params.mousewheel.eventsTarget)),!t.mouseEntered&&!l[0].contains(i.target)&&!o.releaseOnEdges)return!0;i.originalEvent&&(i=i.originalEvent);let u=0;const c=t.rtlTranslate?-1:1,p=function(t){let e=0,i=0,s=0,n=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),s=10*e,n=10*i,"deltaY"in t&&(n=t.deltaY),"deltaX"in t&&(s=t.deltaX),t.shiftKey&&!s&&(s=n,n=0),(s||n)&&t.deltaMode&&(1===t.deltaMode?(s*=40,n*=40):(s*=800,n*=800)),s&&!e&&(e=s<1?-1:1),n&&!i&&(i=n<1?-1:1),{spinX:e,spinY:i,pixelX:s,pixelY:n}}(i);if(o.forceToAxis)if(t.isHorizontal()){if(!(Math.abs(p.pixelX)>Math.abs(p.pixelY)))return!0;u=-p.pixelX*c}else{if(!(Math.abs(p.pixelY)>Math.abs(p.pixelX)))return!0;u=-p.pixelY}else u=Math.abs(p.pixelX)>Math.abs(p.pixelY)?-p.pixelX*c:-p.pixelY;if(0===u)return!0;o.invert&&(u=-u);let g=t.getTranslate()+u*o.sensitivity;if(g>=t.minTranslate()&&(g=t.minTranslate()),g<=t.maxTranslate()&&(g=t.maxTranslate()),n=!!t.params.loop||!(g===t.minTranslate()||g===t.maxTranslate()),n&&t.params.nested&&i.stopPropagation(),t.params.freeMode&&t.params.freeMode.enabled){const e={time:v(),delta:Math.abs(u),direction:Math.sign(u)},n=a&&e.time<a.time+500&&e.delta<=a.delta&&e.direction===a.direction;if(!n){a=void 0,t.params.loop&&t.loopFix();let l=t.getTranslate()+u*o.sensitivity;const c=t.isBeginning,d=t.isEnd;if(l>=t.minTranslate()&&(l=t.minTranslate()),l<=t.maxTranslate()&&(l=t.maxTranslate()),t.setTransition(0),t.setTranslate(l),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!c&&t.isBeginning||!d&&t.isEnd)&&t.updateSlidesClasses(),t.params.freeMode.sticky){clearTimeout(r),r=void 0,h.length>=15&&h.shift();const i=h.length?h[h.length-1]:void 0,s=h[0];if(h.push(e),i&&(e.delta>i.delta||e.direction!==i.direction))h.splice(0);else if(h.length>=15&&e.time-s.time<500&&s.delta-e.delta>=1&&e.delta<=6){const i=u>0?.8:.2;a=e,h.splice(0),r=f(()=>{t.slideToClosest(t.params.speed,!0,void 0,i)},0)}r||(r=f(()=>{a=e,h.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)},500))}if(n||s("scroll",i),t.params.autoplay&&t.params.autoplayDisableOnInteraction&&t.autoplay.stop(),l===t.minTranslate()||l===t.maxTranslate())return!0}}else{const i={time:v(),delta:Math.abs(u),direction:Math.sign(u),raw:e};h.length>=2&&h.shift();const s=h.length?h[h.length-1]:void 0;if(h.push(i),s?(i.direction!==s.direction||i.delta>s.delta||i.time>s.time+150)&&d(i):d(i),function(e){const i=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&i.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&i.releaseOnEdges)return!0;return!1}(i))return!0}return i.preventDefault?i.preventDefault():i.returnValue=!1,!1}function g(e){let i=t.$el;"container"!==t.params.mousewheel.eventsTarget&&(i=b(t.params.mousewheel.eventsTarget)),i[e]("mouseenter",u),i[e]("mouseleave",c),i[e]("wheel",p)}function m(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",p),!0):!t.mousewheel.enabled&&(g("on"),t.mousewheel.enabled=!0,!0)}function _(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,p),!0):!!t.mousewheel.enabled&&(g("off"),t.mousewheel.enabled=!1,!0)}i("init",()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&_(),t.params.mousewheel.enabled&&m()}),i("destroy",()=>{t.params.cssMode&&m(),t.mousewheel.enabled&&_()}),Object.assign(t.mousewheel,{enable:m,disable:_})}function K(t,e,i,s){const n=a();return t.params.createElements&&Object.keys(s).forEach(r=>{if(!i[r]&&!0===i.auto){let a=t.$el.children("."+s[r])[0];a||(a=n.createElement("div"),a.className=s[r],t.$el.append(a)),i[r]=a,e[r]=a}}),i}function q({swiper:t,extendParams:e,on:i,emit:s}){function n(e){let i;return e&&(i=b(e),t.params.uniqueNavElements&&"string"==typeof e&&i.length>1&&1===t.$el.find(e).length&&(i=t.$el.find(e))),i}function r(e,i){const s=t.params.navigation;e&&e.length>0&&(e[i?"addClass":"removeClass"](s.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=i),t.params.watchOverflow&&t.enabled&&e[t.isLocked?"addClass":"removeClass"](s.lockClass))}function a(){if(t.params.loop)return;const{$nextEl:e,$prevEl:i}=t.navigation;r(i,t.isBeginning&&!t.params.rewind),r(e,t.isEnd&&!t.params.rewind)}function o(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&t.slidePrev()}function l(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&t.slideNext()}function h(){const e=t.params.navigation;if(t.params.navigation=K(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;const i=n(e.nextEl),s=n(e.prevEl);i&&i.length>0&&i.on("click",l),s&&s.length>0&&s.on("click",o),Object.assign(t.navigation,{$nextEl:i,nextEl:i&&i[0],$prevEl:s,prevEl:s&&s[0]}),t.enabled||(i&&i.addClass(e.lockClass),s&&s.addClass(e.lockClass))}function u(){const{$nextEl:e,$prevEl:i}=t.navigation;e&&e.length&&(e.off("click",l),e.removeClass(t.params.navigation.disabledClass)),i&&i.length&&(i.off("click",o),i.removeClass(t.params.navigation.disabledClass))}e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},i("init",()=>{h(),a()}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{u()}),i("enable disable",()=>{const{$nextEl:e,$prevEl:i}=t.navigation;e&&e[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),i&&i[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),i("click",(e,i)=>{const{$nextEl:n,$prevEl:r}=t.navigation,a=i.target;if(t.params.navigation.hideOnClick&&!b(a).is(r)&&!b(a).is(n)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===a||t.pagination.el.contains(a)))return;let e;n?e=n.hasClass(t.params.navigation.hiddenClass):r&&(e=r.hasClass(t.params.navigation.hiddenClass)),s(!0===e?"navigationShow":"navigationHide"),n&&n.toggleClass(t.params.navigation.hiddenClass),r&&r.toggleClass(t.params.navigation.hiddenClass)}}),Object.assign(t.navigation,{update:a,init:h,destroy:u})}function Z(t=""){return"."+t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}function Q({swiper:t,extendParams:e,on:i,emit:s}){const n="swiper-pagination";let r;e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:n+"-bullet",bulletActiveClass:n+"-bullet-active",modifierClass:n+"-",currentClass:n+"-current",totalClass:n+"-total",hiddenClass:n+"-hidden",progressbarFillClass:n+"-progressbar-fill",progressbarOppositeClass:n+"-progressbar-opposite",clickableClass:n+"-clickable",lockClass:n+"-lock",horizontalClass:n+"-horizontal",verticalClass:n+"-vertical"}}),t.pagination={el:null,$el:null,bullets:[]};let a=0;function o(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||0===t.pagination.$el.length}function l(e,i){const{bulletActiveClass:s}=t.params.pagination;e[i]().addClass(`${s}-${i}`)[i]().addClass(`${s}-${i}-${i}`)}function h(){const e=t.rtl,i=t.params.pagination;if(o())return;const n=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,h=t.pagination.$el;let u;const c=t.params.loop?Math.ceil((n-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(u=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),u>n-1-2*t.loopedSlides&&(u-=n-2*t.loopedSlides),u>c-1&&(u-=c),u<0&&"bullets"!==t.params.paginationType&&(u=c+u)):u=void 0!==t.snapIndex?t.snapIndex:t.activeIndex||0,"bullets"===i.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const s=t.pagination.bullets;let n,o,c;if(i.dynamicBullets&&(r=s.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),h.css(t.isHorizontal()?"width":"height",r*(i.dynamicMainBullets+4)+"px"),i.dynamicMainBullets>1&&void 0!==t.previousIndex&&(a+=u-(t.previousIndex-t.loopedSlides||0),a>i.dynamicMainBullets-1?a=i.dynamicMainBullets-1:a<0&&(a=0)),n=Math.max(u-a,0),o=n+(Math.min(s.length,i.dynamicMainBullets)-1),c=(o+n)/2),s.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(t=>`${i.bulletActiveClass}${t}`).join(" ")),h.length>1)s.each(t=>{const e=b(t),s=e.index();s===u&&e.addClass(i.bulletActiveClass),i.dynamicBullets&&(s>=n&&s<=o&&e.addClass(i.bulletActiveClass+"-main"),s===n&&l(e,"prev"),s===o&&l(e,"next"))});else{const e=s.eq(u),r=e.index();if(e.addClass(i.bulletActiveClass),i.dynamicBullets){const e=s.eq(n),a=s.eq(o);for(let t=n;t<=o;t+=1)s.eq(t).addClass(i.bulletActiveClass+"-main");if(t.params.loop)if(r>=s.length){for(let t=i.dynamicMainBullets;t>=0;t-=1)s.eq(s.length-t).addClass(i.bulletActiveClass+"-main");s.eq(s.length-i.dynamicMainBullets-1).addClass(i.bulletActiveClass+"-prev")}else l(e,"prev"),l(a,"next");else l(e,"prev"),l(a,"next")}}if(i.dynamicBullets){const n=Math.min(s.length,i.dynamicMainBullets+4),a=(r*n-r)/2-c*r,o=e?"right":"left";s.css(t.isHorizontal()?o:"top",a+"px")}}if("fraction"===i.type&&(h.find(Z(i.currentClass)).text(i.formatFractionCurrent(u+1)),h.find(Z(i.totalClass)).text(i.formatFractionTotal(c))),"progressbar"===i.type){let e;e=i.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const s=(u+1)/c;let n=1,r=1;"horizontal"===e?n=s:r=s,h.find(Z(i.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${n}) scaleY(${r})`).transition(t.params.speed)}"custom"===i.type&&i.renderCustom?(h.html(i.renderCustom(t,u+1,c)),s("paginationRender",h[0])):s("paginationUpdate",h[0]),t.params.watchOverflow&&t.enabled&&h[t.isLocked?"addClass":"removeClass"](i.lockClass)}function u(){const e=t.params.pagination;if(o())return;const i=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,n=t.pagination.$el;let r="";if("bullets"===e.type){let s=t.params.loop?Math.ceil((i-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&s>i&&(s=i);for(let i=0;i<s;i+=1)e.renderBullet?r+=e.renderBullet.call(t,i,e.bulletClass):r+=`<${e.bulletElement} class="${e.bulletClass}"></${e.bulletElement}>`;n.html(r),t.pagination.bullets=n.find(Z(e.bulletClass))}"fraction"===e.type&&(r=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`,n.html(r)),"progressbar"===e.type&&(r=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`,n.html(r)),"custom"!==e.type&&s("paginationRender",t.pagination.$el[0])}function c(){t.params.pagination=K(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let i=b(e.el);0!==i.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&i.length>1&&(i=t.$el.find(e.el),i.length>1&&(i=i.filter(e=>b(e).parents(".swiper")[0]===t.el))),"bullets"===e.type&&e.clickable&&i.addClass(e.clickableClass),i.addClass(e.modifierClass+e.type),i.addClass(e.modifierClass+t.params.direction),"bullets"===e.type&&e.dynamicBullets&&(i.addClass(`${e.modifierClass}${e.type}-dynamic`),a=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&i.addClass(e.progressbarOppositeClass),e.clickable&&i.on("click",Z(e.bulletClass),(function(e){e.preventDefault();let i=b(this).index()*t.params.slidesPerGroup;t.params.loop&&(i+=t.loopedSlides),t.slideTo(i)})),Object.assign(t.pagination,{$el:i,el:i[0]}),t.enabled||i.addClass(e.lockClass))}function d(){const e=t.params.pagination;if(o())return;const i=t.pagination.$el;i.removeClass(e.hiddenClass),i.removeClass(e.modifierClass+e.type),i.removeClass(e.modifierClass+t.params.direction),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&i.off("click",Z(e.bulletClass))}i("init",()=>{c(),u(),h()}),i("activeIndexChange",()=>{(t.params.loop||void 0===t.snapIndex)&&h()}),i("snapIndexChange",()=>{t.params.loop||h()}),i("slidesLengthChange",()=>{t.params.loop&&(u(),h())}),i("snapGridLengthChange",()=>{t.params.loop||(u(),h())}),i("destroy",()=>{d()}),i("enable disable",()=>{const{$el:e}=t.pagination;e&&e[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),i("lock unlock",()=>{h()}),i("click",(e,i)=>{const n=i.target,{$el:r}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&r.length>0&&!b(n).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&n===t.navigation.nextEl||t.navigation.prevEl&&n===t.navigation.prevEl))return;const e=r.hasClass(t.params.pagination.hiddenClass);s(!0===e?"paginationShow":"paginationHide"),r.toggleClass(t.params.pagination.hiddenClass)}}),Object.assign(t.pagination,{render:u,update:h,init:c,destroy:d})}function tt({swiper:t,extendParams:e,on:i,emit:s}){const n=a();let r,o,l,h,u=!1,c=null,d=null;function p(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e,rtlTranslate:i,progress:s}=t,{$dragEl:n,$el:r}=e,a=t.params.scrollbar;let h=o,u=(l-o)*s;i?(u=-u,u>0?(h=o-u,u=0):-u+o>l&&(h=l+u)):u<0?(h=o+u,u=0):u+o>l&&(h=l-u),t.isHorizontal()?(n.transform(`translate3d(${u}px, 0, 0)`),n[0].style.width=h+"px"):(n.transform(`translate3d(0px, ${u}px, 0)`),n[0].style.height=h+"px"),a.hide&&(clearTimeout(c),r[0].style.opacity=1,c=setTimeout(()=>{r[0].style.opacity=0,r.transition(400)},1e3))}function g(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e}=t,{$dragEl:i,$el:s}=e;i[0].style.width="",i[0].style.height="",l=t.isHorizontal()?s[0].offsetWidth:s[0].offsetHeight,h=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),o="auto"===t.params.scrollbar.dragSize?l*h:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?i[0].style.width=o+"px":i[0].style.height=o+"px",s[0].style.display=h>=1?"none":"",t.params.scrollbar.hide&&(s[0].style.opacity=0),t.params.watchOverflow&&t.enabled&&e.$el[t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}function m(e){return t.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY}function v(e){const{scrollbar:i,rtlTranslate:s}=t,{$el:n}=i;let a;a=(m(e)-n.offset()[t.isHorizontal()?"left":"top"]-(null!==r?r:o/2))/(l-o),a=Math.max(Math.min(a,1),0),s&&(a=1-a);const h=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*a;t.updateProgress(h),t.setTranslate(h),t.updateActiveIndex(),t.updateSlidesClasses()}function _(e){const i=t.params.scrollbar,{scrollbar:n,$wrapperEl:a}=t,{$el:o,$dragEl:l}=n;u=!0,r=e.target===l[0]||e.target===l?m(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),a.transition(100),l.transition(100),v(e),clearTimeout(d),o.transition(0),i.hide&&o.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),s("scrollbarDragStart",e)}function S(e){const{scrollbar:i,$wrapperEl:n}=t,{$el:r,$dragEl:a}=i;u&&(e.preventDefault?e.preventDefault():e.returnValue=!1,v(e),n.transition(0),r.transition(0),a.transition(0),s("scrollbarDragMove",e))}function C(e){const i=t.params.scrollbar,{scrollbar:n,$wrapperEl:r}=t,{$el:a}=n;u&&(u=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),r.transition("")),i.hide&&(clearTimeout(d),d=f(()=>{a.css("opacity",0),a.transition(400)},1e3)),s("scrollbarDragEnd",e),i.snapOnRelease&&t.slideToClosest())}function E(e){const{scrollbar:i,touchEventsTouch:s,touchEventsDesktop:r,params:a,support:o}=t,l=i.$el[0],h=!(!o.passiveListener||!a.passiveListeners)&&{passive:!1,capture:!1},u=!(!o.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};if(!l)return;const c="on"===e?"addEventListener":"removeEventListener";o.touch?(l[c](s.start,_,h),l[c](s.move,S,h),l[c](s.end,C,u)):(l[c](r.start,_,h),n[c](r.move,S,h),n[c](r.end,C,u))}function y(){const{scrollbar:e,$el:i}=t;t.params.scrollbar=K(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const s=t.params.scrollbar;if(!s.el)return;let n=b(s.el);t.params.uniqueNavElements&&"string"==typeof s.el&&n.length>1&&1===i.find(s.el).length&&(n=i.find(s.el));let r=n.find("."+t.params.scrollbar.dragClass);0===r.length&&(r=b(`<div class="${t.params.scrollbar.dragClass}"></div>`),n.append(r)),Object.assign(e,{$el:n,el:n[0],$dragEl:r,dragEl:r[0]}),s.draggable&&t.params.scrollbar.el&&E("on"),n&&n[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}function T(){t.params.scrollbar.el&&E("off")}e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}}),t.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null},i("init",()=>{y(),g(),p()}),i("update resize observerUpdate lock unlock",()=>{g()}),i("setTranslate",()=>{p()}),i("setTransition",(e,i)=>{!function(e){t.params.scrollbar.el&&t.scrollbar.el&&t.scrollbar.$dragEl.transition(e)}(i)}),i("enable disable",()=>{const{$el:e}=t.scrollbar;e&&e[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}),i("destroy",()=>{T()}),Object.assign(t.scrollbar,{updateSize:g,setTranslate:p,init:y,destroy:T})}function et({swiper:t,extendParams:e,on:i}){e({parallax:{enabled:!1}});const s=(e,i)=>{const{rtl:s}=t,n=b(e),r=s?-1:1,a=n.attr("data-swiper-parallax")||"0";let o=n.attr("data-swiper-parallax-x"),l=n.attr("data-swiper-parallax-y");const h=n.attr("data-swiper-parallax-scale"),u=n.attr("data-swiper-parallax-opacity");if(o||l?(o=o||"0",l=l||"0"):t.isHorizontal()?(o=a,l="0"):(l=a,o="0"),o=o.indexOf("%")>=0?parseInt(o,10)*i*r+"%":o*i*r+"px",l=l.indexOf("%")>=0?parseInt(l,10)*i+"%":l*i+"px",null!=u){const t=u-(u-1)*(1-Math.abs(i));n[0].style.opacity=t}if(null==h)n.transform(`translate3d(${o}, ${l}, 0px)`);else{const t=h-(h-1)*(1-Math.abs(i));n.transform(`translate3d(${o}, ${l}, 0px) scale(${t})`)}},n=()=>{const{$el:e,slides:i,progress:n,snapGrid:r}=t;e.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(t=>{s(t,n)}),i.each((e,i)=>{let a=e.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(a+=Math.ceil(i/2)-n*(r.length-1)),a=Math.min(Math.max(a,-1),1),b(e).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(t=>{s(t,a)})})};i("beforeInit",()=>{t.params.parallax.enabled&&(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)}),i("init",()=>{t.params.parallax.enabled&&n()}),i("setTranslate",()=>{t.params.parallax.enabled&&n()}),i("setTransition",(e,i)=>{t.params.parallax.enabled&&((e=t.params.speed)=>{const{$el:i}=t;i.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(t=>{const i=b(t);let s=parseInt(i.attr("data-swiper-parallax-duration"),10)||e;0===e&&(s=0),i.transition(s)})})(i)})}function it({swiper:t,extendParams:e,on:i,emit:s}){const n=l();e({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};let r,a,o,h=1,u=!1;const c={$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},d={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},p={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let g=1;function m(t){if(t.targetTouches.length<2)return 1;const e=t.targetTouches[0].pageX,i=t.targetTouches[0].pageY,s=t.targetTouches[1].pageX,n=t.targetTouches[1].pageY;return Math.sqrt((s-e)**2+(n-i)**2)}function f(e){const i=t.support,s=t.params.zoom;if(a=!1,o=!1,!i.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;a=!0,c.scaleStart=m(e)}c.$slideEl&&c.$slideEl.length||(c.$slideEl=b(e.target).closest("."+t.params.slideClass),0===c.$slideEl.length&&(c.$slideEl=t.slides.eq(t.activeIndex)),c.$imageEl=c.$slideEl.find("."+s.containerClass).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),c.$imageWrapEl=c.$imageEl.parent("."+s.containerClass),c.maxRatio=c.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,0!==c.$imageWrapEl.length)?(c.$imageEl&&c.$imageEl.transition(0),u=!0):c.$imageEl=void 0}function v(e){const i=t.support,s=t.params.zoom,n=t.zoom;if(!i.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;o=!0,c.scaleMove=m(e)}c.$imageEl&&0!==c.$imageEl.length?(i.gestures?n.scale=e.scale*h:n.scale=c.scaleMove/c.scaleStart*h,n.scale>c.maxRatio&&(n.scale=c.maxRatio-1+(n.scale-c.maxRatio+1)**.5),n.scale<s.minRatio&&(n.scale=s.minRatio+1-(s.minRatio-n.scale+1)**.5),c.$imageEl.transform(`translate3d(0,0,0) scale(${n.scale})`)):"gesturechange"===e.type&&f(e)}function S(e){const i=t.device,s=t.support,n=t.params.zoom,r=t.zoom;if(!s.gestures){if(!a||!o)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!i.android)return;a=!1,o=!1}c.$imageEl&&0!==c.$imageEl.length&&(r.scale=Math.max(Math.min(r.scale,c.maxRatio),n.minRatio),c.$imageEl.transition(t.params.speed).transform(`translate3d(0,0,0) scale(${r.scale})`),h=r.scale,u=!1,1===r.scale&&(c.$slideEl=void 0))}function C(e){const i=t.zoom;if(!c.$imageEl||0===c.$imageEl.length)return;if(t.allowClick=!1,!d.isTouched||!c.$slideEl)return;d.isMoved||(d.width=c.$imageEl[0].offsetWidth,d.height=c.$imageEl[0].offsetHeight,d.startX=_(c.$imageWrapEl[0],"x")||0,d.startY=_(c.$imageWrapEl[0],"y")||0,c.slideWidth=c.$slideEl[0].offsetWidth,c.slideHeight=c.$slideEl[0].offsetHeight,c.$imageWrapEl.transition(0));const s=d.width*i.scale,n=d.height*i.scale;if(!(s<c.slideWidth&&n<c.slideHeight)){if(d.minX=Math.min(c.slideWidth/2-s/2,0),d.maxX=-d.minX,d.minY=Math.min(c.slideHeight/2-n/2,0),d.maxY=-d.minY,d.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,d.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!d.isMoved&&!u){if(t.isHorizontal()&&(Math.floor(d.minX)===Math.floor(d.startX)&&d.touchesCurrent.x<d.touchesStart.x||Math.floor(d.maxX)===Math.floor(d.startX)&&d.touchesCurrent.x>d.touchesStart.x))return void(d.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(d.minY)===Math.floor(d.startY)&&d.touchesCurrent.y<d.touchesStart.y||Math.floor(d.maxY)===Math.floor(d.startY)&&d.touchesCurrent.y>d.touchesStart.y))return void(d.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),d.isMoved=!0,d.currentX=d.touchesCurrent.x-d.touchesStart.x+d.startX,d.currentY=d.touchesCurrent.y-d.touchesStart.y+d.startY,d.currentX<d.minX&&(d.currentX=d.minX+1-(d.minX-d.currentX+1)**.8),d.currentX>d.maxX&&(d.currentX=d.maxX-1+(d.currentX-d.maxX+1)**.8),d.currentY<d.minY&&(d.currentY=d.minY+1-(d.minY-d.currentY+1)**.8),d.currentY>d.maxY&&(d.currentY=d.maxY-1+(d.currentY-d.maxY+1)**.8),p.prevPositionX||(p.prevPositionX=d.touchesCurrent.x),p.prevPositionY||(p.prevPositionY=d.touchesCurrent.y),p.prevTime||(p.prevTime=Date.now()),p.x=(d.touchesCurrent.x-p.prevPositionX)/(Date.now()-p.prevTime)/2,p.y=(d.touchesCurrent.y-p.prevPositionY)/(Date.now()-p.prevTime)/2,Math.abs(d.touchesCurrent.x-p.prevPositionX)<2&&(p.x=0),Math.abs(d.touchesCurrent.y-p.prevPositionY)<2&&(p.y=0),p.prevPositionX=d.touchesCurrent.x,p.prevPositionY=d.touchesCurrent.y,p.prevTime=Date.now(),c.$imageWrapEl.transform(`translate3d(${d.currentX}px, ${d.currentY}px,0)`)}}function E(){const e=t.zoom;c.$slideEl&&t.previousIndex!==t.activeIndex&&(c.$imageEl&&c.$imageEl.transform("translate3d(0,0,0) scale(1)"),c.$imageWrapEl&&c.$imageWrapEl.transform("translate3d(0,0,0)"),e.scale=1,h=1,c.$slideEl=void 0,c.$imageEl=void 0,c.$imageWrapEl=void 0)}function y(e){const i=t.zoom,s=t.params.zoom;if(c.$slideEl||(e&&e.target&&(c.$slideEl=b(e.target).closest("."+t.params.slideClass)),c.$slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?c.$slideEl=t.$wrapperEl.children("."+t.params.slideActiveClass):c.$slideEl=t.slides.eq(t.activeIndex)),c.$imageEl=c.$slideEl.find("."+s.containerClass).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),c.$imageWrapEl=c.$imageEl.parent("."+s.containerClass)),!c.$imageEl||0===c.$imageEl.length||!c.$imageWrapEl||0===c.$imageWrapEl.length)return;let r,a,o,l,u,p,g,m,f,v,_,S,C,E,y,T,A,O;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),c.$slideEl.addClass(""+s.zoomedSlideClass),void 0===d.touchesStart.x&&e?(r="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,a="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(r=d.touchesStart.x,a=d.touchesStart.y),i.scale=c.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,h=c.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,e?(A=c.$slideEl[0].offsetWidth,O=c.$slideEl[0].offsetHeight,o=c.$slideEl.offset().left+n.scrollX,l=c.$slideEl.offset().top+n.scrollY,u=o+A/2-r,p=l+O/2-a,f=c.$imageEl[0].offsetWidth,v=c.$imageEl[0].offsetHeight,_=f*i.scale,S=v*i.scale,C=Math.min(A/2-_/2,0),E=Math.min(O/2-S/2,0),y=-C,T=-E,g=u*i.scale,m=p*i.scale,g<C&&(g=C),g>y&&(g=y),m<E&&(m=E),m>T&&(m=T)):(g=0,m=0),c.$imageWrapEl.transition(300).transform(`translate3d(${g}px, ${m}px,0)`),c.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${i.scale})`)}function T(){const e=t.zoom,i=t.params.zoom;c.$slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?c.$slideEl=t.$wrapperEl.children("."+t.params.slideActiveClass):c.$slideEl=t.slides.eq(t.activeIndex),c.$imageEl=c.$slideEl.find("."+i.containerClass).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),c.$imageWrapEl=c.$imageEl.parent("."+i.containerClass)),c.$imageEl&&0!==c.$imageEl.length&&c.$imageWrapEl&&0!==c.$imageWrapEl.length&&(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),e.scale=1,h=1,c.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),c.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),c.$slideEl.removeClass(""+i.zoomedSlideClass),c.$slideEl=void 0)}function A(e){const i=t.zoom;i.scale&&1!==i.scale?T():y(e)}function O(){const e=t.support;return{passiveListener:!("touchstart"!==t.touchEvents.start||!e.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1},activeListenerWithCapture:!e.passiveListener||{passive:!1,capture:!0}}}function I(){return"."+t.params.slideClass}function w(e){const{passiveListener:i}=O(),s=I();t.$wrapperEl[e]("gesturestart",s,f,i),t.$wrapperEl[e]("gesturechange",s,v,i),t.$wrapperEl[e]("gestureend",s,S,i)}function P(){r||(r=!0,w("on"))}function N(){r&&(r=!1,w("off"))}function L(){const e=t.zoom;if(e.enabled)return;e.enabled=!0;const i=t.support,{passiveListener:s,activeListenerWithCapture:n}=O(),r=I();i.gestures?(t.$wrapperEl.on(t.touchEvents.start,P,s),t.$wrapperEl.on(t.touchEvents.end,N,s)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.on(t.touchEvents.start,r,f,s),t.$wrapperEl.on(t.touchEvents.move,r,v,n),t.$wrapperEl.on(t.touchEvents.end,r,S,s),t.touchEvents.cancel&&t.$wrapperEl.on(t.touchEvents.cancel,r,S,s)),t.$wrapperEl.on(t.touchEvents.move,"."+t.params.zoom.containerClass,C,n)}function M(){const e=t.zoom;if(!e.enabled)return;const i=t.support;e.enabled=!1;const{passiveListener:s,activeListenerWithCapture:n}=O(),r=I();i.gestures?(t.$wrapperEl.off(t.touchEvents.start,P,s),t.$wrapperEl.off(t.touchEvents.end,N,s)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.off(t.touchEvents.start,r,f,s),t.$wrapperEl.off(t.touchEvents.move,r,v,n),t.$wrapperEl.off(t.touchEvents.end,r,S,s),t.touchEvents.cancel&&t.$wrapperEl.off(t.touchEvents.cancel,r,S,s)),t.$wrapperEl.off(t.touchEvents.move,"."+t.params.zoom.containerClass,C,n)}Object.defineProperty(t.zoom,"scale",{get:()=>g,set(t){if(g!==t){const e=c.$imageEl?c.$imageEl[0]:void 0,i=c.$slideEl?c.$slideEl[0]:void 0;s("zoomChange",t,e,i)}g=t}}),i("init",()=>{t.params.zoom.enabled&&L()}),i("destroy",()=>{M()}),i("touchStart",(e,i)=>{t.zoom.enabled&&function(e){const i=t.device;c.$imageEl&&0!==c.$imageEl.length&&(d.isTouched||(i.android&&e.cancelable&&e.preventDefault(),d.isTouched=!0,d.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,d.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))}(i)}),i("touchEnd",(e,i)=>{t.zoom.enabled&&function(){const e=t.zoom;if(!c.$imageEl||0===c.$imageEl.length)return;if(!d.isTouched||!d.isMoved)return d.isTouched=!1,void(d.isMoved=!1);d.isTouched=!1,d.isMoved=!1;let i=300,s=300;const n=p.x*i,r=d.currentX+n,a=p.y*s,o=d.currentY+a;0!==p.x&&(i=Math.abs((r-d.currentX)/p.x)),0!==p.y&&(s=Math.abs((o-d.currentY)/p.y));const l=Math.max(i,s);d.currentX=r,d.currentY=o;const h=d.width*e.scale,u=d.height*e.scale;d.minX=Math.min(c.slideWidth/2-h/2,0),d.maxX=-d.minX,d.minY=Math.min(c.slideHeight/2-u/2,0),d.maxY=-d.minY,d.currentX=Math.max(Math.min(d.currentX,d.maxX),d.minX),d.currentY=Math.max(Math.min(d.currentY,d.maxY),d.minY),c.$imageWrapEl.transition(l).transform(`translate3d(${d.currentX}px, ${d.currentY}px,0)`)}()}),i("doubleTap",(e,i)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&A(i)}),i("transitionEnd",()=>{t.zoom.enabled&&t.params.zoom.enabled&&E()}),i("slideChange",()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&E()}),Object.assign(t.zoom,{enable:L,disable:M,in:y,out:T,toggle:A})}function st({swiper:t,extendParams:e,on:i,emit:s}){e({lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}}),t.lazy={};let n=!1,r=!1;function a(e,i=!0){const n=t.params.lazy;if(void 0===e)return;if(0===t.slides.length)return;const r=t.virtual&&t.params.virtual.enabled?t.$wrapperEl.children(`.${t.params.slideClass}[data-swiper-slide-index="${e}"]`):t.slides.eq(e),o=r.find(`.${n.elementClass}:not(.${n.loadedClass}):not(.${n.loadingClass})`);!r.hasClass(n.elementClass)||r.hasClass(n.loadedClass)||r.hasClass(n.loadingClass)||o.push(r[0]),0!==o.length&&o.each(e=>{const o=b(e);o.addClass(n.loadingClass);const l=o.attr("data-background"),h=o.attr("data-src"),u=o.attr("data-srcset"),c=o.attr("data-sizes"),d=o.parent("picture");t.loadImage(o[0],h||l,u,c,!1,()=>{if(null!=t&&t&&(!t||t.params)&&!t.destroyed){if(l?(o.css("background-image",`url("${l}")`),o.removeAttr("data-background")):(u&&(o.attr("srcset",u),o.removeAttr("data-srcset")),c&&(o.attr("sizes",c),o.removeAttr("data-sizes")),d.length&&d.children("source").each(t=>{const e=b(t);e.attr("data-srcset")&&(e.attr("srcset",e.attr("data-srcset")),e.removeAttr("data-srcset"))}),h&&(o.attr("src",h),o.removeAttr("data-src"))),o.addClass(n.loadedClass).removeClass(n.loadingClass),r.find("."+n.preloaderClass).remove(),t.params.loop&&i){const e=r.attr("data-swiper-slide-index");if(r.hasClass(t.params.slideDuplicateClass)){a(t.$wrapperEl.children(`[data-swiper-slide-index="${e}"]:not(.${t.params.slideDuplicateClass})`).index(),!1)}else{a(t.$wrapperEl.children(`.${t.params.slideDuplicateClass}[data-swiper-slide-index="${e}"]`).index(),!1)}}s("lazyImageReady",r[0],o[0]),t.params.autoHeight&&t.updateAutoHeight()}}),s("lazyImageLoad",r[0],o[0])})}function o(){const{$wrapperEl:e,params:i,slides:s,activeIndex:n}=t,o=t.virtual&&i.virtual.enabled,l=i.lazy;let h=i.slidesPerView;function u(t){if(o){if(e.children(`.${i.slideClass}[data-swiper-slide-index="${t}"]`).length)return!0}else if(s[t])return!0;return!1}function c(t){return o?b(t).attr("data-swiper-slide-index"):b(t).index()}if("auto"===h&&(h=0),r||(r=!0),t.params.watchSlidesProgress)e.children("."+i.slideVisibleClass).each(t=>{a(o?b(t).attr("data-swiper-slide-index"):b(t).index())});else if(h>1)for(let t=n;t<n+h;t+=1)u(t)&&a(t);else a(n);if(l.loadPrevNext)if(h>1||l.loadPrevNextAmount&&l.loadPrevNextAmount>1){const t=l.loadPrevNextAmount,e=h,i=Math.min(n+e+Math.max(t,e),s.length),r=Math.max(n-Math.max(e,t),0);for(let t=n+h;t<i;t+=1)u(t)&&a(t);for(let t=r;t<n;t+=1)u(t)&&a(t)}else{const t=e.children("."+i.slideNextClass);t.length>0&&a(c(t));const s=e.children("."+i.slidePrevClass);s.length>0&&a(c(s))}}function h(){const e=l();if(!t||t.destroyed)return;const i=t.params.lazy.scrollingElement?b(t.params.lazy.scrollingElement):b(e),s=i[0]===e,r=s?e.innerWidth:i[0].offsetWidth,a=s?e.innerHeight:i[0].offsetHeight,u=t.$el.offset(),{rtlTranslate:c}=t;let d=!1;c&&(u.left-=t.$el[0].scrollLeft);const p=[[u.left,u.top],[u.left+t.width,u.top],[u.left,u.top+t.height],[u.left+t.width,u.top+t.height]];for(let t=0;t<p.length;t+=1){const e=p[t];if(e[0]>=0&&e[0]<=r&&e[1]>=0&&e[1]<=a){if(0===e[0]&&0===e[1])continue;d=!0}}const g=!("touchstart"!==t.touchEvents.start||!t.support.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};d?(o(),i.off("scroll",h,g)):n||(n=!0,i.on("scroll",h,g))}i("beforeInit",()=>{t.params.lazy.enabled&&t.params.preloadImages&&(t.params.preloadImages=!1)}),i("init",()=>{t.params.lazy.enabled&&(t.params.lazy.checkInView?h():o())}),i("scroll",()=>{t.params.freeMode&&t.params.freeMode.enabled&&!t.params.freeMode.sticky&&o()}),i("scrollbarDragMove resize _freeModeNoMomentumRelease",()=>{t.params.lazy.enabled&&(t.params.lazy.checkInView?h():o())}),i("transitionStart",()=>{t.params.lazy.enabled&&(t.params.lazy.loadOnTransitionStart||!t.params.lazy.loadOnTransitionStart&&!r)&&(t.params.lazy.checkInView?h():o())}),i("transitionEnd",()=>{t.params.lazy.enabled&&!t.params.lazy.loadOnTransitionStart&&(t.params.lazy.checkInView?h():o())}),i("slideChange",()=>{const{lazy:e,cssMode:i,watchSlidesProgress:s,touchReleaseOnEdges:n,resistanceRatio:r}=t.params;e.enabled&&(i||s&&(n||0===r))&&o()}),Object.assign(t.lazy,{load:o,loadInSlide:a})}function nt({swiper:t,extendParams:e,on:i}){function s(t,e){const i=function(){let t,e,i;return(s,n)=>{for(e=-1,t=s.length;t-e>1;)i=t+e>>1,s[i]<=n?e=i:t=i;return t}}();let s,n;return this.x=t,this.y=e,this.lastIndex=t.length-1,this.interpolate=function(t){return t?(n=i(this.x,t),s=n-1,(t-this.x[s])*(this.y[n]-this.y[s])/(this.x[n]-this.x[s])+this.y[s]):0},this}function n(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}e({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0},i("beforeInit",()=>{t.controller.control=t.params.controller.control}),i("update",()=>{n()}),i("resize",()=>{n()}),i("observerUpdate",()=>{n()}),i("setTranslate",(e,i,s)=>{t.controller.control&&t.controller.setTranslate(i,s)}),i("setTransition",(e,i,s)=>{t.controller.control&&t.controller.setTransition(i,s)}),Object.assign(t.controller,{setTranslate:function(e,i){const n=t.controller.control;let r,a;const o=t.constructor;function l(e){const i=t.rtlTranslate?-t.translate:t.translate;"slide"===t.params.controller.by&&(!function(e){t.controller.spline||(t.controller.spline=t.params.loop?new s(t.slidesGrid,e.slidesGrid):new s(t.snapGrid,e.snapGrid))}(e),a=-t.controller.spline.interpolate(-i)),a&&"container"!==t.params.controller.by||(r=(e.maxTranslate()-e.minTranslate())/(t.maxTranslate()-t.minTranslate()),a=(i-t.minTranslate())*r+e.minTranslate()),t.params.controller.inverse&&(a=e.maxTranslate()-a),e.updateProgress(a),e.setTranslate(a,t),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(n))for(let t=0;t<n.length;t+=1)n[t]!==i&&n[t]instanceof o&&l(n[t]);else n instanceof o&&i!==n&&l(n)},setTransition:function(e,i){const s=t.constructor,n=t.controller.control;let r;function a(i){i.setTransition(e,t),0!==e&&(i.transitionStart(),i.params.autoHeight&&f(()=>{i.updateAutoHeight()}),i.$wrapperEl.transitionEnd(()=>{n&&(i.params.loop&&"slide"===t.params.controller.by&&i.loopFix(),i.transitionEnd())}))}if(Array.isArray(n))for(r=0;r<n.length;r+=1)n[r]!==i&&n[r]instanceof s&&a(n[r]);else n instanceof s&&i!==n&&a(n)}})}function rt({swiper:t,extendParams:e,on:i}){e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}});let s=null;function n(t){const e=s;0!==e.length&&(e.html(""),e.html(t))}function r(t){t.attr("tabIndex","0")}function a(t){t.attr("tabIndex","-1")}function o(t,e){t.attr("role",e)}function l(t,e){t.attr("aria-roledescription",e)}function h(t,e){t.attr("aria-label",e)}function u(t){t.attr("aria-disabled",!0)}function c(t){t.attr("aria-disabled",!1)}function d(e){if(13!==e.keyCode&&32!==e.keyCode)return;const i=t.params.a11y,s=b(e.target);t.navigation&&t.navigation.$nextEl&&s.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?n(i.lastSlideMessage):n(i.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&s.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?n(i.firstSlideMessage):n(i.prevSlideMessage)),t.pagination&&s.is(Z(t.params.pagination.bulletClass))&&s[0].click()}function p(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{$nextEl:e,$prevEl:i}=t.navigation;i&&i.length>0&&(t.isBeginning?(u(i),a(i)):(c(i),r(i))),e&&e.length>0&&(t.isEnd?(u(e),a(e)):(c(e),r(e)))}function g(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function m(){return g()&&t.params.pagination.clickable}const f=(t,e,i)=>{r(t),"BUTTON"!==t[0].tagName&&(o(t,"button"),t.on("keydown",d)),h(t,i),function(t,e){t.attr("aria-controls",e)}(t,e)};function v(){const e=t.params.a11y;t.$el.append(s);const i=t.$el;e.containerRoleDescriptionMessage&&l(i,e.containerRoleDescriptionMessage),e.containerMessage&&h(i,e.containerMessage);const n=t.$wrapperEl,r=n.attr("id")||"swiper-wrapper-"+function(t=16){return"x".repeat(t).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16),a=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";var u;u=r,n.attr("id",u),function(t,e){t.attr("aria-live",e)}(n,a),e.itemRoleDescriptionMessage&&l(b(t.slides),e.itemRoleDescriptionMessage),o(b(t.slides),e.slideRole);const c=t.params.loop?t.slides.filter(e=>!e.classList.contains(t.params.slideDuplicateClass)).length:t.slides.length;let p,g;t.slides.each((i,s)=>{const n=b(i),r=t.params.loop?parseInt(n.attr("data-swiper-slide-index"),10):s;h(n,e.slideLabelMessage.replace(/\{\{index\}\}/,r+1).replace(/\{\{slidesLength\}\}/,c))}),t.navigation&&t.navigation.$nextEl&&(p=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(g=t.navigation.$prevEl),p&&p.length&&f(p,r,e.nextSlideMessage),g&&g.length&&f(g,r,e.prevSlideMessage),m()&&t.pagination.$el.on("keydown",Z(t.params.pagination.bulletClass),d)}i("beforeInit",()=>{s=b(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),i("afterInit",()=>{t.params.a11y.enabled&&(v(),p())}),i("toEdge",()=>{t.params.a11y.enabled&&p()}),i("fromEdge",()=>{t.params.a11y.enabled&&p()}),i("paginationUpdate",()=>{t.params.a11y.enabled&&function(){const e=t.params.a11y;g()&&t.pagination.bullets.each(i=>{const s=b(i);t.params.pagination.clickable&&(r(s),t.params.pagination.renderBullet||(o(s,"button"),h(s,e.paginationBulletMessage.replace(/\{\{index\}\}/,s.index()+1)))),s.is("."+t.params.pagination.bulletActiveClass)?s.attr("aria-current","true"):s.removeAttr("aria-current")})}()}),i("destroy",()=>{t.params.a11y.enabled&&function(){let e,i;s&&s.length>0&&s.remove(),t.navigation&&t.navigation.$nextEl&&(e=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(i=t.navigation.$prevEl),e&&e.off("keydown",d),i&&i.off("keydown",d),m()&&t.pagination.$el.off("keydown",Z(t.params.pagination.bulletClass),d)}()})}function at({swiper:t,extendParams:e,on:i}){e({history:{enabled:!1,root:"",replaceState:!1,key:"slides"}});let s=!1,n={};const r=t=>t.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),a=t=>{const e=l();let i;i=t?new URL(t):e.location;const s=i.pathname.slice(1).split("/").filter(t=>""!==t),n=s.length;return{key:s[n-2],value:s[n-1]}},o=(e,i)=>{const n=l();if(!s||!t.params.history.enabled)return;let a;a=t.params.url?new URL(t.params.url):n.location;const o=t.slides.eq(i);let h=r(o.attr("data-history"));if(t.params.history.root.length>0){let i=t.params.history.root;"/"===i[i.length-1]&&(i=i.slice(0,i.length-1)),h=`${i}/${e}/${h}`}else a.pathname.includes(e)||(h=`${e}/${h}`);const u=n.history.state;u&&u.value===h||(t.params.history.replaceState?n.history.replaceState({value:h},null,h):n.history.pushState({value:h},null,h))},h=(e,i,s)=>{if(i)for(let n=0,a=t.slides.length;n<a;n+=1){const a=t.slides.eq(n);if(r(a.attr("data-history"))===i&&!a.hasClass(t.params.slideDuplicateClass)){const i=a.index();t.slideTo(i,e,s)}}else t.slideTo(0,e,s)},u=()=>{n=a(t.params.url),h(t.params.speed,t.paths.value,!1)};i("init",()=>{t.params.history.enabled&&(()=>{const e=l();if(t.params.history){if(!e.history||!e.history.pushState)return t.params.history.enabled=!1,void(t.params.hashNavigation.enabled=!0);s=!0,n=a(t.params.url),(n.key||n.value)&&(h(0,n.value,t.params.runCallbacksOnInit),t.params.history.replaceState||e.addEventListener("popstate",u))}})()}),i("destroy",()=>{t.params.history.enabled&&(()=>{const e=l();t.params.history.replaceState||e.removeEventListener("popstate",u)})()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{s&&o(t.params.history.key,t.activeIndex)}),i("slideChange",()=>{s&&t.params.cssMode&&o(t.params.history.key,t.activeIndex)})}function ot({swiper:t,extendParams:e,emit:i,on:s}){let n=!1;const r=a(),o=l();e({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}});const h=()=>{i("hashChange");const e=r.location.hash.replace("#","");if(e!==t.slides.eq(t.activeIndex).attr("data-hash")){const i=t.$wrapperEl.children(`.${t.params.slideClass}[data-hash="${e}"]`).index();if(void 0===i)return;t.slideTo(i)}},u=()=>{if(n&&t.params.hashNavigation.enabled)if(t.params.hashNavigation.replaceState&&o.history&&o.history.replaceState)o.history.replaceState(null,null,"#"+t.slides.eq(t.activeIndex).attr("data-hash")||""),i("hashSet");else{const e=t.slides.eq(t.activeIndex),s=e.attr("data-hash")||e.attr("data-history");r.location.hash=s||"",i("hashSet")}};s("init",()=>{t.params.hashNavigation.enabled&&(()=>{if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;n=!0;const e=r.location.hash.replace("#","");if(e){const i=0;for(let s=0,n=t.slides.length;s<n;s+=1){const n=t.slides.eq(s);if((n.attr("data-hash")||n.attr("data-history"))===e&&!n.hasClass(t.params.slideDuplicateClass)){const e=n.index();t.slideTo(e,i,t.params.runCallbacksOnInit,!0)}}}t.params.hashNavigation.watchState&&b(o).on("hashchange",h)})()}),s("destroy",()=>{t.params.hashNavigation.enabled&&t.params.hashNavigation.watchState&&b(o).off("hashchange",h)}),s("transitionEnd _freeModeNoMomentumRelease",()=>{n&&u()}),s("slideChange",()=>{n&&t.params.cssMode&&u()})}function lt({swiper:t,extendParams:e,on:i,emit:s}){let n;function r(){const e=t.slides.eq(t.activeIndex);let i=t.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(i=e.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(n),n=f(()=>{let e;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),e=t.slidePrev(t.params.speed,!0,!0),s("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?l():(e=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),s("autoplay")):(e=t.slidePrev(t.params.speed,!0,!0),s("autoplay")):t.params.loop?(t.loopFix(),e=t.slideNext(t.params.speed,!0,!0),s("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?l():(e=t.slideTo(0,t.params.speed,!0,!0),s("autoplay")):(e=t.slideNext(t.params.speed,!0,!0),s("autoplay")),(t.params.cssMode&&t.autoplay.running||!1===e)&&r()},i)}function o(){return void 0===n&&(!t.autoplay.running&&(t.autoplay.running=!0,s("autoplayStart"),r(),!0))}function l(){return!!t.autoplay.running&&(void 0!==n&&(n&&(clearTimeout(n),n=void 0),t.autoplay.running=!1,s("autoplayStop"),!0))}function h(e){t.autoplay.running&&(t.autoplay.paused||(n&&clearTimeout(n),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(e=>{t.$wrapperEl[0].addEventListener(e,c)}):(t.autoplay.paused=!1,r())))}function u(){const e=a();"hidden"===e.visibilityState&&t.autoplay.running&&h(),"visible"===e.visibilityState&&t.autoplay.paused&&(r(),t.autoplay.paused=!1)}function c(e){t&&!t.destroyed&&t.$wrapperEl&&e.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(e=>{t.$wrapperEl[0].removeEventListener(e,c)}),t.autoplay.paused=!1,t.autoplay.running?r():l())}function d(){t.params.autoplay.disableOnInteraction?l():h(),["transitionend","webkitTransitionEnd"].forEach(e=>{t.$wrapperEl[0].removeEventListener(e,c)})}function p(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,r())}t.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),i("init",()=>{if(t.params.autoplay.enabled){o();a().addEventListener("visibilitychange",u),t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",d),t.$el.on("mouseleave",p))}}),i("beforeTransitionStart",(e,i,s)=>{t.autoplay.running&&(s||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(i):l())}),i("sliderFirstMove",()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?l():h())}),i("touchEnd",()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&r()}),i("destroy",()=>{t.$el.off("mouseenter",d),t.$el.off("mouseleave",p),t.autoplay.running&&l();a().removeEventListener("visibilitychange",u)}),Object.assign(t.autoplay,{pause:h,run:r,start:o,stop:l})}function ht({swiper:t,extendParams:e,on:i}){e({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let s=!1,n=!1;function r(){const e=t.thumbs.swiper;if(!e)return;const i=e.clickedIndex,s=e.clickedSlide;if(s&&b(s).hasClass(t.params.thumbs.slideThumbActiveClass))return;if(null==i)return;let n;if(n=e.params.loop?parseInt(b(e.clickedSlide).attr("data-swiper-slide-index"),10):i,t.params.loop){let e=t.activeIndex;t.slides.eq(e).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,e=t.activeIndex);const i=t.slides.eq(e).prevAll(`[data-swiper-slide-index="${n}"]`).eq(0).index(),s=t.slides.eq(e).nextAll(`[data-swiper-slide-index="${n}"]`).eq(0).index();n=void 0===i?s:void 0===s?i:s-e<e-i?s:i}t.slideTo(n)}function a(){const{thumbs:e}=t.params;if(s)return!1;s=!0;const i=t.constructor;if(e.swiper instanceof i)t.thumbs.swiper=e.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(S(e.swiper)){const s=Object.assign({},e.swiper);Object.assign(s,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new i(s),n=!0}return t.thumbs.swiper.$el.addClass(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",r),!0}function o(e){const i=t.thumbs.swiper;if(!i)return;const s="auto"===i.params.slidesPerView?i.slidesPerViewDynamic():i.params.slidesPerView,n=t.params.thumbs.autoScrollOffset,r=n&&!i.params.loop;if(t.realIndex!==i.realIndex||r){let a,o,l=i.activeIndex;if(i.params.loop){i.slides.eq(l).hasClass(i.params.slideDuplicateClass)&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,l=i.activeIndex);const e=i.slides.eq(l).prevAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index(),s=i.slides.eq(l).nextAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index();a=void 0===e?s:void 0===s?e:s-l==l-e?i.params.slidesPerGroup>1?s:l:s-l<l-e?s:e,o=t.activeIndex>t.previousIndex?"next":"prev"}else a=t.realIndex,o=a>t.previousIndex?"next":"prev";r&&(a+="next"===o?n:-1*n),i.visibleSlidesIndexes&&i.visibleSlidesIndexes.indexOf(a)<0&&(i.params.centeredSlides?a=a>l?a-Math.floor(s/2)+1:a+Math.floor(s/2)-1:a>l&&i.params.slidesPerGroup,i.slideTo(a,e?0:void 0))}let a=1;const o=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(a=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(a=1),a=Math.floor(a),i.slides.removeClass(o),i.params.loop||i.params.virtual&&i.params.virtual.enabled)for(let e=0;e<a;e+=1)i.$wrapperEl.children(`[data-swiper-slide-index="${t.realIndex+e}"]`).addClass(o);else for(let e=0;e<a;e+=1)i.slides.eq(t.realIndex+e).addClass(o)}t.thumbs={swiper:null},i("beforeInit",()=>{const{thumbs:e}=t.params;e&&e.swiper&&(a(),o(!0))}),i("slideChange update resize observerUpdate",()=>{t.thumbs.swiper&&o()}),i("setTransition",(e,i)=>{const s=t.thumbs.swiper;s&&s.setTransition(i)}),i("beforeDestroy",()=>{const e=t.thumbs.swiper;e&&n&&e&&e.destroy()}),Object.assign(t.thumbs,{init:a,update:o})}function ut({swiper:t,extendParams:e,emit:i,once:s}){e({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(t,{freeMode:{onTouchMove:function(){const{touchEventsData:e,touches:i}=t;0===e.velocities.length&&e.velocities.push({position:i[t.isHorizontal()?"startX":"startY"],time:e.touchStartTime}),e.velocities.push({position:i[t.isHorizontal()?"currentX":"currentY"],time:v()})},onTouchEnd:function({currentPos:e}){const{params:n,$wrapperEl:r,rtlTranslate:a,snapGrid:o,touchEventsData:l}=t,h=v()-l.touchStartTime;if(e<-t.minTranslate())t.slideTo(t.activeIndex);else if(e>-t.maxTranslate())t.slides.length<o.length?t.slideTo(o.length-1):t.slideTo(t.slides.length-1);else{if(n.freeMode.momentum){if(l.velocities.length>1){const e=l.velocities.pop(),i=l.velocities.pop(),s=e.position-i.position,r=e.time-i.time;t.velocity=s/r,t.velocity/=2,Math.abs(t.velocity)<n.freeMode.minimumVelocity&&(t.velocity=0),(r>150||v()-e.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=n.freeMode.momentumVelocityRatio,l.velocities.length=0;let e=1e3*n.freeMode.momentumRatio;const h=t.velocity*e;let u=t.translate+h;a&&(u=-u);let c,d=!1;const p=20*Math.abs(t.velocity)*n.freeMode.momentumBounceRatio;let g;if(u<t.maxTranslate())n.freeMode.momentumBounce?(u+t.maxTranslate()<-p&&(u=t.maxTranslate()-p),c=t.maxTranslate(),d=!0,l.allowMomentumBounce=!0):u=t.maxTranslate(),n.loop&&n.centeredSlides&&(g=!0);else if(u>t.minTranslate())n.freeMode.momentumBounce?(u-t.minTranslate()>p&&(u=t.minTranslate()+p),c=t.minTranslate(),d=!0,l.allowMomentumBounce=!0):u=t.minTranslate(),n.loop&&n.centeredSlides&&(g=!0);else if(n.freeMode.sticky){let e;for(let t=0;t<o.length;t+=1)if(o[t]>-u){e=t;break}u=Math.abs(o[e]-u)<Math.abs(o[e-1]-u)||"next"===t.swipeDirection?o[e]:o[e-1],u=-u}if(g&&s("transitionEnd",()=>{t.loopFix()}),0!==t.velocity){if(e=a?Math.abs((-u-t.translate)/t.velocity):Math.abs((u-t.translate)/t.velocity),n.freeMode.sticky){const i=Math.abs((a?-u:u)-t.translate),s=t.slidesSizesGrid[t.activeIndex];e=i<s?n.speed:i<2*s?1.5*n.speed:2.5*n.speed}}else if(n.freeMode.sticky)return void t.slideToClosest();n.freeMode.momentumBounce&&d?(t.updateProgress(c),t.setTransition(e),t.setTranslate(u),t.transitionStart(!0,t.swipeDirection),t.animating=!0,r.transitionEnd(()=>{t&&!t.destroyed&&l.allowMomentumBounce&&(i("momentumBounce"),t.setTransition(n.speed),setTimeout(()=>{t.setTranslate(c),r.transitionEnd(()=>{t&&!t.destroyed&&t.transitionEnd()})},0))})):t.velocity?(i("_freeModeNoMomentumRelease"),t.updateProgress(u),t.setTransition(e),t.setTranslate(u),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,r.transitionEnd(()=>{t&&!t.destroyed&&t.transitionEnd()}))):t.updateProgress(u),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(n.freeMode.sticky)return void t.slideToClosest();n.freeMode&&i("_freeModeNoMomentumRelease")}(!n.freeMode.momentum||h>=n.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}}}})}function ct({swiper:t,extendParams:e}){let i,s,n;e({grid:{rows:1,fill:"column"}});t.grid={initSlides:e=>{const{slidesPerView:r}=t.params,{rows:a,fill:o}=t.params.grid;s=i/a,n=Math.floor(e/a),i=Math.floor(e/a)===e/a?e:Math.ceil(e/a)*a,"auto"!==r&&"row"===o&&(i=Math.max(i,r*a))},updateSlide:(e,r,a,o)=>{const{slidesPerGroup:l,spaceBetween:h}=t.params,{rows:u,fill:c}=t.params.grid;let d,p,g;if("row"===c&&l>1){const t=Math.floor(e/(l*u)),s=e-u*l*t,n=0===t?l:Math.min(Math.ceil((a-t*u*l)/u),l);g=Math.floor(s/n),p=s-g*n+t*l,d=p+g*i/u,r.css({"-webkit-order":d,order:d})}else"column"===c?(p=Math.floor(e/u),g=e-p*u,(p>n||p===n&&g===u-1)&&(g+=1,g>=u&&(g=0,p+=1))):(g=Math.floor(e/s),p=e-g*s);r.css(o("margin-top"),0!==g?h&&h+"px":"")},updateWrapperSize:(e,s,n)=>{const{spaceBetween:r,centeredSlides:a,roundLengths:o}=t.params,{rows:l}=t.params.grid;if(t.virtualSize=(e+r)*i,t.virtualSize=Math.ceil(t.virtualSize/l)-r,t.$wrapperEl.css({[n("width")]:t.virtualSize+r+"px"}),a){s.splice(0,s.length);const e=[];for(let i=0;i<s.length;i+=1){let n=s[i];o&&(n=Math.floor(n)),s[i]<t.virtualSize+s[0]&&e.push(n)}s.push(...e)}}}}function dt(t){const e=this,{$wrapperEl:i,params:s}=e;if(s.loop&&e.loopDestroy(),"object"==typeof t&&"length"in t)for(let e=0;e<t.length;e+=1)t[e]&&i.append(t[e]);else i.append(t);s.loop&&e.loopCreate(),s.observer||e.update()}function pt(t){const e=this,{params:i,$wrapperEl:s,activeIndex:n}=e;i.loop&&e.loopDestroy();let r=n+1;if("object"==typeof t&&"length"in t){for(let e=0;e<t.length;e+=1)t[e]&&s.prepend(t[e]);r=n+t.length}else s.prepend(t);i.loop&&e.loopCreate(),i.observer||e.update(),e.slideTo(r,0,!1)}function gt(t,e){const i=this,{$wrapperEl:s,params:n,activeIndex:r}=i;let a=r;n.loop&&(a-=i.loopedSlides,i.loopDestroy(),i.slides=s.children("."+n.slideClass));const o=i.slides.length;if(t<=0)return void i.prependSlide(e);if(t>=o)return void i.appendSlide(e);let l=a>t?a+1:a;const h=[];for(let e=o-1;e>=t;e-=1){const t=i.slides.eq(e);t.remove(),h.unshift(t)}if("object"==typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&s.append(e[t]);l=a>t?a+e.length:a}else s.append(e);for(let t=0;t<h.length;t+=1)s.append(h[t]);n.loop&&i.loopCreate(),n.observer||i.update(),n.loop?i.slideTo(l+i.loopedSlides,0,!1):i.slideTo(l,0,!1)}function mt(t){const e=this,{params:i,$wrapperEl:s,activeIndex:n}=e;let r=n;i.loop&&(r-=e.loopedSlides,e.loopDestroy(),e.slides=s.children("."+i.slideClass));let a,o=r;if("object"==typeof t&&"length"in t){for(let i=0;i<t.length;i+=1)a=t[i],e.slides[a]&&e.slides.eq(a).remove(),a<o&&(o-=1);o=Math.max(o,0)}else a=t,e.slides[a]&&e.slides.eq(a).remove(),a<o&&(o-=1),o=Math.max(o,0);i.loop&&e.loopCreate(),i.observer||e.update(),i.loop?e.slideTo(o+e.loopedSlides,0,!1):e.slideTo(o,0,!1)}function bt(){const t=this,e=[];for(let i=0;i<t.slides.length;i+=1)e.push(i);t.removeSlide(e)}function ft({swiper:t}){Object.assign(t,{appendSlide:dt.bind(t),prependSlide:pt.bind(t),addSlide:gt.bind(t),removeSlide:mt.bind(t),removeAllSlides:bt.bind(t)})}function vt(t){const{effect:e,swiper:i,on:s,setTranslate:n,setTransition:r,overwriteParams:a,perspective:o}=t;s("beforeInit",()=>{if(i.params.effect!==e)return;i.classNames.push(`${i.params.containerModifierClass}${e}`),o&&o()&&i.classNames.push(i.params.containerModifierClass+"3d");const t=a?a():{};Object.assign(i.params,t),Object.assign(i.originalParams,t)}),s("setTranslate",()=>{i.params.effect===e&&n()}),s("setTransition",(t,s)=>{i.params.effect===e&&r(s)})}function _t(t,e){return t.transformEl?e.find(t.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}function St({swiper:t,duration:e,transformEl:i,allSlides:s}){const{slides:n,activeIndex:r,$wrapperEl:a}=t;if(t.params.virtualTranslate&&0!==e){let e,o=!1;e=s?i?n.find(i):n:i?n.eq(r).find(i):n.eq(r),e.transitionEnd(()=>{if(o)return;if(!t||t.destroyed)return;o=!0,t.animating=!1;const e=["webkitTransitionEnd","transitionend"];for(let t=0;t<e.length;t+=1)a.trigger(e[t])})}}function Ct({swiper:t,extendParams:e,on:i}){e({fadeEffect:{crossFade:!1,transformEl:null}});vt({effect:"fade",swiper:t,on:i,setTranslate:()=>{const{slides:e}=t,i=t.params.fadeEffect;for(let s=0;s<e.length;s+=1){const e=t.slides.eq(s);let n=-e[0].swiperSlideOffset;t.params.virtualTranslate||(n-=t.translate);let r=0;t.isHorizontal()||(r=n,n=0);const a=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(e[0].progress),0):1+Math.min(Math.max(e[0].progress,-1),0);_t(i,e).css({opacity:a}).transform(`translate3d(${n}px, ${r}px, 0px)`)}},setTransition:e=>{const{transformEl:i}=t.params.fadeEffect;(i?t.slides.find(i):t.slides).transition(e),St({swiper:t,duration:e,transformEl:i,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function Et({swiper:t,extendParams:e,on:i}){e({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});vt({effect:"cube",swiper:t,on:i,setTranslate:()=>{const{$el:e,$wrapperEl:i,slides:s,width:n,height:r,rtlTranslate:a,size:o,browser:l}=t,h=t.params.cubeEffect,u=t.isHorizontal(),c=t.virtual&&t.params.virtual.enabled;let d,p=0;h.shadow&&(u?(d=i.find(".swiper-cube-shadow"),0===d.length&&(d=b('<div class="swiper-cube-shadow"></div>'),i.append(d)),d.css({height:n+"px"})):(d=e.find(".swiper-cube-shadow"),0===d.length&&(d=b('<div class="swiper-cube-shadow"></div>'),e.append(d))));for(let t=0;t<s.length;t+=1){const e=s.eq(t);let i=t;c&&(i=parseInt(e.attr("data-swiper-slide-index"),10));let n=90*i,r=Math.floor(n/360);a&&(n=-n,r=Math.floor(-n/360));const l=Math.max(Math.min(e[0].progress,1),-1);let d=0,g=0,m=0;i%4==0?(d=4*-r*o,m=0):(i-1)%4==0?(d=0,m=4*-r*o):(i-2)%4==0?(d=o+4*r*o,m=o):(i-3)%4==0&&(d=-o,m=3*o+4*o*r),a&&(d=-d),u||(g=d,d=0);const f=`rotateX(${u?0:-n}deg) rotateY(${u?n:0}deg) translate3d(${d}px, ${g}px, ${m}px)`;if(l<=1&&l>-1&&(p=90*i+90*l,a&&(p=90*-i-90*l)),e.transform(f),h.slideShadows){let t=u?e.find(".swiper-slide-shadow-left"):e.find(".swiper-slide-shadow-top"),i=u?e.find(".swiper-slide-shadow-right"):e.find(".swiper-slide-shadow-bottom");0===t.length&&(t=b(`<div class="swiper-slide-shadow-${u?"left":"top"}"></div>`),e.append(t)),0===i.length&&(i=b(`<div class="swiper-slide-shadow-${u?"right":"bottom"}"></div>`),e.append(i)),t.length&&(t[0].style.opacity=Math.max(-l,0)),i.length&&(i[0].style.opacity=Math.max(l,0))}}if(i.css({"-webkit-transform-origin":`50% 50% -${o/2}px`,"transform-origin":`50% 50% -${o/2}px`}),h.shadow)if(u)d.transform(`translate3d(0px, ${n/2+h.shadowOffset}px, ${-n/2}px) rotateX(90deg) rotateZ(0deg) scale(${h.shadowScale})`);else{const t=Math.abs(p)-90*Math.floor(Math.abs(p)/90),e=1.5-(Math.sin(2*t*Math.PI/360)/2+Math.cos(2*t*Math.PI/360)/2),i=h.shadowScale,s=h.shadowScale/e,n=h.shadowOffset;d.transform(`scale3d(${i}, 1, ${s}) translate3d(0px, ${r/2+n}px, ${-r/2/s}px) rotateX(-90deg)`)}const g=l.isSafari||l.isWebView?-o/2:0;i.transform(`translate3d(0px,0,${g}px) rotateX(${t.isHorizontal()?0:p}deg) rotateY(${t.isHorizontal()?-p:0}deg)`)},setTransition:e=>{const{$el:i,slides:s}=t;s.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.cubeEffect.shadow&&!t.isHorizontal()&&i.find(".swiper-cube-shadow").transition(e)},perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function yt(t,e,i){const s="swiper-slide-shadow"+(i?"-"+i:""),n=t.transformEl?e.find(t.transformEl):e;let r=n.children("."+s);return r.length||(r=b(`<div class="swiper-slide-shadow${i?"-"+i:""}"></div>`),n.append(r)),r}function Tt({swiper:t,extendParams:e,on:i}){e({flipEffect:{slideShadows:!0,limitRotation:!0,transformEl:null}});vt({effect:"flip",swiper:t,on:i,setTranslate:()=>{const{slides:e,rtlTranslate:i}=t,s=t.params.flipEffect;for(let n=0;n<e.length;n+=1){const r=e.eq(n);let a=r[0].progress;t.params.flipEffect.limitRotation&&(a=Math.max(Math.min(r[0].progress,1),-1));const o=r[0].swiperSlideOffset;let l=-180*a,h=0,u=t.params.cssMode?-o-t.translate:-o,c=0;if(t.isHorizontal()?i&&(l=-l):(c=u,u=0,h=-l,l=0),r[0].style.zIndex=-Math.abs(Math.round(a))+e.length,s.slideShadows){let e=t.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),i=t.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===e.length&&(e=yt(s,r,t.isHorizontal()?"left":"top")),0===i.length&&(i=yt(s,r,t.isHorizontal()?"right":"bottom")),e.length&&(e[0].style.opacity=Math.max(-a,0)),i.length&&(i[0].style.opacity=Math.max(a,0))}const d=`translate3d(${u}px, ${c}px, 0px) rotateX(${h}deg) rotateY(${l}deg)`;_t(s,r).transform(d)}},setTransition:e=>{const{transformEl:i}=t.params.flipEffect;(i?t.slides.find(i):t.slides).transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),St({swiper:t,duration:e,transformEl:i})},perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function At({swiper:t,extendParams:e,on:i}){e({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0,transformEl:null}});vt({effect:"coverflow",swiper:t,on:i,setTranslate:()=>{const{width:e,height:i,slides:s,slidesSizesGrid:n}=t,r=t.params.coverflowEffect,a=t.isHorizontal(),o=t.translate,l=a?e/2-o:i/2-o,h=a?r.rotate:-r.rotate,u=r.depth;for(let t=0,e=s.length;t<e;t+=1){const e=s.eq(t),i=n[t],o=(l-e[0].swiperSlideOffset-i/2)/i*r.modifier;let c=a?h*o:0,d=a?0:h*o,p=-u*Math.abs(o),g=r.stretch;"string"==typeof g&&-1!==g.indexOf("%")&&(g=parseFloat(r.stretch)/100*i);let m=a?0:g*o,b=a?g*o:0,f=1-(1-r.scale)*Math.abs(o);Math.abs(b)<.001&&(b=0),Math.abs(m)<.001&&(m=0),Math.abs(p)<.001&&(p=0),Math.abs(c)<.001&&(c=0),Math.abs(d)<.001&&(d=0),Math.abs(f)<.001&&(f=0);const v=`translate3d(${b}px,${m}px,${p}px)  rotateX(${d}deg) rotateY(${c}deg) scale(${f})`;if(_t(r,e).transform(v),e[0].style.zIndex=1-Math.abs(Math.round(o)),r.slideShadows){let t=a?e.find(".swiper-slide-shadow-left"):e.find(".swiper-slide-shadow-top"),i=a?e.find(".swiper-slide-shadow-right"):e.find(".swiper-slide-shadow-bottom");0===t.length&&(t=yt(r,e,a?"left":"top")),0===i.length&&(i=yt(r,e,a?"right":"bottom")),t.length&&(t[0].style.opacity=o>0?o:0),i.length&&(i[0].style.opacity=-o>0?-o:0)}}},setTransition:e=>{const{transformEl:i}=t.params.coverflowEffect;(i?t.slides.find(i):t.slides).transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function Ot({swiper:t,extendParams:e,on:i}){e({creativeEffect:{transformEl:null,limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const s=t=>"string"==typeof t?t:t+"px";vt({effect:"creative",swiper:t,on:i,setTranslate:()=>{const{slides:e,$wrapperEl:i,slidesSizesGrid:n}=t,r=t.params.creativeEffect,{progressMultiplier:a}=r,o=t.params.centeredSlides;if(o){const e=n[0]/2-t.params.slidesOffsetBefore||0;i.transform(`translateX(calc(50% - ${e}px))`)}for(let i=0;i<e.length;i+=1){const n=e.eq(i),l=n[0].progress,h=Math.min(Math.max(n[0].progress,-r.limitProgress),r.limitProgress);let u=h;o||(u=Math.min(Math.max(n[0].originalProgress,-r.limitProgress),r.limitProgress));const c=n[0].swiperSlideOffset,d=[t.params.cssMode?-c-t.translate:-c,0,0],p=[0,0,0];let g=!1;t.isHorizontal()||(d[1]=d[0],d[0]=0);let m={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};h<0?(m=r.next,g=!0):h>0&&(m=r.prev,g=!0),d.forEach((t,e)=>{d[e]=`calc(${t}px + (${s(m.translate[e])} * ${Math.abs(h*a)}))`}),p.forEach((t,e)=>{p[e]=m.rotate[e]*Math.abs(h*a)}),n[0].style.zIndex=-Math.abs(Math.round(l))+e.length;const b=d.join(", "),f=`rotateX(${p[0]}deg) rotateY(${p[1]}deg) rotateZ(${p[2]}deg)`,v=u<0?`scale(${1+(1-m.scale)*u*a})`:`scale(${1-(1-m.scale)*u*a})`,_=u<0?1+(1-m.opacity)*u*a:1-(1-m.opacity)*u*a,S=`translate3d(${b}) ${f} ${v}`;if(g&&m.shadow||!g){let t=n.children(".swiper-slide-shadow");if(0===t.length&&m.shadow&&(t=yt(r,n)),t.length){const e=r.shadowPerProgress?h*(1/r.limitProgress):h;t[0].style.opacity=Math.min(Math.max(Math.abs(e),0),1)}}const C=_t(r,n);C.transform(S).css({opacity:_}),m.origin&&C.css("transform-origin",m.origin)}},setTransition:e=>{const{transformEl:i}=t.params.creativeEffect;(i?t.slides.find(i):t.slides).transition(e).find(".swiper-slide-shadow").transition(e),St({swiper:t,duration:e,transformEl:i,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}function It({swiper:t,extendParams:e,on:i}){e({cardsEffect:{slideShadows:!0,transformEl:null}});vt({effect:"cards",swiper:t,on:i,setTranslate:()=>{const{slides:e,activeIndex:i}=t,s=t.params.cardsEffect,{startTranslate:n,isTouched:r}=t.touchEventsData,a=t.translate;for(let o=0;o<e.length;o+=1){const l=e.eq(o),h=l[0].progress,u=Math.min(Math.max(h,-4),4);let c=l[0].swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&t.$wrapperEl.transform(`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(c-=e[0].swiperSlideOffset);let d=t.params.cssMode?-c-t.translate:-c,p=0;const g=-100*Math.abs(u);let m=1,b=-2*u,f=8-.75*Math.abs(u);const v=(o===i||o===i-1)&&u>0&&u<1&&(r||t.params.cssMode)&&a<n,_=(o===i||o===i+1)&&u<0&&u>-1&&(r||t.params.cssMode)&&a>n;if(v||_){const t=(1-Math.abs((Math.abs(u)-.5)/.5))**.5;b+=-28*u*t,m+=-.5*t,f+=96*t,p=-25*t*Math.abs(u)+"%"}if(u<0?d=`calc(${d}px + (${f*Math.abs(u)}%))`:u>0?d=`calc(${d}px + (-${f*Math.abs(u)}%))`:d+="px",!t.isHorizontal()){const t=p;p=d,d=t}const S=`\n        translate3d(${d}, ${p}, ${g}px)\n        rotateZ(${b}deg)\n        scale(${u<0?""+(1+(1-m)*u):""+(1-(1-m)*u)})\n      `;if(s.slideShadows){let t=l.find(".swiper-slide-shadow");0===t.length&&(t=yt(s,l)),t.length&&(t[0].style.opacity=Math.min(Math.max((Math.abs(u)-.5)/.5,0),1))}l[0].style.zIndex=-Math.abs(Math.round(h))+e.length;_t(s,l).transform(S)}},setTransition:e=>{const{transformEl:i}=t.params.cardsEffect;(i?t.slides.find(i):t.slides).transition(e).find(".swiper-slide-shadow").transition(e),St({swiper:t,duration:e,transformEl:i})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}},function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function a(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}function u(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function g(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}i.r(e),i.d(e,"changeLanguage",(function(){return Et})),i.d(e,"createInstance",(function(){return ft})),i.d(e,"exists",(function(){return At})),i.d(e,"getFixedT",(function(){return yt})),i.d(e,"hasLoadedNamespace",(function(){return It})),i.d(e,"init",(function(){return vt})),i.d(e,"loadLanguages",(function(){return Pt})),i.d(e,"loadNamespaces",(function(){return wt})),i.d(e,"loadResources",(function(){return _t})),i.d(e,"reloadResources",(function(){return St})),i.d(e,"setDefaultNamespace",(function(){return Ot})),i.d(e,"t",(function(){return Tt})),i.d(e,"use",(function(){return Ct}));var f={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]&&console[t].apply(console,e)}},v=new(function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),this.init(e,i)}return a(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||f,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,i,s){return s&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(i).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,b(b({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}}]),t}()),_=function(){function t(){n(this,t),this.observers={}}return a(t,[{key:"on",value:function(t,e){var i=this;return t.split(" ").forEach((function(t){i.observers[t]=i.observers[t]||[],i.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];if(this.observers[t]){var n=[].concat(this.observers[t]);n.forEach((function(t){t.apply(void 0,i)}))}if(this.observers["*"]){var r=[].concat(this.observers["*"]);r.forEach((function(e){e.apply(e,[t].concat(i))}))}}}]),t}();function S(){var t,e,i=new Promise((function(i,s){t=i,e=s}));return i.resolve=t,i.reject=e,i}function C(t){return null==t?"":""+t}function E(t,e,i){t.forEach((function(t){e[t]&&(i[t]=e[t])}))}function y(t,e,i){function s(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function n(){return!t||"string"==typeof t}for(var r="string"!=typeof e?[].concat(e):e.split(".");r.length>1;){if(n())return{};var a=s(r.shift());!t[a]&&i&&(t[a]=new i),t=Object.prototype.hasOwnProperty.call(t,a)?t[a]:{}}return n()?{}:{obj:t,k:s(r.shift())}}function T(t,e,i){var s=y(t,e,Object);s.obj[s.k]=i}function A(t,e){var i=y(t,e),s=i.obj,n=i.k;if(s)return s[n]}function O(t,e,i){var s=A(t,i);return void 0!==s?s:A(e,i)}function I(t,e,i){for(var s in e)"__proto__"!==s&&"constructor"!==s&&(s in t?"string"==typeof t[s]||t[s]instanceof String||"string"==typeof e[s]||e[s]instanceof String?i&&(t[s]=e[s]):I(t[s],e[s],i):t[s]=e[s]);return t}function w(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function N(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return P[t]})):t}var L="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,M=[" ",",","?","!",";"];function R(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function x(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?R(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):R(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=c(t);if(e){var n=c(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return u(this,i)}}function B(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(t){if(t[e])return t[e];for(var s=e.split(i),n=t,r=0;r<s.length;++r){if(!n)return;if("string"==typeof n[s[r]]&&r+1<s.length)return;if(void 0===n[s[r]]){for(var a=2,o=s.slice(r,r+a).join(i),l=n[o];void 0===l&&s.length>r+a;)a++,l=n[o=s.slice(r,r+a).join(i)];if(void 0===l)return;if(null===l)return null;if(e.endsWith(o)){if("string"==typeof l)return l;if(o&&"string"==typeof l[o])return l[o]}var h=s.slice(r+a).join(i);return h?B(l,h,i):void 0}n=n[s[r]]}return n}}var H=function(t){h(i,t);var e=k(i);function i(t){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return n(this,i),s=e.call(this),L&&_.call(o(s)),s.data=t||{},s.options=r,void 0===s.options.keySeparator&&(s.options.keySeparator="."),void 0===s.options.ignoreJSONStructure&&(s.options.ignoreJSONStructure=!0),s}return a(i,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,r=void 0!==s.ignoreJSONStructure?s.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[t,e];i&&"string"!=typeof i&&(a=a.concat(i)),i&&"string"==typeof i&&(a=a.concat(n?i.split(n):i)),t.indexOf(".")>-1&&(a=t.split("."));var o=A(this.data,a);return o||!r||"string"!=typeof i?o:B(this.data&&this.data[t]&&this.data[t][e],i,n)}},{key:"addResource",value:function(t,e,i,s){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},r=this.options.keySeparator;void 0===r&&(r=".");var a=[t,e];i&&(a=a.concat(r?i.split(r):i)),t.indexOf(".")>-1&&(s=e,e=(a=t.split("."))[1]),this.addNamespaces(e),T(this.data,a,s),n.silent||this.emit("added",t,e,i,s)}},{key:"addResources",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var n in i)"string"!=typeof i[n]&&"[object Array]"!==Object.prototype.toString.apply(i[n])||this.addResource(t,e,n,i[n],{silent:!0});s.silent||this.emit("added",t,e,i)}},{key:"addResourceBundle",value:function(t,e,i,s,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[t,e];t.indexOf(".")>-1&&(s=i,i=e,e=(a=t.split("."))[1]),this.addNamespaces(e);var o=A(this.data,a)||{};s?I(o,i,n):o=x(x({},o),i),T(this.data,a,o),r.silent||this.emit("added",t,e,i)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?x(x({},{}),this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"hasLanguageSomeTranslations",value:function(t){var e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find((function(t){return e[t]&&Object.keys(e[t]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),i}(_),V={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,i,s,n){var r=this;return t.forEach((function(t){r.processors[t]&&(e=r.processors[t].process(e,i,s,n))})),e}};function F(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function D(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?F(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=c(t);if(e){var n=c(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return u(this,i)}}var j={},z=function(t){h(i,t);var e=U(i);function i(t){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,i),s=e.call(this),L&&_.call(o(s)),E(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,o(s)),s.options=r,void 0===s.options.keySeparator&&(s.options.keySeparator="."),s.logger=v.create("translator"),s}return a(i,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;var i=this.resolve(t,e);return i&&void 0!==i.res}},{key:"extractFromKey",value:function(t,e){var i=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===i&&(i=":");var s=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,n=e.ns||this.options.defaultNS||[],r=i&&t.indexOf(i)>-1,a=!(this.options.userDefinedKeySeparator||e.keySeparator||this.options.userDefinedNsSeparator||e.nsSeparator||function(t,e,i){e=e||"",i=i||"";var s=M.filter((function(t){return e.indexOf(t)<0&&i.indexOf(t)<0}));if(0===s.length)return!0;var n=new RegExp("(".concat(s.map((function(t){return"?"===t?"\\?":t})).join("|"),")")),r=!n.test(t);if(!r){var a=t.indexOf(i);a>0&&!n.test(t.substring(0,a))&&(r=!0)}return r}(t,i,s));if(r&&!a){var o=t.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:t,namespaces:n};var l=t.split(i);(i!==s||i===s&&this.options.ns.indexOf(l[0])>-1)&&(n=l.shift()),t=l.join(s)}return"string"==typeof n&&(n=[n]),{key:t,namespaces:n}}},{key:"translate",value:function(t,e,n){var r=this;if("object"!==s(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var a=void 0!==e.returnDetails?e.returnDetails:this.options.returnDetails,o=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,l=this.extractFromKey(t[t.length-1],e),h=l.key,u=l.namespaces,c=u[u.length-1],d=e.lng||this.language,p=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(p){var g=e.nsSeparator||this.options.nsSeparator;return a?(m.res="".concat(c).concat(g).concat(h),m):"".concat(c).concat(g).concat(h)}return a?(m.res=h,m):h}var m=this.resolve(t,e),b=m&&m.res,f=m&&m.usedKey||h,v=m&&m.exactUsedKey||h,_=Object.prototype.toString.apply(b),S=["[object Number]","[object Function]","[object RegExp]"],C=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,y="string"!=typeof b&&"boolean"!=typeof b&&"number"!=typeof b;if(E&&b&&y&&S.indexOf(_)<0&&("string"!=typeof C||"[object Array]"!==_)){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,b,D(D({},e),{},{ns:u})):"key '".concat(h," (").concat(this.language,")' returned an object instead of string.");return a?(m.res=T,m):T}if(o){var A="[object Array]"===_,O=A?[]:{},I=A?v:f;for(var w in b)if(Object.prototype.hasOwnProperty.call(b,w)){var P="".concat(I).concat(o).concat(w);O[w]=this.translate(P,D(D({},e),{joinArrays:!1,ns:u})),O[w]===P&&(O[w]=b[w])}b=O}}else if(E&&"string"==typeof C&&"[object Array]"===_)(b=b.join(C))&&(b=this.extendTranslation(b,t,e,n));else{var N=!1,L=!1,M=void 0!==e.count&&"string"!=typeof e.count,R=i.hasDefaultValue(e),x=M?this.pluralResolver.getSuffix(d,e.count,e):"",k=e["defaultValue".concat(x)]||e.defaultValue;!this.isValidLookup(b)&&R&&(N=!0,b=k),this.isValidLookup(b)||(L=!0,b=h);var B=e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,H=B&&L?void 0:b,V=R&&k!==b&&this.options.updateMissing;if(L||N||V){if(this.logger.log(V?"updateKey":"missingKey",d,c,h,V?k:b),o){var F=this.resolve(h,D(D({},e),{},{keySeparator:!1}));F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var U=[],j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&j&&j[0])for(var z=0;z<j.length;z++)U.push(j[z]);else"all"===this.options.saveMissingTo?U=this.languageUtils.toResolveHierarchy(e.lng||this.language):U.push(e.lng||this.language);var W=function(t,i,s){var n=R&&s!==b?s:H;r.options.missingKeyHandler?r.options.missingKeyHandler(t,c,i,n,V,e):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(t,c,i,n,V,e),r.emit("missingKey",t,c,i,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?U.forEach((function(t){r.pluralResolver.getSuffixes(t,e).forEach((function(i){W([t],h+i,e["defaultValue".concat(i)]||k)}))})):W(U,h,k))}b=this.extendTranslation(b,t,e,m,n),L&&b===h&&this.options.appendNamespaceToMissingKey&&(b="".concat(c,":").concat(h)),(L||N)&&this.options.parseMissingKeyHandler&&(b="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(c,":").concat(h):h,N?b:void 0):this.options.parseMissingKeyHandler(b))}return a?(m.res=b,m):b}},{key:"extendTranslation",value:function(t,e,i,s,n){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,D(D({},this.options.interpolation.defaultVariables),i),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init(D(D({},i),{interpolation:D(D({},this.options.interpolation),i.interpolation)}));var a,o="string"==typeof t&&(i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(o){var l=t.match(this.interpolator.nestingRegexp);a=l&&l.length}var h=i.replace&&"string"!=typeof i.replace?i.replace:i;if(this.options.interpolation.defaultVariables&&(h=D(D({},this.options.interpolation.defaultVariables),h)),t=this.interpolator.interpolate(t,h,i.lng||this.language,i),o){var u=t.match(this.interpolator.nestingRegexp);a<(u&&u.length)&&(i.nest=!1)}!1!==i.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return n&&n[0]===s[0]&&!i.context?(r.logger.warn("It seems you are nesting recursively key: ".concat(s[0]," in key: ").concat(e[0])),null):r.translate.apply(r,s.concat([e]))}),i)),i.interpolation&&this.interpolator.reset()}var c=i.postProcess||this.options.postProcess,d="string"==typeof c?[c]:c;return null!=t&&d&&d.length&&!1!==i.applyPostProcessor&&(t=V.handle(d,t,e,this.options&&this.options.postProcessPassResolved?D({i18nResolved:s},i):i,this)),t}},{key:"resolve",value:function(t){var e,i,s,n,r,a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!a.isValidLookup(e)){var l=a.extractFromKey(t,o),h=l.key;i=h;var u=l.namespaces;a.options.fallbackNS&&(u=u.concat(a.options.fallbackNS));var c=void 0!==o.count&&"string"!=typeof o.count,d=c&&!o.ordinal&&0===o.count&&a.pluralResolver.shouldUseIntlApi(),p=void 0!==o.context&&("string"==typeof o.context||"number"==typeof o.context)&&""!==o.context,g=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);u.forEach((function(t){a.isValidLookup(e)||(r=t,!j["".concat(g[0],"-").concat(t)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(r)&&(j["".concat(g[0],"-").concat(t)]=!0,a.logger.warn('key "'.concat(i,'" for languages "').concat(g.join(", "),'" won\'t get resolved as namespace "').concat(r,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach((function(i){if(!a.isValidLookup(e)){n=i;var r,l=[h];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(l,h,i,t,o);else{var u;c&&(u=a.pluralResolver.getSuffix(i,o.count,o));if(c&&(l.push(h+u),d&&l.push(h+"_zero")),p){var g="".concat(h).concat(a.options.contextSeparator).concat(o.context);l.push(g),c&&(l.push(g+u),d&&l.push(g+"_zero"))}}for(;r=l.pop();)a.isValidLookup(e)||(s=r,e=a.getResource(i,t,r,o))}})))}))}})),{res:e,usedKey:i,exactUsedKey:s,usedLng:n,usedNS:r}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,i,s):this.resourceStore.getResource(t,e,i,s)}}],[{key:"hasDefaultValue",value:function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&"defaultValue"===e.substring(0,"defaultValue".length)&&void 0!==t[e])return!0;return!1}}]),i}(_);function W(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Y=function(){function t(e){n(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=v.create("languageUtils")}return a(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],i=t.split("-");return this.options.lowerCaseLng?i=i.map((function(t){return t.toLowerCase()})):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),e.indexOf(i[1].toLowerCase())>-1&&(i[1]=W(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),e.indexOf(i[1].toLowerCase())>-1&&(i[1]=W(i[1].toLowerCase())),e.indexOf(i[2].toLowerCase())>-1&&(i[2]=W(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var e,i=this;return t?(t.forEach((function(t){if(!e){var s=i.formatLanguageCode(t);i.options.supportedLngs&&!i.isSupportedCode(s)||(e=s)}})),!e&&this.options.supportedLngs&&t.forEach((function(t){if(!e){var s=i.getLanguagePartFromCode(t);if(i.isSupportedCode(s))return e=s;e=i.options.supportedLngs.find((function(t){if(0===t.indexOf(s))return t}))}})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var i=t[e];return i||(i=t[this.getScriptPartFromCode(e)]),i||(i=t[this.formatLanguageCode(e)]),i||(i=t[this.getLanguagePartFromCode(e)]),i||(i=t.default),i||[]}},{key:"toResolveHierarchy",value:function(t,e){var i=this,s=this.getFallbackCodes(e||this.options.fallbackLng||[],t),n=[],r=function(t){t&&(i.isSupportedCode(t)?n.push(t):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(t))):"string"==typeof t&&r(this.formatLanguageCode(t)),s.forEach((function(t){n.indexOf(t)<0&&r(i.formatLanguageCode(t))})),n}}]),t}(),$=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],G={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}},X=["v1","v2","v3"],J={zero:0,one:1,two:2,few:3,many:4,other:5};function K(){var t={};return $.forEach((function(e){e.lngs.forEach((function(i){t[i]={numbers:e.nr,plurals:G[e.fc]}}))})),t}var q=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),this.languageUtils=e,this.options=i,this.logger=v.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=K()}return a(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:e.ordinal?"ordinal":"cardinal"})}catch(t){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(t,e);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(t,i).map((function(t){return"".concat(e).concat(t)}))}},{key:"getSuffixes",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.getRule(t,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((function(t,e){return J[t]-J[e]})).map((function(t){return"".concat(e.options.prepend).concat(t)})):s.numbers.map((function(s){return e.getSuffix(t,s,i)})):[]}},{key:"getSuffix",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=this.getRule(t,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(e)):this.getSuffixRetroCompatible(s,e):(this.logger.warn("no plural rule found for: ".concat(t)),"")}},{key:"getSuffixRetroCompatible",value:function(t,e){var i=this,s=t.noAbs?t.plurals(e):t.plurals(Math.abs(e)),n=t.numbers[s];this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]&&(2===n?n="plural":1===n&&(n=""));var r=function(){return i.options.prepend&&n.toString()?i.options.prepend+n.toString():n.toString()};return"v1"===this.options.compatibilityJSON?1===n?"":"number"==typeof n?"_plural_".concat(n.toString()):r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]?r():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!X.includes(this.options.compatibilityJSON)}}]),t}();function Z(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function Q(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Z(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var tt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.logger=v.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return a(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:N,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?w(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?w(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?w(e.nestingPrefix):e.nestingPrefixEscaped||w("$t("),this.nestingSuffix=e.nestingSuffix?w(e.nestingSuffix):e.nestingSuffixEscaped||w(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(t,e,i,s){var n,r,a,o=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(t){return t.replace(/\$/g,"$$$$")}var u=function(t){if(t.indexOf(o.formatSeparator)<0){var n=O(e,l,t);return o.alwaysFormat?o.format(n,void 0,i,Q(Q(Q({},s),e),{},{interpolationkey:t})):n}var r=t.split(o.formatSeparator),a=r.shift().trim(),h=r.join(o.formatSeparator).trim();return o.format(O(e,l,a),h,i,Q(Q(Q({},s),e),{},{interpolationkey:a}))};this.resetRegExp();var c=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,d=s&&s.interpolation&&void 0!==s.interpolation.skipOnVariables?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return h(t)}},{regex:this.regexp,safeValue:function(t){return o.escapeValue?h(o.escape(t)):h(t)}}].forEach((function(e){for(a=0;n=e.regex.exec(t);){var i=n[1].trim();if(void 0===(r=u(i)))if("function"==typeof c){var l=c(t,n,s);r="string"==typeof l?l:""}else if(s&&s.hasOwnProperty(i))r="";else{if(d){r=n[0];continue}o.logger.warn("missed to pass in variable ".concat(i," for interpolating ").concat(t)),r=""}else"string"==typeof r||o.useRawValueToEscape||(r=C(r));var h=e.safeValue(r);if(t=t.replace(n[0],h),d?(e.regex.lastIndex+=r.length,e.regex.lastIndex-=n[0].length):e.regex.lastIndex=0,++a>=o.maxReplaces)break}})),t}},{key:"nest",value:function(t,e){var i,s,n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Q({},r);function o(t,e){var i=this.nestingOptionsSeparator;if(t.indexOf(i)<0)return t;var s=t.split(new RegExp("".concat(i,"[ ]*{"))),n="{".concat(s[1]);t=s[0],n=(n=this.interpolate(n,a)).replace(/'/g,'"');try{a=JSON.parse(n),e&&(a=Q(Q({},e),a))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(i).concat(n)}return delete a.defaultValue,t}for(a.applyPostProcessor=!1,delete a.defaultValue;i=this.nestingRegexp.exec(t);){var l=[],h=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){var u=i[1].split(this.formatSeparator).map((function(t){return t.trim()}));i[1]=u.shift(),l=u,h=!0}if((s=e(o.call(this,i[1].trim(),a),a))&&i[0]===t&&"string"!=typeof s)return s;"string"!=typeof s&&(s=C(s)),s||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(t)),s=""),h&&(s=l.reduce((function(t,e){return n.format(t,e,r.lng,Q(Q({},r),{},{interpolationkey:i[1].trim()}))}),s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}}]),t}();function et(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function it(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?et(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):et(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var st=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.logger=v.create("formatter"),this.options=e,this.formats={number:function(t,e,i){return new Intl.NumberFormat(e,i).format(t)},currency:function(t,e,i){return new Intl.NumberFormat(e,it(it({},i),{},{style:"currency"})).format(t)},datetime:function(t,e,i){return new Intl.DateTimeFormat(e,it({},i)).format(t)},relativetime:function(t,e,i){return new Intl.RelativeTimeFormat(e,it({},i)).format(t,i.range||"day")},list:function(t,e,i){return new Intl.ListFormat(e,it({},i)).format(t)}},this.init(e)}return a(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},i=e.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(t,e){this.formats[t.toLowerCase().trim()]=e}},{key:"format",value:function(t,e,i,s){var n=this;return e.split(this.formatSeparator).reduce((function(t,e){var r=function(t){var e=t.toLowerCase().trim(),i={};if(t.indexOf("(")>-1){var s=t.split("(");e=s[0].toLowerCase().trim();var n=s[1].substring(0,s[1].length-1);if("currency"===e&&n.indexOf(":")<0)i.currency||(i.currency=n.trim());else if("relativetime"===e&&n.indexOf(":")<0)i.range||(i.range=n.trim());else{n.split(";").forEach((function(t){if(t){var e=g(t.split(":")),s=e[0],n=e.slice(1).join(":").trim().replace(/^'+|'+$/g,"");i[s.trim()]||(i[s.trim()]=n),"false"===n&&(i[s.trim()]=!1),"true"===n&&(i[s.trim()]=!0),isNaN(n)||(i[s.trim()]=parseInt(n,10))}}))}}return{formatName:e,formatOptions:i}}(e),a=r.formatName,o=r.formatOptions;if(n.formats[a]){var l=t;try{var h=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},u=h.locale||h.lng||s.locale||s.lng||i;l=n.formats[a](t,u,it(it(it({},o),s),h))}catch(t){n.logger.warn(t)}return l}return n.logger.warn("there was no format function for ".concat(a)),t}),t)}}]),t}();function nt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function rt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):nt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function at(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=c(t);if(e){var n=c(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return u(this,i)}}var ot=function(t){h(i,t);var e=at(i);function i(t,s,r){var a,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n(this,i),a=e.call(this),L&&_.call(o(a)),a.backend=t,a.store=s,a.services=r,a.languageUtils=r.languageUtils,a.options=l,a.logger=v.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=l.maxParallelReads||10,a.readingCalls=0,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(r,l.backend,l),a}return a(i,[{key:"queueLoad",value:function(t,e,i,s){var n=this,r={},a={},o={},l={};return t.forEach((function(t){var s=!0;e.forEach((function(e){var o="".concat(t,"|").concat(e);!i.reload&&n.store.hasResourceBundle(t,e)?n.state[o]=2:n.state[o]<0||(1===n.state[o]?void 0===a[o]&&(a[o]=!0):(n.state[o]=1,s=!1,void 0===a[o]&&(a[o]=!0),void 0===r[o]&&(r[o]=!0),void 0===l[e]&&(l[e]=!0)))})),s||(o[t]=!0)})),(Object.keys(r).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(r),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(t,e,i){var s=t.split("|"),n=s[0],r=s[1];e&&this.emit("failedLoading",n,r,e),i&&this.store.addResourceBundle(n,r,i),this.state[t]=e?-1:2;var a={};this.queue.forEach((function(i){var s,o,l,h,u,c;s=i.loaded,o=r,h=y(s,[n],Object),u=h.obj,c=h.k,u[c]=u[c]||[],l&&(u[c]=u[c].concat(o)),l||u[c].push(o),function(t,e){void 0!==t.pending[e]&&(delete t.pending[e],t.pendingCount--)}(i,t),e&&i.errors.push(e),0!==i.pendingCount||i.done||(Object.keys(i.loaded).forEach((function(t){a[t]||(a[t]={});var e=i.loaded[t];e.length&&e.forEach((function(e){void 0===a[t][e]&&(a[t][e]=!0)}))})),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,i){var s=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return t.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:t,ns:e,fcName:i,tried:n,wait:r,callback:a}):(this.readingCalls++,this.backend[i](t,e,(function(o,l){if(o&&l&&n<5)setTimeout((function(){s.read.call(s,t,e,i,n+1,2*r,a)}),r);else{if(s.readingCalls--,s.waitingReads.length>0){var h=s.waitingReads.shift();s.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}a(o,l)}}))):a(null,{})}},{key:"prepareLoading",value:function(t,e){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var r=this.queueLoad(t,e,s,n);if(!r.toLoad.length)return r.pending.length||n(),null;r.toLoad.forEach((function(t){i.loadOne(t)}))}},{key:"load",value:function(t,e,i){this.prepareLoading(t,e,{},i)}},{key:"reload",value:function(t,e,i){this.prepareLoading(t,e,{reload:!0},i)}},{key:"loadOne",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=t.split("|"),n=s[0],r=s[1];this.read(n,r,"read",void 0,void 0,(function(s,a){s&&e.logger.warn("".concat(i,"loading namespace ").concat(r," for language ").concat(n," failed"),s),!s&&a&&e.logger.log("".concat(i,"loaded namespace ").concat(r," for language ").concat(n),a),e.loaded(t,s,a)}))}},{key:"saveMissing",value:function(t,e,i,s,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(i,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=i&&""!==i&&(this.backend&&this.backend.create&&this.backend.create(t,e,i,s,null,rt(rt({},r),{},{isUpdate:n})),t&&t[0]&&this.store.addResource(t[0],e,i,s))}}]),i}(_);function lt(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===s(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===s(t[2])||"object"===s(t[3])){var i=t[3]||t[2];Object.keys(i).forEach((function(t){e[t]=i[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,i,s){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ht(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function ut(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function ct(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ut(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=c(t);if(e){var n=c(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return u(this,i)}}function pt(){}function gt(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach((function(e){"function"==typeof t[e]&&(t[e]=t[e].bind(t))}))}var mt=function(t){h(i,t);var e=dt(i);function i(){var t,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(n(this,i),t=e.call(this),L&&_.call(o(t)),t.options=ht(s),t.services={},t.logger=v,t.modules={external:[]},gt(o(t)),r&&!t.isInitialized&&!s.isClone){if(!t.options.initImmediate)return t.init(s,r),u(t,o(t));setTimeout((function(){t.init(s,r)}),0)}return t}return a(i,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(i=e,e={}),!e.defaultNS&&e.ns&&("string"==typeof e.ns?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));var s=lt();function n(t){return t?"function"==typeof t?new t:t:null}if(this.options=ct(ct(ct({},s),this.options),ht(e)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=ct(ct({},s.interpolation),this.options.interpolation)),void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),!this.options.isClone){var r;this.modules.logger?v.init(n(this.modules.logger),this.options):v.init(null,this.options),this.modules.formatter?r=this.modules.formatter:"undefined"!=typeof Intl&&(r=st);var a=new Y(this.options);this.store=new H(this.options.resources,this.options);var o=this.services;o.logger=v,o.resourceStore=this.store,o.languageUtils=a,o.pluralResolver=new q(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!r||this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format||(o.formatter=n(r),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new tt(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new ot(n(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];t.emit.apply(t,[e].concat(s))})),this.modules.languageDetector&&(o.languageDetector=n(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=n(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new z(this.services,this.options),this.translator.on("*",(function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];t.emit.apply(t,[e].concat(s))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}if(this.format=this.options.interpolation.format,i||(i=pt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var h=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];h.forEach((function(e){t[e]=function(){var i;return(i=t.store)[e].apply(i,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(e){t[e]=function(){var i;return(i=t.store)[e].apply(i,arguments),t}}));var c=S(),d=function(){var e=function(e,s){t.isInitialized&&!t.initializedStoreOnce&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),c.resolve(s),i(e,s)};if(t.languages&&"v1"!==t.options.compatibilityAPI&&!t.isInitialized)return e(null,t.t.bind(t));t.changeLanguage(t.options.lng,e)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),c}},{key:"loadResources",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt,s=i,n="string"==typeof t?t:this.language;if("function"==typeof t&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase())return s();var r=[],a=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){r.indexOf(t)<0&&r.push(t)}))};if(n)a(n);else{var o=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);o.forEach((function(t){return a(t)}))}this.options.preload&&this.options.preload.forEach((function(t){return a(t)})),this.services.backendConnector.load(r,this.options.ns,(function(t){t||e.resolvedLanguage||!e.language||e.setResolvedLanguage(e.language),s(t)}))}else s(null)}},{key:"reloadResources",value:function(t,e,i){var s=S();return t||(t=this.languages),e||(e=this.options.ns),i||(i=pt),this.services.backendConnector.reload(t,e,(function(t){s.resolve(),i(t)})),s}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&V.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"setResolvedLanguage",value:function(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(var e=0;e<this.languages.length;e++){var i=this.languages[e];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}},{key:"changeLanguage",value:function(t,e){var i=this;this.isLanguageChangingTo=t;var s=S();this.emit("languageChanging",t);var n=function(t){i.language=t,i.languages=i.services.languageUtils.toResolveHierarchy(t),i.resolvedLanguage=void 0,i.setResolvedLanguage(t)},r=function(r){t||r||!i.services.languageDetector||(r=[]);var a="string"==typeof r?r:i.services.languageUtils.getBestMatchFromCodes(r);a&&(i.language||n(a),i.translator.language||i.translator.changeLanguage(a),i.services.languageDetector&&i.services.languageDetector.cacheUserLanguage(a)),i.loadResources(a,(function(t){!function(t,r){r?(n(r),i.translator.changeLanguage(r),i.isLanguageChangingTo=void 0,i.emit("languageChanged",r),i.logger.log("languageChanged",r)):i.isLanguageChangingTo=void 0,s.resolve((function(){return i.t.apply(i,arguments)})),e&&e(t,(function(){return i.t.apply(i,arguments)}))}(t,a)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(t):r(this.services.languageDetector.detect()),s}},{key:"getFixedT",value:function(t,e,i){var n=this,r=function t(e,r){var a;if("object"!==s(r)){for(var o=arguments.length,l=new Array(o>2?o-2:0),h=2;h<o;h++)l[h-2]=arguments[h];a=n.options.overloadTranslationOptionHandler([e,r].concat(l))}else a=ct({},r);a.lng=a.lng||t.lng,a.lngs=a.lngs||t.lngs,a.ns=a.ns||t.ns;var u=n.options.keySeparator||".",c=i?"".concat(i).concat(u).concat(e):e;return n.t(c,a)};return"string"==typeof t?r.lng=t:r.lngs=t,r.ns=e,r.keyPrefix=i,r}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===s.toLowerCase())return!0;var a=function(t,i){var s=e.services.backendConnector.state["".concat(t,"|").concat(i)];return-1===s||2===s};if(i.precheck){var o=i.precheck(this,a);if(void 0!==o)return o}return!!this.hasResourceBundle(s,t)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(s,t)||n&&!a(r,t)))}},{key:"loadNamespaces",value:function(t,e){var i=this,s=S();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){i.options.ns.indexOf(t)<0&&i.options.ns.push(t)})),this.loadResources((function(t){s.resolve(),e&&e(t)})),s):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var i=S();"string"==typeof t&&(t=[t]);var s=this.options.preload||[],n=t.filter((function(t){return s.indexOf(t)<0}));return n.length?(this.options.preload=s.concat(n),this.loadResources((function(t){i.resolve(),e&&e(t)})),i):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt,n=ct(ct(ct({},this.options),e),{isClone:!0}),r=new i(n),a=["store","services","language"];return a.forEach((function(e){r[e]=t[e]})),r.services=ct({},this.services),r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r.translator=new z(r.services,r.options),r.translator.on("*",(function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];r.emit.apply(r,[t].concat(i))})),r.init(n,s),r.translator.options=r.options,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),i}(_);d(mt,"createInstance",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new mt(t,e)}));var bt=mt.createInstance();bt.createInstance=mt.createInstance;var ft=bt.createInstance,vt=bt.init,_t=bt.loadResources,St=bt.reloadResources,Ct=bt.use,Et=bt.changeLanguage,yt=bt.getFixedT,Tt=bt.t,At=bt.exists,Ot=bt.setDefaultNamespace,It=bt.hasLoadedNamespace,wt=bt.loadNamespaces,Pt=bt.loadLanguages;e.default=bt}])})),window.bridgeReceiveIntegerFromNative=CrComLib.bridgeReceiveIntegerFromNative,window.bridgeReceiveBooleanFromNative=CrComLib.bridgeReceiveBooleanFromNative,window.bridgeReceiveStringFromNative=CrComLib.bridgeReceiveStringFromNative,window.bridgeReceiveObjectFromNative=CrComLib.bridgeReceiveObjectFromNative;